var see=Object.defineProperty;var aee=(e,t,n)=>t in e?see(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var rk=(e,t,n)=>aee(e,typeof t!="symbol"?t+"":t,n);function oee(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function wl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uB={exports:{}},Nw={},dB={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=Symbol.for("react.element"),lee=Symbol.for("react.portal"),cee=Symbol.for("react.fragment"),uee=Symbol.for("react.strict_mode"),dee=Symbol.for("react.profiler"),hee=Symbol.for("react.provider"),fee=Symbol.for("react.context"),mee=Symbol.for("react.forward_ref"),pee=Symbol.for("react.suspense"),gee=Symbol.for("react.memo"),yee=Symbol.for("react.lazy"),$A=Symbol.iterator;function xee(e){return e===null||typeof e!="object"?null:(e=$A&&e[$A]||e["@@iterator"],typeof e=="function"?e:null)}var hB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fB=Object.assign,mB={};function km(e,t,n){this.props=e,this.context=t,this.refs=mB,this.updater=n||hB}km.prototype.isReactComponent={};km.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};km.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pB(){}pB.prototype=km.prototype;function rP(e,t,n){this.props=e,this.context=t,this.refs=mB,this.updater=n||hB}var iP=rP.prototype=new pB;iP.constructor=rP;fB(iP,km.prototype);iP.isPureReactComponent=!0;var FA=Array.isArray,gB=Object.prototype.hasOwnProperty,sP={current:null},yB={key:!0,ref:!0,__self:!0,__source:!0};function xB(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)gB.call(t,r)&&!yB.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Iy,type:e,key:s,ref:a,props:i,_owner:sP.current}}function vee(e,t){return{$$typeof:Iy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function aP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iy}function bee(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var BA=/\/+/g;function ik(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bee(""+e.key):t.toString(36)}function Nb(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Iy:case lee:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+ik(a,0):r,FA(i)?(n="",e!=null&&(n=e.replace(BA,"$&/")+"/"),Nb(i,t,n,"",function(u){return u})):i!=null&&(aP(i)&&(i=vee(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(BA,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",FA(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+ik(s,l);a+=Nb(s,t,n,c,i)}else if(c=xee(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+ik(s,l++),a+=Nb(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Yx(e,t,n){if(e==null)return e;var r=[],i=0;return Nb(e,r,"","",function(s){return t.call(n,s,i++)}),r}function _ee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ms={current:null},Cb={transition:null},wee={ReactCurrentDispatcher:ms,ReactCurrentBatchConfig:Cb,ReactCurrentOwner:sP};function vB(){throw Error("act(...) is not supported in production builds of React.")}sn.Children={map:Yx,forEach:function(e,t,n){Yx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yx(e,function(){t++}),t},toArray:function(e){return Yx(e,function(t){return t})||[]},only:function(e){if(!aP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};sn.Component=km;sn.Fragment=cee;sn.Profiler=dee;sn.PureComponent=rP;sn.StrictMode=uee;sn.Suspense=pee;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wee;sn.act=vB;sn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fB({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=sP.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)gB.call(t,c)&&!yB.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Iy,type:e.type,key:i,ref:s,props:r,_owner:a}};sn.createContext=function(e){return e={$$typeof:fee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hee,_context:e},e.Consumer=e};sn.createElement=xB;sn.createFactory=function(e){var t=xB.bind(null,e);return t.type=e,t};sn.createRef=function(){return{current:null}};sn.forwardRef=function(e){return{$$typeof:mee,render:e}};sn.isValidElement=aP;sn.lazy=function(e){return{$$typeof:yee,_payload:{_status:-1,_result:e},_init:_ee}};sn.memo=function(e,t){return{$$typeof:gee,type:e,compare:t===void 0?null:t}};sn.startTransition=function(e){var t=Cb.transition;Cb.transition={};try{e()}finally{Cb.transition=t}};sn.unstable_act=vB;sn.useCallback=function(e,t){return ms.current.useCallback(e,t)};sn.useContext=function(e){return ms.current.useContext(e)};sn.useDebugValue=function(){};sn.useDeferredValue=function(e){return ms.current.useDeferredValue(e)};sn.useEffect=function(e,t){return ms.current.useEffect(e,t)};sn.useId=function(){return ms.current.useId()};sn.useImperativeHandle=function(e,t,n){return ms.current.useImperativeHandle(e,t,n)};sn.useInsertionEffect=function(e,t){return ms.current.useInsertionEffect(e,t)};sn.useLayoutEffect=function(e,t){return ms.current.useLayoutEffect(e,t)};sn.useMemo=function(e,t){return ms.current.useMemo(e,t)};sn.useReducer=function(e,t,n){return ms.current.useReducer(e,t,n)};sn.useRef=function(e){return ms.current.useRef(e)};sn.useState=function(e){return ms.current.useState(e)};sn.useSyncExternalStore=function(e,t,n){return ms.current.useSyncExternalStore(e,t,n)};sn.useTransition=function(){return ms.current.useTransition()};sn.version="18.3.1";dB.exports=sn;var f=dB.exports;const ot=wl(f),Cw=oee({__proto__:null,default:ot},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jee=f,kee=Symbol.for("react.element"),See=Symbol.for("react.fragment"),Nee=Object.prototype.hasOwnProperty,Cee=jee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oee={key:!0,ref:!0,__self:!0,__source:!0};function bB(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Nee.call(t,r)&&!Oee.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:kee,type:e,key:s,ref:a,props:i,_owner:Cee.current}}Nw.Fragment=See;Nw.jsx=bB;Nw.jsxs=bB;uB.exports=Nw;var o=uB.exports,NN={},_B={exports:{}},ya={},wB={exports:{}},jB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,$){var G=T.length;T.push($);e:for(;0<G;){var ie=G-1>>>1,X=T[ie];if(0<i(X,$))T[ie]=$,T[G]=X,G=ie;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var $=T[0],G=T.pop();if(G!==$){T[0]=G;e:for(var ie=0,X=T.length,se=X>>>1;ie<se;){var xe=2*(ie+1)-1,me=T[xe],De=xe+1,ge=T[De];if(0>i(me,G))De<X&&0>i(ge,me)?(T[ie]=ge,T[De]=G,ie=De):(T[ie]=me,T[xe]=G,ie=xe);else if(De<X&&0>i(ge,G))T[ie]=ge,T[De]=G,ie=De;else break e}}return $}function i(T,$){var G=T.sortIndex-$.sortIndex;return G!==0?G:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=T)r(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(u)}}function _(T){if(y=!1,v(T),!g)if(n(c)!==null)g=!0,L(j);else{var $=n(u);$!==null&&D(_,$.startTime-T)}}function j(T,$){g=!1,y&&(y=!1,b(O),O=-1),p=!0;var G=m;try{for(v($),h=n(c);h!==null&&(!(h.expirationTime>$)||T&&!A());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,m=h.priorityLevel;var X=ie(h.expirationTime<=$);$=e.unstable_now(),typeof X=="function"?h.callback=X:h===n(c)&&r(c),v($)}else r(c);h=n(c)}if(h!==null)var se=!0;else{var xe=n(u);xe!==null&&D(_,xe.startTime-$),se=!1}return se}finally{h=null,m=G,p=!1}}var k=!1,C=null,O=-1,P=5,M=-1;function A(){return!(e.unstable_now()-M<P)}function R(){if(C!==null){var T=e.unstable_now();M=T;var $=!0;try{$=C(!0,T)}finally{$?B():(k=!1,C=null)}}else k=!1}var B;if(typeof w=="function")B=function(){w(R)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=R,B=function(){U.postMessage(null)}}else B=function(){x(R,0)};function L(T){C=T,k||(k=!0,B())}function D(T,$){O=x(function(){T(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,L(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var G=m;m=$;try{return T()}finally{m=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var G=m;m=T;try{return $()}finally{m=G}},e.unstable_scheduleCallback=function(T,$,G){var ie=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ie+G:ie):G=ie,T){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,T={id:d++,callback:$,priorityLevel:T,startTime:G,expirationTime:X,sortIndex:-1},G>ie?(T.sortIndex=G,t(u,T),n(c)===null&&T===n(u)&&(y?(b(O),O=-1):y=!0,D(_,G-ie))):(T.sortIndex=X,t(c,T),g||p||(g=!0,L(j))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var $=m;return function(){var G=m;m=$;try{return T.apply(this,arguments)}finally{m=G}}}})(jB);wB.exports=jB;var Pee=wB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eee=f,da=Pee;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kB=new Set,wg={};function ph(e,t){Uf(e,t),Uf(e+"Capture",t)}function Uf(e,t){for(wg[e]=t,e=0;e<t.length;e++)kB.add(t[e])}var uc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CN=Object.prototype.hasOwnProperty,Mee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qA={},WA={};function Tee(e){return CN.call(WA,e)?!0:CN.call(qA,e)?!1:Mee.test(e)?WA[e]=!0:(qA[e]=!0,!1)}function Aee(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zee(e,t,n,r){if(t===null||typeof t>"u"||Aee(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ps(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oi[e]=new ps(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oi[t]=new ps(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oi[e]=new ps(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oi[e]=new ps(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oi[e]=new ps(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oi[e]=new ps(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oi[e]=new ps(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oi[e]=new ps(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oi[e]=new ps(e,5,!1,e.toLowerCase(),null,!1,!1)});var oP=/[\-:]([a-z])/g;function lP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oP,lP);Oi[t]=new ps(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oP,lP);Oi[t]=new ps(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oP,lP);Oi[t]=new ps(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oi[e]=new ps(e,1,!1,e.toLowerCase(),null,!1,!1)});Oi.xlinkHref=new ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oi[e]=new ps(e,1,!1,e.toLowerCase(),null,!0,!0)});function cP(e,t,n,r){var i=Oi.hasOwnProperty(t)?Oi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zee(t,n,i,r)&&(n=null),r||i===null?Tee(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Oc=Eee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gx=Symbol.for("react.element"),sf=Symbol.for("react.portal"),af=Symbol.for("react.fragment"),uP=Symbol.for("react.strict_mode"),ON=Symbol.for("react.profiler"),SB=Symbol.for("react.provider"),NB=Symbol.for("react.context"),dP=Symbol.for("react.forward_ref"),PN=Symbol.for("react.suspense"),EN=Symbol.for("react.suspense_list"),hP=Symbol.for("react.memo"),tu=Symbol.for("react.lazy"),CB=Symbol.for("react.offscreen"),UA=Symbol.iterator;function ep(e){return e===null||typeof e!="object"?null:(e=UA&&e[UA]||e["@@iterator"],typeof e=="function"?e:null)}var cr=Object.assign,sk;function Lp(e){if(sk===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sk=t&&t[1]||""}return`
`+sk+e}var ak=!1;function ok(e,t){if(!e||ak)return"";ak=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ak=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lp(e):""}function Dee(e){switch(e.tag){case 5:return Lp(e.type);case 16:return Lp("Lazy");case 13:return Lp("Suspense");case 19:return Lp("SuspenseList");case 0:case 2:case 15:return e=ok(e.type,!1),e;case 11:return e=ok(e.type.render,!1),e;case 1:return e=ok(e.type,!0),e;default:return""}}function MN(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case af:return"Fragment";case sf:return"Portal";case ON:return"Profiler";case uP:return"StrictMode";case PN:return"Suspense";case EN:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NB:return(e.displayName||"Context")+".Consumer";case SB:return(e._context.displayName||"Context")+".Provider";case dP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hP:return t=e.displayName||null,t!==null?t:MN(e.type)||"Memo";case tu:t=e._payload,e=e._init;try{return MN(e(t))}catch{}}return null}function Ree(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return MN(t);case 8:return t===uP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iee(e){var t=OB(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qx(e){e._valueTracker||(e._valueTracker=Iee(e))}function PB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=OB(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function m_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function TN(e,t){var n=t.checked;return cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function VA(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EB(e,t){t=t.checked,t!=null&&cP(e,"checked",t,!1)}function AN(e,t){EB(e,t);var n=Pu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zN(e,t.type,n):t.hasOwnProperty("defaultValue")&&zN(e,t.type,Pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HA(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zN(e,t,n){(t!=="number"||m_(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var $p=Array.isArray;function kf(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function DN(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KA(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if($p(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pu(n)}}function MB(e,t){var n=Pu(t.value),r=Pu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function YA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RN(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xx,AB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xx=Xx||document.createElement("div"),Xx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jg(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Jp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lee=["Webkit","ms","Moz","O"];Object.keys(Jp).forEach(function(e){Lee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jp[t]=Jp[e]})});function zB(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Jp.hasOwnProperty(e)&&Jp[e]?(""+t).trim():t+"px"}function DB(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zB(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $ee=cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IN(e,t){if(t){if($ee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function LN(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $N=null;function fP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var FN=null,Sf=null,Nf=null;function GA(e){if(e=Fy(e)){if(typeof FN!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=Tw(t),FN(e.stateNode,e.type,t))}}function RB(e){Sf?Nf?Nf.push(e):Nf=[e]:Sf=e}function IB(){if(Sf){var e=Sf,t=Nf;if(Nf=Sf=null,GA(e),t)for(e=0;e<t.length;e++)GA(t[e])}}function LB(e,t){return e(t)}function $B(){}var lk=!1;function FB(e,t,n){if(lk)return e(t,n);lk=!0;try{return LB(e,t,n)}finally{lk=!1,(Sf!==null||Nf!==null)&&($B(),IB())}}function kg(e,t){var n=e.stateNode;if(n===null)return null;var r=Tw(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var BN=!1;if(uc)try{var tp={};Object.defineProperty(tp,"passive",{get:function(){BN=!0}}),window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,tp)}catch{BN=!1}function Fee(e,t,n,r,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var eg=!1,p_=null,g_=!1,qN=null,Bee={onError:function(e){eg=!0,p_=e}};function qee(e,t,n,r,i,s,a,l,c){eg=!1,p_=null,Fee.apply(Bee,arguments)}function Wee(e,t,n,r,i,s,a,l,c){if(qee.apply(this,arguments),eg){if(eg){var u=p_;eg=!1,p_=null}else throw Error(Ue(198));g_||(g_=!0,qN=u)}}function gh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function BB(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function QA(e){if(gh(e)!==e)throw Error(Ue(188))}function Uee(e){var t=e.alternate;if(!t){if(t=gh(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return QA(i),e;if(s===r)return QA(i),t;s=s.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function qB(e){return e=Uee(e),e!==null?WB(e):null}function WB(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WB(e);if(t!==null)return t;e=e.sibling}return null}var UB=da.unstable_scheduleCallback,XA=da.unstable_cancelCallback,Vee=da.unstable_shouldYield,Hee=da.unstable_requestPaint,kr=da.unstable_now,Kee=da.unstable_getCurrentPriorityLevel,mP=da.unstable_ImmediatePriority,VB=da.unstable_UserBlockingPriority,y_=da.unstable_NormalPriority,Yee=da.unstable_LowPriority,HB=da.unstable_IdlePriority,Ow=null,cl=null;function Gee(e){if(cl&&typeof cl.onCommitFiberRoot=="function")try{cl.onCommitFiberRoot(Ow,e,void 0,(e.current.flags&128)===128)}catch{}}var _o=Math.clz32?Math.clz32:Zee,Qee=Math.log,Xee=Math.LN2;function Zee(e){return e>>>=0,e===0?32:31-(Qee(e)/Xee|0)|0}var Zx=64,Jx=4194304;function Fp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function x_(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Fp(l):(s&=a,s!==0&&(r=Fp(s)))}else a=n&~i,a!==0?r=Fp(a):s!==0&&(r=Fp(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_o(t),i=1<<n,r|=e[n],t&=~i;return r}function Jee(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ete(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-_o(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Jee(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function WN(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function KB(){var e=Zx;return Zx<<=1,!(Zx&4194240)&&(Zx=64),e}function ck(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ly(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_o(t),e[t]=n}function tte(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_o(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function pP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_o(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Sn=0;function YB(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var GB,gP,QB,XB,ZB,UN=!1,ev=[],yu=null,xu=null,vu=null,Sg=new Map,Ng=new Map,ou=[],nte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZA(e,t){switch(e){case"focusin":case"focusout":yu=null;break;case"dragenter":case"dragleave":xu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":Sg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ng.delete(t.pointerId)}}function np(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Fy(t),t!==null&&gP(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rte(e,t,n,r,i){switch(t){case"focusin":return yu=np(yu,e,t,n,r,i),!0;case"dragenter":return xu=np(xu,e,t,n,r,i),!0;case"mouseover":return vu=np(vu,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sg.set(s,np(Sg.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ng.set(s,np(Ng.get(s)||null,e,t,n,r,i)),!0}return!1}function JB(e){var t=wd(e.target);if(t!==null){var n=gh(t);if(n!==null){if(t=n.tag,t===13){if(t=BB(n),t!==null){e.blockedOn=t,ZB(e.priority,function(){QB(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ob(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=VN(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$N=r,n.target.dispatchEvent(r),$N=null}else return t=Fy(n),t!==null&&gP(t),e.blockedOn=n,!1;t.shift()}return!0}function JA(e,t,n){Ob(e)&&n.delete(t)}function ite(){UN=!1,yu!==null&&Ob(yu)&&(yu=null),xu!==null&&Ob(xu)&&(xu=null),vu!==null&&Ob(vu)&&(vu=null),Sg.forEach(JA),Ng.forEach(JA)}function rp(e,t){e.blockedOn===t&&(e.blockedOn=null,UN||(UN=!0,da.unstable_scheduleCallback(da.unstable_NormalPriority,ite)))}function Cg(e){function t(i){return rp(i,e)}if(0<ev.length){rp(ev[0],e);for(var n=1;n<ev.length;n++){var r=ev[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yu!==null&&rp(yu,e),xu!==null&&rp(xu,e),vu!==null&&rp(vu,e),Sg.forEach(t),Ng.forEach(t),n=0;n<ou.length;n++)r=ou[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ou.length&&(n=ou[0],n.blockedOn===null);)JB(n),n.blockedOn===null&&ou.shift()}var Cf=Oc.ReactCurrentBatchConfig,v_=!0;function ste(e,t,n,r){var i=Sn,s=Cf.transition;Cf.transition=null;try{Sn=1,yP(e,t,n,r)}finally{Sn=i,Cf.transition=s}}function ate(e,t,n,r){var i=Sn,s=Cf.transition;Cf.transition=null;try{Sn=4,yP(e,t,n,r)}finally{Sn=i,Cf.transition=s}}function yP(e,t,n,r){if(v_){var i=VN(e,t,n,r);if(i===null)vk(e,t,r,b_,n),ZA(e,r);else if(rte(i,e,t,n,r))r.stopPropagation();else if(ZA(e,r),t&4&&-1<nte.indexOf(e)){for(;i!==null;){var s=Fy(i);if(s!==null&&GB(s),s=VN(e,t,n,r),s===null&&vk(e,t,r,b_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else vk(e,t,r,null,n)}}var b_=null;function VN(e,t,n,r){if(b_=null,e=fP(r),e=wd(e),e!==null)if(t=gh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=BB(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return b_=e,null}function e5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kee()){case mP:return 1;case VB:return 4;case y_:case Yee:return 16;case HB:return 536870912;default:return 16}default:return 16}}var du=null,xP=null,Pb=null;function t5(){if(Pb)return Pb;var e,t=xP,n=t.length,r,i="value"in du?du.value:du.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Pb=i.slice(e,1<r?1-r:void 0)}function Eb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tv(){return!0}function ez(){return!1}function xa(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tv:ez,this.isPropagationStopped=ez,this}return cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tv)},persist:function(){},isPersistent:tv}),t}var Sm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vP=xa(Sm),$y=cr({},Sm,{view:0,detail:0}),ote=xa($y),uk,dk,ip,Pw=cr({},$y,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ip&&(ip&&e.type==="mousemove"?(uk=e.screenX-ip.screenX,dk=e.screenY-ip.screenY):dk=uk=0,ip=e),uk)},movementY:function(e){return"movementY"in e?e.movementY:dk}}),tz=xa(Pw),lte=cr({},Pw,{dataTransfer:0}),cte=xa(lte),ute=cr({},$y,{relatedTarget:0}),hk=xa(ute),dte=cr({},Sm,{animationName:0,elapsedTime:0,pseudoElement:0}),hte=xa(dte),fte=cr({},Sm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mte=xa(fte),pte=cr({},Sm,{data:0}),nz=xa(pte),gte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vte(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xte[e])?!!t[e]:!1}function bP(){return vte}var bte=cr({},$y,{key:function(e){if(e.key){var t=gte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Eb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bP,charCode:function(e){return e.type==="keypress"?Eb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Eb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_te=xa(bte),wte=cr({},Pw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rz=xa(wte),jte=cr({},$y,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bP}),kte=xa(jte),Ste=cr({},Sm,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nte=xa(Ste),Cte=cr({},Pw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ote=xa(Cte),Pte=[9,13,27,32],_P=uc&&"CompositionEvent"in window,tg=null;uc&&"documentMode"in document&&(tg=document.documentMode);var Ete=uc&&"TextEvent"in window&&!tg,n5=uc&&(!_P||tg&&8<tg&&11>=tg),iz=" ",sz=!1;function r5(e,t){switch(e){case"keyup":return Pte.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var of=!1;function Mte(e,t){switch(e){case"compositionend":return i5(t);case"keypress":return t.which!==32?null:(sz=!0,iz);case"textInput":return e=t.data,e===iz&&sz?null:e;default:return null}}function Tte(e,t){if(of)return e==="compositionend"||!_P&&r5(e,t)?(e=t5(),Pb=xP=du=null,of=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return n5&&t.locale!=="ko"?null:t.data;default:return null}}var Ate={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function az(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ate[e.type]:t==="textarea"}function s5(e,t,n,r){RB(r),t=__(t,"onChange"),0<t.length&&(n=new vP("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ng=null,Og=null;function zte(e){g5(e,0)}function Ew(e){var t=uf(e);if(PB(t))return e}function Dte(e,t){if(e==="change")return t}var a5=!1;if(uc){var fk;if(uc){var mk="oninput"in document;if(!mk){var oz=document.createElement("div");oz.setAttribute("oninput","return;"),mk=typeof oz.oninput=="function"}fk=mk}else fk=!1;a5=fk&&(!document.documentMode||9<document.documentMode)}function lz(){ng&&(ng.detachEvent("onpropertychange",o5),Og=ng=null)}function o5(e){if(e.propertyName==="value"&&Ew(Og)){var t=[];s5(t,Og,e,fP(e)),FB(zte,t)}}function Rte(e,t,n){e==="focusin"?(lz(),ng=t,Og=n,ng.attachEvent("onpropertychange",o5)):e==="focusout"&&lz()}function Ite(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ew(Og)}function Lte(e,t){if(e==="click")return Ew(t)}function $te(e,t){if(e==="input"||e==="change")return Ew(t)}function Fte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ko=typeof Object.is=="function"?Object.is:Fte;function Pg(e,t){if(ko(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!CN.call(t,i)||!ko(e[i],t[i]))return!1}return!0}function cz(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uz(e,t){var n=cz(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cz(n)}}function l5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?l5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function c5(){for(var e=window,t=m_();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=m_(e.document)}return t}function wP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bte(e){var t=c5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&l5(n.ownerDocument.documentElement,n)){if(r!==null&&wP(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=uz(n,s);var a=uz(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qte=uc&&"documentMode"in document&&11>=document.documentMode,lf=null,HN=null,rg=null,KN=!1;function dz(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;KN||lf==null||lf!==m_(r)||(r=lf,"selectionStart"in r&&wP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rg&&Pg(rg,r)||(rg=r,r=__(HN,"onSelect"),0<r.length&&(t=new vP("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lf)))}function nv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cf={animationend:nv("Animation","AnimationEnd"),animationiteration:nv("Animation","AnimationIteration"),animationstart:nv("Animation","AnimationStart"),transitionend:nv("Transition","TransitionEnd")},pk={},u5={};uc&&(u5=document.createElement("div").style,"AnimationEvent"in window||(delete cf.animationend.animation,delete cf.animationiteration.animation,delete cf.animationstart.animation),"TransitionEvent"in window||delete cf.transitionend.transition);function Mw(e){if(pk[e])return pk[e];if(!cf[e])return e;var t=cf[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in u5)return pk[e]=t[n];return e}var d5=Mw("animationend"),h5=Mw("animationiteration"),f5=Mw("animationstart"),m5=Mw("transitionend"),p5=new Map,hz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wu(e,t){p5.set(e,t),ph(t,[e])}for(var gk=0;gk<hz.length;gk++){var yk=hz[gk],Wte=yk.toLowerCase(),Ute=yk[0].toUpperCase()+yk.slice(1);Wu(Wte,"on"+Ute)}Wu(d5,"onAnimationEnd");Wu(h5,"onAnimationIteration");Wu(f5,"onAnimationStart");Wu("dblclick","onDoubleClick");Wu("focusin","onFocus");Wu("focusout","onBlur");Wu(m5,"onTransitionEnd");Uf("onMouseEnter",["mouseout","mouseover"]);Uf("onMouseLeave",["mouseout","mouseover"]);Uf("onPointerEnter",["pointerout","pointerover"]);Uf("onPointerLeave",["pointerout","pointerover"]);ph("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ph("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ph("onBeforeInput",["compositionend","keypress","textInput","paste"]);ph("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ph("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ph("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vte=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bp));function fz(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Wee(r,t,void 0,e),e.currentTarget=null}function g5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;fz(i,l,u),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;fz(i,l,u),s=c}}}if(g_)throw e=qN,g_=!1,qN=null,e}function Wn(e,t){var n=t[ZN];n===void 0&&(n=t[ZN]=new Set);var r=e+"__bubble";n.has(r)||(y5(t,e,2,!1),n.add(r))}function xk(e,t,n){var r=0;t&&(r|=4),y5(n,e,r,t)}var rv="_reactListening"+Math.random().toString(36).slice(2);function Eg(e){if(!e[rv]){e[rv]=!0,kB.forEach(function(n){n!=="selectionchange"&&(Vte.has(n)||xk(n,!1,e),xk(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rv]||(t[rv]=!0,xk("selectionchange",!1,t))}}function y5(e,t,n,r){switch(e5(t)){case 1:var i=ste;break;case 4:i=ate;break;default:i=yP}n=i.bind(null,t,n,e),i=void 0,!BN||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vk(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=wd(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}FB(function(){var u=s,d=fP(n),h=[];e:{var m=p5.get(e);if(m!==void 0){var p=vP,g=e;switch(e){case"keypress":if(Eb(n)===0)break e;case"keydown":case"keyup":p=_te;break;case"focusin":g="focus",p=hk;break;case"focusout":g="blur",p=hk;break;case"beforeblur":case"afterblur":p=hk;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=cte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kte;break;case d5:case h5:case f5:p=hte;break;case m5:p=Nte;break;case"scroll":p=ote;break;case"wheel":p=Ote;break;case"copy":case"cut":case"paste":p=mte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=rz}var y=(t&4)!==0,x=!y&&e==="scroll",b=y?m!==null?m+"Capture":null:m;y=[];for(var w=u,v;w!==null;){v=w;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,b!==null&&(_=kg(w,b),_!=null&&y.push(Mg(w,_,v)))),x)break;w=w.return}0<y.length&&(m=new p(m,g,null,n,d),h.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",m&&n!==$N&&(g=n.relatedTarget||n.fromElement)&&(wd(g)||g[dc]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?wd(g):null,g!==null&&(x=gh(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=tz,_="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=rz,_="onPointerLeave",b="onPointerEnter",w="pointer"),x=p==null?m:uf(p),v=g==null?m:uf(g),m=new y(_,w+"leave",p,n,d),m.target=x,m.relatedTarget=v,_=null,wd(d)===u&&(y=new y(b,w+"enter",g,n,d),y.target=v,y.relatedTarget=x,_=y),x=_,p&&g)t:{for(y=p,b=g,w=0,v=y;v;v=Th(v))w++;for(v=0,_=b;_;_=Th(_))v++;for(;0<w-v;)y=Th(y),w--;for(;0<v-w;)b=Th(b),v--;for(;w--;){if(y===b||b!==null&&y===b.alternate)break t;y=Th(y),b=Th(b)}y=null}else y=null;p!==null&&mz(h,m,p,y,!1),g!==null&&x!==null&&mz(h,x,g,y,!0)}}e:{if(m=u?uf(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=Dte;else if(az(m))if(a5)j=$te;else{j=Ite;var k=Rte}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Lte);if(j&&(j=j(e,u))){s5(h,j,n,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&zN(m,"number",m.value)}switch(k=u?uf(u):window,e){case"focusin":(az(k)||k.contentEditable==="true")&&(lf=k,HN=u,rg=null);break;case"focusout":rg=HN=lf=null;break;case"mousedown":KN=!0;break;case"contextmenu":case"mouseup":case"dragend":KN=!1,dz(h,n,d);break;case"selectionchange":if(qte)break;case"keydown":case"keyup":dz(h,n,d)}var C;if(_P)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else of?r5(e,n)&&(O="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(n5&&n.locale!=="ko"&&(of||O!=="onCompositionStart"?O==="onCompositionEnd"&&of&&(C=t5()):(du=d,xP="value"in du?du.value:du.textContent,of=!0)),k=__(u,O),0<k.length&&(O=new nz(O,e,null,n,d),h.push({event:O,listeners:k}),C?O.data=C:(C=i5(n),C!==null&&(O.data=C)))),(C=Ete?Mte(e,n):Tte(e,n))&&(u=__(u,"onBeforeInput"),0<u.length&&(d=new nz("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}g5(h,t)})}function Mg(e,t,n){return{instance:e,listener:t,currentTarget:n}}function __(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kg(e,n),s!=null&&r.unshift(Mg(e,s,i)),s=kg(e,t),s!=null&&r.push(Mg(e,s,i))),e=e.return}return r}function Th(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mz(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=kg(n,s),c!=null&&a.unshift(Mg(n,c,l))):i||(c=kg(n,s),c!=null&&a.push(Mg(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Hte=/\r\n?/g,Kte=/\u0000|\uFFFD/g;function pz(e){return(typeof e=="string"?e:""+e).replace(Hte,`
`).replace(Kte,"")}function iv(e,t,n){if(t=pz(t),pz(e)!==t&&n)throw Error(Ue(425))}function w_(){}var YN=null,GN=null;function QN(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var XN=typeof setTimeout=="function"?setTimeout:void 0,Yte=typeof clearTimeout=="function"?clearTimeout:void 0,gz=typeof Promise=="function"?Promise:void 0,Gte=typeof queueMicrotask=="function"?queueMicrotask:typeof gz<"u"?function(e){return gz.resolve(null).then(e).catch(Qte)}:XN;function Qte(e){setTimeout(function(){throw e})}function bk(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cg(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cg(t)}function bu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yz(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nm=Math.random().toString(36).slice(2),Xo="__reactFiber$"+Nm,Tg="__reactProps$"+Nm,dc="__reactContainer$"+Nm,ZN="__reactEvents$"+Nm,Xte="__reactListeners$"+Nm,Zte="__reactHandles$"+Nm;function wd(e){var t=e[Xo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dc]||n[Xo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=yz(e);e!==null;){if(n=e[Xo])return n;e=yz(e)}return t}e=n,n=e.parentNode}return null}function Fy(e){return e=e[Xo]||e[dc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function uf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function Tw(e){return e[Tg]||null}var JN=[],df=-1;function Uu(e){return{current:e}}function Hn(e){0>df||(e.current=JN[df],JN[df]=null,df--)}function Fn(e,t){df++,JN[df]=e.current,e.current=t}var Eu={},Ui=Uu(Eu),Rs=Uu(!1),Kd=Eu;function Vf(e,t){var n=e.type.contextTypes;if(!n)return Eu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Is(e){return e=e.childContextTypes,e!=null}function j_(){Hn(Rs),Hn(Ui)}function xz(e,t,n){if(Ui.current!==Eu)throw Error(Ue(168));Fn(Ui,t),Fn(Rs,n)}function x5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ue(108,Ree(e)||"Unknown",i));return cr({},n,r)}function k_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eu,Kd=Ui.current,Fn(Ui,e),Fn(Rs,Rs.current),!0}function vz(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=x5(e,t,Kd),r.__reactInternalMemoizedMergedChildContext=e,Hn(Rs),Hn(Ui),Fn(Ui,e)):Hn(Rs),Fn(Rs,n)}var Vl=null,Aw=!1,_k=!1;function v5(e){Vl===null?Vl=[e]:Vl.push(e)}function Jte(e){Aw=!0,v5(e)}function Vu(){if(!_k&&Vl!==null){_k=!0;var e=0,t=Sn;try{var n=Vl;for(Sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vl=null,Aw=!1}catch(i){throw Vl!==null&&(Vl=Vl.slice(e+1)),UB(mP,Vu),i}finally{Sn=t,_k=!1}}return null}var hf=[],ff=0,S_=null,N_=0,Pa=[],Ea=0,Yd=null,Zl=1,Jl="";function ud(e,t){hf[ff++]=N_,hf[ff++]=S_,S_=e,N_=t}function b5(e,t,n){Pa[Ea++]=Zl,Pa[Ea++]=Jl,Pa[Ea++]=Yd,Yd=e;var r=Zl;e=Jl;var i=32-_o(r)-1;r&=~(1<<i),n+=1;var s=32-_o(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zl=1<<32-_o(t)+i|n<<i|r,Jl=s+e}else Zl=1<<s|n<<i|r,Jl=e}function jP(e){e.return!==null&&(ud(e,1),b5(e,1,0))}function kP(e){for(;e===S_;)S_=hf[--ff],hf[ff]=null,N_=hf[--ff],hf[ff]=null;for(;e===Yd;)Yd=Pa[--Ea],Pa[Ea]=null,Jl=Pa[--Ea],Pa[Ea]=null,Zl=Pa[--Ea],Pa[Ea]=null}var la=null,sa=null,Jn=!1,ho=null;function _5(e,t){var n=Ma(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bz(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,la=e,sa=bu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,la=e,sa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yd!==null?{id:Zl,overflow:Jl}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ma(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,la=e,sa=null,!0):!1;default:return!1}}function eC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tC(e){if(Jn){var t=sa;if(t){var n=t;if(!bz(e,t)){if(eC(e))throw Error(Ue(418));t=bu(n.nextSibling);var r=la;t&&bz(e,t)?_5(r,n):(e.flags=e.flags&-4097|2,Jn=!1,la=e)}}else{if(eC(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,Jn=!1,la=e}}}function _z(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;la=e}function sv(e){if(e!==la)return!1;if(!Jn)return _z(e),Jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!QN(e.type,e.memoizedProps)),t&&(t=sa)){if(eC(e))throw w5(),Error(Ue(418));for(;t;)_5(e,t),t=bu(t.nextSibling)}if(_z(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sa=bu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sa=null}}else sa=la?bu(e.stateNode.nextSibling):null;return!0}function w5(){for(var e=sa;e;)e=bu(e.nextSibling)}function Hf(){sa=la=null,Jn=!1}function SP(e){ho===null?ho=[e]:ho.push(e)}var ene=Oc.ReactCurrentBatchConfig;function sp(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function av(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wz(e){var t=e._init;return t(e._payload)}function j5(e){function t(b,w){if(e){var v=b.deletions;v===null?(b.deletions=[w],b.flags|=16):v.push(w)}}function n(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=ku(b,w),b.index=0,b.sibling=null,b}function s(b,w,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<w?(b.flags|=2,w):v):(b.flags|=2,w)):(b.flags|=1048576,w)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,w,v,_){return w===null||w.tag!==6?(w=Ok(v,b.mode,_),w.return=b,w):(w=i(w,v),w.return=b,w)}function c(b,w,v,_){var j=v.type;return j===af?d(b,w,v.props.children,_,v.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===tu&&wz(j)===w.type)?(_=i(w,v.props),_.ref=sp(b,w,v),_.return=b,_):(_=Ib(v.type,v.key,v.props,null,b.mode,_),_.ref=sp(b,w,v),_.return=b,_)}function u(b,w,v,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==v.containerInfo||w.stateNode.implementation!==v.implementation?(w=Pk(v,b.mode,_),w.return=b,w):(w=i(w,v.children||[]),w.return=b,w)}function d(b,w,v,_,j){return w===null||w.tag!==7?(w=Id(v,b.mode,_,j),w.return=b,w):(w=i(w,v),w.return=b,w)}function h(b,w,v){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ok(""+w,b.mode,v),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gx:return v=Ib(w.type,w.key,w.props,null,b.mode,v),v.ref=sp(b,null,w),v.return=b,v;case sf:return w=Pk(w,b.mode,v),w.return=b,w;case tu:var _=w._init;return h(b,_(w._payload),v)}if($p(w)||ep(w))return w=Id(w,b.mode,v,null),w.return=b,w;av(b,w)}return null}function m(b,w,v,_){var j=w!==null?w.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(b,w,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Gx:return v.key===j?c(b,w,v,_):null;case sf:return v.key===j?u(b,w,v,_):null;case tu:return j=v._init,m(b,w,j(v._payload),_)}if($p(v)||ep(v))return j!==null?null:d(b,w,v,_,null);av(b,v)}return null}function p(b,w,v,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(v)||null,l(w,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gx:return b=b.get(_.key===null?v:_.key)||null,c(w,b,_,j);case sf:return b=b.get(_.key===null?v:_.key)||null,u(w,b,_,j);case tu:var k=_._init;return p(b,w,v,k(_._payload),j)}if($p(_)||ep(_))return b=b.get(v)||null,d(w,b,_,j,null);av(w,_)}return null}function g(b,w,v,_){for(var j=null,k=null,C=w,O=w=0,P=null;C!==null&&O<v.length;O++){C.index>O?(P=C,C=null):P=C.sibling;var M=m(b,C,v[O],_);if(M===null){C===null&&(C=P);break}e&&C&&M.alternate===null&&t(b,C),w=s(M,w,O),k===null?j=M:k.sibling=M,k=M,C=P}if(O===v.length)return n(b,C),Jn&&ud(b,O),j;if(C===null){for(;O<v.length;O++)C=h(b,v[O],_),C!==null&&(w=s(C,w,O),k===null?j=C:k.sibling=C,k=C);return Jn&&ud(b,O),j}for(C=r(b,C);O<v.length;O++)P=p(C,b,O,v[O],_),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?O:P.key),w=s(P,w,O),k===null?j=P:k.sibling=P,k=P);return e&&C.forEach(function(A){return t(b,A)}),Jn&&ud(b,O),j}function y(b,w,v,_){var j=ep(v);if(typeof j!="function")throw Error(Ue(150));if(v=j.call(v),v==null)throw Error(Ue(151));for(var k=j=null,C=w,O=w=0,P=null,M=v.next();C!==null&&!M.done;O++,M=v.next()){C.index>O?(P=C,C=null):P=C.sibling;var A=m(b,C,M.value,_);if(A===null){C===null&&(C=P);break}e&&C&&A.alternate===null&&t(b,C),w=s(A,w,O),k===null?j=A:k.sibling=A,k=A,C=P}if(M.done)return n(b,C),Jn&&ud(b,O),j;if(C===null){for(;!M.done;O++,M=v.next())M=h(b,M.value,_),M!==null&&(w=s(M,w,O),k===null?j=M:k.sibling=M,k=M);return Jn&&ud(b,O),j}for(C=r(b,C);!M.done;O++,M=v.next())M=p(C,b,O,M.value,_),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?O:M.key),w=s(M,w,O),k===null?j=M:k.sibling=M,k=M);return e&&C.forEach(function(R){return t(b,R)}),Jn&&ud(b,O),j}function x(b,w,v,_){if(typeof v=="object"&&v!==null&&v.type===af&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Gx:e:{for(var j=v.key,k=w;k!==null;){if(k.key===j){if(j=v.type,j===af){if(k.tag===7){n(b,k.sibling),w=i(k,v.props.children),w.return=b,b=w;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===tu&&wz(j)===k.type){n(b,k.sibling),w=i(k,v.props),w.ref=sp(b,k,v),w.return=b,b=w;break e}n(b,k);break}else t(b,k);k=k.sibling}v.type===af?(w=Id(v.props.children,b.mode,_,v.key),w.return=b,b=w):(_=Ib(v.type,v.key,v.props,null,b.mode,_),_.ref=sp(b,w,v),_.return=b,b=_)}return a(b);case sf:e:{for(k=v.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===v.containerInfo&&w.stateNode.implementation===v.implementation){n(b,w.sibling),w=i(w,v.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else t(b,w);w=w.sibling}w=Pk(v,b.mode,_),w.return=b,b=w}return a(b);case tu:return k=v._init,x(b,w,k(v._payload),_)}if($p(v))return g(b,w,v,_);if(ep(v))return y(b,w,v,_);av(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,v),w.return=b,b=w):(n(b,w),w=Ok(v,b.mode,_),w.return=b,b=w),a(b)):n(b,w)}return x}var Kf=j5(!0),k5=j5(!1),C_=Uu(null),O_=null,mf=null,NP=null;function CP(){NP=mf=O_=null}function OP(e){var t=C_.current;Hn(C_),e._currentValue=t}function nC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Of(e,t){O_=e,NP=mf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Es=!0),e.firstContext=null)}function Ba(e){var t=e._currentValue;if(NP!==e)if(e={context:e,memoizedValue:t,next:null},mf===null){if(O_===null)throw Error(Ue(308));mf=e,O_.dependencies={lanes:0,firstContext:e}}else mf=mf.next=e;return t}var jd=null;function PP(e){jd===null?jd=[e]:jd.push(e)}function S5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,PP(t)):(n.next=i.next,i.next=n),t.interleaved=n,hc(e,r)}function hc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var nu=!1;function EP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ac(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _u(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hc(e,n)}return i=r.interleaved,i===null?(t.next=t,PP(r)):(t.next=i.next,i.next=t),r.interleaved=t,hc(e,n)}function Mb(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pP(e,n)}}function jz(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function P_(e,t,n,r){var i=e.updateQueue;nu=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=u=c=null,l=s;do{var m=l.lane,p=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(m=t,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(p,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(p,h,m):g,m==null)break e;h=cr({},h,m);break e;case 2:nu=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Qd|=a,e.lanes=a,e.memoizedState=h}}function kz(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var By={},ul=Uu(By),Ag=Uu(By),zg=Uu(By);function kd(e){if(e===By)throw Error(Ue(174));return e}function MP(e,t){switch(Fn(zg,t),Fn(Ag,e),Fn(ul,By),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RN(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RN(t,e)}Hn(ul),Fn(ul,t)}function Yf(){Hn(ul),Hn(Ag),Hn(zg)}function C5(e){kd(zg.current);var t=kd(ul.current),n=RN(t,e.type);t!==n&&(Fn(Ag,e),Fn(ul,n))}function TP(e){Ag.current===e&&(Hn(ul),Hn(Ag))}var sr=Uu(0);function E_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wk=[];function AP(){for(var e=0;e<wk.length;e++)wk[e]._workInProgressVersionPrimary=null;wk.length=0}var Tb=Oc.ReactCurrentDispatcher,jk=Oc.ReactCurrentBatchConfig,Gd=0,or=null,Lr=null,si=null,M_=!1,ig=!1,Dg=0,tne=0;function Ti(){throw Error(Ue(321))}function zP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ko(e[n],t[n]))return!1;return!0}function DP(e,t,n,r,i,s){if(Gd=s,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tb.current=e===null||e.memoizedState===null?sne:ane,e=n(r,i),ig){s=0;do{if(ig=!1,Dg=0,25<=s)throw Error(Ue(301));s+=1,si=Lr=null,t.updateQueue=null,Tb.current=one,e=n(r,i)}while(ig)}if(Tb.current=T_,t=Lr!==null&&Lr.next!==null,Gd=0,si=Lr=or=null,M_=!1,t)throw Error(Ue(300));return e}function RP(){var e=Dg!==0;return Dg=0,e}function Go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?or.memoizedState=si=e:si=si.next=e,si}function qa(){if(Lr===null){var e=or.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=si===null?or.memoizedState:si.next;if(t!==null)si=t,Lr=e;else{if(e===null)throw Error(Ue(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},si===null?or.memoizedState=si=e:si=si.next=e}return si}function Rg(e,t){return typeof t=="function"?t(e):t}function kk(e){var t=qa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=Lr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Gd&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=r):c=c.next=h,or.lanes|=d,Qd|=d}u=u.next}while(u!==null&&u!==s);c===null?a=r:c.next=l,ko(r,t.memoizedState)||(Es=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,or.lanes|=s,Qd|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sk(e){var t=qa(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);ko(s,t.memoizedState)||(Es=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function O5(){}function P5(e,t){var n=or,r=qa(),i=t(),s=!ko(r.memoizedState,i);if(s&&(r.memoizedState=i,Es=!0),r=r.queue,IP(T5.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||si!==null&&si.memoizedState.tag&1){if(n.flags|=2048,Ig(9,M5.bind(null,n,r,i,t),void 0,null),ui===null)throw Error(Ue(349));Gd&30||E5(n,t,i)}return i}function E5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function M5(e,t,n,r){t.value=n,t.getSnapshot=r,A5(t)&&z5(e)}function T5(e,t,n){return n(function(){A5(t)&&z5(e)})}function A5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ko(e,n)}catch{return!0}}function z5(e){var t=hc(e,1);t!==null&&wo(t,e,1,-1)}function Sz(e){var t=Go();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:e},t.queue=e,e=e.dispatch=ine.bind(null,or,e),[t.memoizedState,e]}function Ig(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function D5(){return qa().memoizedState}function Ab(e,t,n,r){var i=Go();or.flags|=e,i.memoizedState=Ig(1|t,n,void 0,r===void 0?null:r)}function zw(e,t,n,r){var i=qa();r=r===void 0?null:r;var s=void 0;if(Lr!==null){var a=Lr.memoizedState;if(s=a.destroy,r!==null&&zP(r,a.deps)){i.memoizedState=Ig(t,n,s,r);return}}or.flags|=e,i.memoizedState=Ig(1|t,n,s,r)}function Nz(e,t){return Ab(8390656,8,e,t)}function IP(e,t){return zw(2048,8,e,t)}function R5(e,t){return zw(4,2,e,t)}function I5(e,t){return zw(4,4,e,t)}function L5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $5(e,t,n){return n=n!=null?n.concat([e]):null,zw(4,4,L5.bind(null,t,e),n)}function LP(){}function F5(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zP(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function B5(e,t){var n=qa();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zP(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function q5(e,t,n){return Gd&21?(ko(n,t)||(n=KB(),or.lanes|=n,Qd|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Es=!0),e.memoizedState=n)}function nne(e,t){var n=Sn;Sn=n!==0&&4>n?n:4,e(!0);var r=jk.transition;jk.transition={};try{e(!1),t()}finally{Sn=n,jk.transition=r}}function W5(){return qa().memoizedState}function rne(e,t,n){var r=ju(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U5(e))V5(t,n);else if(n=S5(e,t,n,r),n!==null){var i=is();wo(n,e,r,i),H5(n,t,r)}}function ine(e,t,n){var r=ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U5(e))V5(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,ko(l,a)){var c=t.interleaved;c===null?(i.next=i,PP(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=S5(e,t,i,r),n!==null&&(i=is(),wo(n,e,r,i),H5(n,t,r))}}function U5(e){var t=e.alternate;return e===or||t!==null&&t===or}function V5(e,t){ig=M_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function H5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,pP(e,n)}}var T_={readContext:Ba,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},sne={readContext:Ba,useCallback:function(e,t){return Go().memoizedState=[e,t===void 0?null:t],e},useContext:Ba,useEffect:Nz,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ab(4194308,4,L5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ab(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ab(4,2,e,t)},useMemo:function(e,t){var n=Go();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Go();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rne.bind(null,or,e),[r.memoizedState,e]},useRef:function(e){var t=Go();return e={current:e},t.memoizedState=e},useState:Sz,useDebugValue:LP,useDeferredValue:function(e){return Go().memoizedState=e},useTransition:function(){var e=Sz(!1),t=e[0];return e=nne.bind(null,e[1]),Go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=or,i=Go();if(Jn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),ui===null)throw Error(Ue(349));Gd&30||E5(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Nz(T5.bind(null,r,s,e),[e]),r.flags|=2048,Ig(9,M5.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Go(),t=ui.identifierPrefix;if(Jn){var n=Jl,r=Zl;n=(r&~(1<<32-_o(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dg++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tne++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ane={readContext:Ba,useCallback:F5,useContext:Ba,useEffect:IP,useImperativeHandle:$5,useInsertionEffect:R5,useLayoutEffect:I5,useMemo:B5,useReducer:kk,useRef:D5,useState:function(){return kk(Rg)},useDebugValue:LP,useDeferredValue:function(e){var t=qa();return q5(t,Lr.memoizedState,e)},useTransition:function(){var e=kk(Rg)[0],t=qa().memoizedState;return[e,t]},useMutableSource:O5,useSyncExternalStore:P5,useId:W5,unstable_isNewReconciler:!1},one={readContext:Ba,useCallback:F5,useContext:Ba,useEffect:IP,useImperativeHandle:$5,useInsertionEffect:R5,useLayoutEffect:I5,useMemo:B5,useReducer:Sk,useRef:D5,useState:function(){return Sk(Rg)},useDebugValue:LP,useDeferredValue:function(e){var t=qa();return Lr===null?t.memoizedState=e:q5(t,Lr.memoizedState,e)},useTransition:function(){var e=Sk(Rg)[0],t=qa().memoizedState;return[e,t]},useMutableSource:O5,useSyncExternalStore:P5,useId:W5,unstable_isNewReconciler:!1};function co(e,t){if(e&&e.defaultProps){t=cr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:cr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dw={isMounted:function(e){return(e=e._reactInternals)?gh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=is(),i=ju(e),s=ac(r,i);s.payload=t,n!=null&&(s.callback=n),t=_u(e,s,i),t!==null&&(wo(t,e,i,r),Mb(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=is(),i=ju(e),s=ac(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_u(e,s,i),t!==null&&(wo(t,e,i,r),Mb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=is(),r=ju(e),i=ac(n,r);i.tag=2,t!=null&&(i.callback=t),t=_u(e,i,r),t!==null&&(wo(t,e,r,n),Mb(t,e,r))}};function Cz(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Pg(n,r)||!Pg(i,s):!0}function K5(e,t,n){var r=!1,i=Eu,s=t.contextType;return typeof s=="object"&&s!==null?s=Ba(s):(i=Is(t)?Kd:Ui.current,r=t.contextTypes,s=(r=r!=null)?Vf(e,i):Eu),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dw,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Oz(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dw.enqueueReplaceState(t,t.state,null)}function iC(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},EP(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ba(s):(s=Is(t)?Kd:Ui.current,i.context=Vf(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rC(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Dw.enqueueReplaceState(i,i.state,null),P_(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Gf(e,t){try{var n="",r=t;do n+=Dee(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Nk(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lne=typeof WeakMap=="function"?WeakMap:Map;function Y5(e,t,n){n=ac(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){z_||(z_=!0,pC=r),sC(e,t)},n}function G5(e,t,n){n=ac(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){sC(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sC(e,t),typeof r!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Pz(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lne;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wne.bind(null,e,t,n),t.then(e,e))}function Ez(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mz(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ac(-1,1),t.tag=2,_u(n,t,1))),n.lanes|=1),e)}var cne=Oc.ReactCurrentOwner,Es=!1;function Zi(e,t,n,r){t.child=e===null?k5(t,null,n,r):Kf(t,e.child,n,r)}function Tz(e,t,n,r,i){n=n.render;var s=t.ref;return Of(t,i),r=DP(e,t,n,r,s,i),n=RP(),e!==null&&!Es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fc(e,t,i)):(Jn&&n&&jP(t),t.flags|=1,Zi(e,t,r,i),t.child)}function Az(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!HP(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Q5(e,t,s,r,i)):(e=Ib(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pg,n(a,r)&&e.ref===t.ref)return fc(e,t,i)}return t.flags|=1,e=ku(s,r),e.ref=t.ref,e.return=t,t.child=e}function Q5(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Pg(s,r)&&e.ref===t.ref)if(Es=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Es=!0);else return t.lanes=e.lanes,fc(e,t,i)}return aC(e,t,n,r,i)}function X5(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fn(gf,Js),Js|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fn(gf,Js),Js|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fn(gf,Js),Js|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fn(gf,Js),Js|=r;return Zi(e,t,i,n),t.child}function Z5(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aC(e,t,n,r,i){var s=Is(n)?Kd:Ui.current;return s=Vf(t,s),Of(t,i),n=DP(e,t,n,r,s,i),r=RP(),e!==null&&!Es?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fc(e,t,i)):(Jn&&r&&jP(t),t.flags|=1,Zi(e,t,n,i),t.child)}function zz(e,t,n,r,i){if(Is(n)){var s=!0;k_(t)}else s=!1;if(Of(t,i),t.stateNode===null)zb(e,t),K5(t,n,r),iC(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ba(u):(u=Is(n)?Kd:Ui.current,u=Vf(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Oz(t,a,r,u),nu=!1;var m=t.memoizedState;a.state=m,P_(t,r,a,i),c=t.memoizedState,l!==r||m!==c||Rs.current||nu?(typeof d=="function"&&(rC(t,n,d,r),c=t.memoizedState),(l=nu||Cz(t,n,l,r,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,N5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:co(t.type,l),a.props=u,h=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ba(c):(c=Is(n)?Kd:Ui.current,c=Vf(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Oz(t,a,r,c),nu=!1,m=t.memoizedState,a.state=m,P_(t,r,a,i);var g=t.memoizedState;l!==h||m!==g||Rs.current||nu?(typeof p=="function"&&(rC(t,n,p,r),g=t.memoizedState),(u=nu||Cz(t,n,u,r,m,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return oC(e,t,n,r,s,i)}function oC(e,t,n,r,i,s){Z5(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&vz(t,n,!1),fc(e,t,s);r=t.stateNode,cne.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Kf(t,e.child,null,s),t.child=Kf(t,null,l,s)):Zi(e,t,l,s),t.memoizedState=r.state,i&&vz(t,n,!0),t.child}function J5(e){var t=e.stateNode;t.pendingContext?xz(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xz(e,t.context,!1),MP(e,t.containerInfo)}function Dz(e,t,n,r,i){return Hf(),SP(i),t.flags|=256,Zi(e,t,n,r),t.child}var lC={dehydrated:null,treeContext:null,retryLane:0};function cC(e){return{baseLanes:e,cachePool:null,transitions:null}}function eq(e,t,n){var r=t.pendingProps,i=sr.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fn(sr,i&1),e===null)return tC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Lw(a,r,0,null),e=Id(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cC(n),t.memoizedState=lC,e):$P(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return une(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ku(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ku(l,s):(s=Id(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?cC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=lC,r}return s=e.child,e=s.sibling,r=ku(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function $P(e,t){return t=Lw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ov(e,t,n,r){return r!==null&&SP(r),Kf(t,e.child,null,n),e=$P(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function une(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=Nk(Error(Ue(422))),ov(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lw({mode:"visible",children:r.children},i,0,null),s=Id(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Kf(t,e.child,null,a),t.child.memoizedState=cC(a),t.memoizedState=lC,s);if(!(t.mode&1))return ov(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Ue(419)),r=Nk(s,r,void 0),ov(e,t,a,r)}if(l=(a&e.childLanes)!==0,Es||l){if(r=ui,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hc(e,i),wo(r,e,i,-1))}return VP(),r=Nk(Error(Ue(421))),ov(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jne.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,sa=bu(i.nextSibling),la=t,Jn=!0,ho=null,e!==null&&(Pa[Ea++]=Zl,Pa[Ea++]=Jl,Pa[Ea++]=Yd,Zl=e.id,Jl=e.overflow,Yd=t),t=$P(t,r.children),t.flags|=4096,t)}function Rz(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nC(e.return,t,n)}function Ck(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tq(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Zi(e,t,r.children,n),r=sr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rz(e,n,t);else if(e.tag===19)Rz(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fn(sr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&E_(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ck(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&E_(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ck(t,!0,n,null,s);break;case"together":Ck(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qd|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=ku(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ku(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dne(e,t,n){switch(t.tag){case 3:J5(t),Hf();break;case 5:C5(t);break;case 1:Is(t.type)&&k_(t);break;case 4:MP(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fn(C_,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fn(sr,sr.current&1),t.flags|=128,null):n&t.child.childLanes?eq(e,t,n):(Fn(sr,sr.current&1),e=fc(e,t,n),e!==null?e.sibling:null);Fn(sr,sr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tq(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fn(sr,sr.current),r)break;return null;case 22:case 23:return t.lanes=0,X5(e,t,n)}return fc(e,t,n)}var nq,uC,rq,iq;nq=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uC=function(){};rq=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,kd(ul.current);var s=null;switch(n){case"input":i=TN(e,i),r=TN(e,r),s=[];break;case"select":i=cr({},i,{value:void 0}),r=cr({},r,{value:void 0}),s=[];break;case"textarea":i=DN(e,i),r=DN(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=w_)}IN(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wg.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wg.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Wn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};iq=function(e,t,n,r){n!==r&&(t.flags|=4)};function ap(e,t){if(!Jn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ai(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hne(e,t,n){var r=t.pendingProps;switch(kP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(t),null;case 1:return Is(t.type)&&j_(),Ai(t),null;case 3:return r=t.stateNode,Yf(),Hn(Rs),Hn(Ui),AP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ho!==null&&(xC(ho),ho=null))),uC(e,t),Ai(t),null;case 5:TP(t);var i=kd(zg.current);if(n=t.type,e!==null&&t.stateNode!=null)rq(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return Ai(t),null}if(e=kd(ul.current),sv(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xo]=t,r[Tg]=s,e=(t.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<Bp.length;i++)Wn(Bp[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":VA(r,s),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wn("invalid",r);break;case"textarea":KA(r,s),Wn("invalid",r)}IN(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&iv(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&iv(r.textContent,l,e),i=["children",""+l]):wg.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Wn("scroll",r)}switch(n){case"input":Qx(r),HA(r,s,!0);break;case"textarea":Qx(r),YA(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=w_)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TB(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Xo]=t,e[Tg]=r,nq(e,t,!1,!1),t.stateNode=e;e:{switch(a=LN(n,r),n){case"dialog":Wn("cancel",e),Wn("close",e),i=r;break;case"iframe":case"object":case"embed":Wn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Bp.length;i++)Wn(Bp[i],e);i=r;break;case"source":Wn("error",e),i=r;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),i=r;break;case"details":Wn("toggle",e),i=r;break;case"input":VA(e,r),i=TN(e,r),Wn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=cr({},r,{value:void 0}),Wn("invalid",e);break;case"textarea":KA(e,r),i=DN(e,r),Wn("invalid",e);break;default:i=r}IN(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?DB(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AB(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&jg(e,c):typeof c=="number"&&jg(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wg.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Wn("scroll",e):c!=null&&cP(e,s,c,a))}switch(n){case"input":Qx(e),HA(e,r,!1);break;case"textarea":Qx(e),YA(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pu(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?kf(e,!!r.multiple,s,!1):r.defaultValue!=null&&kf(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=w_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ai(t),null;case 6:if(e&&t.stateNode!=null)iq(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=kd(zg.current),kd(ul.current),sv(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xo]=t,(s=r.nodeValue!==n)&&(e=la,e!==null))switch(e.tag){case 3:iv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&iv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xo]=t,t.stateNode=r}return Ai(t),null;case 13:if(Hn(sr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jn&&sa!==null&&t.mode&1&&!(t.flags&128))w5(),Hf(),t.flags|=98560,s=!1;else if(s=sv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(Ue(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[Xo]=t}else Hf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ai(t),s=!1}else ho!==null&&(xC(ho),ho=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||sr.current&1?Br===0&&(Br=3):VP())),t.updateQueue!==null&&(t.flags|=4),Ai(t),null);case 4:return Yf(),uC(e,t),e===null&&Eg(t.stateNode.containerInfo),Ai(t),null;case 10:return OP(t.type._context),Ai(t),null;case 17:return Is(t.type)&&j_(),Ai(t),null;case 19:if(Hn(sr),s=t.memoizedState,s===null)return Ai(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)ap(s,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=E_(e),a!==null){for(t.flags|=128,ap(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fn(sr,sr.current&1|2),t.child}e=e.sibling}s.tail!==null&&kr()>Qf&&(t.flags|=128,r=!0,ap(s,!1),t.lanes=4194304)}else{if(!r)if(e=E_(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ap(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Jn)return Ai(t),null}else 2*kr()-s.renderingStartTime>Qf&&n!==1073741824&&(t.flags|=128,r=!0,ap(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=kr(),t.sibling=null,n=sr.current,Fn(sr,r?n&1|2:n&1),t):(Ai(t),null);case 22:case 23:return UP(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Js&1073741824&&(Ai(t),t.subtreeFlags&6&&(t.flags|=8192)):Ai(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function fne(e,t){switch(kP(t),t.tag){case 1:return Is(t.type)&&j_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yf(),Hn(Rs),Hn(Ui),AP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return TP(t),null;case 13:if(Hn(sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Hf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Hn(sr),null;case 4:return Yf(),null;case 10:return OP(t.type._context),null;case 22:case 23:return UP(),null;case 24:return null;default:return null}}var lv=!1,Bi=!1,mne=typeof WeakSet=="function"?WeakSet:Set,_t=null;function pf(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fr(e,t,r)}else n.current=null}function dC(e,t,n){try{n()}catch(r){fr(e,t,r)}}var Iz=!1;function pne(e,t){if(YN=v_,e=c5(),wP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(l=a+i),h!==s||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++u===i&&(l=a),m===s&&++d===r&&(c=a),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(GN={focusedElem:e,selectionRange:n},v_=!1,_t=t;_t!==null;)if(t=_t,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_t=e;else for(;_t!==null;){t=_t;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:co(t.type,y),x);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(_){fr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,_t=e;break}_t=t.return}return g=Iz,Iz=!1,g}function sg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&dC(t,n,s)}i=i.next}while(i!==r)}}function Rw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sq(e){var t=e.alternate;t!==null&&(e.alternate=null,sq(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xo],delete t[Tg],delete t[ZN],delete t[Xte],delete t[Zte])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aq(e){return e.tag===5||e.tag===3||e.tag===4}function Lz(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aq(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=w_));else if(r!==4&&(e=e.child,e!==null))for(fC(e,t,n),e=e.sibling;e!==null;)fC(e,t,n),e=e.sibling}function mC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mC(e,t,n),e=e.sibling;e!==null;)mC(e,t,n),e=e.sibling}var xi=null,uo=!1;function Vc(e,t,n){for(n=n.child;n!==null;)oq(e,t,n),n=n.sibling}function oq(e,t,n){if(cl&&typeof cl.onCommitFiberUnmount=="function")try{cl.onCommitFiberUnmount(Ow,n)}catch{}switch(n.tag){case 5:Bi||pf(n,t);case 6:var r=xi,i=uo;xi=null,Vc(e,t,n),xi=r,uo=i,xi!==null&&(uo?(e=xi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xi.removeChild(n.stateNode));break;case 18:xi!==null&&(uo?(e=xi,n=n.stateNode,e.nodeType===8?bk(e.parentNode,n):e.nodeType===1&&bk(e,n),Cg(e)):bk(xi,n.stateNode));break;case 4:r=xi,i=uo,xi=n.stateNode.containerInfo,uo=!0,Vc(e,t,n),xi=r,uo=i;break;case 0:case 11:case 14:case 15:if(!Bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dC(n,t,a),i=i.next}while(i!==r)}Vc(e,t,n);break;case 1:if(!Bi&&(pf(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){fr(n,t,l)}Vc(e,t,n);break;case 21:Vc(e,t,n);break;case 22:n.mode&1?(Bi=(r=Bi)||n.memoizedState!==null,Vc(e,t,n),Bi=r):Vc(e,t,n);break;default:Vc(e,t,n)}}function $z(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mne),t.forEach(function(r){var i=kne.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ao(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:xi=l.stateNode,uo=!1;break e;case 3:xi=l.stateNode.containerInfo,uo=!0;break e;case 4:xi=l.stateNode.containerInfo,uo=!0;break e}l=l.return}if(xi===null)throw Error(Ue(160));oq(s,a,i),xi=null,uo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){fr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lq(t,e),t=t.sibling}function lq(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ao(t,e),Fo(e),r&4){try{sg(3,e,e.return),Rw(3,e)}catch(y){fr(e,e.return,y)}try{sg(5,e,e.return)}catch(y){fr(e,e.return,y)}}break;case 1:ao(t,e),Fo(e),r&512&&n!==null&&pf(n,n.return);break;case 5:if(ao(t,e),Fo(e),r&512&&n!==null&&pf(n,n.return),e.flags&32){var i=e.stateNode;try{jg(i,"")}catch(y){fr(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&EB(i,s),LN(l,a);var u=LN(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?DB(i,h):d==="dangerouslySetInnerHTML"?AB(i,h):d==="children"?jg(i,h):cP(i,d,h,u)}switch(l){case"input":AN(i,s);break;case"textarea":MB(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?kf(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?kf(i,!!s.multiple,s.defaultValue,!0):kf(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tg]=s}catch(y){fr(e,e.return,y)}}break;case 6:if(ao(t,e),Fo(e),r&4){if(e.stateNode===null)throw Error(Ue(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){fr(e,e.return,y)}}break;case 3:if(ao(t,e),Fo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cg(t.containerInfo)}catch(y){fr(e,e.return,y)}break;case 4:ao(t,e),Fo(e);break;case 13:ao(t,e),Fo(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(qP=kr())),r&4&&$z(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Bi=(u=Bi)||d,ao(t,e),Bi=u):ao(t,e),Fo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(_t=e,d=e.child;d!==null;){for(h=_t=d;_t!==null;){switch(m=_t,p=m.child,m.tag){case 0:case 11:case 14:case 15:sg(4,m,m.return);break;case 1:pf(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){fr(r,n,y)}}break;case 5:pf(m,m.return);break;case 22:if(m.memoizedState!==null){Bz(h);continue}}p!==null?(p.return=m,_t=p):Bz(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=zB("display",a))}catch(y){fr(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){fr(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ao(t,e),Fo(e),r&4&&$z(e);break;case 21:break;default:ao(t,e),Fo(e)}}function Fo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(aq(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jg(i,""),r.flags&=-33);var s=Lz(e);mC(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Lz(e);fC(e,l,a);break;default:throw Error(Ue(161))}}catch(c){fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gne(e,t,n){_t=e,cq(e)}function cq(e,t,n){for(var r=(e.mode&1)!==0;_t!==null;){var i=_t,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||lv;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Bi;l=lv;var u=Bi;if(lv=a,(Bi=c)&&!u)for(_t=i;_t!==null;)a=_t,c=a.child,a.tag===22&&a.memoizedState!==null?qz(i):c!==null?(c.return=a,_t=c):qz(i);for(;s!==null;)_t=s,cq(s),s=s.sibling;_t=i,lv=l,Bi=u}Fz(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_t=s):Fz(e)}}function Fz(e){for(;_t!==null;){var t=_t;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bi||Rw(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:co(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&kz(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kz(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Cg(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Bi||t.flags&512&&hC(t)}catch(m){fr(t,t.return,m)}}if(t===e){_t=null;break}if(n=t.sibling,n!==null){n.return=t.return,_t=n;break}_t=t.return}}function Bz(e){for(;_t!==null;){var t=_t;if(t===e){_t=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_t=n;break}_t=t.return}}function qz(e){for(;_t!==null;){var t=_t;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Rw(4,t)}catch(c){fr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){fr(t,i,c)}}var s=t.return;try{hC(t)}catch(c){fr(t,s,c)}break;case 5:var a=t.return;try{hC(t)}catch(c){fr(t,a,c)}}}catch(c){fr(t,t.return,c)}if(t===e){_t=null;break}var l=t.sibling;if(l!==null){l.return=t.return,_t=l;break}_t=t.return}}var yne=Math.ceil,A_=Oc.ReactCurrentDispatcher,FP=Oc.ReactCurrentOwner,Ia=Oc.ReactCurrentBatchConfig,yn=0,ui=null,Mr=null,Si=0,Js=0,gf=Uu(0),Br=0,Lg=null,Qd=0,Iw=0,BP=0,ag=null,Ns=null,qP=0,Qf=1/0,Ul=null,z_=!1,pC=null,wu=null,cv=!1,hu=null,D_=0,og=0,gC=null,Db=-1,Rb=0;function is(){return yn&6?kr():Db!==-1?Db:Db=kr()}function ju(e){return e.mode&1?yn&2&&Si!==0?Si&-Si:ene.transition!==null?(Rb===0&&(Rb=KB()),Rb):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:e5(e.type)),e):1}function wo(e,t,n,r){if(50<og)throw og=0,gC=null,Error(Ue(185));Ly(e,n,r),(!(yn&2)||e!==ui)&&(e===ui&&(!(yn&2)&&(Iw|=n),Br===4&&lu(e,Si)),Ls(e,r),n===1&&yn===0&&!(t.mode&1)&&(Qf=kr()+500,Aw&&Vu()))}function Ls(e,t){var n=e.callbackNode;ete(e,t);var r=x_(e,e===ui?Si:0);if(r===0)n!==null&&XA(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&XA(n),t===1)e.tag===0?Jte(Wz.bind(null,e)):v5(Wz.bind(null,e)),Gte(function(){!(yn&6)&&Vu()}),n=null;else{switch(YB(r)){case 1:n=mP;break;case 4:n=VB;break;case 16:n=y_;break;case 536870912:n=HB;break;default:n=y_}n=yq(n,uq.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uq(e,t){if(Db=-1,Rb=0,yn&6)throw Error(Ue(327));var n=e.callbackNode;if(Pf()&&e.callbackNode!==n)return null;var r=x_(e,e===ui?Si:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=R_(e,r);else{t=r;var i=yn;yn|=2;var s=hq();(ui!==e||Si!==t)&&(Ul=null,Qf=kr()+500,Rd(e,t));do try{bne();break}catch(l){dq(e,l)}while(!0);CP(),A_.current=s,yn=i,Mr!==null?t=0:(ui=null,Si=0,t=Br)}if(t!==0){if(t===2&&(i=WN(e),i!==0&&(r=i,t=yC(e,i))),t===1)throw n=Lg,Rd(e,0),lu(e,r),Ls(e,kr()),n;if(t===6)lu(e,r);else{if(i=e.current.alternate,!(r&30)&&!xne(i)&&(t=R_(e,r),t===2&&(s=WN(e),s!==0&&(r=s,t=yC(e,s))),t===1))throw n=Lg,Rd(e,0),lu(e,r),Ls(e,kr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:dd(e,Ns,Ul);break;case 3:if(lu(e,r),(r&130023424)===r&&(t=qP+500-kr(),10<t)){if(x_(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){is(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=XN(dd.bind(null,e,Ns,Ul),t);break}dd(e,Ns,Ul);break;case 4:if(lu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-_o(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yne(r/1960))-r,10<r){e.timeoutHandle=XN(dd.bind(null,e,Ns,Ul),r);break}dd(e,Ns,Ul);break;case 5:dd(e,Ns,Ul);break;default:throw Error(Ue(329))}}}return Ls(e,kr()),e.callbackNode===n?uq.bind(null,e):null}function yC(e,t){var n=ag;return e.current.memoizedState.isDehydrated&&(Rd(e,t).flags|=256),e=R_(e,t),e!==2&&(t=Ns,Ns=n,t!==null&&xC(t)),e}function xC(e){Ns===null?Ns=e:Ns.push.apply(Ns,e)}function xne(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ko(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lu(e,t){for(t&=~BP,t&=~Iw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_o(t),r=1<<n;e[n]=-1,t&=~r}}function Wz(e){if(yn&6)throw Error(Ue(327));Pf();var t=x_(e,0);if(!(t&1))return Ls(e,kr()),null;var n=R_(e,t);if(e.tag!==0&&n===2){var r=WN(e);r!==0&&(t=r,n=yC(e,r))}if(n===1)throw n=Lg,Rd(e,0),lu(e,t),Ls(e,kr()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dd(e,Ns,Ul),Ls(e,kr()),null}function WP(e,t){var n=yn;yn|=1;try{return e(t)}finally{yn=n,yn===0&&(Qf=kr()+500,Aw&&Vu())}}function Xd(e){hu!==null&&hu.tag===0&&!(yn&6)&&Pf();var t=yn;yn|=1;var n=Ia.transition,r=Sn;try{if(Ia.transition=null,Sn=1,e)return e()}finally{Sn=r,Ia.transition=n,yn=t,!(yn&6)&&Vu()}}function UP(){Js=gf.current,Hn(gf)}function Rd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yte(n)),Mr!==null)for(n=Mr.return;n!==null;){var r=n;switch(kP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&j_();break;case 3:Yf(),Hn(Rs),Hn(Ui),AP();break;case 5:TP(r);break;case 4:Yf();break;case 13:Hn(sr);break;case 19:Hn(sr);break;case 10:OP(r.type._context);break;case 22:case 23:UP()}n=n.return}if(ui=e,Mr=e=ku(e.current,null),Si=Js=t,Br=0,Lg=null,BP=Iw=Qd=0,Ns=ag=null,jd!==null){for(t=0;t<jd.length;t++)if(n=jd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}jd=null}return e}function dq(e,t){do{var n=Mr;try{if(CP(),Tb.current=T_,M_){for(var r=or.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}M_=!1}if(Gd=0,si=Lr=or=null,ig=!1,Dg=0,FP.current=null,n===null||n.return===null){Br=1,Lg=t,Mr=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Si,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ez(a);if(p!==null){p.flags&=-257,Mz(p,a,l,s,t),p.mode&1&&Pz(s,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){Pz(s,u,t),VP();break e}c=Error(Ue(426))}}else if(Jn&&l.mode&1){var x=Ez(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Mz(x,a,l,s,t),SP(Gf(c,l));break e}}s=c=Gf(c,l),Br!==4&&(Br=2),ag===null?ag=[s]:ag.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=Y5(s,c,t);jz(s,b);break e;case 1:l=c;var w=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(wu===null||!wu.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=G5(s,l,t);jz(s,_);break e}}s=s.return}while(s!==null)}mq(n)}catch(j){t=j,Mr===n&&n!==null&&(Mr=n=n.return);continue}break}while(!0)}function hq(){var e=A_.current;return A_.current=T_,e===null?T_:e}function VP(){(Br===0||Br===3||Br===2)&&(Br=4),ui===null||!(Qd&268435455)&&!(Iw&268435455)||lu(ui,Si)}function R_(e,t){var n=yn;yn|=2;var r=hq();(ui!==e||Si!==t)&&(Ul=null,Rd(e,t));do try{vne();break}catch(i){dq(e,i)}while(!0);if(CP(),yn=n,A_.current=r,Mr!==null)throw Error(Ue(261));return ui=null,Si=0,Br}function vne(){for(;Mr!==null;)fq(Mr)}function bne(){for(;Mr!==null&&!Vee();)fq(Mr)}function fq(e){var t=gq(e.alternate,e,Js);e.memoizedProps=e.pendingProps,t===null?mq(e):Mr=t,FP.current=null}function mq(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fne(n,t),n!==null){n.flags&=32767,Mr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,Mr=null;return}}else if(n=hne(n,t,Js),n!==null){Mr=n;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);Br===0&&(Br=5)}function dd(e,t,n){var r=Sn,i=Ia.transition;try{Ia.transition=null,Sn=1,_ne(e,t,n,r)}finally{Ia.transition=i,Sn=r}return null}function _ne(e,t,n,r){do Pf();while(hu!==null);if(yn&6)throw Error(Ue(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(tte(e,s),e===ui&&(Mr=ui=null,Si=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cv||(cv=!0,yq(y_,function(){return Pf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ia.transition,Ia.transition=null;var a=Sn;Sn=1;var l=yn;yn|=4,FP.current=null,pne(e,n),lq(n,e),Bte(GN),v_=!!YN,GN=YN=null,e.current=n,gne(n),Hee(),yn=l,Sn=a,Ia.transition=s}else e.current=n;if(cv&&(cv=!1,hu=e,D_=i),s=e.pendingLanes,s===0&&(wu=null),Gee(n.stateNode),Ls(e,kr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(z_)throw z_=!1,e=pC,pC=null,e;return D_&1&&e.tag!==0&&Pf(),s=e.pendingLanes,s&1?e===gC?og++:(og=0,gC=e):og=0,Vu(),null}function Pf(){if(hu!==null){var e=YB(D_),t=Ia.transition,n=Sn;try{if(Ia.transition=null,Sn=16>e?16:e,hu===null)var r=!1;else{if(e=hu,hu=null,D_=0,yn&6)throw Error(Ue(331));var i=yn;for(yn|=4,_t=e.current;_t!==null;){var s=_t,a=s.child;if(_t.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_t=u;_t!==null;){var d=_t;switch(d.tag){case 0:case 11:case 15:sg(8,d,s)}var h=d.child;if(h!==null)h.return=d,_t=h;else for(;_t!==null;){d=_t;var m=d.sibling,p=d.return;if(sq(d),d===u){_t=null;break}if(m!==null){m.return=p,_t=m;break}_t=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}_t=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,_t=a;else e:for(;_t!==null;){if(s=_t,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sg(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,_t=b;break e}_t=s.return}}var w=e.current;for(_t=w;_t!==null;){a=_t;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,_t=v;else e:for(a=w;_t!==null;){if(l=_t,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rw(9,l)}}catch(j){fr(l,l.return,j)}if(l===a){_t=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,_t=_;break e}_t=l.return}}if(yn=i,Vu(),cl&&typeof cl.onPostCommitFiberRoot=="function")try{cl.onPostCommitFiberRoot(Ow,e)}catch{}r=!0}return r}finally{Sn=n,Ia.transition=t}}return!1}function Uz(e,t,n){t=Gf(n,t),t=Y5(e,t,1),e=_u(e,t,1),t=is(),e!==null&&(Ly(e,1,t),Ls(e,t))}function fr(e,t,n){if(e.tag===3)Uz(e,e,n);else for(;t!==null;){if(t.tag===3){Uz(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wu===null||!wu.has(r))){e=Gf(n,e),e=G5(t,e,1),t=_u(t,e,1),e=is(),t!==null&&(Ly(t,1,e),Ls(t,e));break}}t=t.return}}function wne(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=is(),e.pingedLanes|=e.suspendedLanes&n,ui===e&&(Si&n)===n&&(Br===4||Br===3&&(Si&130023424)===Si&&500>kr()-qP?Rd(e,0):BP|=n),Ls(e,t)}function pq(e,t){t===0&&(e.mode&1?(t=Jx,Jx<<=1,!(Jx&130023424)&&(Jx=4194304)):t=1);var n=is();e=hc(e,t),e!==null&&(Ly(e,t,n),Ls(e,n))}function jne(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pq(e,n)}function kne(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),pq(e,n)}var gq;gq=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rs.current)Es=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Es=!1,dne(e,t,n);Es=!!(e.flags&131072)}else Es=!1,Jn&&t.flags&1048576&&b5(t,N_,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zb(e,t),e=t.pendingProps;var i=Vf(t,Ui.current);Of(t,n),i=DP(null,t,r,e,i,n);var s=RP();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Is(r)?(s=!0,k_(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,EP(t),i.updater=Dw,t.stateNode=i,i._reactInternals=t,iC(t,r,e,n),t=oC(null,t,r,!0,s,n)):(t.tag=0,Jn&&s&&jP(t),Zi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Nne(r),e=co(r,e),i){case 0:t=aC(null,t,r,e,n);break e;case 1:t=zz(null,t,r,e,n);break e;case 11:t=Tz(null,t,r,e,n);break e;case 14:t=Az(null,t,r,co(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),aC(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),zz(e,t,r,i,n);case 3:e:{if(J5(t),e===null)throw Error(Ue(387));r=t.pendingProps,s=t.memoizedState,i=s.element,N5(e,t),P_(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Gf(Error(Ue(423)),t),t=Dz(e,t,r,n,i);break e}else if(r!==i){i=Gf(Error(Ue(424)),t),t=Dz(e,t,r,n,i);break e}else for(sa=bu(t.stateNode.containerInfo.firstChild),la=t,Jn=!0,ho=null,n=k5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hf(),r===i){t=fc(e,t,n);break e}Zi(e,t,r,n)}t=t.child}return t;case 5:return C5(t),e===null&&tC(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,QN(r,i)?a=null:s!==null&&QN(r,s)&&(t.flags|=32),Z5(e,t),Zi(e,t,a,n),t.child;case 6:return e===null&&tC(t),null;case 13:return eq(e,t,n);case 4:return MP(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kf(t,null,r,n):Zi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),Tz(e,t,r,i,n);case 7:return Zi(e,t,t.pendingProps,n),t.child;case 8:return Zi(e,t,t.pendingProps.children,n),t.child;case 12:return Zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Fn(C_,r._currentValue),r._currentValue=a,s!==null)if(ko(s.value,a)){if(s.children===i.children&&!Rs.current){t=fc(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ac(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),nC(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ue(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),nC(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Of(t,n),i=Ba(i),r=r(i),t.flags|=1,Zi(e,t,r,n),t.child;case 14:return r=t.type,i=co(r,t.pendingProps),i=co(r.type,i),Az(e,t,r,i,n);case 15:return Q5(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),zb(e,t),t.tag=1,Is(r)?(e=!0,k_(t)):e=!1,Of(t,n),K5(t,r,i),iC(t,r,i,n),oC(null,t,r,!0,e,n);case 19:return tq(e,t,n);case 22:return X5(e,t,n)}throw Error(Ue(156,t.tag))};function yq(e,t){return UB(e,t)}function Sne(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(e,t,n,r){return new Sne(e,t,n,r)}function HP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nne(e){if(typeof e=="function")return HP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dP)return 11;if(e===hP)return 14}return 2}function ku(e,t){var n=e.alternate;return n===null?(n=Ma(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ib(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")HP(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case af:return Id(n.children,i,s,t);case uP:a=8,i|=8;break;case ON:return e=Ma(12,n,t,i|2),e.elementType=ON,e.lanes=s,e;case PN:return e=Ma(13,n,t,i),e.elementType=PN,e.lanes=s,e;case EN:return e=Ma(19,n,t,i),e.elementType=EN,e.lanes=s,e;case CB:return Lw(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case SB:a=10;break e;case NB:a=9;break e;case dP:a=11;break e;case hP:a=14;break e;case tu:a=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=Ma(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Id(e,t,n,r){return e=Ma(7,e,r,t),e.lanes=n,e}function Lw(e,t,n,r){return e=Ma(22,e,r,t),e.elementType=CB,e.lanes=n,e.stateNode={isHidden:!1},e}function Ok(e,t,n){return e=Ma(6,e,null,t),e.lanes=n,e}function Pk(e,t,n){return t=Ma(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cne(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ck(0),this.expirationTimes=ck(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ck(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KP(e,t,n,r,i,s,a,l,c){return e=new Cne(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ma(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},EP(s),e}function One(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sf,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xq(e){if(!e)return Eu;e=e._reactInternals;e:{if(gh(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Is(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Is(n))return x5(e,n,t)}return t}function vq(e,t,n,r,i,s,a,l,c){return e=KP(n,r,!0,e,i,s,a,l,c),e.context=xq(null),n=e.current,r=is(),i=ju(n),s=ac(r,i),s.callback=t??null,_u(n,s,i),e.current.lanes=i,Ly(e,i,r),Ls(e,r),e}function $w(e,t,n,r){var i=t.current,s=is(),a=ju(i);return n=xq(n),t.context===null?t.context=n:t.pendingContext=n,t=ac(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_u(i,t,a),e!==null&&(wo(e,i,a,s),Mb(e,i,a)),a}function I_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vz(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function YP(e,t){Vz(e,t),(e=e.alternate)&&Vz(e,t)}function Pne(){return null}var bq=typeof reportError=="function"?reportError:function(e){console.error(e)};function GP(e){this._internalRoot=e}Fw.prototype.render=GP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));$w(e,t,null,null)};Fw.prototype.unmount=GP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xd(function(){$w(null,e,null,null)}),t[dc]=null}};function Fw(e){this._internalRoot=e}Fw.prototype.unstable_scheduleHydration=function(e){if(e){var t=XB();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ou.length&&t!==0&&t<ou[n].priority;n++);ou.splice(n,0,e),n===0&&JB(e)}};function QP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hz(){}function Ene(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=I_(a);s.call(u)}}var a=vq(t,r,e,0,null,!1,!1,"",Hz);return e._reactRootContainer=a,e[dc]=a.current,Eg(e.nodeType===8?e.parentNode:e),Xd(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=I_(c);l.call(u)}}var c=KP(e,0,!1,null,null,!1,!1,"",Hz);return e._reactRootContainer=c,e[dc]=c.current,Eg(e.nodeType===8?e.parentNode:e),Xd(function(){$w(t,c,n,r)}),c}function qw(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=I_(a);l.call(c)}}$w(t,a,e,i)}else a=Ene(n,t,e,i,r);return I_(a)}GB=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fp(t.pendingLanes);n!==0&&(pP(t,n|1),Ls(t,kr()),!(yn&6)&&(Qf=kr()+500,Vu()))}break;case 13:Xd(function(){var r=hc(e,1);if(r!==null){var i=is();wo(r,e,1,i)}}),YP(e,1)}};gP=function(e){if(e.tag===13){var t=hc(e,134217728);if(t!==null){var n=is();wo(t,e,134217728,n)}YP(e,134217728)}};QB=function(e){if(e.tag===13){var t=ju(e),n=hc(e,t);if(n!==null){var r=is();wo(n,e,t,r)}YP(e,t)}};XB=function(){return Sn};ZB=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}};FN=function(e,t,n){switch(t){case"input":if(AN(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Tw(r);if(!i)throw Error(Ue(90));PB(r),AN(r,i)}}}break;case"textarea":MB(e,n);break;case"select":t=n.value,t!=null&&kf(e,!!n.multiple,t,!1)}};LB=WP;$B=Xd;var Mne={usingClientEntryPoint:!1,Events:[Fy,uf,Tw,RB,IB,WP]},op={findFiberByHostInstance:wd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tne={bundleType:op.bundleType,version:op.version,rendererPackageName:op.rendererPackageName,rendererConfig:op.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qB(e),e===null?null:e.stateNode},findFiberByHostInstance:op.findFiberByHostInstance||Pne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uv.isDisabled&&uv.supportsFiber)try{Ow=uv.inject(Tne),cl=uv}catch{}}ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mne;ya.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QP(t))throw Error(Ue(200));return One(e,t,null,n)};ya.createRoot=function(e,t){if(!QP(e))throw Error(Ue(299));var n=!1,r="",i=bq;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=KP(e,1,!1,null,null,n,!1,r,i),e[dc]=t.current,Eg(e.nodeType===8?e.parentNode:e),new GP(t)};ya.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=qB(t),e=e===null?null:e.stateNode,e};ya.flushSync=function(e){return Xd(e)};ya.hydrate=function(e,t,n){if(!Bw(t))throw Error(Ue(200));return qw(null,e,t,!0,n)};ya.hydrateRoot=function(e,t,n){if(!QP(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=bq;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=vq(t,null,e,1,n??null,i,!1,s,a),e[dc]=t.current,Eg(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fw(t)};ya.render=function(e,t,n){if(!Bw(t))throw Error(Ue(200));return qw(null,e,t,!1,n)};ya.unmountComponentAtNode=function(e){if(!Bw(e))throw Error(Ue(40));return e._reactRootContainer?(Xd(function(){qw(null,null,e,!1,function(){e._reactRootContainer=null,e[dc]=null})}),!0):!1};ya.unstable_batchedUpdates=WP;ya.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bw(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return qw(e,t,n,!1,r)};ya.version="18.3.1-next-f1338f8080-20240426";function _q(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_q)}catch(e){console.error(e)}}_q(),_B.exports=ya;var Pc=_B.exports;const Ane=wl(Pc);var Kz=Pc;NN.createRoot=Kz.createRoot,NN.hydrateRoot=Kz.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yz="popstate";function zne(e={}){function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return vC("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:$g(i)}return Rne(t,n,null,e)}function nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Wa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dne(){return Math.random().toString(36).substring(2,10)}function Gz(e,t){return{usr:e.state,key:e.key,idx:t}}function vC(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Cm(t):t,state:n,key:t&&t.key||r||Dne()}}function $g({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Cm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Rne(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l="POP",c=null,u=d();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function d(){return(a.state||{idx:null}).idx}function h(){l="POP";let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:y.location,delta:b})}function m(x,b){l="PUSH";let w=vC(y.location,x,b);u=d()+1;let v=Gz(w,u),_=y.createHref(w);try{a.pushState(v,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(_)}s&&c&&c({action:l,location:y.location,delta:1})}function p(x,b){l="REPLACE";let w=vC(y.location,x,b);u=d();let v=Gz(w,u),_=y.createHref(w);a.replaceState(v,"",_),s&&c&&c({action:l,location:y.location,delta:0})}function g(x){return Ine(x)}let y={get action(){return l},get location(){return e(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Yz,h),c=x,()=>{i.removeEventListener(Yz,h),c=null}},createHref(x){return t(i,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:p,go(x){return a.go(x)}};return y}function Ine(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),nr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:$g(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function wq(e,t,n="/"){return Lne(e,t,n,!1)}function Lne(e,t,n,r){let i=typeof t=="string"?Cm(t):t,s=mc(i.pathname||"/",n);if(s==null)return null;let a=jq(e);$ne(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=Qne(s);l=Yne(a[c],u,r)}return l}function jq(e,t=[],n=[],r="",i=!1){let s=(a,l,c=i,u)=>{let d={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;nr(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let h=oc([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(nr(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),jq(a.children,t,m,h,c)),!(a.path==null&&!a.index)&&t.push({path:h,score:Hne(h,a.index),routesMeta:m})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let u of kq(a.path))s(a,l,!0,u)}),t}function kq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=kq(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function $ne(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Fne=/^:[\w-]+$/,Bne=3,qne=2,Wne=1,Une=10,Vne=-2,Qz=e=>e==="*";function Hne(e,t){let n=e.split("/"),r=n.length;return n.some(Qz)&&(r+=Vne),t&&(r+=qne),n.filter(i=>!Qz(i)).reduce((i,s)=>i+(Fne.test(s)?Bne:s===""?Wne:Une),r)}function Kne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Yne(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=s==="/"?t:t.slice(s.length)||"/",h=L_({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=L_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:oc([s,h.pathname]),pathnameBase:tre(oc([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=oc([s,h.pathnameBase]))}return a}function L_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Gne(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:h},m)=>{if(d==="*"){let g=l[m]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[m];return h&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:e}}function Gne(e,t=!1,n=!0){Wa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Qne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Wa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var Xne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zne=e=>Xne.test(e);function Jne(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Cm(e):e,s;if(n)if(Zne(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Wa(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=Xz(n.substring(1),"/"):s=Xz(n,t)}else s=t;return{pathname:s,search:nre(r),hash:rre(i)}}function Xz(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ek(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ere(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function XP(e){let t=ere(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ZP(e,t,n,r=!1){let i;typeof e=="string"?i=Cm(e):(i={...e},nr(!i.pathname||!i.pathname.includes("?"),Ek("?","pathname","search",i)),nr(!i.pathname||!i.pathname.includes("#"),Ek("#","pathname","hash",i)),nr(!i.search||!i.search.includes("#"),Ek("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?t[h]:"/"}let c=Jne(i,l),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var oc=e=>e.join("/").replace(/\/\/+/g,"/"),tre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ire(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function sre(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sq=["POST","PUT","PATCH","DELETE"];new Set(Sq);var are=["GET",...Sq];new Set(are);var Om=f.createContext(null);Om.displayName="DataRouter";var Ww=f.createContext(null);Ww.displayName="DataRouterState";f.createContext(!1);var Nq=f.createContext({isTransitioning:!1});Nq.displayName="ViewTransition";var ore=f.createContext(new Map);ore.displayName="Fetchers";var lre=f.createContext(null);lre.displayName="Await";var Xa=f.createContext(null);Xa.displayName="Navigation";var qy=f.createContext(null);qy.displayName="Location";var Mo=f.createContext({outlet:null,matches:[],isDataRoute:!1});Mo.displayName="Route";var JP=f.createContext(null);JP.displayName="RouteError";function cre(e,{relative:t}={}){nr(Pm(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=f.useContext(Xa),{hash:i,pathname:s,search:a}=Wy(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:oc([n,s])),r.createHref({pathname:l,search:a,hash:i})}function Pm(){return f.useContext(qy)!=null}function Za(){return nr(Pm(),"useLocation() may be used only in the context of a <Router> component."),f.useContext(qy).location}var Cq="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Oq(e){f.useContext(Xa).static||f.useLayoutEffect(e)}function yh(){let{isDataRoute:e}=f.useContext(Mo);return e?kre():ure()}function ure(){nr(Pm(),"useNavigate() may be used only in the context of a <Router> component.");let e=f.useContext(Om),{basename:t,navigator:n}=f.useContext(Xa),{matches:r}=f.useContext(Mo),{pathname:i}=Za(),s=JSON.stringify(XP(r)),a=f.useRef(!1);return Oq(()=>{a.current=!0}),f.useCallback((c,u={})=>{if(Wa(a.current,Cq),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=ZP(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:oc([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,s,i,e])}var dre=f.createContext(null);function hre(e){let t=f.useContext(Mo).outlet;return f.useMemo(()=>t&&f.createElement(dre.Provider,{value:e},t),[t,e])}function Wy(e,{relative:t}={}){let{matches:n}=f.useContext(Mo),{pathname:r}=Za(),i=JSON.stringify(XP(n));return f.useMemo(()=>ZP(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function fre(e,t){return Pq(e,t)}function Pq(e,t,n,r,i){var w;nr(Pm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=f.useContext(Xa),{matches:a}=f.useContext(Mo),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let v=h&&h.path||"";Eq(u,!h||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let m=Za(),p;if(t){let v=typeof t=="string"?Cm(t):t;nr(d==="/"||((w=v.pathname)==null?void 0:w.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${v.pathname}" was given in the \`location\` prop.`),p=v}else p=m;let g=p.pathname||"/",y=g;if(d!=="/"){let v=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let x=wq(e,{pathname:y});Wa(h||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Wa(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=xre(x&&x.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:oc([d,s.encodeLocation?s.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?d:oc([d,s.encodeLocation?s.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),a,n,r,i);return t&&b?f.createElement(qy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function mre(){let e=jre(),t=ire(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=f.createElement(f.Fragment,null,f.createElement("p",null," Hey developer "),f.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",f.createElement("code",{style:s},"ErrorBoundary")," or"," ",f.createElement("code",{style:s},"errorElement")," prop on your route.")),f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:i},n):null,a)}var pre=f.createElement(mre,null),gre=class extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?f.createElement(Mo.Provider,{value:this.props.routeContext},f.createElement(JP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yre({routeContext:e,match:t,children:n}){let r=f.useContext(Om);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),f.createElement(Mo.Provider,{value:e},n)}function xre(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=n==null?void 0:n.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);nr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:p}=n,g=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}let u=n&&r?(d,h)=>{var m,p;r(d,{location:n.location,params:((p=(m=n.matches)==null?void 0:m[0])==null?void 0:p.params)??{},unstable_pattern:sre(n.matches),errorInfo:h})}:void 0;return s.reduceRight((d,h,m)=>{let p,g=!1,y=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||pre,l&&(c<0&&m===0?(Eq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):c===m&&(g=!0,x=h.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,m+1)),w=()=>{let v;return p?v=y:g?v=x:h.route.Component?v=f.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,f.createElement(yre,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(gre,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:u}):w()},null)}function eE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vre(e){let t=f.useContext(Om);return nr(t,eE(e)),t}function bre(e){let t=f.useContext(Ww);return nr(t,eE(e)),t}function _re(e){let t=f.useContext(Mo);return nr(t,eE(e)),t}function tE(e){let t=_re(e),n=t.matches[t.matches.length-1];return nr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function wre(){return tE("useRouteId")}function jre(){var r;let e=f.useContext(JP),t=bre("useRouteError"),n=tE("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function kre(){let{router:e}=vre("useNavigate"),t=tE("useNavigate"),n=f.useRef(!1);return Oq(()=>{n.current=!0}),f.useCallback(async(i,s={})=>{Wa(n.current,Cq),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var Zz={};function Eq(e,t,n){!t&&!Zz[e]&&(Zz[e]=!0,Wa(!1,n))}f.memo(Sre);function Sre({routes:e,future:t,state:n,unstable_onError:r}){return Pq(e,void 0,n,r,t)}function bC({to:e,replace:t,state:n,relative:r}){nr(Pm(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=f.useContext(Xa);Wa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=f.useContext(Mo),{pathname:a}=Za(),l=yh(),c=ZP(e,XP(s),a,r==="path"),u=JSON.stringify(c);return f.useEffect(()=>{l(JSON.parse(u),{replace:t,state:n,relative:r})},[l,u,r,t,n]),null}function Nre(e){return hre(e.context)}function dr(e){nr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Cre({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){nr(!Pm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=f.useMemo(()=>({basename:l,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[l,i,s,a]);typeof n=="string"&&(n=Cm(n));let{pathname:u="/",search:d="",hash:h="",state:m=null,key:p="default"}=n,g=f.useMemo(()=>{let y=mc(u,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:p},navigationType:r}},[l,u,d,h,m,p,r]);return Wa(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:f.createElement(Xa.Provider,{value:c},f.createElement(qy.Provider,{children:t,value:g}))}function Ore({children:e,location:t}){return fre(_C(e),t)}function _C(e,t=[]){let n=[];return f.Children.forEach(e,(r,i)=>{if(!f.isValidElement(r))return;let s=[...t,i];if(r.type===f.Fragment){n.push.apply(n,_C(r.props.children,s));return}nr(r.type===dr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=_C(r.props.children,s)),n.push(a)}),n}var Lb="get",$b="application/x-www-form-urlencoded";function Uw(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Pre(e){return Uw(e)&&e.tagName.toLowerCase()==="button"}function Ere(e){return Uw(e)&&e.tagName.toLowerCase()==="form"}function Mre(e){return Uw(e)&&e.tagName.toLowerCase()==="input"}function Tre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Are(e,t){return e.button===0&&(!t||t==="_self")&&!Tre(e)}var dv=null;function zre(){if(dv===null)try{new FormData(document.createElement("form"),0),dv=!1}catch{dv=!0}return dv}var Dre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mk(e){return e!=null&&!Dre.has(e)?(Wa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$b}"`),null):e}function Rre(e,t){let n,r,i,s,a;if(Ere(e)){let l=e.getAttribute("action");r=l?mc(l,t):null,n=e.getAttribute("method")||Lb,i=Mk(e.getAttribute("enctype"))||$b,s=new FormData(e)}else if(Pre(e)||Mre(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(r=c?mc(c,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Lb,i=Mk(e.getAttribute("formenctype"))||Mk(l.getAttribute("enctype"))||$b,s=new FormData(l,e),!zre()){let{name:u,type:d,value:h}=e;if(d==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,h)}}else{if(Uw(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lb,r=null,i=$b,a=e}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ire(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&mc(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Lre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $re(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Fre(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let a=await Lre(s,n);return a.links?a.links():[]}return[]}));return Ure(r.flat(1).filter($re).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Jz(e,t,n,r,i,s){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var d;return n[u].pathname!==c.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>a(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var h;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(a(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Bre(e,t,{includeHydrateFallback:n}={}){return qre(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function qre(e){return[...new Set(e)]}function Wre(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Ure(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Wre(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function Mq(){let e=f.useContext(Om);return nE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Vre(){let e=f.useContext(Ww);return nE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rE=f.createContext(void 0);rE.displayName="FrameworkContext";function Tq(){let e=f.useContext(rE);return nE(e,"You must render this element inside a <HydratedRouter> element"),e}function Hre(e,t){let n=f.useContext(rE),[r,i]=f.useState(!1),[s,a]=f.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,m=f.useRef(null);f.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let y=b=>{b.forEach(w=>{a(w.isIntersecting)})},x=new IntersectionObserver(y,{threshold:.5});return m.current&&x.observe(m.current),()=>{x.disconnect()}}},[e]),f.useEffect(()=>{if(r){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[r]);let p=()=>{i(!0)},g=()=>{i(!1),a(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:lp(l,p),onBlur:lp(c,g),onMouseEnter:lp(u,p),onMouseLeave:lp(d,g),onTouchStart:lp(h,p)}]:[!1,m,{}]}function lp(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Kre({page:e,...t}){let{router:n}=Mq(),r=f.useMemo(()=>wq(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?f.createElement(Gre,{page:e,matches:r,...t}):null}function Yre(e){let{manifest:t,routeModules:n}=Tq(),[r,i]=f.useState([]);return f.useEffect(()=>{let s=!1;return Fre(e,t,n).then(a=>{s||i(a)}),()=>{s=!0}},[e,t,n]),r}function Gre({page:e,matches:t,...n}){let r=Za(),{manifest:i,routeModules:s}=Tq(),{basename:a}=Mq(),{loaderData:l,matches:c}=Vre(),u=f.useMemo(()=>Jz(e,t,c,i,r,"data"),[e,t,c,i,r]),d=f.useMemo(()=>Jz(e,t,c,i,r,"assets"),[e,t,c,i,r]),h=f.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let g=new Set,y=!1;if(t.forEach(b=>{var v;let w=i.routes[b.route.id];!w||!w.hasLoader||(!u.some(_=>_.route.id===b.route.id)&&b.route.id in l&&((v=s[b.route.id])!=null&&v.shouldRevalidate)||w.hasClientLoader?y=!0:g.add(b.route.id))}),g.size===0)return[];let x=Ire(e,a,"data");return y&&g.size>0&&x.searchParams.set("_routes",t.filter(b=>g.has(b.route.id)).map(b=>b.route.id).join(",")),[x.pathname+x.search]},[a,l,r,i,u,t,e,s]),m=f.useMemo(()=>Bre(d,i),[d,i]),p=Yre(d);return f.createElement(f.Fragment,null,h.map(g=>f.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...n})),m.map(g=>f.createElement("link",{key:g,rel:"modulepreload",href:g,...n})),p.map(({key:g,link:y})=>f.createElement("link",{key:g,nonce:n.nonce,...y})))}function Qre(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Aq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Aq&&(window.__reactRouterVersion="7.10.1")}catch{}function Xre({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=f.useRef();i.current==null&&(i.current=zne({window:r,v5Compat:!0}));let s=i.current,[a,l]=f.useState({action:s.action,location:s.location}),c=f.useCallback(u=>{n===!1?l(u):f.startTransition(()=>l(u))},[n]);return f.useLayoutEffect(()=>s.listen(c),[s,c]),f.createElement(Cre,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n===!0})}var zq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$_=f.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,...m},p){let{basename:g,unstable_useTransitions:y}=f.useContext(Xa),x=typeof u=="string"&&zq.test(u),b,w=!1;if(typeof u=="string"&&x&&(b=u,Aq))try{let M=new URL(window.location.href),A=u.startsWith("//")?new URL(M.protocol+u):new URL(u),R=mc(A.pathname,g);A.origin===M.origin&&R!=null?u=R+A.search+A.hash:w=!0}catch{Wa(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=cre(u,{relative:i}),[_,j,k]=Hre(r,m),C=tie(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h,unstable_useTransitions:y});function O(M){t&&t(M),M.defaultPrevented||C(M)}let P=f.createElement("a",{...m,...k,href:b||v,onClick:w||s?t:O,ref:Qre(p,j),target:c,"data-discover":!x&&n==="render"?"true":void 0});return _&&!x?f.createElement(f.Fragment,null,P,f.createElement(Kre,{page:v})):P});$_.displayName="Link";var Zre=f.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:l,children:c,...u},d){let h=Wy(a,{relative:u.relative}),m=Za(),p=f.useContext(Ww),{navigator:g,basename:y}=f.useContext(Xa),x=p!=null&&aie(h)&&l===!0,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),v=v?v.toLowerCase():null,b=b.toLowerCase()),v&&y&&(v=mc(v,y)||v);const _=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let j=w===b||!i&&w.startsWith(b)&&w.charAt(_)==="/",k=v!=null&&(v===b||!i&&v.startsWith(b)&&v.charAt(b.length)==="/"),C={isActive:j,isPending:k,isTransitioning:x},O=j?t:void 0,P;typeof r=="function"?P=r(C):P=[r,j?"active":null,k?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(C):s;return f.createElement($_,{...u,"aria-current":O,className:P,ref:d,style:M,to:a,viewTransition:l},typeof c=="function"?c(C):c)});Zre.displayName="NavLink";var Jre=f.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:a=Lb,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,...m},p)=>{let{unstable_useTransitions:g}=f.useContext(Xa),y=iie(),x=sie(l,{relative:u}),b=a.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&zq.test(l),v=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let j=_.nativeEvent.submitter,k=(j==null?void 0:j.getAttribute("formmethod"))||a,C=()=>y(j||_.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:h});g&&n!==!1?f.startTransition(()=>C()):C()};return f.createElement("form",{ref:p,method:b,action:x,onSubmit:r?c:v,...m,"data-discover":!w&&e==="render"?"true":void 0})});Jre.displayName="Form";function eie(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dq(e){let t=f.useContext(Om);return nr(t,eie(e)),t}function tie(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:a,unstable_useTransitions:l}={}){let c=yh(),u=Za(),d=Wy(e,{relative:s});return f.useCallback(h=>{if(Are(h,t)){h.preventDefault();let m=n!==void 0?n:$g(u)===$g(d),p=()=>c(e,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:a});l?f.startTransition(()=>p()):p()}},[u,c,d,n,r,t,e,i,s,a,l])}var nie=0,rie=()=>`__${String(++nie)}__`;function iie(){let{router:e}=Dq("useSubmit"),{basename:t}=f.useContext(Xa),n=wre(),r=e.fetch,i=e.navigate;return f.useCallback(async(s,a={})=>{let{action:l,method:c,encType:u,formData:d,body:h}=Rre(s,t);if(a.navigate===!1){let m=a.fetcherKey||rie();await r(m,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await i(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function sie(e,{relative:t}={}){let{basename:n}=f.useContext(Xa),r=f.useContext(Mo);nr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Wy(e||".",{relative:t})},a=Za();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:oc([n,s.pathname])),$g(s)}function aie(e,{relative:t}={}){let n=f.useContext(Nq);nr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Dq("useViewTransitionState"),i=Wy(e,{relative:t});if(!n.isTransitioning)return!1;let s=mc(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=mc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return L_(i.pathname,a)!=null||L_(i.pathname,s)!=null}function Rq(e,t){return function(){return e.apply(t,arguments)}}const{toString:oie}=Object.prototype,{getPrototypeOf:iE}=Object,{iterator:Vw,toStringTag:Iq}=Symbol,Hw=(e=>t=>{const n=oie.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),To=e=>(e=e.toLowerCase(),t=>Hw(t)===e),Kw=e=>t=>typeof t===e,{isArray:Em}=Array,Xf=Kw("undefined");function Uy(e){return e!==null&&!Xf(e)&&e.constructor!==null&&!Xf(e.constructor)&&$s(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Lq=To("ArrayBuffer");function lie(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Lq(e.buffer),t}const cie=Kw("string"),$s=Kw("function"),$q=Kw("number"),Vy=e=>e!==null&&typeof e=="object",uie=e=>e===!0||e===!1,Fb=e=>{if(Hw(e)!=="object")return!1;const t=iE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Iq in e)&&!(Vw in e)},die=e=>{if(!Vy(e)||Uy(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hie=To("Date"),fie=To("File"),mie=To("Blob"),pie=To("FileList"),gie=e=>Vy(e)&&$s(e.pipe),yie=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$s(e.append)&&((t=Hw(e))==="formdata"||t==="object"&&$s(e.toString)&&e.toString()==="[object FormData]"))},xie=To("URLSearchParams"),[vie,bie,_ie,wie]=["ReadableStream","Request","Response","Headers"].map(To),jie=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hy(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Em(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Uy(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let l;for(r=0;r<a;r++)l=s[r],t.call(null,e[l],l,e)}}function Fq(e,t){if(Uy(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Sd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bq=e=>!Xf(e)&&e!==Sd;function wC(){const{caseless:e,skipUndefined:t}=Bq(this)&&this||{},n={},r=(i,s)=>{const a=e&&Fq(n,s)||s;Fb(n[a])&&Fb(i)?n[a]=wC(n[a],i):Fb(i)?n[a]=wC({},i):Em(i)?n[a]=i.slice():(!t||!Xf(i))&&(n[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Hy(arguments[i],r);return n}const kie=(e,t,n,{allOwnKeys:r}={})=>(Hy(t,(i,s)=>{n&&$s(i)?e[s]=Rq(i,n):e[s]=i},{allOwnKeys:r}),e),Sie=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Nie=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Cie=(e,t,n,r)=>{let i,s,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)a=i[s],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&iE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Oie=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Pie=e=>{if(!e)return null;if(Em(e))return e;let t=e.length;if(!$q(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Eie=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&iE(Uint8Array)),Mie=(e,t)=>{const r=(e&&e[Vw]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Tie=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Aie=To("HTMLFormElement"),zie=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),eD=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Die=To("RegExp"),qq=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Hy(n,(i,s)=>{let a;(a=t(i,s,e))!==!1&&(r[s]=a||i)}),Object.defineProperties(e,r)},Rie=e=>{qq(e,(t,n)=>{if($s(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if($s(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Iie=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Em(e)?r(e):r(String(e).split(t)),n},Lie=()=>{},$ie=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Fie(e){return!!(e&&$s(e.append)&&e[Iq]==="FormData"&&e[Vw])}const Bie=e=>{const t=new Array(10),n=(r,i)=>{if(Vy(r)){if(t.indexOf(r)>=0)return;if(Uy(r))return r;if(!("toJSON"in r)){t[i]=r;const s=Em(r)?[]:{};return Hy(r,(a,l)=>{const c=n(a,i+1);!Xf(c)&&(s[l]=c)}),t[i]=void 0,s}}return r};return n(e,0)},qie=To("AsyncFunction"),Wie=e=>e&&(Vy(e)||$s(e))&&$s(e.then)&&$s(e.catch),Wq=((e,t)=>e?setImmediate:t?((n,r)=>(Sd.addEventListener("message",({source:i,data:s})=>{i===Sd&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Sd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$s(Sd.postMessage)),Uie=typeof queueMicrotask<"u"?queueMicrotask.bind(Sd):typeof process<"u"&&process.nextTick||Wq,Vie=e=>e!=null&&$s(e[Vw]),je={isArray:Em,isArrayBuffer:Lq,isBuffer:Uy,isFormData:yie,isArrayBufferView:lie,isString:cie,isNumber:$q,isBoolean:uie,isObject:Vy,isPlainObject:Fb,isEmptyObject:die,isReadableStream:vie,isRequest:bie,isResponse:_ie,isHeaders:wie,isUndefined:Xf,isDate:hie,isFile:fie,isBlob:mie,isRegExp:Die,isFunction:$s,isStream:gie,isURLSearchParams:xie,isTypedArray:Eie,isFileList:pie,forEach:Hy,merge:wC,extend:kie,trim:jie,stripBOM:Sie,inherits:Nie,toFlatObject:Cie,kindOf:Hw,kindOfTest:To,endsWith:Oie,toArray:Pie,forEachEntry:Mie,matchAll:Tie,isHTMLForm:Aie,hasOwnProperty:eD,hasOwnProp:eD,reduceDescriptors:qq,freezeMethods:Rie,toObjectSet:Iie,toCamelCase:zie,noop:Lie,toFiniteNumber:$ie,findKey:Fq,global:Sd,isContextDefined:Bq,isSpecCompliantForm:Fie,toJSONObject:Bie,isAsyncFn:qie,isThenable:Wie,setImmediate:Wq,asap:Uie,isIterable:Vie};function Yt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}je.inherits(Yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:je.toJSONObject(this.config),code:this.code,status:this.status}}});const Uq=Yt.prototype,Vq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vq[e]={value:e}});Object.defineProperties(Yt,Vq);Object.defineProperty(Uq,"isAxiosError",{value:!0});Yt.from=(e,t,n,r,i,s)=>{const a=Object.create(Uq);je.toFlatObject(e,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Yt.call(a,l,c,n,r,i),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const Hie=null;function jC(e){return je.isPlainObject(e)||je.isArray(e)}function Hq(e){return je.endsWith(e,"[]")?e.slice(0,-2):e}function tD(e,t,n){return e?e.concat(t).map(function(i,s){return i=Hq(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Kie(e){return je.isArray(e)&&!e.some(jC)}const Yie=je.toFlatObject(je,{},null,function(t){return/^is[A-Z]/.test(t)});function Yw(e,t,n){if(!je.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!je.isUndefined(x[y])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&je.isSpecCompliantForm(t);if(!je.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(je.isDate(g))return g.toISOString();if(je.isBoolean(g))return g.toString();if(!c&&je.isBlob(g))throw new Yt("Blob is not supported. Use a Buffer instead.");return je.isArrayBuffer(g)||je.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,x){let b=g;if(g&&!x&&typeof g=="object"){if(je.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(je.isArray(g)&&Kie(g)||(je.isFileList(g)||je.endsWith(y,"[]"))&&(b=je.toArray(g)))return y=Hq(y),b.forEach(function(v,_){!(je.isUndefined(v)||v===null)&&t.append(a===!0?tD([y],_,s):a===null?y:y+"[]",u(v))}),!1}return jC(g)?!0:(t.append(tD(x,y,s),u(g)),!1)}const h=[],m=Object.assign(Yie,{defaultVisitor:d,convertValue:u,isVisitable:jC});function p(g,y){if(!je.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(g),je.forEach(g,function(b,w){(!(je.isUndefined(b)||b===null)&&i.call(t,b,je.isString(w)?w.trim():w,y,m))===!0&&p(b,y?y.concat(w):[w])}),h.pop()}}if(!je.isObject(e))throw new TypeError("data must be an object");return p(e),t}function nD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function sE(e,t){this._pairs=[],e&&Yw(e,this,t)}const Kq=sE.prototype;Kq.append=function(t,n){this._pairs.push([t,n])};Kq.toString=function(t){const n=t?function(r){return t.call(this,r,nD)}:nD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Gie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yq(e,t,n){if(!t)return e;const r=n&&n.encode||Gie;je.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=je.isURLSearchParams(t)?t.toString():new sE(t,n).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class rD{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){je.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Gq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qie=typeof URLSearchParams<"u"?URLSearchParams:sE,Xie=typeof FormData<"u"?FormData:null,Zie=typeof Blob<"u"?Blob:null,Jie={isBrowser:!0,classes:{URLSearchParams:Qie,FormData:Xie,Blob:Zie},protocols:["http","https","file","blob","url","data"]},aE=typeof window<"u"&&typeof document<"u",kC=typeof navigator=="object"&&navigator||void 0,ese=aE&&(!kC||["ReactNative","NativeScript","NS"].indexOf(kC.product)<0),tse=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nse=aE&&window.location.href||"http://localhost",rse=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:aE,hasStandardBrowserEnv:ese,hasStandardBrowserWebWorkerEnv:tse,navigator:kC,origin:nse},Symbol.toStringTag,{value:"Module"})),Wi={...rse,...Jie};function ise(e,t){return Yw(e,new Wi.classes.URLSearchParams,{visitor:function(n,r,i,s){return Wi.isNode&&je.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function sse(e){return je.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ase(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function Qq(e){function t(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=s>=n.length;return a=!a&&je.isArray(i)?i.length:a,c?(je.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!je.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],s)&&je.isArray(i[a])&&(i[a]=ase(i[a])),!l)}if(je.isFormData(e)&&je.isFunction(e.entries)){const n={};return je.forEachEntry(e,(r,i)=>{t(sse(r),i,n,0)}),n}return null}function ose(e,t,n){if(je.isString(e))try{return(t||JSON.parse)(e),je.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ky={transitional:Gq,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=je.isObject(t);if(s&&je.isHTMLForm(t)&&(t=new FormData(t)),je.isFormData(t))return i?JSON.stringify(Qq(t)):t;if(je.isArrayBuffer(t)||je.isBuffer(t)||je.isStream(t)||je.isFile(t)||je.isBlob(t)||je.isReadableStream(t))return t;if(je.isArrayBufferView(t))return t.buffer;if(je.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ise(t,this.formSerializer).toString();if((l=je.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Yw(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),ose(t)):t}],transformResponse:[function(t){const n=this.transitional||Ky.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(je.isResponse(t)||je.isReadableStream(t))return t;if(t&&je.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Yt.from(l,Yt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wi.classes.FormData,Blob:Wi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};je.forEach(["delete","get","head","post","put","patch"],e=>{Ky.headers[e]={}});const lse=je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cse=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&lse[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},iD=Symbol("internals");function cp(e){return e&&String(e).trim().toLowerCase()}function Bb(e){return e===!1||e==null?e:je.isArray(e)?e.map(Bb):String(e)}function use(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const dse=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tk(e,t,n,r,i){if(je.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!je.isString(t)){if(je.isString(r))return t.indexOf(r)!==-1;if(je.isRegExp(r))return r.test(t)}}function hse(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function fse(e,t){const n=je.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,a){return this[r].call(this,t,i,s,a)},configurable:!0})})}let Fs=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(l,c,u){const d=cp(c);if(!d)throw new Error("header name must be a non-empty string");const h=je.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Bb(l))}const a=(l,c)=>je.forEach(l,(u,d)=>s(u,d,c));if(je.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(je.isString(t)&&(t=t.trim())&&!dse(t))a(cse(t),n);else if(je.isObject(t)&&je.isIterable(t)){let l={},c,u;for(const d of t){if(!je.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?je.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}a(l,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=cp(t),t){const r=je.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return use(i);if(je.isFunction(n))return n.call(this,i,r);if(je.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=cp(t),t){const r=je.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Tk(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(a){if(a=cp(a),a){const l=je.findKey(r,a);l&&(!n||Tk(r,r[l],l,n))&&(delete r[l],i=!0)}}return je.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Tk(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return je.forEach(this,(i,s)=>{const a=je.findKey(r,s);if(a){n[a]=Bb(i),delete n[s];return}const l=t?hse(s):String(s).trim();l!==s&&delete n[s],n[l]=Bb(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return je.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&je.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[iD]=this[iD]={accessors:{}}).accessors,i=this.prototype;function s(a){const l=cp(a);r[l]||(fse(i,a),r[l]=!0)}return je.isArray(t)?t.forEach(s):s(t),this}};Fs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);je.reduceDescriptors(Fs.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});je.freezeMethods(Fs);function Ak(e,t){const n=this||Ky,r=t||n,i=Fs.from(r.headers);let s=r.data;return je.forEach(e,function(l){s=l.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function Xq(e){return!!(e&&e.__CANCEL__)}function Mm(e,t,n){Yt.call(this,e??"canceled",Yt.ERR_CANCELED,t,n),this.name="CanceledError"}je.inherits(Mm,Yt,{__CANCEL__:!0});function Zq(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Yt("Request failed with status code "+n.status,[Yt.ERR_BAD_REQUEST,Yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mse(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pse(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[s];a||(a=u),n[i]=c,r[i]=u;let h=s,m=0;for(;h!==i;)m+=n[h++],h=h%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-a<t)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function gse(e,t){let n=0,r=1e3/t,i,s;const a=(u,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},r-h)))},()=>i&&a(i)]}const F_=(e,t,n=3)=>{let r=0;const i=pse(50,250);return gse(s=>{const a=s.loaded,l=s.lengthComputable?s.total:void 0,c=a-r,u=i(c),d=a<=l;r=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-a)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},sD=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},aD=e=>(...t)=>je.asap(()=>e(...t)),yse=Wi.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Wi.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Wi.origin),Wi.navigator&&/(msie|trident)/i.test(Wi.navigator.userAgent)):()=>!0,xse=Wi.hasStandardBrowserEnv?{write(e,t,n,r,i,s,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];je.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),je.isString(r)&&l.push(`path=${r}`),je.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),je.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vse(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bse(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Jq(e,t,n){let r=!vse(t);return e&&(r||n==!1)?bse(e,t):t}const oD=e=>e instanceof Fs?{...e}:e;function Zd(e,t){t=t||{};const n={};function r(u,d,h,m){return je.isPlainObject(u)&&je.isPlainObject(d)?je.merge.call({caseless:m},u,d):je.isPlainObject(d)?je.merge({},d):je.isArray(d)?d.slice():d}function i(u,d,h,m){if(je.isUndefined(d)){if(!je.isUndefined(u))return r(void 0,u,h,m)}else return r(u,d,h,m)}function s(u,d){if(!je.isUndefined(d))return r(void 0,d)}function a(u,d){if(je.isUndefined(d)){if(!je.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,d,h)=>i(oD(u),oD(d),h,!0)};return je.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||i,m=h(e[d],t[d],d);je.isUndefined(m)&&h!==l||(n[d]=m)}),n}const e6=e=>{const t=Zd({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Fs.from(a),t.url=Yq(Jq(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),je.isFormData(n)){if(Wi.hasStandardBrowserEnv||Wi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(je.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(Wi.hasStandardBrowserEnv&&(r&&je.isFunction(r)&&(r=r(t)),r||r!==!1&&yse(t.url))){const c=i&&s&&xse.read(s);c&&a.set(i,c)}return t},_se=typeof XMLHttpRequest<"u",wse=_se&&function(e){return new Promise(function(n,r){const i=e6(e);let s=i.data;const a=Fs.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,d,h,m,p,g;function y(){p&&p(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function b(){if(!x)return;const v=Fs.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:v,config:e,request:x};Zq(function(C){n(C),y()},function(C){r(C),y()},j),x=null}"onloadend"in x?x.onloadend=b:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(b)},x.onabort=function(){x&&(r(new Yt("Request aborted",Yt.ECONNABORTED,e,x)),x=null)},x.onerror=function(_){const j=_&&_.message?_.message:"Network Error",k=new Yt(j,Yt.ERR_NETWORK,e,x);k.event=_||null,r(k),x=null},x.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||Gq;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new Yt(_,j.clarifyTimeoutError?Yt.ETIMEDOUT:Yt.ECONNABORTED,e,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&je.forEach(a.toJSON(),function(_,j){x.setRequestHeader(j,_)}),je.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),u&&([m,g]=F_(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([h,p]=F_(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=v=>{x&&(r(!v||v.type?new Mm(null,e,x):v),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=mse(i.url);if(w&&Wi.protocols.indexOf(w)===-1){r(new Yt("Unsupported protocol "+w+":",Yt.ERR_BAD_REQUEST,e));return}x.send(s||null)})},jse=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof Yt?d:new Mm(d instanceof Error?d.message:d))}};let a=t&&setTimeout(()=>{a=null,s(new Yt(`timeout ${t} of ms exceeded`,Yt.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>je.asap(l),c}},kse=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Sse=async function*(e,t){for await(const n of Nse(e))yield*kse(n,t)},Nse=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},lD=(e,t,n,r)=>{const i=Sse(e,t);let s=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await i.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let m=s+=h;n(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},cD=64*1024,{isFunction:hv}=je,Cse=(({Request:e,Response:t})=>({Request:e,Response:t}))(je.global),{ReadableStream:uD,TextEncoder:dD}=je.global,hD=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ose=e=>{e=je.merge.call({skipUndefined:!0},Cse,e);const{fetch:t,Request:n,Response:r}=e,i=t?hv(t):typeof fetch=="function",s=hv(n),a=hv(r);if(!i)return!1;const l=i&&hv(uD),c=i&&(typeof dD=="function"?(g=>y=>g.encode(y))(new dD):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=s&&l&&hD(()=>{let g=!1;const y=new n(Wi.origin,{body:new uD,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),d=a&&l&&hD(()=>je.isReadableStream(new r("").body)),h={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(y,x)=>{let b=y&&y[g];if(b)return b.call(y);throw new Yt(`Response type '${g}' is not supported`,Yt.ERR_NOT_SUPPORT,x)})});const m=async g=>{if(g==null)return 0;if(je.isBlob(g))return g.size;if(je.isSpecCompliantForm(g))return(await new n(Wi.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(je.isArrayBufferView(g)||je.isArrayBuffer(g))return g.byteLength;if(je.isURLSearchParams(g)&&(g=g+""),je.isString(g))return(await c(g)).byteLength},p=async(g,y)=>{const x=je.toFiniteNumber(g.getContentLength());return x??m(y)};return async g=>{let{url:y,method:x,data:b,signal:w,cancelToken:v,timeout:_,onDownloadProgress:j,onUploadProgress:k,responseType:C,headers:O,withCredentials:P="same-origin",fetchOptions:M}=e6(g),A=t||fetch;C=C?(C+"").toLowerCase():"text";let R=jse([w,v&&v.toAbortSignal()],_),B=null;const F=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let U;try{if(k&&u&&x!=="get"&&x!=="head"&&(U=await p(O,b))!==0){let ie=new n(y,{method:"POST",body:b,duplex:"half"}),X;if(je.isFormData(b)&&(X=ie.headers.get("content-type"))&&O.setContentType(X),ie.body){const[se,xe]=sD(U,F_(aD(k)));b=lD(ie.body,cD,se,xe)}}je.isString(P)||(P=P?"include":"omit");const L=s&&"credentials"in n.prototype,D={...M,signal:R,method:x.toUpperCase(),headers:O.normalize().toJSON(),body:b,duplex:"half",credentials:L?P:void 0};B=s&&new n(y,D);let T=await(s?A(B,M):A(y,D));const $=d&&(C==="stream"||C==="response");if(d&&(j||$&&F)){const ie={};["status","statusText","headers"].forEach(me=>{ie[me]=T[me]});const X=je.toFiniteNumber(T.headers.get("content-length")),[se,xe]=j&&sD(X,F_(aD(j),!0))||[];T=new r(lD(T.body,cD,se,()=>{xe&&xe(),F&&F()}),ie)}C=C||"text";let G=await h[je.findKey(h,C)||"text"](T,g);return!$&&F&&F(),await new Promise((ie,X)=>{Zq(ie,X,{data:G,headers:Fs.from(T.headers),status:T.status,statusText:T.statusText,config:g,request:B})})}catch(L){throw F&&F(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Yt("Network Error",Yt.ERR_NETWORK,g,B),{cause:L.cause||L}):Yt.from(L,L&&L.code,g,B)}}},Pse=new Map,t6=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let a=s.length,l=a,c,u,d=Pse;for(;l--;)c=s[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Ose(t)),d=u;return u};t6();const oE={http:Hie,xhr:wse,fetch:{get:t6}};je.forEach(oE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const fD=e=>`- ${e}`,Ese=e=>je.isFunction(e)||e===null||e===!1;function Mse(e,t){e=je.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let a=0;a<n;a++){r=e[a];let l;if(i=r,!Ese(r)&&(i=oE[(l=String(r)).toLowerCase()],i===void 0))throw new Yt(`Unknown adapter '${l}'`);if(i&&(je.isFunction(i)||(i=i.get(t))))break;s[l||"#"+a]=i}if(!i){const a=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(fD).join(`
`):" "+fD(a[0]):"as no adapter specified";throw new Yt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const n6={getAdapter:Mse,adapters:oE};function zk(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mm(null,e)}function mD(e){return zk(e),e.headers=Fs.from(e.headers),e.data=Ak.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),n6.getAdapter(e.adapter||Ky.adapter,e)(e).then(function(r){return zk(e),r.data=Ak.call(e,e.transformResponse,r),r.headers=Fs.from(r.headers),r},function(r){return Xq(r)||(zk(e),r&&r.response&&(r.response.data=Ak.call(e,e.transformResponse,r.response),r.response.headers=Fs.from(r.response.headers))),Promise.reject(r)})}const r6="1.13.2",Gw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Gw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const pD={};Gw.transitional=function(t,n,r){function i(s,a){return"[Axios v"+r6+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,l)=>{if(t===!1)throw new Yt(i(a," has been removed"+(n?" in "+n:"")),Yt.ERR_DEPRECATED);return n&&!pD[a]&&(pD[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,a,l):!0}};Gw.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Tse(e,t,n){if(typeof e!="object")throw new Yt("options must be an object",Yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],a=t[s];if(a){const l=e[s],c=l===void 0||a(l,s,e);if(c!==!0)throw new Yt("option "+s+" must be "+c,Yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Yt("Unknown option "+s,Yt.ERR_BAD_OPTION)}}const qb={assertOptions:Tse,validators:Gw},Bo=qb.validators;let Ld=class{constructor(t){this.defaults=t||{},this.interceptors={request:new rD,response:new rD}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zd(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&qb.assertOptions(r,{silentJSONParsing:Bo.transitional(Bo.boolean),forcedJSONParsing:Bo.transitional(Bo.boolean),clarifyTimeoutError:Bo.transitional(Bo.boolean)},!1),i!=null&&(je.isFunction(i)?n.paramsSerializer={serialize:i}:qb.assertOptions(i,{encode:Bo.function,serialize:Bo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qb.assertOptions(n,{baseUrl:Bo.spelling("baseURL"),withXsrfToken:Bo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&je.merge(s.common,s[n.method]);s&&je.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Fs.concat(a,s);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,m;if(!c){const g=[mD.bind(this),void 0];for(g.unshift(...l),g.push(...u),m=g.length,d=Promise.resolve(n);h<m;)d=d.then(g[h++],g[h++]);return d}m=l.length;let p=n;for(;h<m;){const g=l[h++],y=l[h++];try{p=g(p)}catch(x){y.call(this,x);break}}try{d=mD.call(this,p)}catch(g){return Promise.reject(g)}for(h=0,m=u.length;h<m;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=Zd(this.defaults,t);const n=Jq(t.baseURL,t.url,t.allowAbsoluteUrls);return Yq(n,t.params,t.paramsSerializer)}};je.forEach(["delete","get","head","options"],function(t){Ld.prototype[t]=function(n,r){return this.request(Zd(r||{},{method:t,url:n,data:(r||{}).data}))}});je.forEach(["post","put","patch"],function(t){function n(r){return function(s,a,l){return this.request(Zd(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ld.prototype[t]=n(),Ld.prototype[t+"Form"]=n(!0)});let Ase=class i6{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(l=>{r.subscribe(l),s=l}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},t(function(s,a,l){r.reason||(r.reason=new Mm(s,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new i6(function(i){t=i}),cancel:t}}};function zse(e){return function(n){return e.apply(null,n)}}function Dse(e){return je.isObject(e)&&e.isAxiosError===!0}const SC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(SC).forEach(([e,t])=>{SC[t]=e});function s6(e){const t=new Ld(e),n=Rq(Ld.prototype.request,t);return je.extend(n,Ld.prototype,t,{allOwnKeys:!0}),je.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return s6(Zd(e,i))},n}const yr=s6(Ky);yr.Axios=Ld;yr.CanceledError=Mm;yr.CancelToken=Ase;yr.isCancel=Xq;yr.VERSION=r6;yr.toFormData=Yw;yr.AxiosError=Yt;yr.Cancel=yr.CanceledError;yr.all=function(t){return Promise.all(t)};yr.spread=zse;yr.isAxiosError=Dse;yr.mergeConfig=Zd;yr.AxiosHeaders=Fs;yr.formToJSON=e=>Qq(je.isHTMLForm(e)?new FormData(e):e);yr.getAdapter=n6.getAdapter;yr.HttpStatusCode=SC;yr.default=yr;const{Axios:I8e,AxiosError:L8e,CanceledError:$8e,isCancel:F8e,CancelToken:B8e,VERSION:q8e,all:W8e,Cancel:U8e,isAxiosError:V8e,spread:H8e,toFormData:K8e,AxiosHeaders:Y8e,HttpStatusCode:G8e,formToJSON:Q8e,getAdapter:X8e,mergeConfig:Z8e}=yr,Fg=e=>e?String(e).trim().replace(/^\/+|\/+$/g,""):"",lE="xboard_admin_token",Rse="token",cE="xboard_admin_ignore_legacy_token",Wb=e=>{const t=String(e??"").trim();return t||null},Ise=e=>/^[0-9a-f]{32}$/i.test(e),Lse=e=>/^Bearer\s+\S+/i.test(e),$se=e=>{const t=e.trim();return t&&(Lse(t)?t:`Bearer ${t}`)},a6=()=>{const e=Wb(localStorage.getItem(lE));if(e)return e;if(Wb(localStorage.getItem(cE)))return null;const n=Wb(localStorage.getItem(Rse));return!n||Ise(n)?null:n},uE=()=>!!a6(),Fse=e=>{const t=Wb(e);t&&(localStorage.setItem(lE,t),localStorage.removeItem(cE))},o6=()=>{localStorage.removeItem(lE),localStorage.setItem(cE,"1")},l6=e=>{const t=String(e??"").trim();return t?/^https?:\/\//i.test(t)?t.replace(/\/+$/g,""):t==="/"?window.location.origin:t.startsWith("/")?`${window.location.origin}${t}`.replace(/\/+$/g,""):`${window.location.origin}/${t}`.replace(/\/+$/g,""):""},Bse=()=>{const e=Fg(void 0);if(e)return`/${e}`;const t=window.location.pathname.split("/").filter(Boolean),n=t[0]||"",r=t[1]||"";return/^[a-zA-Z0-9_-]{3,64}$/.test(n)&&!(n==="login"||n==="dashboard")?r==="xadmin"?`/${n}/xadmin`:`/${n}`:""};var cB;const qse=l6((cB=window==null?void 0:window.settings)==null?void 0:cB.base_url),Wse=l6("https://sp.huhu.icu"),Yy=qse||Wse||window.location.origin,c6=()=>Yy,Qw=yr.create({baseURL:`${Yy}/api/v1`,headers:{"Content-Type":"application/json"}});let lg=Fg(void 0)||Fg(localStorage.getItem("adminPath"))||"admin";const ze=yr.create({baseURL:`${Yy}/api/v2/${lg}`,headers:{"Content-Type":"application/json"}}),Use=()=>Fg(localStorage.getItem("adminPath"))||lg||"admin",Dk=e=>{lg=Fg(e)||"admin",localStorage.setItem("adminPath",lg),ze.defaults.baseURL=`${Yy}/api/v2/${lg}`},u6=e=>{const t=a6();return t&&(e.headers=e.headers||{},e.headers.Authorization=$se(t)),e};Qw.interceptors.request.use(u6);ze.interceptors.request.use(e=>{const t=Use();return e.baseURL=`${Yy}/api/v2/${t}`,u6(e)});const d6=e=>{var n;const t=(n=e==null?void 0:e.response)==null?void 0:n.status;return(t===401||t===403)&&(o6(),localStorage.removeItem("adminEmail"),window.location.href=`${Bse()}/login`),Promise.reject(e)};Qw.interceptors.response.use(e=>e,d6);ze.interceptors.response.use(e=>e,d6);function gD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xr(...e){return t=>{let n=!1;const r=e.map(i=>{const s=gD(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():gD(e[i],null)}}}}function Zt(...e){return f.useCallback(xr(...e),e)}var Vse=Symbol.for("react.lazy"),B_=Cw[" use ".trim().toString()];function Hse(e){return typeof e=="object"&&e!==null&&"then"in e}function h6(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Vse&&"_payload"in e&&Hse(e._payload)}function f6(e){const t=Yse(e),n=f.forwardRef((r,i)=>{let{children:s,...a}=r;h6(s)&&typeof B_=="function"&&(s=B_(s._payload));const l=f.Children.toArray(s),c=l.find(Qse);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Kse=f6("Slot");function Yse(e){const t=f.forwardRef((n,r)=>{let{children:i,...s}=n;if(h6(i)&&typeof B_=="function"&&(i=B_(i._payload)),f.isValidElement(i)){const a=Zse(i),l=Xse(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Gse=Symbol("radix.slottable");function Qse(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Gse}function Xse(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Zse(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function m6(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=m6(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function wn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=m6(e))&&(r&&(r+=" "),r+=t);return r}const yD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xD=wn,p6=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return xD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],h=s==null?void 0:s[u];if(d===null)return null;const m=yD(d)||yD(h);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:m,...p}=d;return Object.entries(p).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes({...s,...l}[y]):{...s,...l}[y]===x})?[...u,h,m]:u},[]);return xD(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},Jse=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},eae=(e,t)=>({classGroupId:e,validator:t}),g6=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),q_="-",vD=[],tae="arbitrary..",nae=e=>{const t=iae(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return rae(a);const l=a.split(q_),c=l[0]===""&&l.length>1?1:0;return y6(l,c,t)},getConflictingClassGroupIds:(a,l)=>{if(l){const c=r[a],u=n[a];return c?u?Jse(u,c):c:u||vD}return n[a]||vD}}},y6=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],s=n.nextPart.get(i);if(s){const u=y6(e,t+1,s);if(u)return u}const a=n.validators;if(a===null)return;const l=t===0?e.join(q_):e.slice(t).join(q_),c=a.length;for(let u=0;u<c;u++){const d=a[u];if(d.validator(l))return d.classGroupId}},rae=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?tae+r:void 0})(),iae=e=>{const{theme:t,classGroups:n}=e;return sae(n,t)},sae=(e,t)=>{const n=g6();for(const r in e){const i=e[r];dE(i,n,r,t)}return n},dE=(e,t,n,r)=>{const i=e.length;for(let s=0;s<i;s++){const a=e[s];aae(a,t,n,r)}},aae=(e,t,n,r)=>{if(typeof e=="string"){oae(e,t,n);return}if(typeof e=="function"){lae(e,t,n,r);return}cae(e,t,n,r)},oae=(e,t,n)=>{const r=e===""?t:x6(t,e);r.classGroupId=n},lae=(e,t,n,r)=>{if(uae(e)){dE(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(eae(n,e))},cae=(e,t,n,r)=>{const i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[l,c]=i[a];dE(c,x6(t,l),n,r)}},x6=(e,t)=>{let n=e;const r=t.split(q_),i=r.length;for(let s=0;s<i;s++){const a=r[s];let l=n.nextPart.get(a);l||(l=g6(),n.nextPart.set(a,l)),n=l}return n},uae=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,dae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},NC="!",bD=":",hae=[],_D=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),fae=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let a=0,l=0,c=0,u;const d=i.length;for(let y=0;y<d;y++){const x=i[y];if(a===0&&l===0){if(x===bD){s.push(i.slice(c,y)),c=y+1;continue}if(x==="/"){u=y;continue}}x==="["?a++:x==="]"?a--:x==="("?l++:x===")"&&l--}const h=s.length===0?i:i.slice(c);let m=h,p=!1;h.endsWith(NC)?(m=h.slice(0,-1),p=!0):h.startsWith(NC)&&(m=h.slice(1),p=!0);const g=u&&u>c?u-c:void 0;return _D(s,p,m,g)};if(t){const i=t+bD,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):_D(hae,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},mae=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],l=a[0]==="[",c=t.has(a);l||c?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},pae=e=>({cache:dae(e.cacheSize),parseClassName:fae(e),sortModifiers:mae(e),...nae(e)}),gae=/\s+/,yae=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,a=[],l=e.trim().split(gae);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:h,modifiers:m,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:y}=n(d);if(h){c=d+(c.length>0?" "+c:c);continue}let x=!!y,b=r(x?g.substring(0,y):g);if(!b){if(!x){c=d+(c.length>0?" "+c:c);continue}if(b=r(g),!b){c=d+(c.length>0?" "+c:c);continue}x=!1}const w=m.length===0?"":m.length===1?m[0]:s(m).join(":"),v=p?w+NC:w,_=v+b;if(a.indexOf(_)>-1)continue;a.push(_);const j=i(b,x);for(let k=0;k<j.length;++k){const C=j[k];a.push(v+C)}c=d+(c.length>0?" "+c:c)}return c},xae=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=v6(n))&&(i&&(i+=" "),i+=r);return i},v6=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=v6(e[r]))&&(n&&(n+=" "),n+=t);return n},vae=(e,...t)=>{let n,r,i,s;const a=c=>{const u=t.reduce((d,h)=>h(d),e());return n=pae(u),r=n.cache.get,i=n.cache.set,s=l,l(c)},l=c=>{const u=r(c);if(u)return u;const d=yae(c,n);return i(c,d),d};return s=a,(...c)=>s(xae(...c))},bae=[],Ir=e=>{const t=n=>n[e]||bae;return t.isThemeGetter=!0,t},b6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,_6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_ae=/^\d+\/\d+$/,wae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Sae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ah=e=>_ae.test(e),en=e=>!!e&&!Number.isNaN(Number(e)),Hc=e=>!!e&&Number.isInteger(Number(e)),Rk=e=>e.endsWith("%")&&en(e.slice(0,-1)),Ll=e=>wae.test(e),Cae=()=>!0,Oae=e=>jae.test(e)&&!kae.test(e),w6=()=>!1,Pae=e=>Sae.test(e),Eae=e=>Nae.test(e),Mae=e=>!kt(e)&&!St(e),Tae=e=>Tm(e,S6,w6),kt=e=>b6.test(e),rd=e=>Tm(e,N6,Oae),Ik=e=>Tm(e,Iae,en),wD=e=>Tm(e,j6,w6),Aae=e=>Tm(e,k6,Eae),fv=e=>Tm(e,C6,Pae),St=e=>_6.test(e),up=e=>Am(e,N6),zae=e=>Am(e,Lae),jD=e=>Am(e,j6),Dae=e=>Am(e,S6),Rae=e=>Am(e,k6),mv=e=>Am(e,C6,!0),Tm=(e,t,n)=>{const r=b6.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Am=(e,t,n=!1)=>{const r=_6.exec(e);return r?r[1]?t(r[1]):n:!1},j6=e=>e==="position"||e==="percentage",k6=e=>e==="image"||e==="url",S6=e=>e==="length"||e==="size"||e==="bg-size",N6=e=>e==="length",Iae=e=>e==="number",Lae=e=>e==="family-name",C6=e=>e==="shadow",$ae=()=>{const e=Ir("color"),t=Ir("font"),n=Ir("text"),r=Ir("font-weight"),i=Ir("tracking"),s=Ir("leading"),a=Ir("breakpoint"),l=Ir("container"),c=Ir("spacing"),u=Ir("radius"),d=Ir("shadow"),h=Ir("inset-shadow"),m=Ir("text-shadow"),p=Ir("drop-shadow"),g=Ir("blur"),y=Ir("perspective"),x=Ir("aspect"),b=Ir("ease"),w=Ir("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[..._(),St,kt],k=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],O=()=>[St,kt,c],P=()=>[Ah,"full","auto",...O()],M=()=>[Hc,"none","subgrid",St,kt],A=()=>["auto",{span:["full",Hc,St,kt]},Hc,St,kt],R=()=>[Hc,"auto",St,kt],B=()=>["auto","min","max","fr",St,kt],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],U=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...O()],D=()=>[Ah,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],T=()=>[e,St,kt],$=()=>[..._(),jD,wD,{position:[St,kt]}],G=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",Dae,Tae,{size:[St,kt]}],X=()=>[Rk,up,rd],se=()=>["","none","full",u,St,kt],xe=()=>["",en,up,rd],me=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[en,Rk,jD,wD],Ve=()=>["","none",g,St,kt],oe=()=>["none",en,St,kt],Pe=()=>["none",en,St,kt],Y=()=>[en,St,kt],te=()=>[Ah,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ll],breakpoint:[Ll],color:[Cae],container:[Ll],"drop-shadow":[Ll],ease:["in","out","in-out"],font:[Mae],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ll],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ll],shadow:[Ll],spacing:["px",en],text:[Ll],"text-shadow":[Ll],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ah,kt,St,x]}],container:["container"],columns:[{columns:[en,kt,St,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Hc,"auto",St,kt]}],basis:[{basis:[Ah,"full","auto",l,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[en,Ah,"auto","initial","none",kt]}],grow:[{grow:["",en,St,kt]}],shrink:[{shrink:["",en,St,kt]}],order:[{order:[Hc,"first","last","none",St,kt]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...U(),"normal"]}],"justify-self":[{"justify-self":["auto",...U()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...U(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...U(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...U(),"baseline"]}],"place-self":[{"place-self":["auto",...U()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:D()}],w:[{w:[l,"screen",...D()]}],"min-w":[{"min-w":[l,"screen","none",...D()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...D()]}],h:[{h:["screen","lh",...D()]}],"min-h":[{"min-h":["screen","lh","none",...D()]}],"max-h":[{"max-h":["screen","lh",...D()]}],"font-size":[{text:["base",n,up,rd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,St,Ik]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rk,kt]}],"font-family":[{font:[zae,kt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,St,kt]}],"line-clamp":[{"line-clamp":[en,"none",St,Ik]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",St,kt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",St,kt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[en,"from-font","auto",St,rd]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[en,"auto",St,kt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",St,kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",St,kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:G()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hc,St,kt],radial:["",St,kt],conic:[Hc,St,kt]},Rae,Aae]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:se()}],"rounded-s":[{"rounded-s":se()}],"rounded-e":[{"rounded-e":se()}],"rounded-t":[{"rounded-t":se()}],"rounded-r":[{"rounded-r":se()}],"rounded-b":[{"rounded-b":se()}],"rounded-l":[{"rounded-l":se()}],"rounded-ss":[{"rounded-ss":se()}],"rounded-se":[{"rounded-se":se()}],"rounded-ee":[{"rounded-ee":se()}],"rounded-es":[{"rounded-es":se()}],"rounded-tl":[{"rounded-tl":se()}],"rounded-tr":[{"rounded-tr":se()}],"rounded-br":[{"rounded-br":se()}],"rounded-bl":[{"rounded-bl":se()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[en,St,kt]}],"outline-w":[{outline:["",en,up,rd]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",d,mv,fv]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",h,mv,fv]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[en,rd]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",m,mv,fv]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[en,St,kt]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[en]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[St,kt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[en]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:G()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",St,kt]}],filter:[{filter:["","none",St,kt]}],blur:[{blur:Ve()}],brightness:[{brightness:[en,St,kt]}],contrast:[{contrast:[en,St,kt]}],"drop-shadow":[{"drop-shadow":["","none",p,mv,fv]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",en,St,kt]}],"hue-rotate":[{"hue-rotate":[en,St,kt]}],invert:[{invert:["",en,St,kt]}],saturate:[{saturate:[en,St,kt]}],sepia:[{sepia:["",en,St,kt]}],"backdrop-filter":[{"backdrop-filter":["","none",St,kt]}],"backdrop-blur":[{"backdrop-blur":Ve()}],"backdrop-brightness":[{"backdrop-brightness":[en,St,kt]}],"backdrop-contrast":[{"backdrop-contrast":[en,St,kt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",en,St,kt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[en,St,kt]}],"backdrop-invert":[{"backdrop-invert":["",en,St,kt]}],"backdrop-opacity":[{"backdrop-opacity":[en,St,kt]}],"backdrop-saturate":[{"backdrop-saturate":[en,St,kt]}],"backdrop-sepia":[{"backdrop-sepia":["",en,St,kt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",St,kt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[en,"initial",St,kt]}],ease:[{ease:["linear","initial",b,St,kt]}],delay:[{delay:[en,St,kt]}],animate:[{animate:["none",w,St,kt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,St,kt]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[St,kt,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:te()}],"translate-x":[{"translate-x":te()}],"translate-y":[{"translate-y":te()}],"translate-z":[{"translate-z":te()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",St,kt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",St,kt]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[en,up,rd,Ik]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Fae=vae($ae);function ae(...e){return Fae(wn(e))}const Ub=p6("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-card shadow-sm hover:bg-accent/60 hover:text-foreground",secondary:"bg-muted text-foreground hover:bg-muted/80",ghost:"hover:bg-muted/60 hover:text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),W=f.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Kse:"button";return o.jsx(a,{className:ae(Ub({variant:t,size:n,className:e})),ref:s,...i})});W.displayName="Button";const It=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("rounded-lg border border-border/80 bg-card text-card-foreground shadow-[0_8px_24px_rgba(15,23,42,0.06)]",e),...t}));It.displayName="Card";const Xn=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));Xn.displayName="CardHeader";const Zn=f.forwardRef(({className:e,...t},n)=>o.jsx("h3",{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));Zn.displayName="CardTitle";const ha=f.forwardRef(({className:e,...t},n)=>o.jsx("p",{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));ha.displayName="CardDescription";const Lt=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("p-6 pt-0",e),...t}));Lt.displayName="CardContent";const Bae=f.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:ae("flex items-center p-6 pt-0",e),...t}));Bae.displayName="CardFooter";const J=f.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-card px-3 py-2 text-sm shadow-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));J.displayName="Input";var qae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wae=qae.reduce((e,t)=>{const n=f6(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Uae="Label",O6=f.forwardRef((e,t)=>o.jsx(Wae.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));O6.displayName=Uae;var P6=O6;const Vae=p6("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ee=f.forwardRef(({className:e,...t},n)=>o.jsx(P6,{ref:n,className:ae(Vae(),e),...t}));ee.displayName=P6.displayName;const Vt=e=>typeof e=="string",dp=()=>{let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n},kD=e=>e==null?"":""+e,Hae=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},Kae=/###/g,SD=e=>e&&e.indexOf("###")>-1?e.replace(Kae,"."):e,ND=e=>!e||Vt(e),cg=(e,t,n)=>{const r=Vt(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(ND(e))return{};const s=SD(r[i]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++i}return ND(e)?{}:{obj:e,k:SD(r[i])}},CD=(e,t,n)=>{const{obj:r,k:i}=cg(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let s=t[t.length-1],a=t.slice(0,t.length-1),l=cg(e,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=cg(e,a,Object),l!=null&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},Yae=(e,t,n,r)=>{const{obj:i,k:s}=cg(e,t,Object);i[s]=i[s]||[],i[s].push(n)},W_=(e,t)=>{const{obj:n,k:r}=cg(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},Gae=(e,t,n)=>{const r=W_(e,n);return r!==void 0?r:W_(t,n)},E6=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?Vt(e[r])||e[r]instanceof String||Vt(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):E6(e[r],t[r],n):e[r]=t[r]);return e},zh=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Qae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Xae=e=>Vt(e)?e.replace(/[&<>"'\/]/g,t=>Qae[t]):e;class Zae{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const Jae=[" ",",","?","!",";"],eoe=new Zae(20),toe=(e,t,n)=>{t=t||"",n=n||"";const r=Jae.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=eoe.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(e);if(!s){const a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(s=!0)}return s},CC=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let i=e;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,l="";for(let c=s;c<r.length;++c)if(c!==s&&(l+=n),l+=r[c],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<r.length-1)continue;s+=c-s+1;break}i=a}return i},Bg=e=>e==null?void 0:e.replace("_","-"),noe={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,r;(r=(n=console==null?void 0:console[e])==null?void 0:n.apply)==null||r.call(n,console,t)}};class U_{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||noe,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(Vt(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new U_(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new U_(this.logger,t)}}var rl=new U_;let Xw=class{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[t,...n])})}};class OD extends Xw{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,i={}){var u,d;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):Vt(r)&&s?l.push(...r.split(s)):l.push(r)));const c=W_(this.data,l);return!c&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),c||!a||!Vt(r)?c:CC((d=(u=this.data)==null?void 0:u[t])==null?void 0:d[n],r,s)}addResource(t,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(l=t.split("."),i=n,n=l[1]),this.addNamespaces(n),CD(this.data,l,i),s.silent||this.emit("added",t,n,r,i)}addResources(t,n,r,i={silent:!1}){for(const s in r)(Vt(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,s,a={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let c=W_(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?E6(c,r,s):c={...c,...r},CD(this.data,l,c),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var M6={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(s=>{var a;t=((a=this.processors[s])==null?void 0:a.process(t,n,r,i))??t}),t}};const T6=Symbol("i18next/PATH_KEY");function roe(){const e=[],t=Object.create(null);let n;return t.get=(r,i)=>{var s;return(s=n==null?void 0:n.revoke)==null||s.call(n),i===T6?e:(e.push(i),n=Proxy.revocable(r,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}function OC(e,t){const{[T6]:n}=e(roe());return n.join((t==null?void 0:t.keySeparator)??".")}const PD={},Lk=e=>!Vt(e)&&typeof e!="boolean"&&typeof e!="number";class V_ extends Xw{constructor(t,n={}){super(),Hae(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=rl.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const r={...n};if(t==null)return!1;const i=this.resolve(t,r);if((i==null?void 0:i.res)===void 0)return!1;const s=Lk(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!toe(t,r,i);if(a&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Vt(s)?[s]:s};const u=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),t=u.join(i)}return{key:t,namespaces:Vt(s)?[s]:s}}translate(t,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";typeof t=="function"&&(t=OC(t,{...this.options,...i})),Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const p=this.resolve(t,i);let g=p==null?void 0:p.res;const y=(p==null?void 0:p.usedKey)||l,x=(p==null?void 0:p.exactUsedKey)||l,b=["[object Number]","[object Function]","[object RegExp]"],w=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,_=i.count!==void 0&&!Vt(i.count),j=V_.hasDefaultValue(i),k=_?this.pluralResolver.getSuffix(h,i.count,i):"",C=i.ordinal&&_?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",O=_&&!i.ordinal&&i.count===0,P=O&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${k}`]||i[`defaultValue${C}`]||i.defaultValue;let M=g;v&&!g&&j&&(M=P);const A=Lk(M),R=Object.prototype.toString.apply(M);if(v&&M&&A&&b.indexOf(R)<0&&!(Vt(w)&&Array.isArray(M))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const B=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,M,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(p.res=B,p.usedParams=this.getUsedParamsDetails(i),p):B}if(a){const B=Array.isArray(M),F=B?[]:{},U=B?x:y;for(const L in M)if(Object.prototype.hasOwnProperty.call(M,L)){const D=`${U}${a}${L}`;j&&!g?F[L]=this.translate(D,{...i,defaultValue:Lk(P)?P[L]:void 0,joinArrays:!1,ns:c}):F[L]=this.translate(D,{...i,joinArrays:!1,ns:c}),F[L]===D&&(F[L]=M[L])}g=F}}else if(v&&Vt(w)&&Array.isArray(g))g=g.join(w),g&&(g=this.extendTranslation(g,t,i,r));else{let B=!1,F=!1;!this.isValidLookup(g)&&j&&(B=!0,g=P),this.isValidLookup(g)||(F=!0,g=l);const L=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:g,D=j&&P!==g&&this.options.updateMissing;if(F||B||D){if(this.logger.log(D?"updateKey":"missingKey",h,u,l,D?P:g),a){const ie=this.resolve(l,{...i,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let T=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let ie=0;ie<$.length;ie++)T.push($[ie]);else this.options.saveMissingTo==="all"?T=this.languageUtils.toResolveHierarchy(i.lng||this.language):T.push(i.lng||this.language);const G=(ie,X,se)=>{var me;const xe=j&&se!==g?se:L;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,u,X,xe,D,i):(me=this.backendConnector)!=null&&me.saveMissing&&this.backendConnector.saveMissing(ie,u,X,xe,D,i),this.emit("missingKey",ie,u,X,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?T.forEach(ie=>{const X=this.pluralResolver.getSuffixes(ie,i);O&&i[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(se=>{G([ie],l+se,i[`defaultValue${se}`]||P)})}):G(T,l,P))}g=this.extendTranslation(g,t,i,p,r),F&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${u}${d}${l}`),(F||B)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,B?g:void 0,i))}return s?(p.res=g,p.usedParams=this.getUsedParamsDetails(i),p):g}extendTranslation(t,n,r,i,s){var c,u;if((c=this.i18nFormat)!=null&&c.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const d=Vt(t)&&(((u=r==null?void 0:r.interpolation)==null?void 0:u.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const p=t.match(this.interpolator.nestingRegexp);h=p&&p.length}let m=r.replace&&!Vt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),t=this.interpolator.interpolate(t,m,r.lng||this.language||i.usedLng,r),d){const p=t.match(this.interpolator.nestingRegexp),g=p&&p.length;h<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...p)=>(s==null?void 0:s[0])===p[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${n[0]}`),null):this.translate(...p,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=Vt(a)?[a]:a;return t!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(t=M6.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,i,s,a,l;return Vt(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(c,n),d=u.key;i=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Vt(n.count),p=m&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(Vt(n.context)||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(x=>{var b,w;this.isValidLookup(r)||(l=x,!PD[`${y[0]}-${x}`]&&((b=this.utils)!=null&&b.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(l))&&(PD[`${y[0]}-${x}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(v=>{var k;if(this.isValidLookup(r))return;a=v;const _=[d];if((k=this.i18nFormat)!=null&&k.addLookupKeys)this.i18nFormat.addLookupKeys(_,d,v,x,n);else{let C;m&&(C=this.pluralResolver.getSuffix(v,n.count,n));const O=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&C.indexOf(P)===0&&_.push(d+C.replace(P,this.options.pluralSeparator)),_.push(d+C),p&&_.push(d+O)),g){const M=`${d}${this.options.contextSeparator||"_"}${n.context}`;_.push(M),m&&(n.ordinal&&C.indexOf(P)===0&&_.push(M+C.replace(P,this.options.pluralSeparator)),_.push(M+C),p&&_.push(M+O))}}let j;for(;j=_.pop();)this.isValidLookup(r)||(s=j,r=this.getResource(v,x,j,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!Vt(t.replace);let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class ED{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=rl.create("languageUtils")}getScriptPartFromCode(t){if(t=Bg(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Bg(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Vt(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Vt(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Vt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):Vt(t)&&s(this.formatLanguageCode(t)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const MD={zero:0,one:1,two:2,few:3,many:4,other:5},TD={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ioe{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=rl.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const r=Bg(t==="dev"?"en":t),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),TD;if(!t.match(/-|_/))return TD;const c=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(c,n)}return this.pluralRulesCache[s]=a,a}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>MD[i]-MD[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(t,n,r={}){const i=this.getRule(t,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const AD=(e,t,n,r=".",i=!0)=>{let s=Gae(e,t,n);return!s&&i&&Vt(n)&&(s=CC(e,n,r),s===void 0&&(s=CC(t,n,r))),s},$k=e=>e.replace(/\$/g,"$$$$");class zD{constructor(t={}){var n;this.logger=rl.create("interpolator"),this.options=t,this.format=((n=t==null?void 0:t.interpolation)==null?void 0:n.format)||(r=>r),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:y,nestingOptionsSeparator:x,maxReplaces:b,alwaysFormat:w}=t.interpolation;this.escape=n!==void 0?n:Xae,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?zh(s):a||"{{",this.suffix=l?zh(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?zh(m):p||zh("$t("),this.nestingSuffix=g?zh(g):y||zh(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=b||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,i){var p;let s,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const w=AD(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...i,...n,interpolationkey:g}):w}const y=g.split(this.formatSeparator),x=y.shift().trim(),b=y.join(this.formatSeparator).trim();return this.format(AD(n,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...i,...n,interpolationkey:x})};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((p=i==null?void 0:i.interpolation)==null?void 0:p.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>$k(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?$k(this.escape(g)):$k(g)}].forEach(g=>{for(l=0;s=g.regex.exec(t);){const y=s[1].trim();if(a=u(y),a===void 0)if(typeof d=="function"){const b=d(t,s,i);a=Vt(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))a="";else if(h){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),a="";else!Vt(a)&&!this.useRawValueToEscape&&(a=kD(a));const x=g.safeValue(a);if(t=t.replace(s[0],x),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let i,s,a;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,a);const p=m.match(/'/g),g=m.match(/"/g);(((p==null?void 0:p.length)??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${d}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(t);){let c=[];a={...r},a=a.replace&&!Vt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=n(l.call(this,i[1].trim(),a),a),s&&i[0]===t&&!Vt(s))return s;Vt(s)||(s=kD(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),s=""),c.length&&(s=c.reduce((d,h)=>this.format(d,h,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}const soe=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();n[d]||(n[d]=u),u==="false"&&(n[d]=!1),u==="true"&&(n[d]=!0),isNaN(u)||(n[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:n}},DD=e=>{const t={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let l=t[a];return l||(l=e(Bg(r),i),t[a]=l),l(n)}},aoe=e=>(t,n,r)=>e(Bg(n),r)(t);class ooe{constructor(t={}){this.logger=rl.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?DD:aoe;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return l=>a.format(l)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return l=>a.format(l)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return l=>a.format(l,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return l=>a.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=DD(n)}format(t,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{var h;const{formatName:u,formatOptions:d}=soe(c);if(this.formats[u]){let m=l;try{const p=((h=i==null?void 0:i.formatParams)==null?void 0:h[i.interpolationkey])||{},g=p.locale||p.lng||i.locale||i.lng||r;m=this.formats[u](l,g,{...d,...i,...p})}catch(p){this.logger.warn(p)}return m}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const loe=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class coe extends Xw{constructor(t,n,r,i={}){var s,a;super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=rl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(t,n,r,i){const s={},a={},l={},c={};return t.forEach(u=>{let d=!0;n.forEach(h=>{const m=`${u}|${h}`;!r.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,d=!1,a[m]===void 0&&(a[m]=!0),s[m]===void 0&&(s[m]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,r){const i=t.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Yae(c.loaded,[s],a),loe(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,r,i=0,s=this.retryTimeout,a){if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,s*2,a)},s);return}a(u,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const u=c(t,n);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,n,l)}prepareLoading(t,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Vt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Vt(n)&&(n=[n]);const s=this.queueLoad(t,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){const r=t.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,l),this.loaded(t,a,l)})}saveMissing(t,n,r,i,s,a={},l=()=>{}){var c,u,d,h,m;if((u=(c=this.services)==null?void 0:c.utils)!=null&&u.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const p={...a,isUpdate:s},g=this.backend.create.bind(this.backend);if(g.length<6)try{let y;g.length===5?y=g(t,n,r,i,p):y=g(t,n,r,i),y&&typeof y.then=="function"?y.then(x=>l(null,x)).catch(l):l(null,y)}catch(y){l(y)}else g(t,n,r,i,l,p)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}const RD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Vt(e[1])&&(t.defaultValue=e[1]),Vt(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ID=e=>{var t,n;return Vt(e.ns)&&(e.ns=[e.ns]),Vt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Vt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),((n=(t=e.supportedLngs)==null?void 0:t.indexOf)==null?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e},pv=()=>{},uoe=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class ug extends Xw{constructor(t={},n){if(super(),this.options=ID(t),this.services={},this.logger=rl,this.modules={external:[]},uoe(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Vt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=RD();this.options={...r,...this.options,...ID(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?rl.init(i(this.modules.logger),this.options):rl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=ooe;const d=new ED(this.options);this.store=new OD(this.options.resources,this.options);const h=this.services;h.logger=rl,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new ioe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=i(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new zD(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new coe(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new V_(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=pv),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=dp(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=pv){var s,a;let r=n;const i=Vt(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const l=[],c=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&l.indexOf(h)<0&&l.push(h)})};i?c(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>c(d)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,u=>c(u)),this.services.backendConnector.load(l,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(t,n,r){const i=dp();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=pv),this.services.backendConnector.reload(t,n,s=>{i.resolve(),r(s)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&M6.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const r=dp();this.emit("languageChanging",t);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===t&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve((...u)=>this.t(...u)),n&&n(l,(...u)=>this.t(...u))},a=l=>{var d,h;!t&&!l&&this.services.languageDetector&&(l=[]);const c=Vt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Vt(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,u)),this.loadResources(u,m=>{s(m,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),r}getFixedT(t,n,r){const i=(s,a,...l)=>{let c;typeof a!="object"?c=this.options.overloadTranslationOptionHandler([s,a].concat(l)):c={...a},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(h=>(typeof h=="function"&&(h=OC(h,{...this.options,...a})),`${c.keyPrefix}${u}${h}`)):(typeof s=="function"&&(s=OC(s,{...this.options,...a})),d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s),this.t(d,c)};return Vt(t)?i.lng=t:i.lngs=t,i.ns=n,i.keyPrefix=r,i}t(...t){var n;return(n=this.translator)==null?void 0:n.translate(...t)}exists(...t){var n;return(n=this.translator)==null?void 0:n.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(n.precheck){const l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!i||a(s,t)))}loadNamespaces(t,n){const r=dp();return this.options.ns?(Vt(t)&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=dp();Vt(t)&&(t=[t]);const i=this.options.preload||[],s=t.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){var i,s;if(t||(t=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new ED(RD());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){const r=new ug(t,n);return r.createInstance=ug.createInstance,r}cloneInstance(t={},n=pv){const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},s=new ug(i);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});s.store=new OD(l,i),s.services.resourceStore=s.store}return t.interpolation&&(s.services.interpolator=new zD(i)),s.translator=new V_(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gs=ug.createInstance();gs.createInstance;gs.dir;gs.init;gs.loadResources;gs.reloadResources;gs.use;gs.changeLanguage;gs.getFixedT;gs.t;gs.exists;gs.setDefaultNamespace;gs.hasLoadedNamespace;gs.loadNamespaces;gs.loadLanguages;const doe=(e,t,n,r)=>{var s,a,l,c;const i=[n,{code:t,...r||{}}];if((a=(s=e==null?void 0:e.services)==null?void 0:s.logger)!=null&&a.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);Jd(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(c=(l=e==null?void 0:e.services)==null?void 0:l.logger)!=null&&c.warn?e.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},LD={},A6=(e,t,n,r)=>{Jd(n)&&LD[n]||(Jd(n)&&(LD[n]=new Date),doe(e,t,n,r))},z6=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},PC=(e,t,n)=>{e.loadNamespaces(t,z6(e,n))},$D=(e,t,n,r)=>{if(Jd(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return PC(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,z6(e,r))},hoe=(e,t,n={})=>!t.languages||!t.languages.length?(A6(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),Jd=e=>typeof e=="string",foe=e=>typeof e=="object"&&e!==null,moe=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,poe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},goe=e=>poe[e],yoe=e=>e.replace(moe,goe);let EC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:yoe,transDefaultProps:void 0};const xoe=(e={})=>{EC={...EC,...e}},voe=()=>EC;let D6;const boe=e=>{D6=e},_oe=()=>D6,woe={type:"3rdParty",init(e){xoe(e.options.react),boe(e)}},joe=f.createContext();class koe{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var R6={exports:{}},I6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=f;function Soe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Noe=typeof Object.is=="function"?Object.is:Soe,Coe=Zf.useState,Ooe=Zf.useEffect,Poe=Zf.useLayoutEffect,Eoe=Zf.useDebugValue;function Moe(e,t){var n=t(),r=Coe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Poe(function(){i.value=n,i.getSnapshot=t,Fk(i)&&s({inst:i})},[e,n,t]),Ooe(function(){return Fk(i)&&s({inst:i}),e(function(){Fk(i)&&s({inst:i})})},[e]),Eoe(n),n}function Fk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Noe(e,n)}catch{return!0}}function Toe(e,t){return t()}var Aoe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Toe:Moe;I6.useSyncExternalStore=Zf.useSyncExternalStore!==void 0?Zf.useSyncExternalStore:Aoe;R6.exports=I6;var L6=R6.exports;const zoe=(e,t)=>Jd(t)?t:foe(t)&&Jd(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,Doe={t:zoe,ready:!1},Roe=()=>()=>{},Wt=(e,t={})=>{var P,M,A;const{i18n:n}=t,{i18n:r,defaultNS:i}=f.useContext(joe)||{},s=n||r||_oe();s&&!s.reportNamespaces&&(s.reportNamespaces=new koe),s||A6(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=f.useMemo(()=>{var R;return{...voe(),...(R=s==null?void 0:s.options)==null?void 0:R.react,...t}},[s,t]),{useSuspense:l,keyPrefix:c}=a,u=i||((P=s==null?void 0:s.options)==null?void 0:P.defaultNS),d=Jd(u)?[u]:u||["translation"],h=f.useMemo(()=>d,d);(A=(M=s==null?void 0:s.reportNamespaces)==null?void 0:M.addUsedNamespaces)==null||A.call(M,h);const m=f.useRef(0),p=f.useCallback(R=>{if(!s)return Roe;const{bindI18n:B,bindI18nStore:F}=a,U=()=>{m.current+=1,R()};return B&&s.on(B,U),F&&s.store.on(F,U),()=>{B&&B.split(" ").forEach(L=>s.off(L,U)),F&&F.split(" ").forEach(L=>s.store.off(L,U))}},[s,a]),g=f.useRef(),y=f.useCallback(()=>{if(!s)return Doe;const R=!!(s.isInitialized||s.initializedStoreOnce)&&h.every(T=>hoe(T,s,a)),B=t.lng||s.language,F=m.current,U=g.current;if(U&&U.ready===R&&U.lng===B&&U.keyPrefix===c&&U.revision===F)return U;const D={t:s.getFixedT(B,a.nsMode==="fallback"?h:h[0],c),ready:R,lng:B,keyPrefix:c,revision:F};return g.current=D,D},[s,h,c,a,t.lng]),[x,b]=f.useState(0),{t:w,ready:v}=L6.useSyncExternalStore(p,y,y);f.useEffect(()=>{if(s&&!v&&!l){const R=()=>b(B=>B+1);t.lng?$D(s,t.lng,h,R):PC(s,h,R)}},[s,t.lng,h,v,l,x]);const _=s||{},j=f.useRef(null),k=f.useRef(),C=R=>{const B=Object.getOwnPropertyDescriptors(R);B.__original&&delete B.__original;const F=Object.create(Object.getPrototypeOf(R),B);if(!Object.prototype.hasOwnProperty.call(F,"__original"))try{Object.defineProperty(F,"__original",{value:R,writable:!1,enumerable:!1,configurable:!1})}catch{}return F},O=f.useMemo(()=>{const R=_,B=R==null?void 0:R.language;let F=R;R&&(j.current&&j.current.__original===R?k.current!==B?(F=C(R),j.current=F,k.current=B):F=j.current:(F=C(R),j.current=F,k.current=B));const U=[w,F,v];return U.t=w,U.i18n=F,U.ready=v,U},[w,_,v,_.resolvedLanguage,_.language,_.languages]);if(s&&l&&!v)throw new Promise(R=>{const B=()=>R();t.lng?$D(s,t.lng,h,B):PC(s,h,B)});return O};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Loe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),FD=e=>{const t=Loe(e);return t.charAt(0).toUpperCase()+t.slice(1)},$6=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),$oe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Foe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>f.createElement("svg",{ref:c,...Foe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$6("lucide",i),...!s&&!$oe(l)&&{"aria-hidden":"true"},...l},[...a.map(([u,d])=>f.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const n=f.forwardRef(({className:r,...i},s)=>f.createElement(Boe,{ref:s,iconNode:t,className:$6(`lucide-${Ioe(FD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=FD(e),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],H_=qe("activity",qoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],xh=qe("arrow-down",Woe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Voe=qe("arrow-left",Uoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ss=qe("arrow-up-down",Hoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],BD=qe("arrow-up-right",Koe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],vh=qe("arrow-up",Yoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]],Qoe=qe("badge-percent",Goe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],F6=qe("bell",Xoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zoe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],B6=qe("bold",Zoe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ele=qe("book-open",Joe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],nle=qe("calendar-clock",tle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],q6=qe("calendar",rle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sle=qe("chart-column",ile);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hE=qe("check",ale);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ec=qe("chevron-down",ole);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zw=qe("chevron-left",lle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zm=qe("chevron-right",cle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],fE=qe("chevron-up",ule);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]],Gy=qe("chevrons-down",dle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],Jw=qe("chevrons-left",hle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ej=qe("chevrons-right",fle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]],Qy=qe("chevrons-up",mle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ef=qe("circle-check",ple);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]],yle=qe("circle-off",gle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$d=qe("circle-x",xle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ble=qe("circle",vle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Bk=qe("clipboard-list",_le);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MC=qe("clock",wle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],kle=qe("code",jle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],oi=qe("copy",Sle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],W6=qe("credit-card",Nle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qD=qe("dollar-sign",Cle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ple=qe("download",Ole);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],U6=qe("ellipsis",Ele);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],TC=qe("eye",Mle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],K_=qe("file-down",Tle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qg=qe("file-text",Ale);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Dle=qe("folder-plus",zle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Ile=qe("gauge",Rle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],$le=qe("gift",Lle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ble=qe("globe",Fle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Xy=qe("grip-vertical",qle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Ule=qe("heading-2",Wle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],V6=qe("image",Vle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Vb=qe("info",Hle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],H6=qe("italic",Kle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],WD=qe("key-round",Yle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Qle=qe("layout-dashboard",Gle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],K6=qe("link-2",Xle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Jle=qe("link",Zle);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],tce=qe("list-checks",ece);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Y6=qe("list-ordered",nce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],G6=qe("list",rce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qk=qe("loader-circle",ice);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ace=qe("log-out",sce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Q6=qe("mail",oce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cce=qe("menu",lce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],UD=qe("message-square",uce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dce=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],hce=qe("moon",dce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gv=qe("octagon-x",fce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],pce=qe("palette",mce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],qr=qe("pencil",gce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bs=qe("plus",yce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],vce=qe("puzzle",xce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bce=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],_ce=qe("quote",bce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M13 16H8",key:"wsln4y"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M4 3a1 1 0 0 1 1-1 1.3 1.3 0 0 1 .7.2l.933.6a1.3 1.3 0 0 0 1.4 0l.934-.6a1.3 1.3 0 0 1 1.4 0l.933.6a1.3 1.3 0 0 0 1.4 0l.933-.6a1.3 1.3 0 0 1 1.4 0l.934.6a1.3 1.3 0 0 0 1.4 0l.933-.6A1.3 1.3 0 0 1 19 2a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1 1.3 1.3 0 0 1-.7-.2l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.934.6a1.3 1.3 0 0 1-1.4 0l-.933-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-1.4 0l-.934-.6a1.3 1.3 0 0 0-1.4 0l-.933.6a1.3 1.3 0 0 1-.7.2 1 1 0 0 1-1-1z",key:"ycz6yz"}]],VD=qe("receipt-text",wce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],X6=qe("redo",jce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pn=qe("refresh-cw",kce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dg=qe("rotate-ccw",Sce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Cce=qe("route",Nce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],va=qe("save",Oce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ni=qe("search",Pce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mE=qe("send",Ece);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],Tce=qe("server-cog",Mce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],tj=qe("server",Ace);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Z6=qe("settings",zce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yv=qe("shield-question-mark",Dce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],J6=qe("shield",Rce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],HD=qe("shield-x",Ice);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],$ce=qe("shopping-cart",Lce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],e8=qe("sliders-horizontal",Fce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],t8=qe("smartphone",Bce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wce=qe("sun",qce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],KD=qe("terminal",Uce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Y_=qe("ticket",Vce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Kce=qe("timer",Hce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Pn=qe("trash-2",Yce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xv=qe("triangle-alert",Gce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],n8=qe("undo",Qce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Wg=qe("upload",Xce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jce=qe("user-cog",Zce);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],AC=qe("user-plus",eue);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Jf=qe("users",tue);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],nj=qe("wallet",nue);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fd=qe("x",rue),r8="admin-theme",iue=()=>{var t;if(typeof window>"u")return"light";const e=localStorage.getItem(r8);return e==="light"||e==="dark"?e:(t=window.matchMedia)!=null&&t.call(window,"(prefers-color-scheme: dark)").matches?"dark":"light"};function i8(){const{t:e}=Wt(),[t,n]=f.useState(()=>iue());f.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem(r8,t)},[t]);const r=f.useMemo(()=>e(t==="dark"?"common.light":"common.dark"),[t,e]);return o.jsx(W,{variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>n(i=>i==="dark"?"light":"dark"),"aria-label":r,children:t==="dark"?o.jsx(Wce,{className:"h-4 w-4"}):o.jsx(hce,{className:"h-4 w-4"})})}function ut(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sue(e,t){const n=f.createContext(t),r=s=>{const{children:a,...l}=s,c=f.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};r.displayName=e+"Provider";function i(s){const a=f.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function ba(e,t=[]){let n=[];function r(s,a){const l=f.createContext(a),c=n.length;n=[...n,a];const u=h=>{var b;const{scope:m,children:p,...g}=h,y=((b=m==null?void 0:m[e])==null?void 0:b[c])||l,x=f.useMemo(()=>g,Object.values(g));return o.jsx(y.Provider,{value:x,children:p})};u.displayName=s+"Provider";function d(h,m){var y;const p=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=f.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>f.createContext(a));return function(l){const c=(l==null?void 0:l[e])||s;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,aue(i,...t)]}function aue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var di=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},oue=Cw[" useInsertionEffect ".trim().toString()]||di;function pl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=lue({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=f.useCallback(d=>{var h;if(l){const m=cue(d)?d(e):d;m!==e&&((h=a.current)==null||h.call(a,m))}else s(d)},[l,e,s,a]);return[c,u]}function lue({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),i=f.useRef(n),s=f.useRef(t);return oue(()=>{s.current=t},[t]),f.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function cue(e){return typeof e=="function"}function uue(e){const t=due(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(fue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function due(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=pue(i),l=mue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hue=Symbol("radix.slottable");function fue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hue}function mue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function pue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var gue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yue=gue.reduce((e,t)=>{const n=uue(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function YD(e){const t=xue(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(bue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function xue(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=wue(i),l=_ue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vue=Symbol("radix.slottable");function bue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vue}function _ue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function wue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function pE(e){const t=e+"CollectionProvider",[n,r]=ba(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:x,children:b}=y,w=ot.useRef(null),v=ot.useRef(new Map).current;return o.jsx(i,{scope:x,itemMap:v,collectionRef:w,children:b})};a.displayName=t;const l=e+"CollectionSlot",c=YD(l),u=ot.forwardRef((y,x)=>{const{scope:b,children:w}=y,v=s(l,b),_=Zt(x,v.collectionRef);return o.jsx(c,{ref:_,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=YD(d),p=ot.forwardRef((y,x)=>{const{scope:b,children:w,...v}=y,_=ot.useRef(null),j=Zt(x,_),k=s(d,b);return ot.useEffect(()=>(k.itemMap.set(_,{ref:_,...v}),()=>void k.itemMap.delete(_))),o.jsx(m,{[h]:"",ref:j,children:w})});p.displayName=d;function g(y){const x=s(e+"CollectionConsumer",y);return ot.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((k,C)=>v.indexOf(k.ref.current)-v.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,r]}var jue=f.createContext(void 0);function Zy(e){const t=f.useContext(jue);return e||t||"ltr"}function kue(e){const t=Sue(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Cue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Sue(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Pue(i),l=Oue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nue=Symbol("radix.slottable");function Cue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nue}function Oue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Pue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Eue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],s8=Eue.reduce((e,t)=>{const n=kue(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Mue(e,t){e&&Pc.flushSync(()=>e.dispatchEvent(t))}function ji(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Tue(e,t=globalThis==null?void 0:globalThis.document){const n=ji(e);f.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Aue="DismissableLayer",zC="dismissableLayer.update",zue="dismissableLayer.pointerDownOutside",Due="dismissableLayer.focusOutside",GD,a8=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jy=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=f.useContext(a8),[d,h]=f.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=f.useState({}),g=Zt(t,C=>h(C)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=y.indexOf(x),w=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=b,j=Lue(C=>{const O=C.target,P=[...u.branches].some(M=>M.contains(O));!_||P||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},m),k=$ue(C=>{const O=C.target;[...u.branches].some(M=>M.contains(O))||(s==null||s(C),a==null||a(C),C.defaultPrevented||l==null||l())},m);return Tue(C=>{w===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(GD=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),QD(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=GD)}},[d,m,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),QD())},[d,u]),f.useEffect(()=>{const C=()=>p({});return document.addEventListener(zC,C),()=>document.removeEventListener(zC,C)},[]),o.jsx(s8.div,{...c,ref:g,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:ut(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ut(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ut(e.onPointerDownCapture,j.onPointerDownCapture)})});Jy.displayName=Aue;var Rue="DismissableLayerBranch",Iue=f.forwardRef((e,t)=>{const n=f.useContext(a8),r=f.useRef(null),i=Zt(t,r);return f.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(s8.div,{...e,ref:i})});Iue.displayName=Rue;function Lue(e,t=globalThis==null?void 0:globalThis.document){const n=ji(e),r=f.useRef(!1),i=f.useRef(()=>{});return f.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){o8(zue,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function $ue(e,t=globalThis==null?void 0:globalThis.document){const n=ji(e),r=f.useRef(!1);return f.useEffect(()=>{const i=s=>{s.target&&!r.current&&o8(Due,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function QD(){const e=new CustomEvent(zC);document.dispatchEvent(e)}function o8(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Mue(i,s):i.dispatchEvent(s)}var Wk=0;function rj(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??XD()),document.body.insertAdjacentElement("beforeend",e[1]??XD()),Wk++,()=>{Wk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wk--}},[])}function XD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Fue(e){const t=Bue(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Wue);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Bue(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Vue(i),l=Uue(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var que=Symbol("radix.slottable");function Wue(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===que}function Uue(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Vue(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Hue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kue=Hue.reduce((e,t)=>{const n=Fue(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Uk="focusScope.autoFocusOnMount",Vk="focusScope.autoFocusOnUnmount",ZD={bubbles:!1,cancelable:!0},Yue="FocusScope",ex=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[l,c]=f.useState(null),u=ji(i),d=ji(s),h=f.useRef(null),m=Zt(t,y=>c(y)),p=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(v){if(p.paused||!l)return;const _=v.target;l.contains(_)?h.current=_:eu(h.current,{select:!0})},x=function(v){if(p.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||eu(h.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const j of v)j.removedNodes.length>0&&eu(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,p.paused]),f.useEffect(()=>{if(l){eR.add(p);const y=document.activeElement;if(!l.contains(y)){const b=new CustomEvent(Uk,ZD);l.addEventListener(Uk,u),l.dispatchEvent(b),b.defaultPrevented||(Gue(ede(l8(l)),{select:!0}),document.activeElement===y&&eu(l))}return()=>{l.removeEventListener(Uk,u),setTimeout(()=>{const b=new CustomEvent(Vk,ZD);l.addEventListener(Vk,d),l.dispatchEvent(b),b.defaultPrevented||eu(y??document.body,{select:!0}),l.removeEventListener(Vk,d),eR.remove(p)},0)}}},[l,u,d,p]);const g=f.useCallback(y=>{if(!n&&!r||p.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,b=document.activeElement;if(x&&b){const w=y.currentTarget,[v,_]=Que(w);v&&_?!y.shiftKey&&b===_?(y.preventDefault(),n&&eu(v,{select:!0})):y.shiftKey&&b===v&&(y.preventDefault(),n&&eu(_,{select:!0})):b===w&&y.preventDefault()}},[n,r,p.paused]);return o.jsx(Kue.div,{tabIndex:-1,...a,ref:m,onKeyDown:g})});ex.displayName=Yue;function Gue(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(eu(r,{select:t}),document.activeElement!==n)return}function Que(e){const t=l8(e),n=JD(t,e),r=JD(t.reverse(),e);return[n,r]}function l8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function JD(e,t){for(const n of e)if(!Xue(n,{upTo:t}))return n}function Xue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zue(e){return e instanceof HTMLInputElement&&"select"in e}function eu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Zue(e)&&t&&e.select()}}var eR=Jue();function Jue(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=tR(e,t),e.unshift(t)},remove(t){var n;e=tR(e,t),(n=e[0])==null||n.resume()}}}function tR(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ede(e){return e.filter(t=>t.tagName!=="A")}var tde=Cw[" useId ".trim().toString()]||(()=>{}),nde=0;function La(e){const[t,n]=f.useState(tde());return di(()=>{n(r=>r??String(nde++))},[e]),t?`radix-${t}`:""}const rde=["top","right","bottom","left"],Mu=Math.min,ra=Math.max,G_=Math.round,vv=Math.floor,dl=e=>({x:e,y:e}),ide={left:"right",right:"left",bottom:"top",top:"bottom"},sde={start:"end",end:"start"};function DC(e,t,n){return ra(e,Mu(t,n))}function pc(e,t){return typeof e=="function"?e(t):e}function gc(e){return e.split("-")[0]}function Dm(e){return e.split("-")[1]}function gE(e){return e==="x"?"y":"x"}function yE(e){return e==="y"?"height":"width"}const ade=new Set(["top","bottom"]);function il(e){return ade.has(gc(e))?"y":"x"}function xE(e){return gE(il(e))}function ode(e,t,n){n===void 0&&(n=!1);const r=Dm(e),i=xE(e),s=yE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Q_(a)),[a,Q_(a)]}function lde(e){const t=Q_(e);return[RC(e),t,RC(t)]}function RC(e){return e.replace(/start|end/g,t=>sde[t])}const nR=["left","right"],rR=["right","left"],cde=["top","bottom"],ude=["bottom","top"];function dde(e,t,n){switch(e){case"top":case"bottom":return n?t?rR:nR:t?nR:rR;case"left":case"right":return t?cde:ude;default:return[]}}function hde(e,t,n,r){const i=Dm(e);let s=dde(gc(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(RC)))),s}function Q_(e){return e.replace(/left|right|bottom|top/g,t=>ide[t])}function fde(e){return{top:0,right:0,bottom:0,left:0,...e}}function c8(e){return typeof e!="number"?fde(e):{top:e,right:e,bottom:e,left:e}}function X_(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function iR(e,t,n){let{reference:r,floating:i}=e;const s=il(t),a=xE(t),l=yE(a),c=gc(t),u=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Dm(t)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const mde=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=iR(u,r,c),m=r,p={},g=0;for(let y=0;y<l.length;y++){const{name:x,fn:b}=l[y],{x:w,y:v,data:_,reset:j}=await b({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=w??d,h=v??h,p={...p,[x]:{...p[x],..._}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:d,y:h}=iR(u,m,c)),y=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:p}};async function Ug(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=pc(t,e),g=c8(p),x=l[m?h==="floating"?"reference":"floating":h],b=X_(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},j=X_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:v,strategy:c}):w);return{top:(b.top-j.top+g.top)/_.y,bottom:(j.bottom-b.bottom+g.bottom)/_.y,left:(b.left-j.left+g.left)/_.x,right:(j.right-b.right+g.right)/_.x}}const pde=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=pc(e,t)||{};if(u==null)return{};const h=c8(d),m={x:n,y:r},p=xE(i),g=yE(p),y=await a.getDimensions(u),x=p==="y",b=x?"top":"left",w=x?"bottom":"right",v=x?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[p]-m[p]-s.floating[g],j=m[p]-s.reference[p],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=k?k[v]:0;(!C||!await(a.isElement==null?void 0:a.isElement(k)))&&(C=l.floating[v]||s.floating[g]);const O=_/2-j/2,P=C/2-y[g]/2-1,M=Mu(h[b],P),A=Mu(h[w],P),R=M,B=C-y[g]-A,F=C/2-y[g]/2+O,U=DC(R,F,B),L=!c.arrow&&Dm(i)!=null&&F!==U&&s.reference[g]/2-(F<R?M:A)-y[g]/2<0,D=L?F<R?F-R:F-B:0;return{[p]:m[p]+D,data:{[p]:U,centerOffset:F-U-D,...L&&{alignmentOffset:D}},reset:L}}}),gde=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...x}=pc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=gc(i),w=il(l),v=gc(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(v||!y?[Q_(l)]:lde(l)),k=g!=="none";!m&&k&&j.push(...hde(l,y,g,_));const C=[l,...j],O=await Ug(t,x),P=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&P.push(O[b]),h){const F=ode(i,a,_);P.push(O[F[0]],O[F[1]])}if(M=[...M,{placement:i,overflows:P}],!P.every(F=>F<=0)){var A,R;const F=(((A=s.flip)==null?void 0:A.index)||0)+1,U=C[F];if(U&&(!(h==="alignment"?w!==il(U):!1)||M.every(T=>il(T.placement)===w?T.overflows[0]>0:!0)))return{data:{index:F,overflows:M},reset:{placement:U}};let L=(R=M.filter(D=>D.overflows[0]<=0).sort((D,T)=>D.overflows[1]-T.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(p){case"bestFit":{var B;const D=(B=M.filter(T=>{if(k){const $=il(T.placement);return $===w||$==="y"}return!0}).map(T=>[T.placement,T.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((T,$)=>T[1]-$[1])[0])==null?void 0:B[0];D&&(L=D);break}case"initialPlacement":L=l;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function sR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aR(e){return rde.some(t=>e[t]>=0)}const yde=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=pc(e,t);switch(r){case"referenceHidden":{const s=await Ug(t,{...i,elementContext:"reference"}),a=sR(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:aR(a)}}}case"escaped":{const s=await Ug(t,{...i,altBoundary:!0}),a=sR(s,n.floating);return{data:{escapedOffsets:a,escaped:aR(a)}}}default:return{}}}}},u8=new Set(["left","top"]);async function xde(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=gc(n),l=Dm(n),c=il(n)==="y",u=u8.has(a)?-1:1,d=s&&c?-1:1,h=pc(t,e);let{mainAxis:m,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const vde=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=t,c=await xde(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},bde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:b,y:w}=x;return{x:b,y:w}}},...c}=pc(e,t),u={x:n,y:r},d=await Ug(t,c),h=il(gc(i)),m=gE(h);let p=u[m],g=u[h];if(s){const x=m==="y"?"top":"left",b=m==="y"?"bottom":"right",w=p+d[x],v=p-d[b];p=DC(w,p,v)}if(a){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=g+d[x],v=g-d[b];g=DC(w,g,v)}const y=l.fn({...t,[m]:p,[h]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:s,[h]:a}}}}}},_de=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pc(e,t),d={x:n,y:r},h=il(i),m=gE(h);let p=d[m],g=d[h];const y=pc(l,t),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const v=m==="y"?"height":"width",_=s.reference[m]-s.floating[v]+x.mainAxis,j=s.reference[m]+s.reference[v]-x.mainAxis;p<_?p=_:p>j&&(p=j)}if(u){var b,w;const v=m==="y"?"width":"height",_=u8.has(gc(i)),j=s.reference[h]-s.floating[v]+(_&&((b=a.offset)==null?void 0:b[h])||0)+(_?0:x.crossAxis),k=s.reference[h]+s.reference[v]+(_?0:((w=a.offset)==null?void 0:w[h])||0)-(_?x.crossAxis:0);g<j?g=j:g>k&&(g=k)}return{[m]:p,[h]:g}}}},wde=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:l}=t,{apply:c=()=>{},...u}=pc(e,t),d=await Ug(t,u),h=gc(i),m=Dm(i),p=il(i)==="y",{width:g,height:y}=s.floating;let x,b;h==="top"||h==="bottom"?(x=h,b=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,x=m==="end"?"top":"bottom");const w=y-d.top-d.bottom,v=g-d.left-d.right,_=Mu(y-d[x],w),j=Mu(g-d[b],v),k=!t.middlewareData.shift;let C=_,O=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(O=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=w),k&&!m){const M=ra(d.left,0),A=ra(d.right,0),R=ra(d.top,0),B=ra(d.bottom,0);p?O=g-2*(M!==0||A!==0?M+A:ra(d.left,d.right)):C=y-2*(R!==0||B!==0?R+B:ra(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:C});const P=await a.getDimensions(l.floating);return g!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function ij(){return typeof window<"u"}function Rm(e){return d8(e)?(e.nodeName||"").toLowerCase():"#document"}function ca(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jl(e){var t;return(t=(d8(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function d8(e){return ij()?e instanceof Node||e instanceof ca(e).Node:!1}function So(e){return ij()?e instanceof Element||e instanceof ca(e).Element:!1}function gl(e){return ij()?e instanceof HTMLElement||e instanceof ca(e).HTMLElement:!1}function oR(e){return!ij()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ca(e).ShadowRoot}const jde=new Set(["inline","contents"]);function tx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=No(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!jde.has(i)}const kde=new Set(["table","td","th"]);function Sde(e){return kde.has(Rm(e))}const Nde=[":popover-open",":modal"];function sj(e){return Nde.some(t=>{try{return e.matches(t)}catch{return!1}})}const Cde=["transform","translate","scale","rotate","perspective"],Ode=["transform","translate","scale","rotate","perspective","filter"],Pde=["paint","layout","strict","content"];function vE(e){const t=bE(),n=So(e)?No(e):e;return Cde.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ode.some(r=>(n.willChange||"").includes(r))||Pde.some(r=>(n.contain||"").includes(r))}function Ede(e){let t=Tu(e);for(;gl(t)&&!em(t);){if(vE(t))return t;if(sj(t))return null;t=Tu(t)}return null}function bE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Mde=new Set(["html","body","#document"]);function em(e){return Mde.has(Rm(e))}function No(e){return ca(e).getComputedStyle(e)}function aj(e){return So(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tu(e){if(Rm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oR(e)&&e.host||jl(e);return oR(t)?t.host:t}function h8(e){const t=Tu(e);return em(t)?e.ownerDocument?e.ownerDocument.body:e.body:gl(t)&&tx(t)?t:h8(t)}function Vg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=h8(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=ca(i);if(s){const l=IC(a);return t.concat(a,a.visualViewport||[],tx(i)?i:[],l&&n?Vg(l):[])}return t.concat(i,Vg(i,[],n))}function IC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function f8(e){const t=No(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=gl(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=G_(n)!==s||G_(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function _E(e){return So(e)?e:e.contextElement}function Mf(e){const t=_E(e);if(!gl(t))return dl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=f8(t);let a=(s?G_(n.width):n.width)/r,l=(s?G_(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Tde=dl(0);function m8(e){const t=ca(e);return!bE()||!t.visualViewport?Tde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ade(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ca(e)?!1:t}function eh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=_E(e);let a=dl(1);t&&(r?So(r)&&(a=Mf(r)):a=Mf(e));const l=Ade(s,n,r)?m8(s):dl(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const m=ca(s),p=r&&So(r)?ca(r):r;let g=m,y=IC(g);for(;y&&r&&p!==g;){const x=Mf(y),b=y.getBoundingClientRect(),w=No(y),v=b.left+(y.clientLeft+parseFloat(w.paddingLeft))*x.x,_=b.top+(y.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=v,u+=_,g=ca(y),y=IC(g)}}return X_({width:d,height:h,x:c,y:u})}function oj(e,t){const n=aj(e).scrollLeft;return t?t.left+n:eh(jl(e)).left+n}function p8(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-oj(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function zde(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=jl(r),l=t?sj(t.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=dl(1);const d=dl(0),h=gl(r);if((h||!h&&!s)&&((Rm(r)!=="body"||tx(a))&&(c=aj(r)),gl(r))){const p=eh(r);u=Mf(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=a&&!h&&!s?p8(a,c):dl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function Dde(e){return Array.from(e.getClientRects())}function Rde(e){const t=jl(e),n=aj(e),r=e.ownerDocument.body,i=ra(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=ra(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+oj(e);const l=-n.scrollTop;return No(r).direction==="rtl"&&(a+=ra(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}const lR=25;function Ide(e,t){const n=ca(e),r=jl(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const d=bE();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=oj(r);if(u<=0){const d=r.ownerDocument,h=d.body,m=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(r.clientWidth-h.clientWidth-p);g<=lR&&(s-=g)}else u<=lR&&(s+=u);return{width:s,height:a,x:l,y:c}}const Lde=new Set(["absolute","fixed"]);function $de(e,t){const n=eh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=gl(e)?Mf(e):dl(1),a=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:l,x:c,y:u}}function cR(e,t,n){let r;if(t==="viewport")r=Ide(e,n);else if(t==="document")r=Rde(jl(e));else if(So(t))r=$de(t,n);else{const i=m8(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return X_(r)}function g8(e,t){const n=Tu(e);return n===t||!So(n)||em(n)?!1:No(n).position==="fixed"||g8(n,t)}function Fde(e,t){const n=t.get(e);if(n)return n;let r=Vg(e,[],!1).filter(l=>So(l)&&Rm(l)!=="body"),i=null;const s=No(e).position==="fixed";let a=s?Tu(e):e;for(;So(a)&&!em(a);){const l=No(a),c=vE(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&Lde.has(i.position)||tx(a)&&!c&&g8(e,a))?r=r.filter(d=>d!==a):i=l,a=Tu(a)}return t.set(e,r),r}function Bde(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?sj(t)?[]:Fde(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,d)=>{const h=cR(t,d,i);return u.top=ra(h.top,u.top),u.right=Mu(h.right,u.right),u.bottom=Mu(h.bottom,u.bottom),u.left=ra(h.left,u.left),u},cR(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qde(e){const{width:t,height:n}=f8(e);return{width:t,height:n}}function Wde(e,t,n){const r=gl(t),i=jl(t),s=n==="fixed",a=eh(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=dl(0);function u(){c.x=oj(i)}if(r||!r&&!s)if((Rm(t)!=="body"||tx(i))&&(l=aj(t)),r){const p=eh(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?p8(i,l):dl(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function Hk(e){return No(e).position==="static"}function uR(e,t){if(!gl(e)||No(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jl(e)===n&&(n=n.ownerDocument.body),n}function y8(e,t){const n=ca(e);if(sj(e))return n;if(!gl(e)){let i=Tu(e);for(;i&&!em(i);){if(So(i)&&!Hk(i))return i;i=Tu(i)}return n}let r=uR(e,t);for(;r&&Sde(r)&&Hk(r);)r=uR(r,t);return r&&em(r)&&Hk(r)&&!vE(r)?n:r||Ede(e)||n}const Ude=async function(e){const t=this.getOffsetParent||y8,n=this.getDimensions,r=await n(e.floating);return{reference:Wde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Vde(e){return No(e).direction==="rtl"}const Hde={convertOffsetParentRelativeRectToViewportRelativeRect:zde,getDocumentElement:jl,getClippingRect:Bde,getOffsetParent:y8,getElementRects:Ude,getClientRects:Dde,getDimensions:qde,getScale:Mf,isElement:So,isRTL:Vde};function x8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kde(e,t){let n=null,r;const i=jl(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(l||t(),!m||!p)return;const g=vv(h),y=vv(i.clientWidth-(d+m)),x=vv(i.clientHeight-(h+p)),b=vv(d),v={rootMargin:-g+"px "+-y+"px "+-x+"px "+-b+"px",threshold:ra(0,Mu(1,c))||1};let _=!0;function j(k){const C=k[0].intersectionRatio;if(C!==c){if(!_)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!x8(u,e.getBoundingClientRect())&&a(),_=!1}try{n=new IntersectionObserver(j,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,v)}n.observe(e)}return a(!0),s}function Yde(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=_E(e),d=i||s?[...u?Vg(u):[],...Vg(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const h=u&&l?Kde(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let g,y=c?eh(e):null;c&&x();function x(){const b=eh(e);y&&!x8(y,b)&&n(),y=b,g=requestAnimationFrame(x)}return n(),()=>{var b;d.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const Gde=vde,Qde=bde,Xde=gde,Zde=wde,Jde=yde,dR=pde,ehe=_de,the=(e,t,n)=>{const r=new Map,i={platform:Hde,...n},s={...i.platform,_c:r};return mde(e,t,{...i,platform:s})};var nhe=typeof document<"u",rhe=function(){},Hb=nhe?f.useLayoutEffect:rhe;function Z_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Z_(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Z_(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function v8(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hR(e,t){const n=v8(e);return Math.round(t*n)/n}function Kk(e){const t=f.useRef(e);return Hb(()=>{t.current=e}),t}function ihe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=f.useState(r);Z_(m,r)||p(r);const[g,y]=f.useState(null),[x,b]=f.useState(null),w=f.useCallback(T=>{T!==k.current&&(k.current=T,y(T))},[]),v=f.useCallback(T=>{T!==C.current&&(C.current=T,b(T))},[]),_=s||g,j=a||x,k=f.useRef(null),C=f.useRef(null),O=f.useRef(d),P=c!=null,M=Kk(c),A=Kk(i),R=Kk(u),B=f.useCallback(()=>{if(!k.current||!C.current)return;const T={placement:t,strategy:n,middleware:m};A.current&&(T.platform=A.current),the(k.current,C.current,T).then($=>{const G={...$,isPositioned:R.current!==!1};F.current&&!Z_(O.current,G)&&(O.current=G,Pc.flushSync(()=>{h(G)}))})},[m,t,n,A,R]);Hb(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(T=>({...T,isPositioned:!1})))},[u]);const F=f.useRef(!1);Hb(()=>(F.current=!0,()=>{F.current=!1}),[]),Hb(()=>{if(_&&(k.current=_),j&&(C.current=j),_&&j){if(M.current)return M.current(_,j,B);B()}},[_,j,B,M,P]);const U=f.useMemo(()=>({reference:k,floating:C,setReference:w,setFloating:v}),[w,v]),L=f.useMemo(()=>({reference:_,floating:j}),[_,j]),D=f.useMemo(()=>{const T={position:n,left:0,top:0};if(!L.floating)return T;const $=hR(L.floating,d.x),G=hR(L.floating,d.y);return l?{...T,transform:"translate("+$+"px, "+G+"px)",...v8(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,l,L.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:B,refs:U,elements:L,floatingStyles:D}),[d,B,U,L,D])}const she=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?dR({element:r.current,padding:i}).fn(n):{}:r?dR({element:r,padding:i}).fn(n):{}}}},ahe=(e,t)=>({...Gde(e),options:[e,t]}),ohe=(e,t)=>({...Qde(e),options:[e,t]}),lhe=(e,t)=>({...ehe(e),options:[e,t]}),che=(e,t)=>({...Xde(e),options:[e,t]}),uhe=(e,t)=>({...Zde(e),options:[e,t]}),dhe=(e,t)=>({...Jde(e),options:[e,t]}),hhe=(e,t)=>({...she(e),options:[e,t]});function fhe(e){const t=mhe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(ghe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function mhe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=xhe(i),l=yhe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var phe=Symbol("radix.slottable");function ghe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===phe}function yhe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function xhe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bhe=vhe.reduce((e,t)=>{const n=fhe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_he="Arrow",b8=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return o.jsx(bhe.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});b8.displayName=_he;var whe=b8;function jhe(e){const t=khe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Nhe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function khe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Ohe(i),l=Che(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var She=Symbol("radix.slottable");function Nhe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===She}function Che(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Ohe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Phe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_8=Phe.reduce((e,t)=>{const n=jhe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wE(e){const[t,n]=f.useState(void 0);return di(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var jE="Popper",[w8,Im]=ba(jE),[Ehe,j8]=w8(jE),k8=e=>{const{__scopePopper:t,children:n}=e,[r,i]=f.useState(null);return o.jsx(Ehe,{scope:t,anchor:r,onAnchorChange:i,children:n})};k8.displayName=jE;var S8="PopperAnchor",N8=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=j8(S8,n),a=f.useRef(null),l=Zt(t,a),c=f.useRef(null);return f.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:o.jsx(_8.div,{...i,ref:l})});N8.displayName=S8;var kE="PopperContent",[Mhe,The]=w8(kE),C8=f.forwardRef((e,t)=>{var ge,Ve,oe,Pe,Y,te;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:g,...y}=e,x=j8(kE,n),[b,w]=f.useState(null),v=Zt(t,Ne=>w(Ne)),[_,j]=f.useState(null),k=wE(_),C=(k==null?void 0:k.width)??0,O=(k==null?void 0:k.height)??0,P=r+(s!=="center"?"-"+s:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],R=A.length>0,B={padding:M,boundary:A.filter(zhe),altBoundary:R},{refs:F,floatingStyles:U,placement:L,isPositioned:D,middlewareData:T}=ihe({strategy:"fixed",placement:P,whileElementsMounted:(...Ne)=>Yde(...Ne,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[ahe({mainAxis:i+O,alignmentAxis:a}),c&&ohe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?lhe():void 0,...B}),c&&che({...B}),uhe({...B,apply:({elements:Ne,rects:Te,availableWidth:V,availableHeight:ue})=>{const{width:pe,height:$e}=Te.reference,Qe=Ne.floating.style;Qe.setProperty("--radix-popper-available-width",`${V}px`),Qe.setProperty("--radix-popper-available-height",`${ue}px`),Qe.setProperty("--radix-popper-anchor-width",`${pe}px`),Qe.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),_&&hhe({element:_,padding:l}),Dhe({arrowWidth:C,arrowHeight:O}),m&&dhe({strategy:"referenceHidden",...B})]}),[$,G]=E8(L),ie=ji(g);di(()=>{D&&(ie==null||ie())},[D,ie]);const X=(ge=T.arrow)==null?void 0:ge.x,se=(Ve=T.arrow)==null?void 0:Ve.y,xe=((oe=T.arrow)==null?void 0:oe.centerOffset)!==0,[me,De]=f.useState();return di(()=>{b&&De(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:D?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[(Pe=T.transformOrigin)==null?void 0:Pe.x,(Y=T.transformOrigin)==null?void 0:Y.y].join(" "),...((te=T.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Mhe,{scope:n,placedSide:$,onArrowChange:j,arrowX:X,arrowY:se,shouldHideArrow:xe,children:o.jsx(_8.div,{"data-side":$,"data-align":G,...y,ref:v,style:{...y.style,animation:D?void 0:"none"}})})})});C8.displayName=kE;var O8="PopperArrow",Ahe={top:"bottom",right:"left",bottom:"top",left:"right"},P8=f.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=The(O8,r),a=Ahe[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(whe,{...i,ref:n,style:{...i.style,display:"block"}})})});P8.displayName=O8;function zhe(e){return e!==null}var Dhe=e=>({name:"transformOrigin",options:e,fn(t){var x,b,w;const{placement:n,rects:r,middlewareData:i}=t,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=E8(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=a?h:`${m}px`,y=`${-c}px`):u==="top"?(g=a?h:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=a?h:`${p}px`):u==="left"&&(g=`${r.floating.width+c}px`,y=a?h:`${p}px`),{data:{x:g,y}}}});function E8(e){const[t,n="center"]=e.split("-");return[t,n]}var SE=k8,lj=N8,NE=C8,CE=P8;function Rhe(e){const t=Ihe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find($he);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Ihe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Bhe(i),l=Fhe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Lhe=Symbol("radix.slottable");function $he(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Lhe}function Fhe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Bhe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Whe=qhe.reduce((e,t)=>{const n=Rhe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Uhe="Portal",nx=f.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,s]=f.useState(!1);di(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Ane.createPortal(o.jsx(Whe.div,{...r,ref:t}),a):null});nx.displayName=Uhe;function Vhe(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Pi=e=>{const{present:t,children:n}=e,r=Hhe(t),i=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),s=Zt(r.ref,Khe(i));return typeof n=="function"||r.isPresent?f.cloneElement(i,{ref:s}):null};Pi.displayName="Presence";function Hhe(e){const[t,n]=f.useState(),r=f.useRef(null),i=f.useRef(e),s=f.useRef("none"),a=e?"mounted":"unmounted",[l,c]=Vhe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=bv(r.current);s.current=l==="mounted"?u:"none"},[l]),di(()=>{const u=r.current,d=i.current;if(d!==e){const m=s.current,p=bv(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),di(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const y=bv(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&y&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=p=>{p.target===t&&(s.current=bv(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function bv(e){return(e==null?void 0:e.animationName)||"none"}function Khe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function M8(e){const t=Yhe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Qhe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Yhe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Zhe(i),l=Xhe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ghe=Symbol("radix.slottable");function Qhe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ghe}function Xhe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Zhe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Jhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rx=Jhe.reduce((e,t)=>{const n=M8(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function efe(e,t){e&&Pc.flushSync(()=>e.dispatchEvent(t))}function tfe(e){const t=nfe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(ife);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function nfe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=afe(i),l=sfe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rfe=Symbol("radix.slottable");function ife(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rfe}function sfe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function afe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ofe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],T8=ofe.reduce((e,t)=>{const n=tfe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Yk="rovingFocusGroup.onEntryFocus",lfe={bubbles:!1,cancelable:!0},ix="RovingFocusGroup",[LC,A8,cfe]=pE(ix),[ufe,cj]=ba(ix,[cfe]),[dfe,hfe]=ufe(ix),z8=f.forwardRef((e,t)=>o.jsx(LC.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(LC.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ffe,{...e,ref:t})})}));z8.displayName=ix;var ffe=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),p=Zt(t,m),g=Zy(s),[y,x]=pl({prop:a,defaultProp:l??null,onChange:c,caller:ix}),[b,w]=f.useState(!1),v=ji(u),_=A8(n),j=f.useRef(!1),[k,C]=f.useState(0);return f.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(Yk,v),()=>O.removeEventListener(Yk,v)},[v]),o.jsx(dfe,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:f.useCallback(O=>x(O),[x]),onItemShiftTab:f.useCallback(()=>w(!0),[]),onFocusableItemAdd:f.useCallback(()=>C(O=>O+1),[]),onFocusableItemRemove:f.useCallback(()=>C(O=>O-1),[]),children:o.jsx(T8.div,{tabIndex:b||k===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ut(e.onMouseDown,()=>{j.current=!0}),onFocus:ut(e.onFocus,O=>{const P=!j.current;if(O.target===O.currentTarget&&P&&!b){const M=new CustomEvent(Yk,lfe);if(O.currentTarget.dispatchEvent(M),!M.defaultPrevented){const A=_().filter(L=>L.focusable),R=A.find(L=>L.active),B=A.find(L=>L.id===y),U=[R,B,...A].filter(Boolean).map(L=>L.ref.current);I8(U,d)}}j.current=!1}),onBlur:ut(e.onBlur,()=>w(!1))})})}),D8="RovingFocusGroupItem",R8=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...l}=e,c=La(),u=s||c,d=hfe(D8,n),h=d.currentTabStopId===u,m=A8(n),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:y}=d;return f.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),o.jsx(LC.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:o.jsx(T8.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ut(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:ut(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ut(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=gfe(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let v=m().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")v.reverse();else if(b==="prev"||b==="next"){b==="prev"&&v.reverse();const _=v.indexOf(x.currentTarget);v=d.loop?yfe(v,_+1):v.slice(_+1)}setTimeout(()=>I8(v))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});R8.displayName=D8;var mfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gfe(e,t,n){const r=pfe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return mfe[r]}function I8(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function yfe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var L8=z8,$8=R8,xfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dh=new WeakMap,_v=new WeakMap,wv={},Gk=0,F8=function(e){return e&&(e.host||F8(e.parentNode))},vfe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=F8(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},bfe=function(e,t,n,r){var i=vfe(t,Array.isArray(e)?e:[e]);wv[n]||(wv[n]=new WeakMap);var s=wv[n],a=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(r),g=p!==null&&p!=="false",y=(Dh.get(m)||0)+1,x=(s.get(m)||0)+1;Dh.set(m,y),s.set(m,x),a.push(m),y===1&&g&&_v.set(m,!0),x===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(t),l.clear(),Gk++,function(){a.forEach(function(h){var m=Dh.get(h)-1,p=s.get(h)-1;Dh.set(h,m),s.set(h,p),m||(_v.has(h)||h.removeAttribute(r),_v.delete(h)),p||h.removeAttribute(n)}),Gk--,Gk||(Dh=new WeakMap,Dh=new WeakMap,_v=new WeakMap,wv={})}},uj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=xfe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),bfe(r,i,n,"aria-hidden")):function(){return null}},Zo=function(){return Zo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Zo.apply(this,arguments)};function B8(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _fe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Kb="right-scroll-bar-position",Yb="width-before-scroll-bar",wfe="with-scroll-bars-hidden",jfe="--removed-body-scroll-bar-size";function Qk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kfe(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Sfe=typeof window<"u"?f.useLayoutEffect:f.useEffect,fR=new WeakMap;function Nfe(e,t){var n=kfe(null,function(r){return e.forEach(function(i){return Qk(i,r)})});return Sfe(function(){var r=fR.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(l){s.has(l)||Qk(l,null)}),s.forEach(function(l){i.has(l)||Qk(l,a)})}fR.set(n,e)},[e]),n}function Cfe(e){return e}function Ofe(e,t){t===void 0&&(t=Cfe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function Pfe(e){e===void 0&&(e={});var t=Ofe(null);return t.options=Zo({async:!0,ssr:!1},e),t}var q8=function(e){var t=e.sideCar,n=B8(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Zo({},n))};q8.isSideCarExport=!0;function Efe(e,t){return e.useMedium(t),q8}var W8=Pfe(),Xk=function(){},dj=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Xk,onWheelCapture:Xk,onTouchMoveCapture:Xk}),i=r[0],s=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,p=e.noRelative,g=e.noIsolation,y=e.inert,x=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,v=e.gapMode,_=B8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,k=Nfe([n,t]),C=Zo(Zo({},_),i);return f.createElement(f.Fragment,null,d&&f.createElement(j,{sideCar:W8,removeScrollBar:u,shards:h,noRelative:p,noIsolation:g,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:v}),a?f.cloneElement(f.Children.only(l),Zo(Zo({},C),{ref:k})):f.createElement(w,Zo({},C,{className:c,ref:k}),l))});dj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dj.classNames={fullWidth:Yb,zeroRight:Kb};var Mfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tfe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Mfe();return t&&e.setAttribute("nonce",t),e}function Afe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zfe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Dfe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tfe())&&(Afe(t,n),zfe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rfe=function(){var e=Dfe();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},U8=function(){var e=Rfe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Ife={left:0,top:0,right:0,gap:0},Zk=function(e){return parseInt(e||"",10)||0},Lfe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Zk(n),Zk(r),Zk(i)]},$fe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ife;var t=Lfe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Ffe=U8(),Tf="data-scroll-locked",Bfe=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Tf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kb,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Yb,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Kb," .").concat(Kb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Yb," .").concat(Yb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Tf,`] {
    `).concat(jfe,": ").concat(l,`px;
  }
`)},mR=function(){var e=parseInt(document.body.getAttribute(Tf)||"0",10);return isFinite(e)?e:0},qfe=function(){f.useEffect(function(){return document.body.setAttribute(Tf,(mR()+1).toString()),function(){var e=mR()-1;e<=0?document.body.removeAttribute(Tf):document.body.setAttribute(Tf,e.toString())}},[])},Wfe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;qfe();var s=f.useMemo(function(){return $fe(i)},[i]);return f.createElement(Ffe,{styles:Bfe(s,!t,i,n?"":"!important")})},$C=!1;if(typeof window<"u")try{var jv=Object.defineProperty({},"passive",{get:function(){return $C=!0,!0}});window.addEventListener("test",jv,jv),window.removeEventListener("test",jv,jv)}catch{$C=!1}var Rh=$C?{passive:!1}:!1,Ufe=function(e){return e.tagName==="TEXTAREA"},V8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ufe(e)&&n[t]==="visible")},Vfe=function(e){return V8(e,"overflowY")},Hfe=function(e){return V8(e,"overflowX")},pR=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=H8(e,r);if(i){var s=K8(e,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Kfe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Yfe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},H8=function(e,t){return e==="v"?Vfe(t):Hfe(t)},K8=function(e,t){return e==="v"?Kfe(t):Yfe(t)},Gfe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Qfe=function(e,t,n,r,i){var s=Gfe(e,window.getComputedStyle(t).direction),a=s*r,l=n.target,c=t.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var p=K8(e,l),g=p[0],y=p[1],x=p[2],b=y-x-s*g;(g||b)&&H8(e,l)&&(h+=b,m+=g);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},kv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},gR=function(e){return[e.deltaX,e.deltaY]},yR=function(e){return e&&"current"in e?e.current:e},Xfe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zfe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Jfe=0,Ih=[];function eme(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),i=f.useState(Jfe++)[0],s=f.useState(U8)[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=_fe([e.lockRef.current],(e.shards||[]).map(yR),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var b=kv(y),w=n.current,v="deltaX"in y?y.deltaX:w[0]-b[0],_="deltaY"in y?y.deltaY:w[1]-b[1],j,k=y.target,C=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in y&&C==="h"&&k.type==="range")return!1;var O=window.getSelection(),P=O&&O.anchorNode,M=P?P===k||P.contains(k):!1;if(M)return!1;var A=pR(C,k);if(!A)return!0;if(A?j=C:(j=C==="v"?"h":"v",A=pR(C,k)),!A)return!1;if(!r.current&&"changedTouches"in y&&(v||_)&&(r.current=j),!j)return!0;var R=r.current||j;return Qfe(R,x,y,R==="h"?v:_)},[]),c=f.useCallback(function(y){var x=y;if(!(!Ih.length||Ih[Ih.length-1]!==s)){var b="deltaY"in x?gR(x):kv(x),w=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&Xfe(j.delta,b)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var v=(a.current.shards||[]).map(yR).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=v.length>0?l(x,v[0]):!a.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=f.useCallback(function(y,x,b,w){var v={name:y,delta:x,target:b,should:w,shadowParent:tme(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=f.useCallback(function(y){n.current=kv(y),r.current=void 0},[]),h=f.useCallback(function(y){u(y.type,gR(y),y.target,l(y,e.lockRef.current))},[]),m=f.useCallback(function(y){u(y.type,kv(y),y.target,l(y,e.lockRef.current))},[]);f.useEffect(function(){return Ih.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Rh),document.addEventListener("touchmove",c,Rh),document.addEventListener("touchstart",d,Rh),function(){Ih=Ih.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,Rh),document.removeEventListener("touchmove",c,Rh),document.removeEventListener("touchstart",d,Rh)}},[]);var p=e.removeScrollBar,g=e.inert;return f.createElement(f.Fragment,null,g?f.createElement(s,{styles:Zfe(i)}):null,p?f.createElement(Wfe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function tme(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const nme=Efe(W8,eme);var sx=f.forwardRef(function(e,t){return f.createElement(dj,Zo({},e,{ref:t,sideCar:nme}))});sx.classNames=dj.classNames;var FC=["Enter"," "],rme=["ArrowDown","PageUp","Home"],Y8=["ArrowUp","PageDown","End"],ime=[...rme,...Y8],sme={ltr:[...FC,"ArrowRight"],rtl:[...FC,"ArrowLeft"]},ame={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ax="Menu",[Hg,ome,lme]=pE(ax),[bh,G8]=ba(ax,[lme,Im,cj]),hj=Im(),Q8=cj(),[cme,_h]=bh(ax),[ume,ox]=bh(ax),X8=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,l=hj(t),[c,u]=f.useState(null),d=f.useRef(!1),h=ji(s),m=Zy(i);return f.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(SE,{...l,children:o.jsx(cme,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(ume,{scope:t,onClose:f.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};X8.displayName=ax;var dme="MenuAnchor",OE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=hj(n);return o.jsx(lj,{...i,...r,ref:t})});OE.displayName=dme;var PE="MenuPortal",[hme,Z8]=bh(PE,{forceMount:void 0}),J8=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=_h(PE,t);return o.jsx(hme,{scope:t,forceMount:n,children:o.jsx(Pi,{present:n||s.open,children:o.jsx(nx,{asChild:!0,container:i,children:r})})})};J8.displayName=PE;var $a="MenuContent",[fme,EE]=bh($a),eW=f.forwardRef((e,t)=>{const n=Z8($a,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=_h($a,e.__scopeMenu),a=ox($a,e.__scopeMenu);return o.jsx(Hg.Provider,{scope:e.__scopeMenu,children:o.jsx(Pi,{present:r||s.open,children:o.jsx(Hg.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(mme,{...i,ref:t}):o.jsx(pme,{...i,ref:t})})})})}),mme=f.forwardRef((e,t)=>{const n=_h($a,e.__scopeMenu),r=f.useRef(null),i=Zt(t,r);return f.useEffect(()=>{const s=r.current;if(s)return uj(s)},[]),o.jsx(ME,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ut(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pme=f.forwardRef((e,t)=>{const n=_h($a,e.__scopeMenu);return o.jsx(ME,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),gme=M8("MenuContent.ScrollLock"),ME=f.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:g,...y}=e,x=_h($a,n),b=ox($a,n),w=hj(n),v=Q8(n),_=ome(n),[j,k]=f.useState(null),C=f.useRef(null),O=Zt(t,C,x.onContentChange),P=f.useRef(0),M=f.useRef(""),A=f.useRef(0),R=f.useRef(null),B=f.useRef("right"),F=f.useRef(0),U=g?sx:f.Fragment,L=g?{as:gme,allowPinchZoom:!0}:void 0,D=$=>{var ge,Ve;const G=M.current+$,ie=_().filter(oe=>!oe.disabled),X=document.activeElement,se=(ge=ie.find(oe=>oe.ref.current===X))==null?void 0:ge.textValue,xe=ie.map(oe=>oe.textValue),me=Ome(xe,G,se),De=(Ve=ie.find(oe=>oe.textValue===me))==null?void 0:Ve.ref.current;(function oe(Pe){M.current=Pe,window.clearTimeout(P.current),Pe!==""&&(P.current=window.setTimeout(()=>oe(""),1e3))})(G),De&&setTimeout(()=>De.focus())};f.useEffect(()=>()=>window.clearTimeout(P.current),[]),rj();const T=f.useCallback($=>{var ie,X;return B.current===((ie=R.current)==null?void 0:ie.side)&&Eme($,(X=R.current)==null?void 0:X.area)},[]);return o.jsx(fme,{scope:n,searchRef:M,onItemEnter:f.useCallback($=>{T($)&&$.preventDefault()},[T]),onItemLeave:f.useCallback($=>{var G;T($)||((G=C.current)==null||G.focus(),k(null))},[T]),onTriggerLeave:f.useCallback($=>{T($)&&$.preventDefault()},[T]),pointerGraceTimerRef:A,onPointerGraceIntentChange:f.useCallback($=>{R.current=$},[]),children:o.jsx(U,{...L,children:o.jsx(ex,{asChild:!0,trapped:i,onMountAutoFocus:ut(s,$=>{var G;$.preventDefault(),(G=C.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Jy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:o.jsx(L8,{asChild:!0,...v,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:k,onEntryFocus:ut(c,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(NE,{role:"menu","aria-orientation":"vertical","data-state":gW(x.open),"data-radix-menu-content":"",dir:b.dir,...w,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:ut(y.onKeyDown,$=>{const ie=$.target.closest("[data-radix-menu-content]")===$.currentTarget,X=$.ctrlKey||$.altKey||$.metaKey,se=$.key.length===1;ie&&($.key==="Tab"&&$.preventDefault(),!X&&se&&D($.key));const xe=C.current;if($.target!==xe||!ime.includes($.key))return;$.preventDefault();const De=_().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);Y8.includes($.key)&&De.reverse(),Nme(De)}),onBlur:ut(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(P.current),M.current="")}),onPointerMove:ut(e.onPointerMove,Kg($=>{const G=$.target,ie=F.current!==$.clientX;if($.currentTarget.contains(G)&&ie){const X=$.clientX>F.current?"right":"left";B.current=X,F.current=$.clientX}}))})})})})})})});eW.displayName=$a;var yme="MenuGroup",TE=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(rx.div,{role:"group",...r,ref:t})});TE.displayName=yme;var xme="MenuLabel",tW=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(rx.div,{...r,ref:t})});tW.displayName=xme;var J_="MenuItem",xR="menu.itemSelect",fj=f.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=f.useRef(null),a=ox(J_,e.__scopeMenu),l=EE(J_,e.__scopeMenu),c=Zt(t,s),u=f.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const m=new CustomEvent(xR,{bubbles:!0,cancelable:!0});h.addEventListener(xR,p=>r==null?void 0:r(p),{once:!0}),efe(h,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(nW,{...i,ref:c,disabled:n,onClick:ut(e.onClick,d),onPointerDown:h=>{var m;(m=e.onPointerDown)==null||m.call(e,h),u.current=!0},onPointerUp:ut(e.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:ut(e.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||FC.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});fj.displayName=J_;var nW=f.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=EE(J_,n),l=Q8(n),c=f.useRef(null),u=Zt(t,c),[d,h]=f.useState(!1),[m,p]=f.useState("");return f.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[s.children]),o.jsx(Hg.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:o.jsx($8,{asChild:!0,...l,focusable:!r,children:o.jsx(rx.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:ut(e.onPointerMove,Kg(g=>{r?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ut(e.onPointerLeave,Kg(g=>a.onItemLeave(g))),onFocus:ut(e.onFocus,()=>h(!0)),onBlur:ut(e.onBlur,()=>h(!1))})})})}),vme="MenuCheckboxItem",rW=f.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return o.jsx(lW,{scope:e.__scopeMenu,checked:n,children:o.jsx(fj,{role:"menuitemcheckbox","aria-checked":e0(n)?"mixed":n,...i,ref:t,"data-state":zE(n),onSelect:ut(i.onSelect,()=>r==null?void 0:r(e0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});rW.displayName=vme;var iW="MenuRadioGroup",[bme,_me]=bh(iW,{value:void 0,onValueChange:()=>{}}),sW=f.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=ji(r);return o.jsx(bme,{scope:e.__scopeMenu,value:n,onValueChange:s,children:o.jsx(TE,{...i,ref:t})})});sW.displayName=iW;var aW="MenuRadioItem",oW=f.forwardRef((e,t)=>{const{value:n,...r}=e,i=_me(aW,e.__scopeMenu),s=n===i.value;return o.jsx(lW,{scope:e.__scopeMenu,checked:s,children:o.jsx(fj,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":zE(s),onSelect:ut(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});oW.displayName=aW;var AE="MenuItemIndicator",[lW,wme]=bh(AE,{checked:!1}),cW=f.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=wme(AE,n);return o.jsx(Pi,{present:r||e0(s.checked)||s.checked===!0,children:o.jsx(rx.span,{...i,ref:t,"data-state":zE(s.checked)})})});cW.displayName=AE;var jme="MenuSeparator",uW=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return o.jsx(rx.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});uW.displayName=jme;var kme="MenuArrow",dW=f.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=hj(n);return o.jsx(CE,{...i,...r,ref:t})});dW.displayName=kme;var Sme="MenuSub",[eWe,hW]=bh(Sme),qp="MenuSubTrigger",fW=f.forwardRef((e,t)=>{const n=_h(qp,e.__scopeMenu),r=ox(qp,e.__scopeMenu),i=hW(qp,e.__scopeMenu),s=EE(qp,e.__scopeMenu),a=f.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=f.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return f.useEffect(()=>d,[d]),f.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(OE,{asChild:!0,...u,children:o.jsx(nW,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":gW(n.open),...e,ref:xr(t,i.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ut(e.onPointerMove,Kg(h=>{s.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ut(e.onPointerLeave,Kg(h=>{var p,g;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(g=n.content)==null?void 0:g.dataset.side,x=y==="right",b=x?-5:5,w=m[x?"left":"right"],v=m[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:m.top},{x:v,y:m.top},{x:v,y:m.bottom},{x:w,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ut(e.onKeyDown,h=>{var p;const m=s.searchRef.current!=="";e.disabled||m&&h.key===" "||sme[r.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});fW.displayName=qp;var mW="MenuSubContent",pW=f.forwardRef((e,t)=>{const n=Z8($a,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=_h($a,e.__scopeMenu),a=ox($a,e.__scopeMenu),l=hW(mW,e.__scopeMenu),c=f.useRef(null),u=Zt(t,c);return o.jsx(Hg.Provider,{scope:e.__scopeMenu,children:o.jsx(Pi,{present:r||s.open,children:o.jsx(Hg.Slot,{scope:e.__scopeMenu,children:o.jsx(ME,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ut(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ut(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ut(e.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),m=ame[a.dir].includes(d.key);h&&m&&(s.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});pW.displayName=mW;function gW(e){return e?"open":"closed"}function e0(e){return e==="indeterminate"}function zE(e){return e0(e)?"indeterminate":e?"checked":"unchecked"}function Nme(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Cme(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Ome(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Cme(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Pme(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const l=t[s],c=t[a],u=l.x,d=l.y,h=c.x,m=c.y;d>r!=m>r&&n<(h-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function Eme(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Pme(n,t)}function Kg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Mme=X8,Tme=OE,Ame=J8,zme=eW,Dme=TE,Rme=tW,Ime=fj,Lme=rW,$me=sW,Fme=oW,Bme=cW,qme=uW,Wme=dW,Ume=fW,Vme=pW,mj="DropdownMenu",[Hme]=ba(mj,[G8]),ys=G8(),[Kme,yW]=Hme(mj),xW=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=e,c=ys(t),u=f.useRef(null),[d,h]=pl({prop:i,defaultProp:s??!1,onChange:a,caller:mj});return o.jsx(Kme,{scope:t,triggerId:La(),triggerRef:u,contentId:La(),open:d,onOpenChange:h,onOpenToggle:f.useCallback(()=>h(m=>!m),[h]),modal:l,children:o.jsx(Mme,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};xW.displayName=mj;var vW="DropdownMenuTrigger",bW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=yW(vW,n),a=ys(n);return o.jsx(Tme,{asChild:!0,...a,children:o.jsx(yue.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:xr(t,s.triggerRef),onPointerDown:ut(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:ut(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bW.displayName=vW;var Yme="DropdownMenuPortal",_W=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ys(t);return o.jsx(Ame,{...r,...n})};_W.displayName=Yme;var wW="DropdownMenuContent",jW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=yW(wW,n),s=ys(n),a=f.useRef(!1);return o.jsx(zme,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:ut(e.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:ut(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jW.displayName=wW;var Gme="DropdownMenuGroup",Qme=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Dme,{...i,...r,ref:t})});Qme.displayName=Gme;var Xme="DropdownMenuLabel",kW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Rme,{...i,...r,ref:t})});kW.displayName=Xme;var Zme="DropdownMenuItem",SW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Ime,{...i,...r,ref:t})});SW.displayName=Zme;var Jme="DropdownMenuCheckboxItem",NW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Lme,{...i,...r,ref:t})});NW.displayName=Jme;var epe="DropdownMenuRadioGroup",tpe=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx($me,{...i,...r,ref:t})});tpe.displayName=epe;var npe="DropdownMenuRadioItem",CW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Fme,{...i,...r,ref:t})});CW.displayName=npe;var rpe="DropdownMenuItemIndicator",OW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Bme,{...i,...r,ref:t})});OW.displayName=rpe;var ipe="DropdownMenuSeparator",PW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(qme,{...i,...r,ref:t})});PW.displayName=ipe;var spe="DropdownMenuArrow",ape=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Wme,{...i,...r,ref:t})});ape.displayName=spe;var ope="DropdownMenuSubTrigger",EW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Ume,{...i,...r,ref:t})});EW.displayName=ope;var lpe="DropdownMenuSubContent",MW=f.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=ys(n);return o.jsx(Vme,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MW.displayName=lpe;var cpe=xW,upe=bW,dpe=_W,TW=jW,AW=kW,zW=SW,DW=NW,RW=CW,IW=OW,LW=PW,$W=EW,FW=MW;const Ua=cpe,Va=upe,hpe=f.forwardRef(({className:e,inset:t,children:n,...r},i)=>o.jsxs($W,{ref:i,className:ae("flex cursor-default select-none items-center rounded-md px-3 py-2 text-sm outline-none focus:bg-muted/60 data-[state=open]:bg-muted/60",t&&"pl-8",e),...r,children:[n,o.jsx(zm,{className:"ml-auto h-4 w-4"})]}));hpe.displayName=$W.displayName;const fpe=f.forwardRef(({className:e,...t},n)=>o.jsx(FW,{ref:n,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));fpe.displayName=FW.displayName;const fa=f.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(dpe,{children:o.jsx(TW,{ref:r,sideOffset:t,className:ae("z-50 min-w-[10rem] overflow-hidden rounded-xl border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));fa.displayName=TW.displayName;const nn=f.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(zW,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-md px-3 py-2 text-sm outline-none transition-colors focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));nn.displayName=zW.displayName;const DE=f.forwardRef(({className:e,children:t,checked:n,...r},i)=>o.jsxs(DW,{ref:i,className:ae("relative flex cursor-default select-none items-center rounded-md py-2 pl-8 pr-3 text-sm outline-none transition-colors focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IW,{children:o.jsx(hE,{className:"h-4 w-4"})})}),t]}));DE.displayName=DW.displayName;const mpe=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(RW,{ref:r,className:ae("relative flex cursor-default select-none items-center rounded-md py-2 pl-8 pr-3 text-sm outline-none transition-colors focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(IW,{children:o.jsx(ble,{className:"h-2 w-2 fill-current"})})}),t]}));mpe.displayName=RW.displayName;const Yg=f.forwardRef(({className:e,inset:t,...n},r)=>o.jsx(AW,{ref:r,className:ae("px-3 py-2 text-xs font-semibold uppercase text-muted-foreground",t&&"pl-8",e),...n}));Yg.displayName=AW.displayName;const es=f.forwardRef(({className:e,...t},n)=>o.jsx(LW,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));es.displayName=LW.displayName;const Gg=({className:e,...t})=>o.jsx("span",{className:ae("ml-auto text-xs tracking-widest opacity-60",e),...t});Gg.displayName="DropdownMenuShortcut";function BW(){var s;const{i18n:e,t}=Wt(),n=(s=e.language)!=null&&s.startsWith("zh")?"zh":"en",r={en:{label:"English",short:"EN",flag:""},zh:{label:"",short:"CN",flag:""}},i=r[n];return o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:"h-9 px-2.5 gap-2",children:[o.jsx("span",{className:"text-base leading-none","aria-hidden":"true",children:i.flag}),o.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:i.label}),o.jsx("span",{className:"text-xs font-semibold text-muted-foreground sm:hidden",children:i.short}),o.jsx(Ec,{className:"h-3.5 w-3.5 text-muted-foreground"}),o.jsx("span",{className:"sr-only",children:t("common.language")})]})}),o.jsxs(fa,{align:"end",className:"w-36",children:[o.jsxs(nn,{onClick:()=>e.changeLanguage("en"),children:[o.jsx("span",{className:"mr-2","aria-hidden":"true",children:r.en.flag}),r.en.label]}),o.jsxs(nn,{onClick:()=>e.changeLanguage("zh"),children:[o.jsx("span",{className:"mr-2","aria-hidden":"true",children:r.zh.flag}),r.zh.label]})]})]})}function vR(){const[e,t]=f.useState(""),[n,r]=f.useState(""),[i,s]=f.useState(""),[a,l]=f.useState(!1),[c,u]=f.useState(""),d=yh(),{t:h}=Wt(),m=f.useMemo(()=>{var x;const g=(x=window==null?void 0:window.settings)==null?void 0:x.title,y=localStorage.getItem("app_name");return String(g||y||"Xboard").trim()||"Xboard"},[]);f.useEffect(()=>{var b;const g=new URLSearchParams(window.location.search).get("admin_path");if(g){s(g),Dk(g);return}const y=String(((b=window==null?void 0:window.settings)==null?void 0:b.secure_path)||"").trim().replace(/^\/+|\/+$/g,"");if(y){s(y),Dk(y);return}const x=localStorage.getItem("adminPath");s(x||"admin")},[]);const p=async g=>{var y,x;g.preventDefault(),l(!0),u("");try{i&&Dk(i);const b=await Qw.post("/passport/auth/login",{email:e,password:n}),{auth_data:w,is_admin:v}=b.data.data;if(w){if(!v){u(h("common.access_denied"));return}Fse(w),localStorage.setItem("adminEmail",e.trim()),d("/dashboard")}else u(h("common.login_failed"))}catch(b){console.error(b),u(((x=(y=b.response)==null?void 0:y.data)==null?void 0:x.message)||h("common.login_failed"))}finally{l(!1)}};return o.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-background",children:[o.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-950 dark:to-slate-900"}),o.jsx("div",{className:"pointer-events-none absolute -top-24 right-10 h-64 w-64 rounded-full bg-sky-200/40 blur-3xl dark:bg-sky-900/20"}),o.jsx("div",{className:"pointer-events-none absolute -bottom-24 left-8 h-72 w-72 rounded-full bg-emerald-200/40 blur-3xl dark:bg-emerald-900/20"}),o.jsxs("div",{className:"relative flex min-h-screen items-center justify-center px-4 py-10",children:[o.jsxs("div",{className:"absolute right-6 top-6 flex items-center gap-2",children:[o.jsx(i8,{}),o.jsx(BW,{})]}),o.jsxs(It,{className:"w-full max-w-md",children:[o.jsxs(Xn,{className:"space-y-2",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.2em] text-muted-foreground",children:[o.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-xl bg-primary/10 text-sm font-semibold text-primary",children:m.slice(0,1).toUpperCase()}),m]}),o.jsx(Zn,{className:"text-2xl",children:h("common.admin_login")}),o.jsx(ha,{children:h("common.enter_credentials")})]}),o.jsx(Lt,{children:o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{htmlFor:"email",children:h("common.email")}),o.jsx(J,{id:"email",type:"email",placeholder:"admin@example.com",value:e,onChange:g=>t(g.target.value),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{htmlFor:"password",children:h("common.password")}),o.jsx(J,{id:"password",type:"password",value:n,onChange:g=>r(g.target.value),required:!0})]}),c&&o.jsx("div",{className:"rounded-md border border-destructive/30 bg-destructive/10 px-3 py-2 text-sm text-destructive",children:c}),o.jsx(W,{type:"submit",className:"w-full",disabled:a,children:h(a?"common.logging_in":"common.login")})]})})]})]})]})}function ppe(e){const t=gpe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(xpe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function gpe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=bpe(i),l=vpe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ype=Symbol("radix.slottable");function xpe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ype}function vpe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function bpe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _pe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RE=_pe.reduce((e,t)=>{const n=ppe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),pj="Collapsible",[wpe]=ba(pj),[jpe,IE]=wpe(pj),qW=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...l}=e,[c,u]=pl({prop:r,defaultProp:i??!1,onChange:a,caller:pj});return o.jsx(jpe,{scope:n,disabled:s,contentId:La(),open:c,onOpenToggle:f.useCallback(()=>u(d=>!d),[u]),children:o.jsx(RE.div,{"data-state":$E(c),"data-disabled":s?"":void 0,...l,ref:t})})});qW.displayName=pj;var WW="CollapsibleTrigger",UW=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=IE(WW,n);return o.jsx(RE.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":$E(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:ut(e.onClick,i.onOpenToggle)})});UW.displayName=WW;var LE="CollapsibleContent",VW=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=IE(LE,e.__scopeCollapsible);return o.jsx(Pi,{present:n||i.open,children:({present:s})=>o.jsx(kpe,{...r,ref:t,present:s})})});VW.displayName=LE;var kpe=f.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=IE(LE,n),[l,c]=f.useState(r),u=f.useRef(null),d=Zt(t,u),h=f.useRef(0),m=h.current,p=f.useRef(0),g=p.current,y=a.open||l,x=f.useRef(y),b=f.useRef(void 0);return f.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),di(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const v=w.getBoundingClientRect();h.current=v.height,p.current=v.width,x.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(r)}},[a.open,r]),o.jsx(RE.div,{"data-state":$E(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&i})});function $E(e){return e?"open":"closed"}var Spe=qW;const Npe=Spe,Cpe=UW,Ope=VW;function HW(e){const t=Ppe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Mpe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Ppe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Ape(i),l=Tpe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Epe=Symbol("radix.slottable");function Mpe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Epe}function Tpe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Ape(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lx=zpe.reduce((e,t)=>{const n=HW(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),gj="Dialog",[KW]=ba(gj),[Dpe,Ao]=KW(gj),YW=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,l=f.useRef(null),c=f.useRef(null),[u,d]=pl({prop:r,defaultProp:i??!1,onChange:s,caller:gj});return o.jsx(Dpe,{scope:t,triggerRef:l,contentRef:c,contentId:La(),titleId:La(),descriptionId:La(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};YW.displayName=gj;var GW="DialogTrigger",Rpe=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ao(GW,n),s=Zt(t,i.triggerRef);return o.jsx(lx.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qE(i.open),...r,ref:s,onClick:ut(e.onClick,i.onOpenToggle)})});Rpe.displayName=GW;var FE="DialogPortal",[Ipe,QW]=KW(FE,{forceMount:void 0}),XW=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Ao(FE,t);return o.jsx(Ipe,{scope:t,forceMount:n,children:f.Children.map(r,a=>o.jsx(Pi,{present:n||s.open,children:o.jsx(nx,{asChild:!0,container:i,children:a})}))})};XW.displayName=FE;var t0="DialogOverlay",ZW=f.forwardRef((e,t)=>{const n=QW(t0,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ao(t0,e.__scopeDialog);return s.modal?o.jsx(Pi,{present:r||s.open,children:o.jsx($pe,{...i,ref:t})}):null});ZW.displayName=t0;var Lpe=HW("DialogOverlay.RemoveScroll"),$pe=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ao(t0,n);return o.jsx(sx,{as:Lpe,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(lx.div,{"data-state":qE(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),th="DialogContent",JW=f.forwardRef((e,t)=>{const n=QW(th,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ao(th,e.__scopeDialog);return o.jsx(Pi,{present:r||s.open,children:s.modal?o.jsx(Fpe,{...i,ref:t}):o.jsx(Bpe,{...i,ref:t})})});JW.displayName=th;var Fpe=f.forwardRef((e,t)=>{const n=Ao(th,e.__scopeDialog),r=f.useRef(null),i=Zt(t,n.contentRef,r);return f.useEffect(()=>{const s=r.current;if(s)return uj(s)},[]),o.jsx(eU,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ut(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:ut(e.onFocusOutside,s=>s.preventDefault())})}),Bpe=f.forwardRef((e,t)=>{const n=Ao(th,e.__scopeDialog),r=f.useRef(!1),i=f.useRef(!1);return o.jsx(eU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),eU=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,l=Ao(th,n),c=f.useRef(null),u=Zt(t,c);return rj(),o.jsxs(o.Fragment,{children:[o.jsx(ex,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Jy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qE(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(qpe,{titleId:l.titleId}),o.jsx(Upe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),BE="DialogTitle",tU=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ao(BE,n);return o.jsx(lx.h2,{id:i.titleId,...r,ref:t})});tU.displayName=BE;var nU="DialogDescription",rU=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ao(nU,n);return o.jsx(lx.p,{id:i.descriptionId,...r,ref:t})});rU.displayName=nU;var iU="DialogClose",sU=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ao(iU,n);return o.jsx(lx.button,{type:"button",...r,ref:t,onClick:ut(e.onClick,()=>i.onOpenChange(!1))})});sU.displayName=iU;function qE(e){return e?"open":"closed"}var aU="DialogTitleWarning",[tWe,oU]=sue(aU,{contentName:th,titleName:BE,docsSlug:"dialog"}),qpe=({titleId:e})=>{const t=oU(aU),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Wpe="DialogDescriptionWarning",Upe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oU(Wpe).contentName}}.`;return f.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Vpe=YW,Hpe=XW,lU=ZW,cU=JW,uU=tU,dU=rU,Kpe=sU;const on=Vpe,Ype=Hpe,hU=f.forwardRef(({className:e,...t},n)=>o.jsx(lU,{ref:n,className:ae("fixed inset-0 z-50 bg-slate-900/40 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));hU.displayName=lU.displayName;const rn=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(Ype,{children:[o.jsx(hU,{}),o.jsxs(cU,{ref:r,className:ae("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 rounded-2xl border border-border/80 bg-background p-6 shadow-[0_24px_64px_rgba(15,23,42,0.18)] duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",e),...n,children:[t,o.jsx(Kpe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground","aria-label":"Close",children:o.jsx(Fd,{className:"h-4 w-4"})})]})]}));rn.displayName=cU.displayName;const ln=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col space-y-1 text-left",e),...t});ln.displayName="DialogHeader";const pr=({className:e,...t})=>o.jsx("div",{className:ae("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t});pr.displayName="DialogFooter";const cn=f.forwardRef(({className:e,...t},n)=>o.jsx(uU,{ref:n,className:ae("text-lg font-semibold leading-none tracking-tight",e),...t}));cn.displayName=uU.displayName;const fU=f.forwardRef(({className:e,...t},n)=>o.jsx(dU,{ref:n,className:ae("text-sm text-muted-foreground",e),...t}));fU.displayName=dU.displayName;function Gpe(e){const t=Qpe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Zpe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function Qpe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=ege(i),l=Jpe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xpe=Symbol("radix.slottable");function Zpe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xpe}function Jpe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function ege(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cx=tge.reduce((e,t)=>{const n=Gpe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function BC(e,[t,n]){return Math.min(n,Math.max(t,e))}function nge(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var WE="ScrollArea",[mU]=ba(WE),[rge,Ja]=mU(WE),pU=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=e,[l,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState(null),[p,g]=f.useState(null),[y,x]=f.useState(null),[b,w]=f.useState(0),[v,_]=f.useState(0),[j,k]=f.useState(!1),[C,O]=f.useState(!1),P=Zt(t,A=>c(A)),M=Zy(i);return o.jsx(rge,{scope:n,type:r,dir:M,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:O,onCornerWidthChange:w,onCornerHeightChange:_,children:o.jsx(cx.div,{dir:M,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});pU.displayName=WE;var gU="ScrollAreaViewport",yU=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,a=Ja(gU,n),l=f.useRef(null),c=Zt(t,l,a.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),o.jsx(cx.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});yU.displayName=gU;var kl="ScrollAreaScrollbar",UE=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ja(kl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,l=e.orientation==="horizontal";return f.useEffect(()=>(l?s(!0):a(!0),()=>{l?s(!1):a(!1)}),[l,s,a]),i.type==="hover"?o.jsx(ige,{...r,ref:t,forceMount:n}):i.type==="scroll"?o.jsx(sge,{...r,ref:t,forceMount:n}):i.type==="auto"?o.jsx(xU,{...r,ref:t,forceMount:n}):i.type==="always"?o.jsx(VE,{...r,ref:t}):null});UE.displayName=kl;var ige=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ja(kl,e.__scopeScrollArea),[s,a]=f.useState(!1);return f.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),o.jsx(Pi,{present:n||s,children:o.jsx(xU,{"data-state":s?"visible":"hidden",...r,ref:t})})}),sge=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ja(kl,e.__scopeScrollArea),s=e.orientation==="horizontal",a=xj(()=>c("SCROLL_END"),100),[l,c]=nge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),f.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const p=u[d];h!==p&&(c("SCROLL"),a()),h=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,c,a]),o.jsx(Pi,{present:n||l!=="hidden",children:o.jsx(VE,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ut(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ut(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),xU=f.forwardRef((e,t)=>{const n=Ja(kl,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,a]=f.useState(!1),l=e.orientation==="horizontal",c=xj(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(l?u:d)}},10);return tm(n.viewport,c),tm(n.content,c),o.jsx(Pi,{present:r||s,children:o.jsx(VE,{"data-state":s?"visible":"hidden",...i,ref:t})})}),VE=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Ja(kl,e.__scopeScrollArea),s=f.useRef(null),a=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=jU(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function h(m,p){return dge(m,a.current,l,p)}return n==="horizontal"?o.jsx(age,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,p=bR(m,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?o.jsx(oge,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,p=bR(m,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),age=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Ja(kl,e.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=Zt(t,c,s.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(bU,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),SU(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:r0(a.paddingLeft),paddingEnd:r0(a.paddingRight)}})}})}),oge=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Ja(kl,e.__scopeScrollArea),[a,l]=f.useState(),c=f.useRef(null),u=Zt(t,c,s.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(bU,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yj(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),SU(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:r0(a.paddingTop),paddingEnd:r0(a.paddingBottom)}})}})}),[lge,vU]=mU(kl),bU=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,p=Ja(kl,n),[g,y]=f.useState(null),x=Zt(t,P=>y(P)),b=f.useRef(null),w=f.useRef(""),v=p.viewport,_=r.content-r.viewport,j=ji(d),k=ji(c),C=xj(h,10);function O(P){if(b.current){const M=P.clientX-b.current.left,A=P.clientY-b.current.top;u({x:M,y:A})}}return f.useEffect(()=>{const P=M=>{const A=M.target;(g==null?void 0:g.contains(A))&&j(M,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[v,g,_,j]),f.useEffect(k,[r,k]),tm(g,C),tm(p.content,C),o.jsx(lge,{scope:n,scrollbar:g,hasThumb:i,onThumbChange:ji(s),onThumbPointerUp:ji(a),onThumbPositionChange:k,onThumbPointerDown:ji(l),children:o.jsx(cx.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:ut(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:ut(e.onPointerMove,O),onPointerUp:ut(e.onPointerUp,P=>{const M=P.target;M.hasPointerCapture(P.pointerId)&&M.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),n0="ScrollAreaThumb",_U=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=vU(n0,e.__scopeScrollArea);return o.jsx(Pi,{present:n||i.hasThumb,children:o.jsx(cge,{ref:t,...r})})}),cge=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=Ja(n0,n),a=vU(n0,n),{onThumbPositionChange:l}=a,c=Zt(t,h=>a.onThumbChange(h)),u=f.useRef(void 0),d=xj(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=s.viewport;if(h){const m=()=>{if(d(),!u.current){const p=hge(h,l);u.current=p,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[s.viewport,d,l]),o.jsx(cx.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ut(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,y=h.clientY-p.top;a.onThumbPointerDown({x:g,y})}),onPointerUp:ut(e.onPointerUp,a.onThumbPointerUp)})});_U.displayName=n0;var HE="ScrollAreaCorner",wU=f.forwardRef((e,t)=>{const n=Ja(HE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(uge,{...e,ref:t}):null});wU.displayName=HE;var uge=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Ja(HE,n),[s,a]=f.useState(0),[l,c]=f.useState(0),u=!!(s&&l);return tm(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),tm(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),u?o.jsx(cx.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function r0(e){return e?parseInt(e,10):0}function jU(e,t){const n=e/t;return isNaN(n)?0:n}function yj(e){const t=jU(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function dge(e,t,n,r="ltr"){const i=yj(n),s=i/2,a=t||s,l=i-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return kU([c,u],h)(e)}function bR(e,t,n="ltr"){const r=yj(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,l=s-r,c=n==="ltr"?[0,a]:[a*-1,0],u=BC(e,c);return kU([0,a],[0,l])(u)}function kU(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function SU(e,t){return e>0&&e<t}var hge=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,l=n.top!==s.top;(a||l)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function xj(e,t){const n=ji(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function tm(e,t){const n=ji(t);di(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var NU=pU,fge=yU,mge=wU;const cs=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(NU,{ref:r,className:ae("relative overflow-hidden",e),...n,children:[o.jsx(fge,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(CU,{}),o.jsx(mge,{})]}));cs.displayName=NU.displayName;const CU=f.forwardRef(({className:e,orientation:t="vertical",...n},r)=>o.jsx(UE,{ref:r,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 border-t border-t-transparent p-[1px]",e),...n,children:o.jsx(_U,{className:"relative flex-1 rounded-full bg-border"})}));CU.displayName=UE.displayName;function pge({open:e,onOpenChange:t,items:n,onSelect:r}){const{t:i}=Wt(),[s,a]=f.useState("");f.useEffect(()=>{e||a("")},[e]);const l=f.useMemo(()=>{const c=s.trim().toLowerCase();return c?n.filter(u=>`${u.title} ${u.group??""}`.toLowerCase().includes(c)):n},[n,s]);return o.jsx(on,{open:e,onOpenChange:t,children:o.jsxs(rn,{className:"max-w-3xl p-0 overflow-hidden",children:[o.jsx("div",{className:"border-b border-border/70 px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"}),o.jsx(J,{value:s,onChange:c=>a(c.target.value),onKeyDown:c=>{c.key==="Enter"&&l[0]&&r(l[0])},autoFocus:!0,placeholder:i("common.search_placeholder"),className:"border-none bg-transparent shadow-none focus-visible:ring-0 focus-visible:ring-offset-0"}),o.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5",children:"Ctrl"}),o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5",children:"K"})]})]})}),o.jsx(cs,{className:"max-h-[360px]",children:o.jsxs("div",{className:"p-3",children:[o.jsx("div",{className:"px-2 text-xs font-semibold text-muted-foreground",children:i("common.command_group")}),o.jsx("div",{className:"mt-2 space-y-1",children:l.length===0?o.jsx("div",{className:"px-3 py-6 text-sm text-muted-foreground",children:i("common.command_empty")}):l.map(c=>{const u=c.icon;return o.jsxs("button",{type:"button",onClick:()=>r(c),className:ae("flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors","hover:bg-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30"),children:[u?o.jsx(u,{className:"h-4 w-4 text-muted-foreground"}):null,o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"truncate font-medium text-foreground",children:c.title}),c.group?o.jsx("div",{className:"truncate text-xs text-muted-foreground",children:c.group}):null]})]},c.path)})})]})})]})})}const vj=(e,t)=>e<<t|e>>>32-t,Tr=(e,t)=>{const n=e&2147483648,r=t&2147483648,i=e&1073741824,s=t&1073741824,a=(e&1073741823)+(t&1073741823);return i&s?a^2147483648^n^r:i|s?a&1073741824?a^3221225472^n^r:a^1073741824^n^r:a^n^r},gge=(e,t,n)=>e&t|~e&n,yge=(e,t,n)=>e&n|t&~n,xge=(e,t,n)=>e^t^n,vge=(e,t,n)=>t^(e|~n),zi=(e,t,n,r,i,s,a)=>Tr(vj(Tr(Tr(e,gge(t,n,r)),Tr(i,a)),s),t),Di=(e,t,n,r,i,s,a)=>Tr(vj(Tr(Tr(e,yge(t,n,r)),Tr(i,a)),s),t),Ri=(e,t,n,r,i,s,a)=>Tr(vj(Tr(Tr(e,xge(t,n,r)),Tr(i,a)),s),t),Ii=(e,t,n,r,i,s,a)=>Tr(vj(Tr(Tr(e,vge(t,n,r)),Tr(i,a)),s),t),bge=e=>{const t=e.length,n=((t+8>>>6)+1)*16,r=new Array(n).fill(0);for(let a=0;a<t;a++){const l=a>>>2,c=a%4*8;r[l]|=e.charCodeAt(a)<<c}const i=t>>>2,s=t%4*8;return r[i]|=128<<s,r[n-2]=t<<3,r[n-1]=t>>>29,r},Sv=e=>{let t="";for(let n=0;n<=3;n++){const i=`0${(e>>>n*8&255).toString(16)}`.slice(-2);t+=i}return t},_ge=e=>{const n=bge(e);let r=1732584193,i=4023233417,s=2562383102,a=271733878;for(let l=0;l<n.length;l+=16){const c=r,u=i,d=s,h=a;r=zi(r,i,s,a,n[l+0],7,3614090360),a=zi(a,r,i,s,n[l+1],12,3905402710),s=zi(s,a,r,i,n[l+2],17,606105819),i=zi(i,s,a,r,n[l+3],22,3250441966),r=zi(r,i,s,a,n[l+4],7,4118548399),a=zi(a,r,i,s,n[l+5],12,1200080426),s=zi(s,a,r,i,n[l+6],17,2821735955),i=zi(i,s,a,r,n[l+7],22,4249261313),r=zi(r,i,s,a,n[l+8],7,1770035416),a=zi(a,r,i,s,n[l+9],12,2336552879),s=zi(s,a,r,i,n[l+10],17,4294925233),i=zi(i,s,a,r,n[l+11],22,2304563134),r=zi(r,i,s,a,n[l+12],7,1804603682),a=zi(a,r,i,s,n[l+13],12,4254626195),s=zi(s,a,r,i,n[l+14],17,2792965006),i=zi(i,s,a,r,n[l+15],22,1236535329),r=Di(r,i,s,a,n[l+1],5,4129170786),a=Di(a,r,i,s,n[l+6],9,3225465664),s=Di(s,a,r,i,n[l+11],14,643717713),i=Di(i,s,a,r,n[l+0],20,3921069994),r=Di(r,i,s,a,n[l+5],5,3593408605),a=Di(a,r,i,s,n[l+10],9,38016083),s=Di(s,a,r,i,n[l+15],14,3634488961),i=Di(i,s,a,r,n[l+4],20,3889429448),r=Di(r,i,s,a,n[l+9],5,568446438),a=Di(a,r,i,s,n[l+14],9,3275163606),s=Di(s,a,r,i,n[l+3],14,4107603335),i=Di(i,s,a,r,n[l+8],20,1163531501),r=Di(r,i,s,a,n[l+13],5,2850285829),a=Di(a,r,i,s,n[l+2],9,4243563512),s=Di(s,a,r,i,n[l+7],14,1735328473),i=Di(i,s,a,r,n[l+12],20,2368359562),r=Ri(r,i,s,a,n[l+5],4,4294588738),a=Ri(a,r,i,s,n[l+8],11,2272392833),s=Ri(s,a,r,i,n[l+11],16,1839030562),i=Ri(i,s,a,r,n[l+14],23,4259657740),r=Ri(r,i,s,a,n[l+1],4,2763975236),a=Ri(a,r,i,s,n[l+4],11,1272893353),s=Ri(s,a,r,i,n[l+7],16,4139469664),i=Ri(i,s,a,r,n[l+10],23,3200236656),r=Ri(r,i,s,a,n[l+13],4,681279174),a=Ri(a,r,i,s,n[l+0],11,3936430074),s=Ri(s,a,r,i,n[l+3],16,3572445317),i=Ri(i,s,a,r,n[l+6],23,76029189),r=Ri(r,i,s,a,n[l+9],4,3654602809),a=Ri(a,r,i,s,n[l+12],11,3873151461),s=Ri(s,a,r,i,n[l+15],16,530742520),i=Ri(i,s,a,r,n[l+2],23,3299628645),r=Ii(r,i,s,a,n[l+0],6,4096336452),a=Ii(a,r,i,s,n[l+7],10,1126891415),s=Ii(s,a,r,i,n[l+14],15,2878612391),i=Ii(i,s,a,r,n[l+5],21,4237533241),r=Ii(r,i,s,a,n[l+12],6,1700485571),a=Ii(a,r,i,s,n[l+3],10,2399980690),s=Ii(s,a,r,i,n[l+10],15,4293915773),i=Ii(i,s,a,r,n[l+1],21,2240044497),r=Ii(r,i,s,a,n[l+8],6,1873313359),a=Ii(a,r,i,s,n[l+15],10,4264355552),s=Ii(s,a,r,i,n[l+6],15,2734768916),i=Ii(i,s,a,r,n[l+13],21,1309151649),r=Ii(r,i,s,a,n[l+4],6,4149444226),a=Ii(a,r,i,s,n[l+11],10,3174756917),s=Ii(s,a,r,i,n[l+2],15,718787259),i=Ii(i,s,a,r,n[l+9],21,3951481745),r=Tr(r,c),i=Tr(i,u),s=Tr(s,d),a=Tr(a,h)}return(Sv(r)+Sv(i)+Sv(s)+Sv(a)).toLowerCase()},Kn={fetch:e=>ze.get("/config/fetch",{params:e?{key:e}:{}}),save:e=>ze.post("/config/save",e),getEmailTemplates:()=>ze.get("/config/getEmailTemplate"),getThemeTemplates:()=>ze.get("/config/getThemeTemplate"),testSendMail:()=>ze.post("/config/testSendMail"),setTelegramWebhook:e=>ze.post("/config/setTelegramWebhook",{telegram_bot_token:e})},xo={getStats:()=>ze.get("/stat/getStats"),getOverride:()=>ze.get("/stat/getOverride"),getIncomeRecords:e=>ze.get("/stat/getOrder",{params:e}),getTrafficRank:(e,t,n)=>ze.get("/stat/getTrafficRank",{params:{type:e,start_time:t,end_time:n}}),getQueueStats:()=>ze.get("/system/getQueueStats"),getSystemStatus:()=>ze.get("/system/getSystemStatus"),getSystemLog:e=>ze.get("/system/getSystemLog",{params:e}),getLogClearStats:e=>{const t={...e??{}};return t.level==="all"&&delete t.level,ze.get("/system/getLogClearStats",{params:t})},getHorizonFailedJobs:e=>ze.get("/system/getHorizonFailedJobs",{params:e}),clearSystemLog:e=>{const t={...e??{}};return t.level==="all"&&delete t.level,ze.post("/system/clearSystemLog",t)}},Jk=[{titleKey:"menu.dashboard",path:"/dashboard",icon:Qle,descriptionKey:"dashboard.subtitle"},{titleKey:"menu.system_management",icon:Z6,submenu:[{titleKey:"menu.system_config",path:"/dashboard/system/config",icon:e8,descriptionKey:"system.description"},{titleKey:"menu.plugin_management",path:"/dashboard/system/plugin",icon:vce,descriptionKey:"plugin.description"},{titleKey:"menu.theme_config",path:"/dashboard/system/theme",icon:pce,descriptionKey:"theme.description"},{titleKey:"menu.notice_management",path:"/dashboard/system/notice",icon:F6,descriptionKey:"notice.description"},{titleKey:"menu.payment_config",path:"/dashboard/system/payment",icon:nj,descriptionKey:"payment.description"},{titleKey:"menu.knowledge_base",path:"/dashboard/system/knowledge",icon:ele,descriptionKey:"knowledge.description"}]},{titleKey:"menu.node_management",icon:Tce,submenu:[{titleKey:"menu.node_list",path:"/dashboard/server/list",icon:tj,descriptionKey:"server.description"},{titleKey:"menu.permission_groups",path:"/dashboard/server/group",icon:J6,descriptionKey:"group.description"},{titleKey:"menu.route_management",path:"/dashboard/server/route",icon:Cce,descriptionKey:"route.description"}]},{titleKey:"menu.subscription",icon:W6,submenu:[{titleKey:"menu.plan_management",path:"/dashboard/subscription/plan",icon:qg,descriptionKey:"plan.description"},{titleKey:"menu.order_management",path:"/dashboard/subscription/order",icon:$ce,descriptionKey:"order.description"},{titleKey:"menu.coupon_management",path:"/dashboard/subscription/coupon",icon:Y_,descriptionKey:"coupon.description"},{titleKey:"menu.gift_card_management",path:"/dashboard/subscription/giftcard",icon:$le,descriptionKey:"giftcard.description"}]},{titleKey:"menu.user_management",icon:Jce,submenu:[{titleKey:"menu.user_list",path:"/dashboard/user/list",icon:Jf,descriptionKey:"user.description"},{titleKey:"menu.ticket_management",path:"/dashboard/user/ticket",icon:Y_,descriptionKey:"ticket.description"}]}],_R="xboard_admin_sidebar_collapsed";function wge(){const[e,t]=f.useState(!0),[n,r]=f.useState(()=>{try{return localStorage.getItem(_R)==="1"}catch{return!1}}),[i,s]=f.useState(!1),[a,l]=f.useState(!1),[c,u]=f.useState({tickets:0,commissions:0}),[d,h]=f.useState(()=>localStorage.getItem("app_name")||"Xboard"),m=Za(),p=yh(),{t:g}=Wt(),y=f.useCallback(()=>{r(M=>{const A=!M;try{localStorage.setItem(_R,A?"1":"0")}catch{}return A})},[]);f.useEffect(()=>{let M=!1;const A=async()=>{try{const F=(await Kn.fetch("site")).data.data.site||{},U=String(F.app_name||"").trim();if(M)return;h(U||"Xboard"),U&&localStorage.setItem("app_name",U)}catch{}},R=()=>{const B=String(localStorage.getItem("app_name")||"").trim();h(B||"Xboard")};return A(),window.addEventListener("xboard:site_name_changed",R),()=>{M=!0,window.removeEventListener("xboard:site_name_changed",R)}},[]);const x=f.useMemo(()=>{const M=B=>B.replace(/\/+$/g,"")||"/",A=M(m.pathname),R=B=>{for(const F of B){if(F.path&&M(F.path)===A)return{titleKey:F.titleKey,descriptionKey:F.descriptionKey};if(F.submenu){const U=R(F.submenu);if(U)return U}}return null};return R(Jk)||null},[m.pathname]),b=x?g(x.titleKey):"",w=x!=null&&x.descriptionKey?g(x.descriptionKey,{defaultValue:""}):"",v=f.useMemo(()=>{const M=[];return Jk.forEach(A=>{if(A.submenu&&A.submenu.length){const R=g(A.titleKey);A.submenu.forEach(B=>{B.path&&M.push({title:g(B.titleKey),path:B.path,group:R,icon:B.icon})});return}A.path&&M.push({title:g(A.titleKey),path:A.path,group:g(A.titleKey),icon:A.icon})}),M},[g]),_=f.useCallback(async()=>{try{const A=(await xo.getOverride()).data.data||{},R=Number(A.ticketPendingTotal??A.ticket_pending_total??0),B=Number(A.commissionPendingTotal??A.commission_pending_total??0);u({tickets:Number.isFinite(R)&&R>0?R:0,commissions:Number.isFinite(B)&&B>0?B:0})}catch{}},[]);f.useEffect(()=>{_();const M=window.setInterval(_,6e4);return()=>window.clearInterval(M)},[_]);const j=c.tickets>0||c.commissions>0,[k,C]=f.useState(["menu.system_management","menu.node_management","menu.subscription","menu.user_management"]),O=()=>{o6(),localStorage.removeItem("adminEmail"),p("/login")},P=M=>{C(A=>A.includes(M)?A.filter(R=>R!==M):[...A,M])};return f.useEffect(()=>{const M=A=>{var B;if(!(A.ctrlKey||A.metaKey)||A.key.toLowerCase()!=="k")return;const R=A.target;if(R){const F=(B=R.tagName)==null?void 0:B.toLowerCase();if(F==="input"||F==="textarea"||R.isContentEditable)return}A.preventDefault(),s(!0)};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[]),o.jsxs("div",{className:"flex h-screen bg-background",children:[o.jsxs("aside",{className:ae("fixed inset-y-0 left-0 z-50 w-60 border-r border-border/80 bg-card shadow-sm transform transition-[transform,width] duration-200 ease-in-out md:translate-x-0 md:static md:inset-0 flex flex-col",e?"translate-x-0":"-translate-x-full",n&&"md:w-[72px]"),children:[o.jsxs("div",{className:ae("grid h-16 grid-cols-[1fr_auto_1fr] items-center border-b border-border/70 px-5 flex-shrink-0",n&&"md:px-2"),children:[o.jsx("div",{}),o.jsxs("span",{className:"justify-self-center text-xl font-semibold text-foreground",children:[o.jsx("span",{className:ae(n&&"md:hidden"),children:d}),n?o.jsx("span",{className:"hidden md:inline",children:(d||"X").trim().slice(0,1)||"X"}):null]}),o.jsx("div",{className:"justify-self-end",children:o.jsx(W,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>t(!1),children:o.jsx(Fd,{className:"h-5 w-5"})})})]}),o.jsx("nav",{className:ae("flex-1 px-3 py-4 space-y-1 overflow-y-auto",n&&"md:px-2"),children:Jk.map(M=>{const A=M.icon,R=g(M.titleKey);if(M.submenu){const F=k.includes(M.titleKey),U=M.submenu.some(L=>L.path===m.pathname);return o.jsxs("div",{className:"space-y-1",children:[n?o.jsx("div",{className:"hidden md:block",children:o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsx(W,{variant:"ghost",size:"icon",className:ae("w-full",U&&"bg-muted/40 text-foreground"),title:R,"aria-label":R,children:A&&o.jsx(A,{className:"h-5 w-5"})})}),o.jsxs(fa,{side:"right",align:"start",className:"min-w-[220px]",children:[o.jsx(Yg,{children:R}),o.jsx(es,{}),M.submenu.map(L=>{const D=L.icon,T=m.pathname===L.path,$=g(L.titleKey);return o.jsxs(nn,{onClick:()=>{p(L.path),t(!1)},className:ae(T&&"bg-primary/10 text-primary"),children:[D&&o.jsx(D,{className:"mr-2 h-4 w-4"}),o.jsx("span",{className:"truncate",children:$})]},L.path)})]})]})}):null,o.jsxs(Npe,{open:F,onOpenChange:()=>P(M.titleKey),className:ae("space-y-1",n&&"md:hidden"),children:[o.jsx(Cpe,{asChild:!0,children:o.jsxs(W,{variant:"ghost",className:ae("w-full justify-between font-normal text-sm hover:bg-muted/60",U&&"bg-muted/40 text-foreground font-medium"),children:[o.jsxs("div",{className:"flex items-center",children:[A&&o.jsx(A,{className:"w-5 h-5 mr-3"}),R]}),F?o.jsx(Ec,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(zm,{className:"h-4 w-4 text-muted-foreground"})]})}),o.jsx(Ope,{className:"space-y-1 pl-4",children:M.submenu.map(L=>{const D=L.icon,T=m.pathname===L.path;return o.jsxs($_,{to:L.path,onClick:()=>t(!1),className:ae("flex items-center px-3 py-2 text-sm rounded-md transition-colors",T?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted/60 hover:text-foreground"),children:[D&&o.jsx(D,{className:"w-4 h-4 mr-3"}),g(L.titleKey)]},L.path)})})]})]},M.titleKey)}const B=m.pathname===M.path;return o.jsxs($_,{to:M.path,onClick:()=>t(!1),className:ae("flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors",n&&"md:px-2 md:justify-center",B?"bg-primary/10 text-primary font-semibold":"text-foreground/80 hover:bg-muted/60 hover:text-foreground"),title:R,children:[A&&o.jsx(A,{className:ae("w-5 h-5 mr-3",n&&"md:mr-0")}),o.jsx("span",{className:ae(n&&"md:hidden"),children:R})]},M.path)})}),o.jsx("div",{className:"p-2 border-t border-border/70 flex-shrink-0 hidden md:block",children:o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"w-full",onClick:y,title:g(n?"common.expand_sidebar":"common.collapse_sidebar"),"aria-label":g(n?"common.expand_sidebar":"common.collapse_sidebar"),children:n?o.jsx(ej,{className:"h-4 w-4"}):o.jsx(Jw,{className:"h-4 w-4"})})})]}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"flex items-center justify-between h-16 px-6 bg-card/90 backdrop-blur border-b border-border/70 flex-shrink-0",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[o.jsx(W,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>t(!0),children:o.jsx(cce,{className:"h-5 w-5"})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-base md:text-lg font-semibold text-foreground truncate",children:b}),w?o.jsx("div",{className:"text-xs md:text-sm text-muted-foreground truncate",children:w}):null]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>s(!0),className:"hidden md:flex h-9 w-[240px] lg:w-[280px] items-center gap-2 rounded-md border border-input bg-card px-3 text-sm text-muted-foreground shadow-sm hover:bg-muted/40",children:[o.jsx(Ni,{className:"h-4 w-4"}),o.jsx("span",{className:"flex-1 text-left truncate",children:g("common.search_placeholder")}),o.jsxs("span",{className:"hidden lg:flex items-center gap-1",children:[o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5 text-xs",children:"Ctrl"}),o.jsx("span",{className:"rounded-md border border-border/70 bg-muted/40 px-1.5 py-0.5 text-xs",children:"K"})]})]}),o.jsx(W,{variant:"ghost",size:"icon",className:"h-9 w-9 md:hidden",onClick:()=>s(!0),"aria-label":g("common.search"),children:o.jsx(Ni,{className:"h-4 w-4"})}),o.jsxs(Ua,{open:a,onOpenChange:M=>{l(M),M&&_()},children:[o.jsx(Va,{asChild:!0,children:o.jsxs(W,{variant:"ghost",size:"icon",className:"relative h-9 w-9","aria-label":g("common.notice"),children:[o.jsx(F6,{className:"h-4 w-4"}),j?o.jsx("span",{className:"absolute right-2 top-2 h-2 w-2 rounded-full bg-red-500 ring-2 ring-card"}):null]})}),o.jsxs(fa,{align:"end",className:"w-64",children:[o.jsx(Yg,{children:g("common.notice")}),o.jsx(es,{}),o.jsxs(nn,{onClick:()=>p("/dashboard/user/ticket"),children:[o.jsx(Y_,{className:"mr-2 h-4 w-4"}),g("dashboard.pending_tickets"),o.jsx(Gg,{children:c.tickets})]}),o.jsxs(nn,{onClick:()=>p("/dashboard/subscription/order?is_commission=1&commission_status=0"),children:[o.jsx(nj,{className:"mr-2 h-4 w-4"}),g("dashboard.pending_commissions"),o.jsx(Gg,{children:c.commissions})]})]})]}),o.jsx(i8,{}),o.jsx(BW,{}),o.jsx(jge,{onLogout:O,onSettings:()=>p("/dashboard/system/config")})]})]}),o.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-background",children:o.jsx(Nre,{})})]}),o.jsx(pge,{open:i,onOpenChange:s,items:v,onSelect:M=>{s(!1),p(M.path)}})]})}function jge({onLogout:e,onSettings:t}){const{t:n}=Wt(),[r,i]=f.useState(()=>(localStorage.getItem("adminEmail")||"").trim());f.useEffect(()=>{if(r||!uE())return;let c=!1;return(async()=>{var d,h;try{const m=await Qw.get("/user/info"),p=String(((h=(d=m.data)==null?void 0:d.data)==null?void 0:h.email)||"").trim();if(c||!p)return;localStorage.setItem("adminEmail",p),i(p)}catch{}})(),()=>{c=!0}},[r]);const s=r.trim().toLowerCase(),a=s?`https://www.gravatar.com/avatar/${_ge(s)}?d=identicon&s=96`:"",l=(s||"A").slice(0,1).toUpperCase();return o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsx(W,{variant:"ghost",size:"icon",className:"rounded-full ring-1 ring-border/70",children:a?o.jsx("img",{src:a,alt:r||"admin",className:"h-8 w-8 rounded-full object-cover",referrerPolicy:"no-referrer",loading:"lazy"}):o.jsx("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center text-sm font-medium text-muted-foreground",children:l})})}),o.jsxs(fa,{align:"end",className:"w-56",children:[o.jsxs(Yg,{className:"space-y-1 px-3 py-2 text-left normal-case",children:[o.jsx("div",{className:"text-sm font-medium text-foreground",children:r||"admin"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:n("common.admin")})]}),o.jsx(es,{}),o.jsxs(nn,{onClick:t,children:[o.jsx(Z6,{className:"w-4 h-4 mr-2"}),n("common.settings"),o.jsx(Gg,{children:"Ctrl ,"})]}),o.jsx(es,{}),o.jsxs(nn,{onClick:e,children:[o.jsx(ace,{className:"w-4 h-4 mr-2"}),n("common.logout"),o.jsx(Gg,{children:"Ctrl Q"})]})]})]})}const kge=(()=>{var n,r;const e=(r=(n=import.meta)==null?void 0:n.env)==null?void 0:r.VITE_MONEY_DIVISOR,t=Number(e);return Number.isFinite(t)&&t>0?t:100})();function Zh(e){const t=Number(e??0);return Number.isFinite(t)?t/kge:0}function hd(e,t=2){const n=Number(e);return Number.isFinite(n)?n.toFixed(t):0 .toFixed(t)}function wR(e,t="$"){return`${t}${hd(Zh(e),2)}`}const Sge=e=>{const t=Math.abs(e);return Number.isInteger(t)?t.toFixed(0):t.toFixed(1)},Kc=({title:e,value:t,icon:n,trend:r,trendLabel:i,subValue:s,iconColor:a})=>{const l=Number.isFinite(r),c=l||s,u=(r??0)>=0;return o.jsx(It,{className:"relative",children:o.jsx(Lt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e}),o.jsx("div",{className:"text-2xl font-semibold text-foreground tabular-nums",children:t}),c?o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[l&&o.jsxs("span",{className:ae("flex items-center gap-1 font-medium",u?"text-green-600":"text-red-500"),children:[i?o.jsx("span",{className:"text-muted-foreground",children:i}):null,u?o.jsx(vh,{className:"h-3 w-3"}):o.jsx(xh,{className:"h-3 w-3"}),Sge(r??0),"%"]}),l&&s?o.jsx("span",{className:"text-muted-foreground",children:""}):null,s?o.jsx("span",{children:s}):null]}):null]}),o.jsx(n,{className:ae("h-4 w-4 text-muted-foreground",a)})]})})})};function jR(e,t=2){if(!+e)return"0 B";const n=1024,r=t<0?0:t,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(n));return`${parseFloat((e/Math.pow(n,s)).toFixed(r))} ${i[s]}`}function Nge(){const{t:e}=Wt(),t=e("common.currency_symbol"),[n,r]=f.useState(null);return f.useEffect(()=>{(async()=>{try{const s=await xo.getStats();r(s.data.data)}catch(s){console.error("Failed to fetch dashboard stats",s)}})()},[]),n?o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Kc,{title:e("dashboard.today_income"),value:wR(n.todayIncome,t),icon:qD,trend:n.dayIncomeGrowth,trendLabel:e("dashboard.vs_yesterday"),iconColor:"text-emerald-500"}),o.jsx(Kc,{title:e("dashboard.month_income"),value:wR(n.currentMonthIncome,t),icon:qD,trend:n.monthIncomeGrowth,trendLabel:e("dashboard.vs_last_month"),iconColor:"text-blue-500"}),o.jsx(Kc,{title:e("dashboard.pending_tickets"),value:n.ticketPendingTotal,icon:Y_,iconColor:"text-orange-500"}),o.jsx(Kc,{title:e("dashboard.pending_commissions"),value:n.commissionPendingTotal,icon:nj,iconColor:"text-purple-500"}),o.jsx(Kc,{title:e("dashboard.new_users"),value:n.currentMonthNewUsers,icon:Jf,trend:n.userGrowth,trendLabel:e("dashboard.vs_last_month"),iconColor:"text-cyan-500"}),o.jsx(Kc,{title:e("dashboard.total_users"),value:n.totalUsers,icon:Jf,subValue:e("dashboard.online_users",{count:n.onlineUsers??n.activeUsers})}),o.jsx(Kc,{title:e("dashboard.month_upload"),value:jR(n.monthTraffic.upload),icon:Wg,iconColor:"text-indigo-500"}),o.jsx(Kc,{title:e("dashboard.month_download"),value:jR(n.monthTraffic.download),icon:Ple,iconColor:"text-pink-500"})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 p-4 text-center",children:"Loading..."})}var Cge=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function KE(e){if(typeof e!="string")return!1;var t=Cge;return t.includes(e)}var Oge=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Pge=new Set(Oge);function OU(e){return typeof e!="string"?!1:Pge.has(e)}function PU(e){return typeof e=="string"&&e.startsWith("data-")}function Ha(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OU(n)||PU(n))&&(t[n]=e[n]);return t}function ux(e){if(e==null)return null;if(f.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ha(t)}return typeof e=="object"&&!Array.isArray(e)?Ha(e):null}function us(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(OU(n)||PU(n)||KE(n))&&(t[n]=e[n]);return t}function Ege(e){return e==null?null:f.isValidElement(e)?us(e.props):typeof e=="object"&&!Array.isArray(e)?us(e):null}var Mge=["children","width","height","viewBox","className","style","title","desc"];function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qC.apply(null,arguments)}function Tge(e,t){if(e==null)return{};var n,r,i=Age(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Age(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var EU=f.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=Tge(e,Mge),h=s||{width:r,height:i,x:0,y:0},m=wn("recharts-surface",a);return f.createElement("svg",qC({},us(d),{className:m,width:r,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),f.createElement("title",null,c),f.createElement("desc",null,u),n)}),zge=["children","className"];function WC(){return WC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WC.apply(null,arguments)}function Dge(e,t){if(e==null)return{};var n,r,i=Rge(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rge(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ds=f.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Dge(e,zge),s=wn("recharts-layer",r);return f.createElement("g",WC({className:s},us(i),{ref:t}),n)}),Ige=f.createContext(null);function Ln(e){return function(){return e}}const MU=Math.cos,i0=Math.sin,zo=Math.sqrt,s0=Math.PI,bj=2*s0,UC=Math.PI,VC=2*UC,fd=1e-6,Lge=VC-fd;function TU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function $ge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TU;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Fge{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TU:$ge(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-t,u=i-n,d=a-t,h=l-n,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>fd)if(!(Math.abs(h*c-u*d)>fd)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-a,g=i-l,y=c*c+u*u,x=p*p+g*g,b=Math.sqrt(y),w=Math.sqrt(m),v=s*Math.tan((UC-Math.acos((y+m-x)/(2*b*w)))/2),_=v/w,j=v/b;Math.abs(_-1)>fd&&this._append`L${t+_*d},${n+_*h}`,this._append`A${s},${s},0,0,${+(h*p>d*g)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,d=n+c,h=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fd||Math.abs(this._y1-d)>fd)&&this._append`L${u},${d}`,r&&(m<0&&(m=m%VC+VC),m>Lge?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=d}`:m>fd&&this._append`A${r},${r},0,${+(m>=UC)},${h},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function YE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Fge(t)}function GE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AU(e){this._context=e}AU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function _j(e){return new AU(e)}function zU(e){return e[0]}function DU(e){return e[1]}function RU(e,t){var n=Ln(!0),r=null,i=_j,s=null,a=YE(l);e=typeof e=="function"?e:e===void 0?zU:Ln(e),t=typeof t=="function"?t:t===void 0?DU:Ln(t);function l(c){var u,d=(c=GE(c)).length,h,m=!1,p;for(r==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&n(h=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(h,u,c),+t(h,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ln(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ln(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ln(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Nv(e,t,n){var r=null,i=Ln(!0),s=null,a=_j,l=null,c=YE(u);e=typeof e=="function"?e:e===void 0?zU:Ln(+e),t=typeof t=="function"?t:Ln(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DU:Ln(+n);function u(h){var m,p,g,y=(h=GE(h)).length,x,b=!1,w,v=new Array(y),_=new Array(y);for(s==null&&(l=a(w=c())),m=0;m<=y;++m){if(!(m<y&&i(x=h[m],m,h))===b)if(b=!b)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=p;--g)l.point(v[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(v[m]=+e(x,m,h),_[m]=+t(x,m,h),l.point(r?+r(x,m,h):v[m],n?+n(x,m,h):_[m]))}if(w)return l=null,w+""||null}function d(){return RU().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ln(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ln(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ln(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ln(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ln(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ln(+h),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ln(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(l=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=l=null:l=a(s=h),u):s},u}class IU{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Bge(e){return new IU(e,!0)}function qge(e){return new IU(e,!1)}const QE={draw(e,t){const n=zo(t/s0);e.moveTo(n,0),e.arc(0,0,n,0,bj)}},Wge={draw(e,t){const n=zo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},LU=zo(1/3),Uge=LU*2,Vge={draw(e,t){const n=zo(t/Uge),r=n*LU;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Hge={draw(e,t){const n=zo(t),r=-n/2;e.rect(r,r,n,n)}},Kge=.8908130915292852,$U=i0(s0/10)/i0(7*s0/10),Yge=i0(bj/10)*$U,Gge=-MU(bj/10)*$U,Qge={draw(e,t){const n=zo(t*Kge),r=Yge*n,i=Gge*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=bj*s/5,l=MU(a),c=i0(a);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},eS=zo(3),Xge={draw(e,t){const n=-zo(t/(eS*3));e.moveTo(0,n*2),e.lineTo(-eS*n,-n),e.lineTo(eS*n,-n),e.closePath()}},Sa=-.5,Na=zo(3)/2,HC=1/zo(12),Zge=(HC/2+1)*3,Jge={draw(e,t){const n=zo(t/Zge),r=n/2,i=n*HC,s=r,a=n*HC+n,l=-s,c=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Sa*r-Na*i,Na*r+Sa*i),e.lineTo(Sa*s-Na*a,Na*s+Sa*a),e.lineTo(Sa*l-Na*c,Na*l+Sa*c),e.lineTo(Sa*r+Na*i,Sa*i-Na*r),e.lineTo(Sa*s+Na*a,Sa*a-Na*s),e.lineTo(Sa*l+Na*c,Sa*c-Na*l),e.closePath()}};function eye(e,t){let n=null,r=YE(i);e=typeof e=="function"?e:Ln(e||QE),t=typeof t=="function"?t:Ln(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ln(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ln(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function a0(){}function o0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function FU(e){this._context=e}FU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tye(e){return new FU(e)}function BU(e){this._context=e}BU.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:o0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nye(e){return new BU(e)}function qU(e){this._context=e}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:o0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rye(e){return new qU(e)}function WU(e){this._context=e}WU.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iye(e){return new WU(e)}function kR(e){return e<0?-1:1}function SR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(kR(s)+kR(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function NR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tS(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,i+l*t,s-l,a-l*n,s,a)}function l0(e){this._context=e}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tS(this,this._t0,NR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tS(this,NR(this,n=SR(this,e,t)),n);break;default:tS(this,this._t0,n=SR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function UU(e){this._context=new VU(e)}(UU.prototype=Object.create(l0.prototype)).point=function(e,t){l0.prototype.point.call(this,t,e)};function VU(e){this._context=e}VU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function sye(e){return new l0(e)}function aye(e){return new UU(e)}function HU(e){this._context=e}HU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=CR(e),i=CR(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function CR(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function oye(e){return new HU(e)}function wj(e,t){this._context=e,this._t=t}wj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function lye(e){return new wj(e,.5)}function cye(e){return new wj(e,0)}function uye(e){return new wj(e,1)}function nh(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,l=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function KC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function dye(e,t){return e[t]}function hye(e){const t=[];return t.key=e,t}function fye(){var e=Ln([]),t=KC,n=nh,r=dye;function i(s){var a=Array.from(e.apply(this,arguments),hye),l,c=a.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+r(h,a[l].key,u,s)]).data=h;for(l=0,d=GE(t(a));l<c;++l)a[d[l]].index=l;return n(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ln(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ln(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?KC:typeof s=="function"?s:Ln(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??nh,i):n},i}function mye(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}nh(e,t)}}function pye(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=e[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}nh(e,t)}}function gye(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],h=d[r][1]||0,m=d[r-1][1]||0,p=(h-m)/2,g=0;g<l;++g){var y=e[t[g]],x=y[r][1]||0,b=y[r-1][1]||0;p+=x-b}c+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,nh(e,t)}}var jj={},KU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(KU);var XE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(XE);var kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(kj);var Sj={},YU={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(YU);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YU,n=kj;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const h=i[l];u?h==="\\"&&l+1<a?(l++,c+=i[l]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,s.push(c),c=""):c+=h:h==="["?(d=!0,c&&(s.push(c),c="")):h==="."?c&&(s.push(c),c=""):c+=h,l++}return c&&s.push(c),s}e.toPath=r})(Sj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KU,n=XE,r=kj,i=Sj;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?n.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=s})(jj);var yye=jj.get;const nm=wl(yye);var xye=4;function fu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xye,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+fu(l)+s:i+s},"")}var Ms=e=>e===0?0:e>0?1:-1,Ka=e=>typeof e=="number"&&e!=+e,yc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,xt=e=>(typeof e=="number"||e instanceof Number)&&!Ka(e),yl=e=>xt(e)||typeof e=="string",vye=0,Qg=e=>{var t=++vye;return"".concat(e||"").concat(t)},Co=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xt(t)&&typeof t!="string")return r;var s;if(yc(t)){if(n==null)return r;var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return Ka(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},GU=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function ar(e,t,n){return xt(e)&&xt(t)?fu(e+n*(t-e)):t}function QU(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):nm(r,t))===n)}var lr=e=>e===null||typeof e>"u",dx=e=>lr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function bye(e){return e!=null}function hx(){}var _ye=["type","size","sizeType"];function YC(){return YC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YC.apply(null,arguments)}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){wye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wye(e,t,n){return(t=jye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jye(e){var t=kye(e,"string");return typeof t=="symbol"?t:t+""}function kye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sye(e,t){if(e==null)return{};var n,r,i=Nye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XU={symbolCircle:QE,symbolCross:Wge,symbolDiamond:Vge,symbolSquare:Hge,symbolStar:Qge,symbolTriangle:Xge,symbolWye:Jge},Cye=Math.PI/180,Oye=e=>{var t="symbol".concat(dx(e));return XU[t]||QE},Pye=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Cye;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Eye=(e,t)=>{XU["symbol".concat(dx(e))]=t},ZU=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Sye(e,_ye),s=PR(PR({},i),{},{type:t,size:n,sizeType:r}),a="circle";typeof t=="string"&&(a=t);var l=()=>{var m=Oye(a),p=eye().type(m).size(Pye(n,r,a)),g=p();if(g!==null)return g},{className:c,cx:u,cy:d}=s,h=us(s);return xt(u)&&xt(d)&&xt(n)?f.createElement("path",YC({},h,{className:wn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};ZU.registerSymbol=Eye;var JU=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ZE=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(f.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{KE(i)&&(r[i]=s=>n[i](n,s))}),r},Mye=(e,t,n)=>r=>(e(t,n,r),null),JE=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];KE(i)&&typeof s=="function"&&(r||(r={}),r[i]=Mye(s,t,n))}),r};function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){Aye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aye(e,t,n){return(t=zye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zye(e){var t=Dye(e,"string");return typeof t=="symbol"?t:t+""}function Dye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(e,t){var n=Tye({},e),r=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var e9={},t9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(t9);var eM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(eM);var n9={},Nj={},r9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(r9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Nj);var i9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(i9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nj,n=i9;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(n9);var s9={},a9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jj;function n(r){return function(i){return t.get(i,r)}}e.property=n})(a9);var o9={},tM={},l9={},nM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(nM);var rM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(rM);var iM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(iM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM,n=rM,r=iM;function i(d,h,m){return typeof m!="function"?i(d,h,()=>{}):s(d,h,function p(g,y,x,b,w,v){const _=m(g,y,x,b,w,v);return _!==void 0?!!_:s(g,y,p,v)},new Map)}function s(d,h,m,p){if(h===d)return!0;switch(typeof h){case"object":return a(d,h,m,p);case"function":return Object.keys(h).length>0?s(d,{...h},m,p):r.eq(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:r.eq(d,h)}}function a(d,h,m,p){if(h==null)return!0;if(Array.isArray(h))return c(d,h,m,p);if(h instanceof Map)return l(d,h,m,p);if(h instanceof Set)return u(d,h,m,p);const g=Object.keys(h);if(d==null||n.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(h))return p.get(h)===d;p==null||p.set(h,d);try{for(let y=0;y<g.length;y++){const x=g[y];if(!n.isPrimitive(d)&&!(x in d)||h[x]===void 0&&d[x]!==void 0||h[x]===null&&d[x]!==null||!m(d[x],h[x],x,d,h,p))return!1}return!0}finally{p==null||p.delete(h)}}function l(d,h,m,p){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,y]of h.entries()){const x=d.get(g);if(m(x,y,g,d,h,p)===!1)return!1}return!0}function c(d,h,m,p){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let y=0;y<h.length;y++){const x=h[y];let b=!1;for(let w=0;w<d.length;w++){if(g.has(w))continue;const v=d[w];let _=!1;if(m(v,x,y,d,h,p)&&(_=!0),_){g.add(w),b=!0;break}}if(!b)return!1}return!0}function u(d,h,m,p){return h.size===0?!0:d instanceof Set?c([...d],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=u})(l9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l9;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(tM);var c9={},sM={},u9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(u9);var aM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(aM);var oM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",m="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",w="[object Uint16Array]",v="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",O="[object BigInt64Array]",P="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=m,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=P,e.float64ArrayTag=M,e.functionTag=h,e.int16ArrayTag=k,e.int32ArrayTag=C,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=r,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=a,e.uint16ArrayTag=w,e.uint32ArrayTag=v,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=b})(oM);var d9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(d9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u9,n=aM,r=oM,i=rM,s=d9;function a(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,m,p=new Map,g=void 0){const y=g==null?void 0:g(d,h,m,p);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const x=new Array(d.length);p.set(d,x);for(let b=0;b<d.length;b++)x[b]=l(d[b],b,m,p,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;p.set(d,x);for(const[b,w]of d)x.set(b,l(w,b,m,p,g));return x}if(d instanceof Set){const x=new Set;p.set(d,x);for(const b of d)x.add(l(b,void 0,m,p,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,x);for(let b=0;b<d.length;b++)x[b]=l(d[b],b,m,p,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,x),c(x,d,m,p,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return p.set(d,x),c(x,d,m,p,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return p.set(d,x),c(x,d,m,p,g),x}if(d instanceof Error){const x=new d.constructor;return p.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,c(x,d,m,p,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return p.set(d,x),c(x,d,m,p,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return p.set(d,x),c(x,d,m,p,g),x}if(d instanceof String){const x=new String(d.valueOf());return p.set(d,x),c(x,d,m,p,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return p.set(d,x),c(x,d,m,p,g),x}return d}function c(d,h,m=d,p,g){const y=[...Object.keys(h),...t.getSymbols(h)];for(let x=0;x<y.length;x++){const b=y[x],w=Object.getOwnPropertyDescriptor(d,b);(w==null||w.writable)&&(d[b]=l(h[b],b,m,p,g))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(sM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(c9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM,n=c9;function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(o9);var h9={},f9={},m9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM,n=oM;function r(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}e.cloneDeepWith=r})(m9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m9;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(f9);var p9={},lM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(lM);var g9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aM;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(g9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XE,n=lM,r=g9,i=Sj;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=s})(p9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM,n=kj,r=f9,i=jj,s=p9;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(h9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eM,n=a9,r=o9,i=h9;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}e.iteratee=s})(s9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t9,n=eM,r=n9,i=s9;function s(a,l=n.identity){return r.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(e9);var Rye=e9.uniqBy;const MR=wl(Rye);function Iye(e,t,n){return t===!0?MR(e,n):typeof t=="function"?MR(e,t):e}var y9={exports:{}},x9={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj=f,Lye=L6;function $ye(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fye=typeof Object.is=="function"?Object.is:$ye,Bye=Lye.useSyncExternalStore,qye=Cj.useRef,Wye=Cj.useEffect,Uye=Cj.useMemo,Vye=Cj.useDebugValue;x9.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=qye(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Uye(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,Fye(d,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,h=y)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var l=Bye(e,s[0],s[1]);return Wye(function(){a.hasValue=!0,a.value=l},[l]),Vye(l),l};y9.exports=x9;var Hye=y9.exports,cM=f.createContext(null),Kye=e=>e,Nr=()=>{var e=f.useContext(cM);return e?e.store.dispatch:Kye},Gb=()=>{},Yye=()=>Gb,Gye=(e,t)=>e===t;function Rt(e){var t=f.useContext(cM);return Hye.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Yye,t?t.store.getState:Gb,t?t.store.getState:Gb,t?e:Gb,Gye)}function Qye(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Xye(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Zye(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var TR=e=>Array.isArray(e)?e:[e];function Jye(e){const t=Array.isArray(e[0])?e[0]:e;return Zye(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function exe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var txe=class{constructor(e){this.value=e}deref(){return this.value}},nxe=typeof WeakRef<"u"?WeakRef:txe,rxe=0,AR=1;function Cv(){return{s:rxe,v:void 0,o:null,p:null}}function v9(e,t={}){let n=Cv();const{resultEqualityCheck:r}=t;let i,s=0;function a(){var h;let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const x=y.get(g);x===void 0?(l=Cv(),y.set(g,l)):l=x}else{let y=l.p;y===null&&(l.p=y=new Map);const x=y.get(g);x===void 0?(l=Cv(),y.set(g,l)):l=x}}const u=l;let d;if(l.s===AR)d=l.v;else if(d=e.apply(null,arguments),s++,r){const m=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;m!=null&&r(m,d)&&(d=m,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new nxe(d):d}return u.s=AR,u.v=d,d}return a.clearCache=()=>{n=Cv(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function ixe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),Qye(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:h,memoizeOptions:m=[],argsMemoize:p=v9,argsMemoizeOptions:g=[]}=d,y=TR(m),x=TR(g),b=Jye(i),w=h(function(){return s++,u.apply(null,arguments)},...y),v=p(function(){a++;const j=exe(b,arguments);return l=w.apply(null,j),l},...x);return Object.assign(v,{resultFunc:u,memoizedResultFunc:w,dependencies:b,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var ke=ixe(v9),sxe=Object.assign((e,t=ke)=>{Xye(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>sxe}),b9={},_9={},w9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=t(r),l=t(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=n})(w9);var j9={},uM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(uM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(j9);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w9,n=j9,r=Sj;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,g)=>{let y=p;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,h=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return s.map(p=>({original:p,criteria:h.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let y=0;y<h.length;y++){const x=t.compareValues(p.criteria[y],g.criteria[y],l[y]);if(x!==0)return x}return 0}).map(p=>p.original)}e.orderBy=i})(_9);var k9={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(n,0),i}e.flatten=t})(k9);var dM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM,n=Nj,r=nM,i=iM;function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(dM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_9,n=k9,r=dM;function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,n.flatten(a),["asc"])}e.sortBy=i})(b9);var axe=b9.sortBy;const Oj=wl(axe);var S9=e=>e.legend.settings,oxe=e=>e.legend.size,lxe=e=>e.legend.payload;ke([lxe,S9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Oj(r,n):r});var Ov=1;function cxe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=f.useState({height:0,left:0,top:0,width:0}),r=f.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Ov||Math.abs(a.left-t.left)>Ov||Math.abs(a.top-t.top)>Ov||Math.abs(a.width-t.width)>Ov)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function yi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uxe=typeof Symbol=="function"&&Symbol.observable||"@@observable",zR=uxe,nS=()=>Math.random().toString(36).substring(7).split("").join("."),dxe={INIT:`@@redux/INIT${nS()}`,REPLACE:`@@redux/REPLACE${nS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nS()}`},c0=dxe;function hM(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function N9(e,t,n){if(typeof e!="function")throw new Error(yi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yi(1));return n(N9)(e,t)}let r=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((x,b)=>{a.set(b,x)}))}function d(){if(c)throw new Error(yi(3));return i}function h(x){if(typeof x!="function")throw new Error(yi(4));if(c)throw new Error(yi(5));let b=!0;u();const w=l++;return a.set(w,x),function(){if(b){if(c)throw new Error(yi(6));b=!1,u(),a.delete(w),s=null}}}function m(x){if(!hM(x))throw new Error(yi(7));if(typeof x.type>"u")throw new Error(yi(8));if(typeof x.type!="string")throw new Error(yi(17));if(c)throw new Error(yi(9));try{c=!0,i=r(i,x)}finally{c=!1}return(s=a).forEach(w=>{w()}),x}function p(x){if(typeof x!="function")throw new Error(yi(10));r=x,m({type:c0.REPLACE})}function g(){const x=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(yi(11));function w(){const _=b;_.next&&_.next(d())}return w(),{unsubscribe:x(w)}},[zR](){return this}}}return m({type:c0.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:p,[zR]:g}}function hxe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:c0.INIT})>"u")throw new Error(yi(12));if(typeof n(void 0,{type:c0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yi(13))})}function C9(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{hxe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],p=a[h],g=m(p,l);if(typeof g>"u")throw l&&l.type,new Error(yi(14));u[h]=g,c=c||g!==p}return c=c||r.length!==Object.keys(a).length,c?u:a}}function u0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function fxe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(yi(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=u0(...l)(i.dispatch),{...i,dispatch:s}}}function O9(e){return hM(e)&&"type"in e&&typeof e.type=="string"}var P9=Symbol.for("immer-nothing"),DR=Symbol.for("immer-draftable"),hs=Symbol.for("immer-state");function fo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var aa=Object,rm=aa.getPrototypeOf,d0="constructor",Pj="prototype",GC="configurable",h0="enumerable",Qb="writable",Xg="value",xc=e=>!!e&&!!e[hs];function Oo(e){var t;return e?E9(e)||Ej(e)||!!e[DR]||!!((t=e[d0])!=null&&t[DR])||Mj(e)||Tj(e):!1}var mxe=aa[Pj][d0].toString(),RR=new WeakMap;function E9(e){if(!e||!fM(e))return!1;const t=rm(e);if(t===null||t===aa[Pj])return!0;const n=aa.hasOwnProperty.call(t,d0)&&t[d0];if(n===Object)return!0;if(!Jh(n))return!1;let r=RR.get(n);return r===void 0&&(r=Function.toString.call(n),RR.set(n,r)),r===mxe}function fx(e,t,n=!0){mx(e)===0?(n?Reflect.ownKeys(e):aa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function mx(e){const t=e[hs];return t?t.type_:Ej(e)?1:Mj(e)?2:Tj(e)?3:0}var IR=(e,t,n=mx(e))=>n===2?e.has(t):aa[Pj].hasOwnProperty.call(e,t),QC=(e,t,n=mx(e))=>n===2?e.get(t):e[t],f0=(e,t,n,r=mx(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function pxe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ej=Array.isArray,Mj=e=>e instanceof Map,Tj=e=>e instanceof Set,fM=e=>typeof e=="object",Jh=e=>typeof e=="function",rS=e=>typeof e=="boolean",Hl=e=>e.copy_||e.base_,mM=e=>e.modified_?e.copy_:e.base_;function XC(e,t){if(Mj(e))return new Map(e);if(Tj(e))return new Set(e);if(Ej(e))return Array[Pj].slice.call(e);const n=E9(e);if(t===!0||t==="class_only"&&!n){const r=aa.getOwnPropertyDescriptors(e);delete r[hs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Qb]===!1&&(l[Qb]=!0,l[GC]=!0),(l.get||l.set)&&(r[a]={[GC]:!0,[Qb]:!0,[h0]:l[h0],[Xg]:e[a]})}return aa.create(rm(e),r)}else{const r=rm(e);if(r!==null&&n)return{...e};const i=aa.create(r);return aa.assign(i,e)}}function pM(e,t=!1){return Aj(e)||xc(e)||!Oo(e)||(mx(e)>1&&aa.defineProperties(e,{set:Pv,add:Pv,clear:Pv,delete:Pv}),aa.freeze(e),t&&fx(e,(n,r)=>{pM(r,!0)},!1)),e}function gxe(){fo(2)}var Pv={[Xg]:gxe};function Aj(e){return e===null||!fM(e)?!0:aa.isFrozen(e)}var m0="MapSet",ZC="Patches",M9={};function im(e){const t=M9[e];return t||fo(0,e),t}var yxe=e=>!!M9[e],Zg,T9=()=>Zg,xxe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yxe(m0)?im(m0):void 0});function LR(e,t){t&&(e.patchPlugin_=im(ZC),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function JC(e){eO(e),e.drafts_.forEach(vxe),e.drafts_=null}function eO(e){e===Zg&&(Zg=e.parent_)}var $R=e=>Zg=xxe(Zg,e);function vxe(e){const t=e[hs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function FR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[hs].modified_&&(JC(t),fo(4)),Oo(e)&&(e=BR(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[hs].base_,e,t)}else e=BR(t,n);return bxe(t,e,!0),JC(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==P9?e:void 0}function BR(e,t){if(Aj(t))return t;const n=t[hs];if(!n)return gM(t,e.handledSet_,e);if(!zj(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);D9(n,e)}return n.copy_}function bxe(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pM(t,n)}function A9(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var zj=(e,t)=>e.scope_===t,_xe=[];function z9(e,t,n,r){const i=Hl(e),s=e.type_;if(r!==void 0&&QC(i,r,s)===t){f0(i,r,n,s);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;fx(i,(c,u)=>{if(xc(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const a=e.draftLocations_.get(t)??_xe;for(const l of a)f0(i,l,n,s)}function wxe(e,t,n){e.callbacks_.push(function(i){var l;const s=t;if(!s||!zj(s,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(s);const a=mM(s);z9(e,s.draft_??s,a,n),D9(s,i)})}function D9(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const s=i.getPath(e);s&&i.generatePatches_(e,s,t)}A9(e)}}function jxe(e,t,n){const{scope_:r}=e;if(xc(n)){const i=n[hs];zj(i,r)&&i.callbacks_.push(function(){Xb(e);const a=mM(i);z9(e,n,a,t)})}else Oo(n)&&e.callbacks_.push(function(){const s=Hl(e);QC(s,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gM(QC(e.copy_,t,e.type_),r.handledSet_,r)})}function gM(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||xc(e)||t.has(e)||!Oo(e)||Aj(e)||(t.add(e),fx(e,(r,i)=>{if(xc(i)){const s=i[hs];if(zj(s,n)){const a=mM(s);f0(e,r,a,e.type_),A9(s)}}else Oo(i)&&gM(i,t,n)})),e}function kxe(e,t){const n=Ej(e),r={type_:n?1:0,scope_:t?t.scope_:T9(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=yM;n&&(i=[r],s=Jg);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var yM={get(e,t){if(t===hs)return e;const n=Hl(e);if(!IR(n,t,e.type_))return Sxe(e,n,t);const r=n[t];if(e.finalized_||!Oo(r))return r;if(r===iS(e.base_,t)){Xb(e);const i=e.type_===1?+t:t,s=nO(e.scope_,r,e,i);return e.copy_[i]=s}return r},has(e,t){return t in Hl(e)},ownKeys(e){return Reflect.ownKeys(Hl(e))},set(e,t,n){const r=R9(Hl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=iS(Hl(e),t),s=i==null?void 0:i[hs];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(pxe(n,i)&&(n!==void 0||IR(e.base_,t,e.type_)))return!0;Xb(e),tO(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),jxe(e,t,n)),!0},deleteProperty(e,t){return Xb(e),iS(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),tO(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Hl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Qb]:!0,[GC]:e.type_!==1||t!=="length",[h0]:r[h0],[Xg]:n[t]}},defineProperty(){fo(11)},getPrototypeOf(e){return rm(e.base_)},setPrototypeOf(){fo(12)}},Jg={};fx(yM,(e,t)=>{Jg[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});Jg.deleteProperty=function(e,t){return Jg.set.call(this,e,t,void 0)};Jg.set=function(e,t,n){return yM.set.call(this,e[0],t,n,e[0])};function iS(e,t){const n=e[hs];return(n?Hl(n):e)[t]}function Sxe(e,t,n){var i;const r=R9(t,n);return r?Xg in r?r[Xg]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function R9(e,t){if(!(t in e))return;let n=rm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=rm(n)}}function tO(e){e.modified_||(e.modified_=!0,e.parent_&&tO(e.parent_))}function Xb(e){e.copy_||(e.assigned_=new Map,e.copy_=XC(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Nxe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Jh(n)&&!Jh(r)){const a=r;r=n;const l=this;return function(u=a,...d){return l.produce(u,h=>r.call(this,h,...d))}}Jh(r)||fo(6),i!==void 0&&!Jh(i)&&fo(7);let s;if(Oo(n)){const a=$R(this),l=nO(a,n,void 0);let c=!0;try{s=r(l),c=!1}finally{c?JC(a):eO(a)}return LR(a,i),FR(s,a)}else if(!n||!fM(n)){if(s=r(n),s===void 0&&(s=n),s===P9&&(s=void 0),this.autoFreeze_&&pM(s,!0),i){const a=[],l=[];im(ZC).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:l}),i(a,l)}return s}else fo(1,n)},this.produceWithPatches=(n,r)=>{if(Jh(n))return(l,...c)=>this.produceWithPatches(l,u=>n(u,...c));let i,s;return[this.produce(n,r,(l,c)=>{i=l,s=c}),i,s]},rS(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),rS(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),rS(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Oo(t)||fo(8),xc(t)&&(t=jo(t));const n=$R(this),r=nO(n,t,void 0);return r[hs].isManual_=!0,eO(n),r}finishDraft(t,n){const r=t&&t[hs];(!r||!r.isManual_)&&fo(9);const{scope_:i}=r;return LR(i,n),FR(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}r>-1&&(n=n.slice(r+1));const i=im(ZC).applyPatches_;return xc(t)?i(t,n):this.produce(t,s=>i(s,n))}};function nO(e,t,n,r){const[i,s]=Mj(t)?im(m0).proxyMap_(t,n):Tj(t)?im(m0).proxySet_(t,n):kxe(t,n);return((n==null?void 0:n.scope_)??T9()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?wxe(n,s,r):s.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=c;s.modified_&&u&&u.generatePatches_(s,[],c)}),i}function jo(e){return xc(e)||fo(10,e),I9(e)}function I9(e){if(!Oo(e)||Aj(e))return e;const t=e[hs];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=XC(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=XC(e,!0);return fx(n,(i,s)=>{f0(n,i,I9(s))},r),t&&(t.finalized_=!1),n}var Cxe=new Nxe,L9=Cxe.produce;function $9(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var Oxe=$9(),Pxe=$9,Exe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?u0:u0.apply(null,arguments)};function Ya(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ua(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>O9(r)&&r.type===e,n}var F9=class Wp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Wp.prototype)}static get[Symbol.species](){return Wp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Wp(...t[0].concat(this)):new Wp(...t.concat(this))}};function qR(e){return Oo(e)?L9(e,()=>{}):e}function Ev(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Mxe(e){return typeof e=="boolean"}var Txe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new F9;return n&&(Mxe(n)?a.push(Oxe):a.push(Pxe(n.extraArgument))),a},B9="RTK_autoBatch",Qn=()=>e=>({payload:e,meta:{[B9]:!0}}),WR=e=>t=>{setTimeout(t,e)},q9=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WR(10):e.type==="callback"?e.queueNotification:WR(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),m=r.subscribe(h);return l.add(d),()=>{m(),l.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[B9]),s=!i,s&&(a||(a=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},Axe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new F9(e);return r&&i.push(q9(typeof r=="object"?r:void 0)),i};function zxe(e){const t=Txe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=e||{};let l;if(typeof n=="function")l=n;else if(hM(n))l=C9(n);else throw new Error(ua(1));let c;typeof r=="function"?c=r(t):c=t();let u=u0;i&&(u=Exe({trace:!1,...typeof i=="object"&&i}));const d=fxe(...c),h=Axe(d);let m=typeof a=="function"?a(h):h();const p=u(...m);return N9(l,s,p)}function W9(e){const t={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(ua(28));if(l in t)throw new Error(ua(29));return t[l]=a,i},addAsyncThunk(s,a){return a.pending&&(t[s.pending.type]=a.pending),a.rejected&&(t[s.rejected.type]=a.rejected),a.fulfilled&&(t[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function Dxe(e){return typeof e=="function"}function Rxe(e,t){let[n,r,i]=W9(t),s;if(Dxe(e))s=()=>qR(e());else{const l=qR(e);s=()=>l}function a(l=s(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(xc(d)){const p=h(d,c);return p===void 0?d:p}else{if(Oo(d))return L9(d,m=>h(m,c));{const m=h(d,c);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},l)}return a.getInitialState=s,a}var Ixe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Lxe=(e=21)=>{let t="",n=e;for(;n--;)t+=Ixe[Math.random()*64|0];return t},$xe=Symbol.for("rtk-slice-createasyncthunk");function Fxe(e,t){return`${e}/${t}`}function Bxe({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[$xe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(ua(11));const l=(typeof i.reducers=="function"?i.reducers(Wxe()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(ua(12));if(k in u.sliceCaseReducersByType)throw new Error(ua(13));return u.sliceCaseReducersByType[k]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=l[_],k={reducerName:_,type:Fxe(s,_),createNotation:typeof i.reducers=="function"};Vxe(j)?Kxe(k,j,d,t):Uxe(k,j,d)});function h(){const[_={},j=[],k=void 0]=typeof i.extraReducers=="function"?W9(i.extraReducers):[i.extraReducers],C={..._,...u.sliceCaseReducersByType};return Rxe(i.initialState,O=>{for(let P in C)O.addCase(P,C[P]);for(let P of u.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of j)O.addMatcher(P.matcher,P.reducer);k&&O.addDefaultCase(k)})}const m=_=>_,p=new Map,g=new WeakMap;let y;function x(_,j){return y||(y=h()),y(_,j)}function b(){return y||(y=h()),y.getInitialState()}function w(_,j=!1){function k(O){let P=O[_];return typeof P>"u"&&j&&(P=Ev(g,k,b)),P}function C(O=m){const P=Ev(p,j,()=>new WeakMap);return Ev(P,O,()=>{const M={};for(const[A,R]of Object.entries(i.selectors??{}))M[A]=qxe(R,O,()=>Ev(g,O,b),j);return M})}return{reducerPath:_,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const v={name:s,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...w(a),injectInto(_,{reducerPath:j,...k}={}){const C=j??a;return _.inject({reducerPath:C,reducer:x},k),{...v,...w(C,!0)}}};return v}}function qxe(e,t,n,r){function i(s,...a){let l=t(s);return typeof l>"u"&&r&&(l=n()),e(l,...a)}return i.unwrapped=e,i}var qs=Bxe();function Wxe(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function Uxe({type:e,reducerName:t,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Hxe(r))throw new Error(ua(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Ya(e,a):Ya(e))}function Vxe(e){return e._reducerDefinitionType==="asyncThunk"}function Hxe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Kxe({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ua(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=n,h=i(e,s,d);r.exposeAction(t,h),a&&r.addCase(h.fulfilled,a),l&&r.addCase(h.pending,l),c&&r.addCase(h.rejected,c),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(t,{fulfilled:a||Mv,pending:l||Mv,rejected:c||Mv,settled:u||Mv})}function Mv(){}var Yxe="task",U9="listener",V9="completed",xM="cancelled",Gxe=`task-${xM}`,Qxe=`task-${V9}`,rO=`${U9}-${xM}`,Xxe=`${U9}-${V9}`,Dj=class{constructor(e){rk(this,"name","TaskAbortError");rk(this,"message");this.code=e,this.message=`${Yxe} ${xM} (reason: ${e})`}},vM=(e,t)=>{if(typeof e!="function")throw new TypeError(ua(32))},p0=()=>{},H9=(e,t=p0)=>(e.catch(t),e),K9=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Bd=e=>{if(e.aborted)throw new Dj(e.reason)};function Y9(e,t){let n=p0;return new Promise((r,i)=>{const s=()=>i(new Dj(e.reason));if(e.aborted){s();return}n=K9(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=p0})}var Zxe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Dj?"cancelled":"rejected",error:n}}finally{t==null||t()}},g0=e=>t=>H9(Y9(e,t).then(n=>(Bd(e),n))),G9=e=>{const t=g0(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Af}=Object,UR={},Rj="listenerMiddleware",Jxe=(e,t)=>{const n=r=>K9(e,()=>r.abort(e.reason));return(r,i)=>{vM(r);const s=new AbortController;n(s);const a=Zxe(async()=>{Bd(e),Bd(s.signal);const l=await r({pause:g0(s.signal),delay:G9(s.signal),signal:s.signal});return Bd(s.signal),l},()=>s.abort(Qxe));return i!=null&&i.autoJoin&&t.push(a.catch(p0)),{result:g0(e)(a),cancel(){s.abort(Gxe)}}}},eve=(e,t)=>{const n=async(r,i)=>{Bd(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:r,effect:(h,m)=>{m.unsubscribe(),c([h,m.getState(),m.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await Y9(t,Promise.race(l));return Bd(t),c}finally{s()}};return(r,i)=>H9(n(r,i))},Q9=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Ya(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ua(21));return vM(s),{predicate:i,type:t,effect:s}},X9=Af(e=>{const{type:t,predicate:n,effect:r}=Q9(e);return{id:Lxe(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>X9}),VR=(e,t)=>{const{type:n,effect:r,predicate:i}=Q9(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},iO=e=>{e.pending.forEach(t=>{t.abort(rO)})},tve=(e,t)=>()=>{for(const n of t.keys())iO(n);e.clear()},HR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},Z9=Af(Ya(`${Rj}/add`),{withTypes:()=>Z9}),nve=Ya(`${Rj}/removeAll`),J9=Af(Ya(`${Rj}/remove`),{withTypes:()=>J9}),rve=(...e)=>{console.error(`${Rj}/error`,...e)},px=(e={})=>{const t=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:s,onError:a=rve}=e;vM(a);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&iO(p)}),c=p=>{const g=VR(t,p)??X9(p);return l(g)};Af(c,{withTypes:()=>c});const u=p=>{const g=VR(t,p);return g&&(g.unsubscribe(),p.cancelActive&&iO(g)),!!g};Af(u,{withTypes:()=>u});const d=async(p,g,y,x)=>{const b=new AbortController,w=eve(c,b.signal),v=[];try{p.pending.add(b),r(p),await Promise.resolve(p.effect(g,Af({},y,{getOriginalState:x,condition:(_,j)=>w(_,j).then(Boolean),take:w,delay:G9(b.signal),pause:g0(b.signal),extra:s,signal:b.signal,fork:Jxe(b.signal,v),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,j,k)=>{_!==b&&(_.abort(rO),k.delete(_))})},cancel:()=>{b.abort(rO),p.pending.delete(b)},throwIfCancelled:()=>{Bd(b.signal)}})))}catch(_){_ instanceof Dj||HR(a,_,{raisedBy:"effect"})}finally{await Promise.all(v),b.abort(Xxe),i(p),p.pending.delete(b)}},h=tve(t,n);return{middleware:p=>g=>y=>{if(!O9(y))return g(y);if(Z9.match(y))return c(y.payload);if(nve.match(y)){h();return}if(J9.match(y))return u(y.payload);let x=p.getState();const b=()=>{if(x===UR)throw new Error(ua(23));return x};let w;try{if(w=g(y),t.size>0){const v=p.getState(),_=Array.from(t.values());for(const j of _){let k=!1;try{k=j.predicate(y,v,x)}catch(C){k=!1,HR(a,C,{raisedBy:"predicate"})}k&&d(j,y,p,b)}}}finally{x=UR}return w},startListening:c,stopListening:u,clearListeners:h}};function ua(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ive={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},e7=qs({name:"chartLayout",initialState:ive,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sve,setLayout:ave,setChartSize:ove,setScale:lve}=e7.actions,cve=e7.reducer;function t7(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function An(e){return Number.isFinite(e)}function xl(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(r){uve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uve(e,t,n){return(t=dve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dve(e){var t=hve(e,"string");return typeof t=="symbol"?t:t+""}function hve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t,n){return lr(e)||lr(t)?n:yl(t)?nm(e,t,n):typeof t=="function"?t(e):n}var fve=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&xt(e[s]))return yf(yf({},e),{},{[s]:e[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&xt(e[a]))return yf(yf({},e),{},{[a]:e[a]+(i||0)})}return e},Mc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",n7=(e,t,n,r)=>{if(r)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(n),a},r7=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:m,axisType:p}=e;if(!a)return null;var g=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=p==="angleAxis"&&s&&s.length>=2?Ms(s[0]-s[1])*2*y:y,h||m){var x=(h||m||[]).map((b,w)=>{var v=r?r.indexOf(b):b;return{coordinate:a(v)+y,value:b,offset:y,index:w}});return x.filter(b=>!Ka(b.coordinate))}return c&&u?u.map((b,w)=>({coordinate:a(b)+y,value:b,index:w,offset:y})):a.ticks&&d!=null?a.ticks(d).map((b,w)=>({coordinate:a(b)+y,value:b,offset:y,index:w})):a.domain().map((b,w)=>({coordinate:a(b)+y,value:r?r[b]:b,index:w,offset:y}))},YR=1e-4,mve=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-YR,s=Math.max(r[0],r[1])+YR,a=e(t[0]),l=e(t[n-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[n-1]])}},pve=(e,t)=>{if(!t||t.length!==2||!xt(t[0])||!xt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!xt(e[0])||e[0]<n)&&(i[0]=n),(!xt(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},gve=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var c=e[l],u=c==null?void 0:c[i];if(u!=null){var d=u[1],h=u[0],m=Ka(d)?h:d;m>=0?(u[0]=s,u[1]=s+m,s=d):(u[0]=a,u[1]=a+m,a=d)}}}},yve=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=e[a],c=l==null?void 0:l[i];if(c!=null){var u=Ka(c[1])?c[0]:c[1];u>=0?(c[0]=s,c[1]=s+u,s=c[1]):(c[0]=0,c[1]=0)}}}},xve={sign:gve,expand:mye,none:nh,silhouette:pye,wiggle:gye,positive:yve},vve=(e,t,n)=>{var r,i=(r=xve[n])!==null&&r!==void 0?r:nh,s=fye().keys(t).value((l,c)=>Number(Ar(l,c,0))).order(KC).offset(i),a=s(e);return a.forEach((l,c)=>{l.forEach((u,d)=>{var h=Ar(e[d],t[c],0);Array.isArray(h)&&h.length===2&&xt(h[0])&&xt(h[1])&&(u[0]=h[0],u[1]=h[1])})}),a};function i7(e){return e==null?void 0:String(e)}function GR(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lr(i[t.dataKey])){var l=QU(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Ar(i,lr(a)?t.dataKey:a);return lr(c)?null:t.scale(c)}var QR=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return n[a]?n[a].coordinate+r:null;var l=Ar(s,t.dataKey,t.scale.domain()[a]);return lr(l)?null:t.scale(l)-i/2+r},bve=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},_ve=e=>{var t=e.flat(2).filter(xt);return[Math.min(...t),Math.max(...t)]},wve=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],jve=(e,t,n)=>{if(e!=null)return wve(Object.keys(e).reduce((r,i)=>{var s=e[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((c,u)=>{var d=t7(u,t,n),h=_ve(d);return!An(h[0])||!An(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},XR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sm=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Oj(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return n?void 0:0};function JR(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return yf(yf({},t),{},{dataKey:n,payload:r,value:i,name:s})}function Ij(e,t){if(e)return String(e);if(typeof t=="string")return t}var kve=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Sve=(e,t)=>t==="centric"?e.angle:e.radius,Tc=e=>e.layout.width,Ac=e=>e.layout.height,Nve=e=>e.layout.scale,s7=e=>e.layout.margin,Lj=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),$j=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Cve="data-recharts-item-index",Ove="data-recharts-item-id",gx=60;function eI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(n),!0).forEach(function(r){Pve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pve(e,t,n){return(t=Eve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eve(e){var t=Mve(e,"string");return typeof t=="symbol"?t:t+""}function Mve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tve=e=>e.brush.height;function Ave(e){var t=$j(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gx;return n+i}return n},0)}function zve(e){var t=$j(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:gx;return n+i}return n},0)}function Dve(e){var t=Lj(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Rve(e){var t=Lj(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var hi=ke([Tc,Ac,s7,Tve,Ave,zve,Dve,Rve,S9,oxe],(e,t,n,r,i,s,a,l,c,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+s},h={top:(n.top||0)+a,bottom:(n.bottom||0)+l},m=Tv(Tv({},h),d),p=m.bottom;m.bottom+=r,m=fve(m,c,u);var g=e-m.left-m.right,y=t-m.top-m.bottom;return Tv(Tv({brushBottom:p},m),{},{width:Math.max(g,0),height:Math.max(y,0)})}),Ive=ke(hi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),bM=ke(Tc,Ac,(e,t)=>({x:0,y:0,width:e,height:t})),Lve=f.createContext(null),Hi=()=>f.useContext(Lve)!=null,Fj=e=>e.brush,Bj=ke([Fj,hi,s7],(e,t,n)=>({height:e.height,x:xt(e.x)?e.x:t.left,y:xt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:xt(e.width)?e.width:t.width})),a7={},o7={},l7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},h=()=>{u&&d(),y()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,h()},r)},g=()=>{m!==null&&(clearTimeout(m),m=null)},y=()=>{g(),a=void 0,l=null},x=()=>{d()},b=function(...w){if(i!=null&&i.aborted)return;a=this,l=w;const v=m==null;p(),c&&v&&d()};return b.schedule=p,b.cancel=y,b.flush=x,i==null||i.addEventListener("abort",y,{once:!0}),b}e.debounce=t})(l7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l7;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const m=t.debounce(function(...y){d=r.apply(this,y),h=null},i,{edges:u}),p=function(...y){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=r.apply(this,y),h=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,y),d)},g=()=>(m.flush(),d);return p.cancel=m.cancel,p.flush=g,p}e.debounce=n})(o7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o7;function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(r,i,{leading:a,maxWait:i,trailing:l})}e.throttle=n})(a7);var $ve=a7.throttle;const Fve=wl($ve);var y0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},c7=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,l=yc(r)?e:Number(r),c=yc(i)?t:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},Bve={width:0,height:0,overflow:"visible"},qve={width:0,overflowX:"visible"},Wve={height:0,overflowY:"visible"},Uve={},Vve=e=>{var{width:t,height:n}=e,r=yc(t),i=yc(n);return r&&i?Bve:r?qve:i?Wve:Uve};function Hve(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function sO(){return sO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sO.apply(null,arguments)}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(r){Kve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kve(e,t,n){return(t=Yve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yve(e){var t=Gve(e,"string");return typeof t=="symbol"?t:t+""}function Gve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u7=f.createContext({width:-1,height:-1});function Qve(e){return xl(e.width)&&xl(e.height)}function d7(e){var{children:t,width:n,height:r}=e,i=f.useMemo(()=>({width:n,height:r}),[n,r]);return Qve(i)?f.createElement(u7.Provider,{value:i},t):null}var _M=()=>f.useContext(u7),Xve=f.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:h,className:m,onResize:p,style:g={}}=e,y=f.useRef(null),x=f.useRef();x.current=p,f.useImperativeHandle(t,()=>y.current);var[b,w]=f.useState({containerWidth:r.width,containerHeight:r.height}),v=f.useCallback((O,P)=>{w(M=>{var A=Math.round(O),R=Math.round(P);return M.containerWidth===A&&M.containerHeight===R?M:{containerWidth:A,containerHeight:R}})},[]);f.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return hx;var O=R=>{var B,{width:F,height:U}=R[0].contentRect;v(F,U),(B=x.current)===null||B===void 0||B.call(x,F,U)};d>0&&(O=Fve(O,d,{trailing:!0,leading:!1}));var P=new ResizeObserver(O),{width:M,height:A}=y.current.getBoundingClientRect();return v(M,A),P.observe(y.current),()=>{P.disconnect()}},[v,d]);var{containerWidth:_,containerHeight:j}=b;y0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:C}=c7(_,j,{width:i,height:s,aspect:n,maxHeight:c});return y0(k!=null&&k>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,C,i,s,a,l,n),f.createElement("div",{id:h?"".concat(h):void 0,className:wn("recharts-responsive-container",m),style:nI(nI({},g),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:y},f.createElement("div",{style:Vve({width:i,height:s})},f.createElement(d7,{width:k,height:C},u)))}),Zve=f.forwardRef((e,t)=>{var n=_M();if(xl(n.width)&&xl(n.height))return e.children;var{width:r,height:i}=Hve({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:a}=c7(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return xt(s)&&xt(a)?f.createElement(d7,{width:s,height:a},e.children):f.createElement(Xve,sO({},e,{width:r,height:i,ref:t}))});function h7(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var qj=()=>{var e,t=Hi(),n=Rt(Ive),r=Rt(Bj),i=(e=Rt(Fj))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Jve={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},f7=()=>{var e;return(e=Rt(hi))!==null&&e!==void 0?e:Jve},m7=()=>Rt(Tc),p7=()=>Rt(Ac),_n=e=>e.layout.layoutType,wh=()=>Rt(_n),ebe=()=>{var e=wh();if(e==="horizontal"||e==="vertical")return e},tbe=()=>{var e=wh();return e!==void 0},Wj=e=>{var t=Nr(),n=Hi(),{width:r,height:i}=e,s=_M(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),f.useEffect(()=>{!n&&xl(a)&&xl(l)&&t(ove({width:a,height:l}))},[t,n,a,l]),null},g7=Symbol.for("immer-nothing"),rI=Symbol.for("immer-draftable"),ma=Symbol.for("immer-state");function mo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ey=Object.getPrototypeOf;function am(e){return!!e&&!!e[ma]}function rh(e){var t;return e?y7(e)||Array.isArray(e)||!!e[rI]||!!((t=e.constructor)!=null&&t[rI])||yx(e)||Vj(e):!1}var nbe=Object.prototype.constructor.toString(),iI=new WeakMap;function y7(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=iI.get(n);return r===void 0&&(r=Function.toString.call(n),iI.set(n,r)),r===nbe}function x0(e,t,n=!0){Uj(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Uj(e){const t=e[ma];return t?t.type_:Array.isArray(e)?1:yx(e)?2:Vj(e)?3:0}function aO(e,t){return Uj(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function x7(e,t,n){const r=Uj(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function rbe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yx(e){return e instanceof Map}function Vj(e){return e instanceof Set}function md(e){return e.copy_||e.base_}function oO(e,t){if(yx(e))return new Map(e);if(Vj(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=y7(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ma];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(ey(e),r)}else{const r=ey(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function wM(e,t=!1){return Hj(e)||am(e)||!rh(e)||(Uj(e)>1&&Object.defineProperties(e,{set:Av,add:Av,clear:Av,delete:Av}),Object.freeze(e),t&&Object.values(e).forEach(n=>wM(n,!0))),e}function ibe(){mo(2)}var Av={value:ibe};function Hj(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var sbe={};function ih(e){const t=sbe[e];return t||mo(0,e),t}var ty;function v7(){return ty}function abe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sI(e,t){t&&(ih("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lO(e){cO(e),e.drafts_.forEach(obe),e.drafts_=null}function cO(e){e===ty&&(ty=e.parent_)}function aI(e){return ty=abe(ty,e)}function obe(e){const t=e[ma];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ma].modified_&&(lO(t),mo(4)),rh(e)&&(e=v0(t,e),t.parent_||b0(t,e)),t.patches_&&ih("Patches").generateReplacementPatches_(n[ma].base_,e,t.patches_,t.inversePatches_)):e=v0(t,n,[]),lO(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==g7?e:void 0}function v0(e,t,n){if(Hj(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ma];if(!i)return x0(t,(s,a)=>lI(e,i,t,s,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return b0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),x0(a,(c,u)=>lI(e,i,s,c,u,n,l),r),b0(e,s,!1),n&&e.patches_&&ih("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function lI(e,t,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=Hj(i);if(!(l&&!a)){if(am(i)){const c=s&&t&&t.type_!==3&&!aO(t.assigned_,r)?s.concat(r):void 0,u=v0(e,i,c);if(x7(n,r,u),am(u))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(rh(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&l)return;v0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(yx(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&b0(e,i)}}}function b0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wM(t,n)}function lbe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:v7(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=jM;n&&(i=[r],s=ny);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var jM={get(e,t){if(t===ma)return e;const n=md(e);if(!aO(n,t))return cbe(e,n,t);const r=n[t];return e.finalized_||!rh(r)?r:r===sS(e.base_,t)?(aS(e),e.copy_[t]=dO(r,e)):r},has(e,t){return t in md(e)},ownKeys(e){return Reflect.ownKeys(md(e))},set(e,t,n){const r=b7(md(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=sS(md(e),t),s=i==null?void 0:i[ma];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(rbe(n,i)&&(n!==void 0||aO(e.base_,t)))return!0;aS(e),uO(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,aS(e),uO(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=md(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){mo(11)},getPrototypeOf(e){return ey(e.base_)},setPrototypeOf(){mo(12)}},ny={};x0(jM,(e,t)=>{ny[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ny.deleteProperty=function(e,t){return ny.set.call(this,e,t,void 0)};ny.set=function(e,t,n){return jM.set.call(this,e[0],t,n,e[0])};function sS(e,t){const n=e[ma];return(n?md(n):e)[t]}function cbe(e,t,n){var i;const r=b7(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function b7(e,t){if(!(t in e))return;let n=ey(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ey(n)}}function uO(e){e.modified_||(e.modified_=!0,e.parent_&&uO(e.parent_))}function aS(e){e.copy_||(e.copy_=oO(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ube=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const a=this;return function(c=s,...u){return a.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&mo(6),r!==void 0&&typeof r!="function"&&mo(7);let i;if(rh(t)){const s=aI(this),a=dO(t,void 0);let l=!0;try{i=n(a),l=!1}finally{l?lO(s):cO(s)}return sI(s,r),oI(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===g7&&(i=void 0),this.autoFreeze_&&wM(i,!0),r){const s=[],a=[];ih("Patches").generateReplacementPatches_(t,i,s,a),r(s,a)}return i}else mo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let r,i;return[this.produce(t,n,(a,l)=>{r=a,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){rh(e)||mo(8),am(e)&&(e=dbe(e));const t=aI(this),n=dO(e,void 0);return n[ma].isManual_=!0,cO(t),n}finishDraft(e,t){const n=e&&e[ma];(!n||!n.isManual_)&&mo(9);const{scope_:r}=n;return sI(r,t),oI(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ih("Patches").applyPatches_;return am(e)?r(e,t):this.produce(e,i=>r(i,t))}};function dO(e,t){const n=yx(e)?ih("MapSet").proxyMap_(e,t):Vj(e)?ih("MapSet").proxySet_(e,t):lbe(e,t);return(t?t.scope_:v7()).drafts_.push(n),n}function dbe(e){return am(e)||mo(10,e),_7(e)}function _7(e){if(!rh(e)||Hj(e))return e;const t=e[ma];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=oO(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=oO(e,!0);return x0(n,(i,s)=>{x7(n,i,_7(s))},r),t&&(t.finalized_=!1),n}var hbe=new ube;hbe.produce;var fbe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},w7=qs({name:"legend",initialState:fbe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Qn()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=jo(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Qn()},removeLegendPayload:{reducer(e,t){var n=jo(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Qn()}}}),{setLegendSize:rWe,setLegendSettings:iWe,addLegendPayload:mbe,replaceLegendPayload:pbe,removeLegendPayload:gbe}=w7.actions,ybe=w7.reducer;function hO(){return hO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hO.apply(null,arguments)}function cI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(n),!0).forEach(function(r){xbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xbe(e,t,n){return(t=vbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vbe(e){var t=bbe(e,"string");return typeof t=="symbol"?t:t+""}function bbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _be(e){return Array.isArray(e)&&yl(e[0])&&yl(e[1])?e.join(" ~ "):e}var wbe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:m=!1}=e,p=()=>{if(s&&s.length){var j={padding:0,margin:0},k=(l?Oj(s,l):s).map((C,O)=>{if(C.type==="none")return null;var P=C.formatter||a||_be,{value:M,name:A}=C,R=M,B=A;if(P){var F=P(M,A,C,O,s);if(Array.isArray(F))[R,B]=F;else if(F!=null)R=F;else return null}var U=oS({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return f.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:U},yl(B)?f.createElement("span",{className:"recharts-tooltip-item-name"},B):null,yl(B)?f.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,f.createElement("span",{className:"recharts-tooltip-item-value"},R),f.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return f.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},g=oS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=oS({margin:0},i),x=!lr(d),b=x?d:"",w=wn("recharts-default-tooltip",c),v=wn("recharts-tooltip-label",u);x&&h&&s!==void 0&&s!==null&&(b=h(d,s));var _=m?{role:"status","aria-live":"assertive"}:{};return f.createElement("div",hO({className:w,style:g},_),f.createElement("p",{className:v,style:y},f.isValidElement(b)?b:"".concat(b)),p())},hp="recharts-tooltip-wrapper",jbe={visibility:"hidden"};function kbe(e){var{coordinate:t,translateX:n,translateY:r}=e;return wn(hp,{["".concat(hp,"-right")]:xt(n)&&t&&xt(t.x)&&n>=t.x,["".concat(hp,"-left")]:xt(n)&&t&&xt(t.x)&&n<t.x,["".concat(hp,"-bottom")]:xt(r)&&t&&xt(t.y)&&r>=t.y,["".concat(hp,"-top")]:xt(r)&&t&&xt(t.y)&&r<t.y})}function uI(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&xt(s[r]))return s[r];var d=n[r]-l-(i>0?i:0),h=n[r]+i;if(t[r])return a[r]?d:h;var m=c[r];if(m==null)return 0;if(a[r]){var p=d,g=m;return p<g?Math.max(h,m):Math.max(d,m)}if(u==null)return 0;var y=h+l,x=m+u;return y>x?Math.max(d,m):Math.max(h,m)}function Sbe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Nbe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,h;return a.height>0&&a.width>0&&n?(d=uI({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),h=uI({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=Sbe({translateX:d,translateY:h,useTranslate3d:l})):u=jbe,{cssProperties:u,cssClasses:kbe({translateX:d,translateY:h,coordinate:n})}}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){fO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fO(e,t,n){return(t=Cbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cbe(e){var t=Obe(e,"string");return typeof t=="symbol"?t:t+""}function Obe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Pbe extends f.PureComponent{constructor(){super(...arguments),fO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fO(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:m,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:w,cssProperties:v}=Nbe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:h,tooltipBox:{height:y.height,width:y.width},useTranslate3d:m,viewBox:p}),_=b?{}:zv(zv({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=zv(zv({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return f.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:j,ref:x},s)}}var j7=()=>{var e;return(e=Rt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function mO(){return mO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mO.apply(null,arguments)}function hI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hI(Object(n),!0).forEach(function(r){Ebe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ebe(e,t,n){return(t=Mbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mbe(e){var t=Tbe(e,"string");return typeof t=="symbol"?t:t+""}function Tbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mI={curveBasisClosed:nye,curveBasisOpen:rye,curveBasis:tye,curveBumpX:Bge,curveBumpY:qge,curveLinearClosed:iye,curveLinear:_j,curveMonotoneX:sye,curveMonotoneY:aye,curveNatural:oye,curveStep:lye,curveStepAfter:uye,curveStepBefore:cye},_0=e=>An(e.x)&&An(e.y),pI=e=>e.base!=null&&_0(e.base)&&_0(e),fp=e=>e.x,mp=e=>e.y,Abe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(dx(e));return(n==="curveMonotone"||n==="curveBump")&&t?mI["".concat(n).concat(t==="vertical"?"Y":"X")]:mI[n]||_j},zbe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,a=Abe(t,i),l=s?n.filter(_0):n,c;if(Array.isArray(r)){var u=n.map((p,g)=>fI(fI({},p),{},{base:r[g]}));i==="vertical"?c=Nv().y(mp).x1(fp).x0(p=>p.base.x):c=Nv().x(fp).y1(mp).y0(p=>p.base.y);var d=c.defined(pI).curve(a),h=s?u.filter(pI):u;return d(h)}i==="vertical"&&xt(r)?c=Nv().y(mp).x1(fp).x0(r):xt(r)?c=Nv().x(fp).y1(mp).y0(r):c=RU().x(fp).y(mp);var m=c.defined(_0).curve(a);return m(l)},hg=e=>{var{className:t,points:n,path:r,pathRef:i}=e,s=wh();if((!n||!n.length)&&!r)return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=n&&n.length?zbe(a):r;return f.createElement("path",mO({},Ha(e),ZE(e),{className:wn("recharts-curve",t),d:l===null?void 0:l,ref:i}))},Dbe=["x","y","top","left","width","height","className"];function pO(){return pO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pO.apply(null,arguments)}function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rbe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){Ibe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ibe(e,t,n){return(t=Lbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lbe(e){var t=$be(e,"string");return typeof t=="symbol"?t:t+""}function $be(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fbe(e,t){if(e==null)return{};var n,r,i=Bbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qbe=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),Wbe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=Fbe(e,Dbe),u=Rbe({x:t,y:n,top:r,left:i,width:s,height:a},c);return!xt(t)||!xt(n)||!xt(s)||!xt(a)||!xt(r)||!xt(i)?null:f.createElement("path",pO({},us(u),{className:wn("recharts-cross",l),d:qbe(t,n,s,a,r,i)}))};function Ube(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){Vbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vbe(e,t,n){return(t=Hbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hbe(e){var t=Kbe(e,"string");return typeof t=="symbol"?t:t+""}function Kbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ybe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),k7=(e,t,n)=>e.map(r=>"".concat(Ybe(r)," ").concat(t,"ms ").concat(n)).join(","),Gbe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),ry=(e,t)=>Object.keys(t).reduce((n,r)=>xI(xI({},n),{},{[r]:e(r,t[r])}),{});function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){Qbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qbe(e,t,n){return(t=Xbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xbe(e){var t=Zbe(e,"string");return typeof t=="symbol"?t:t+""}function Zbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w0=(e,t,n)=>e+(t-e)*n,gO=e=>{var{from:t,to:n}=e;return t!==n},S7=(e,t,n)=>{var r=ry((i,s)=>{if(gO(s)){var[a,l]=e(s.from,s.to,s.velocity);return $r($r({},s),{},{from:a,velocity:l})}return s},t);return n<1?ry((i,s)=>gO(s)&&r[i]!=null?$r($r({},s),{},{velocity:w0(s.velocity,r[i].velocity,n),from:w0(s.from,r[i].from,n)}):s,t):S7(e,r,n-1)};function Jbe(e,t,n,r,i,s){var a,l=r.reduce((m,p)=>$r($r({},m),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>ry((m,p)=>p.from,l),u=()=>!Object.values(l).filter(gO).length,d=null,h=m=>{a||(a=m);var p=m-a,g=p/n.dt;l=S7(n,l,g),i($r($r($r({},e),t),c())),a=m,u()||(d=s.setTimeout(h))};return()=>(d=s.setTimeout(h),()=>{var m;(m=d)===null||m===void 0||m()})}function e_e(e,t,n,r,i,s,a){var l=null,c=i.reduce((h,m)=>{var p=e[m],g=t[m];return p==null||g==null?h:$r($r({},h),{},{[m]:[p,g]})},{}),u,d=h=>{u||(u=h);var m=(h-u)/r,p=ry((y,x)=>w0(...x,n(m)),c);if(s($r($r($r({},e),t),p)),m<1)l=a.setTimeout(d);else{var g=ry((y,x)=>w0(...x,n(1)),c);s($r($r($r({},e),t),g))}};return()=>(l=a.setTimeout(d),()=>{var h;(h=l)===null||h===void 0||h()})}const t_e=(e,t,n,r,i,s)=>{var a=Gbe(e,t);return n==null?()=>(i($r($r({},e),t)),()=>{}):n.isStepper===!0?Jbe(e,t,n,a,i,s):e_e(e,t,n,r,a,i,s)};var j0=1e-4,N7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],C7=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),bI=(e,t)=>n=>{var r=N7(e,t);return C7(r,n)},n_e=(e,t)=>n=>{var r=N7(e,t),i=[...r.map((s,a)=>s*a).slice(1),0];return C7(i,n)},r_e=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},i_e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=r_e(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},s_e=(e,t,n,r)=>{var i=bI(e,n),s=bI(t,r),a=n_e(e,n),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,m=0;m<8;++m){var p=i(h)-d,g=a(h);if(Math.abs(p-d)<j0||g<j0)return s(h);h=l(h-p/g)}return s(h)};return c.isStepper=!1,c},_I=function(){return s_e(...i_e(...arguments))},a_e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*n,d=c*r,h=c+(u-d)*i/1e3,m=c*i/1e3+a;return Math.abs(m-l)<j0&&Math.abs(h)<j0?[l,0]:[m,h]};return s.isStepper=!0,s.dt=i,s},o_e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _I(e);case"spring":return a_e();default:if(e.split("(")[0]==="cubic-bezier")return _I(e)}return typeof e=="function"?e:null};function l_e(e){var t,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,n(t)),typeof a=="object"&&(t=a,n(t)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>e}}class c_e{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function u_e(){return l_e(new c_e)}var d_e=f.createContext(u_e);function h_e(e,t){var n=f.useContext(d_e);return f.useMemo(()=>t??n(e),[e,t,n])}var f_e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xx={isSsr:f_e()},m_e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wI={t:0},lS={t:1};function Kj(e){var t=xs(e,m_e),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=n==="auto"?!xx.isSsr:n,h=h_e(t.animationId,t.animationManager),[m,p]=f.useState(d?wI:lS),g=f.useRef(null);return f.useEffect(()=>{d||p(lS)},[d]),f.useEffect(()=>{if(!d||!r)return hx;var y=t_e(wI,lS,o_e(s),i,p,h.getTimeoutController()),x=()=>{g.current=y()};return h.start([c,a,x,i,l]),()=>{h.stop(),g.current&&g.current(),l()}},[d,r,i,s,a,c,l,h]),u(m.t)}function Yj(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=f.useRef(Qg(t)),r=f.useRef(e);return r.current!==e&&(n.current=Qg(t),r.current=e),n.current}var p_e=["radius"],g_e=["radius"],jI,kI,SI,NI,CI,OI,PI,EI,MI,TI;function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){y_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y_e(e,t,n){return(t=x_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x_e(e){var t=v_e(e,"string");return typeof t=="symbol"?t:t+""}function v_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function DI(e,t){if(e==null)return{};var n,r,i=b_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RI=(e,t,n,r,i)=>{var s=fu(n),a=fu(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,u=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,h;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>l?l:i[p];h=hr(jI||(jI=qo(["M",",",""])),e,t+c*m[0]),m[0]>0&&(h+=hr(kI||(kI=qo(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,e+u*m[0],t)),h+=hr(SI||(SI=qo(["L ",",",""])),e+n-u*m[1],t),m[1]>0&&(h+=hr(NI||(NI=qo(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,e+n,t+c*m[1])),h+=hr(CI||(CI=qo(["L ",",",""])),e+n,t+r-c*m[2]),m[2]>0&&(h+=hr(OI||(OI=qo(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,e+n-u*m[2],t+r)),h+=hr(PI||(PI=qo(["L ",",",""])),e+u*m[3],t+r),m[3]>0&&(h+=hr(EI||(EI=qo(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,e,t+r-c*m[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var y=Math.min(l,i);h=hr(MI||(MI=qo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*y,y,y,d,e+u*y,t,e+n-u*y,t,y,y,d,e+n,t+c*y,e+n,t+r-c*y,y,y,d,e+n-u*y,t+r,e+u*y,t+r,y,y,d,e,t+r-c*y)}else h=hr(TI||(TI=qo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return h},II={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O7=e=>{var t=xs(e,II),n=f.useRef(null),[r,i]=f.useState(-1);f.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&i(D)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=t,x=f.useRef(l),b=f.useRef(c),w=f.useRef(s),v=f.useRef(a),_=f.useMemo(()=>({x:s,y:a,width:l,height:c,radius:u}),[s,a,l,c,u]),j=Yj(_,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var k=wn("recharts-rectangle",d);if(!y){var C=us(t),{radius:O}=C,P=DI(C,p_e);return f.createElement("path",k0({},P,{x:fu(s),y:fu(a),width:fu(l),height:fu(c),radius:typeof u=="number"?u:void 0,className:k,d:RI(s,a,l,c,u)}))}var M=x.current,A=b.current,R=w.current,B=v.current,F="0px ".concat(r===-1?1:r,"px"),U="".concat(r,"px 0px"),L=k7(["strokeDasharray"],m,typeof h=="string"?h:II.animationEasing);return f.createElement(Kj,{animationId:j,key:j,canBegin:r>0,duration:m,easing:h,isActive:y,begin:p},D=>{var T=ar(M,l,D),$=ar(A,c,D),G=ar(R,s,D),ie=ar(B,a,D);n.current&&(x.current=T,b.current=$,w.current=G,v.current=ie);var X;g?D>0?X={transition:L,strokeDasharray:U}:X={strokeDasharray:F}:X={strokeDasharray:U};var se=us(t),{radius:xe}=se,me=DI(se,g_e);return f.createElement("path",k0({},me,{radius:typeof u=="number"?u:void 0,className:k,d:RI(G,ie,T,$,u),ref:n,style:zI(zI({},X),t.style)}))})};function LI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(n),!0).forEach(function(r){__e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function __e(e,t,n){return(t=w_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w_e(e){var t=j_e(e,"string");return typeof t=="symbol"?t:t+""}function j_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S0=Math.PI/180,k_e=e=>e*180/Math.PI,ki=(e,t,n,r)=>({x:e+Math.cos(-S0*r)*n,y:t+Math.sin(-S0*r)*n}),S_e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},N_e=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},C_e=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,a=N_e({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:k_e(c),angleInRadian:c}},O_e=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},P_e=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return e+a*360},E_e=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=C_e({x:n,y:r},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=O_e(t),d=s,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?$I($I({},t),{},{radius:i,angle:P_e(d,t)}):null};function P7(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,a=ki(t,n,r,i),l=ki(t,n,r,s);return{points:[a,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}var FI,BI,qI,WI,UI,VI,HI;function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yO.apply(null,arguments)}function Nd(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var M_e=(e,t)=>{var n=Ms(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Dv=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+r,d=Math.asin(l/u)/S0,h=c?i:i+s*d,m=ki(t,n,u,h),p=ki(t,n,r,h),g=c?i-s*d:i,y=ki(t,n,u*Math.cos(d*S0),g);return{center:m,circleTangency:p,lineTangency:y,theta:d}},E7=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=e,l=M_e(s,a),c=s+l,u=ki(t,n,i,s),d=ki(t,n,i,c),h=hr(FI||(FI=Nd(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(l)>180),+(s>c),d.x,d.y);if(r>0){var m=ki(t,n,r,s),p=ki(t,n,r,c);h+=hr(BI||(BI=Nd(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,r,r,+(Math.abs(l)>180),+(s<=c),m.x,m.y)}else h+=hr(qI||(qI=Nd(["L ",","," Z"])),t,n);return h},T_e=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Ms(u-c),{circleTangency:h,lineTangency:m,theta:p}=Dv({cx:t,cy:n,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:y,theta:x}=Dv({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-p-x;if(b<0)return a?hr(WI||(WI=Nd(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,s,s,s*2,s,s,-s*2):E7({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var w=hr(UI||(UI=Nd(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,s,s,+(d<0),h.x,h.y,i,i,+(b>180),+(d<0),g.x,g.y,s,s,+(d<0),y.x,y.y);if(r>0){var{circleTangency:v,lineTangency:_,theta:j}=Dv({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:k,lineTangency:C,theta:O}=Dv({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),P=l?Math.abs(c-u):Math.abs(c-u)-j-O;if(P<0&&s===0)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+=hr(VI||(VI=Nd(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,s,s,+(d<0),k.x,k.y,r,r,+(P>180),+(d>0),v.x,v.y,s,s,+(d<0),_.x,_.y)}else w+=hr(HI||(HI=Nd(["L",",","Z"])),t,n);return w},A_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},M7=e=>{var t=xs(e,A_e),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(s<i||u===d)return null;var m=wn("recharts-sector",h),p=s-i,g=Co(a,p,0,!0),y;return g>0&&Math.abs(u-d)<360?y=T_e({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=E7({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),f.createElement("path",yO({},us(t),{className:m,d:y}))};function z_e(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(JU(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=t,c=ki(r,i,s,l),u=ki(r,i,a,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return P7(t)}}var T7={},A7={},z7={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(z7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z7;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(A7);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM,n=A7;function r(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=r})(T7);var D_e=T7.range;const D7=wl(D_e);function Su(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function R_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kM(e){let t,n,r;e.length!==2?(t=Su,n=(l,c)=>Su(e(l),c),r=(l,c)=>e(l)-c):(t=e===Su||e===R_e?e:I_e,n=e,r=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:a,right:s}}function I_e(){return 0}function R7(e){return e===null?NaN:+e}function*L_e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const $_e=kM(Su),vx=$_e.right;kM(R7).center;class KI extends Map{constructor(t,n=q_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(YI(this,t))}has(t){return super.has(YI(this,t))}set(t,n){return super.set(F_e(this,t),n)}delete(t){return super.delete(B_e(this,t))}}function YI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function F_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function B_e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function q_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function W_e(e=Su){if(e===Su)return I7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function I7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const U_e=Math.sqrt(50),V_e=Math.sqrt(10),H_e=Math.sqrt(2);function N0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=U_e?10:s>=V_e?5:s>=H_e?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?N0(e,t,n*2):[l,c,u]}function xO(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?N0(t,e,n):N0(e,t,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function vO(e,t,n){return t=+t,e=+e,n=+n,N0(e,t,n)[2]}function bO(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?vO(t,e,n):vO(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function GI(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function QI(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function L7(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?I7:W_e(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*h/c+m)),g=Math.min(r,Math.floor(t+(c-u)*h/c+m));L7(e,t,p,g,i)}const s=e[t];let a=n,l=r;for(pp(e,n,t),i(e[r],s)>0&&pp(e,n,r);a<l;){for(pp(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[n],s)===0?pp(e,n,l):(++l,pp(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function pp(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function K_e(e,t,n){if(e=Float64Array.from(L_e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return QI(e);if(t>=1)return GI(e);var r,i=(r-1)*t,s=Math.floor(i),a=GI(L7(e,s).subarray(0,s+1)),l=QI(e.subarray(s+1));return a+(l-a)*(i-s)}}function Y_e(e,t,n=R7){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function G_e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function eo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _O=Symbol("implicit");function SM(){var e=new KI,t=[],n=[],r=_O;function i(s){let a=e.get(s);if(a===void 0){if(r!==_O)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new KI;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return SM(t,n).unknown(r)},eo.apply(i,arguments),i}function NM(){var e=SM().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,p=i<r,g=p?i:r,y=p?r:i;s=(y-g)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),g+=(y-g-s*(m-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var x=G_e(m).map(function(b){return g+s*b});return n(p?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,h()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return NM(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},eo.apply(h(),arguments)}function $7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $7(t())},e}function Q_e(){return $7(NM.apply(null,arguments).paddingInner(1))}function CM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function F7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bx(){}var iy=.7,C0=1/iy,zf="\\s*([+-]?\\d+)\\s*",sy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",X_e=/^#([0-9a-f]{3,8})$/,Z_e=new RegExp(`^rgb\\(${zf},${zf},${zf}\\)$`),J_e=new RegExp(`^rgb\\(${hl},${hl},${hl}\\)$`),e0e=new RegExp(`^rgba\\(${zf},${zf},${zf},${sy}\\)$`),t0e=new RegExp(`^rgba\\(${hl},${hl},${hl},${sy}\\)$`),n0e=new RegExp(`^hsl\\(${sy},${hl},${hl}\\)$`),r0e=new RegExp(`^hsla\\(${sy},${hl},${hl},${sy}\\)$`),XI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CM(bx,ay,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZI,formatHex:ZI,formatHex8:i0e,formatHsl:s0e,formatRgb:JI,toString:JI});function ZI(){return this.rgb().formatHex()}function i0e(){return this.rgb().formatHex8()}function s0e(){return B7(this).formatHsl()}function JI(){return this.rgb().formatRgb()}function ay(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=X_e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?e4(t):n===3?new Ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z_e.exec(e))?new Ts(t[1],t[2],t[3],1):(t=J_e.exec(e))?new Ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=e0e.exec(e))?Rv(t[1],t[2],t[3],t[4]):(t=t0e.exec(e))?Rv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n0e.exec(e))?r4(t[1],t[2]/100,t[3]/100,1):(t=r0e.exec(e))?r4(t[1],t[2]/100,t[3]/100,t[4]):XI.hasOwnProperty(e)?e4(XI[e]):e==="transparent"?new Ts(NaN,NaN,NaN,0):null}function e4(e){return new Ts(e>>16&255,e>>8&255,e&255,1)}function Rv(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ts(e,t,n,r)}function a0e(e){return e instanceof bx||(e=ay(e)),e?(e=e.rgb(),new Ts(e.r,e.g,e.b,e.opacity)):new Ts}function wO(e,t,n,r){return arguments.length===1?a0e(e):new Ts(e,t,n,r??1)}function Ts(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}CM(Ts,wO,F7(bx,{brighter(e){return e=e==null?C0:Math.pow(C0,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?iy:Math.pow(iy,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(qd(this.r),qd(this.g),qd(this.b),O0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:t4,formatHex:t4,formatHex8:o0e,formatRgb:n4,toString:n4}));function t4(){return`#${Cd(this.r)}${Cd(this.g)}${Cd(this.b)}`}function o0e(){return`#${Cd(this.r)}${Cd(this.g)}${Cd(this.b)}${Cd((isNaN(this.opacity)?1:this.opacity)*255)}`}function n4(){const e=O0(this.opacity);return`${e===1?"rgb(":"rgba("}${qd(this.r)}, ${qd(this.g)}, ${qd(this.b)}${e===1?")":`, ${e})`}`}function O0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Cd(e){return e=qd(e),(e<16?"0":"")+e.toString(16)}function r4(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new po(e,t,n,r)}function B7(e){if(e instanceof po)return new po(e.h,e.s,e.l,e.opacity);if(e instanceof bx||(e=ay(e)),!e)return new po;if(e instanceof po)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-t)/l+2:a=(t-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new po(a,l,c,e.opacity)}function l0e(e,t,n,r){return arguments.length===1?B7(e):new po(e,t,n,r??1)}function po(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}CM(po,l0e,F7(bx,{brighter(e){return e=e==null?C0:Math.pow(C0,e),new po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?iy:Math.pow(iy,e),new po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ts(cS(e>=240?e-240:e+120,i,r),cS(e,i,r),cS(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new po(i4(this.h),Iv(this.s),Iv(this.l),O0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=O0(this.opacity);return`${e===1?"hsl(":"hsla("}${i4(this.h)}, ${Iv(this.s)*100}%, ${Iv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function i4(e){return e=(e||0)%360,e<0?e+360:e}function Iv(e){return Math.max(0,Math.min(1,e||0))}function cS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const OM=e=>()=>e;function c0e(e,t){return function(n){return e+n*t}}function u0e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function d0e(e){return(e=+e)==1?q7:function(t,n){return n-t?u0e(t,n,e):OM(isNaN(t)?n:t)}}function q7(e,t){var n=t-e;return n?c0e(e,n):OM(isNaN(e)?t:e)}const s4=function e(t){var n=d0e(t);function r(i,s){var a=n((i=wO(i)).r,(s=wO(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=q7(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function h0e(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function f0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function m0e(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Lm(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function p0e(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function P0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function g0e(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Lm(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var jO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uS=new RegExp(jO.source,"g");function y0e(e){return function(){return e}}function x0e(e){return function(t){return e(t)+""}}function v0e(e,t){var n=jO.lastIndex=uS.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(r=jO.exec(e))&&(i=uS.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:P0(r,i)})),n=uS.lastIndex;return n<t.length&&(s=t.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?x0e(c[0].x):y0e(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Lm(e,t){var n=typeof t,r;return t==null||n==="boolean"?OM(t):(n==="number"?P0:n==="string"?(r=ay(t))?(t=r,s4):v0e:t instanceof ay?s4:t instanceof Date?p0e:f0e(t)?h0e:Array.isArray(t)?m0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?g0e:P0)(e,t)}function PM(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function b0e(e,t){t===void 0&&(t=e,e=Lm);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function _0e(e){return function(){return e}}function E0(e){return+e}var a4=[0,1];function rs(e){return e}function kO(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:_0e(isNaN(t)?NaN:.5)}function w0e(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function j0e(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=kO(i,r),s=n(a,s)):(r=kO(r,i),s=n(s,a)),function(l){return s(r(l))}}function k0e(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=kO(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(l){var c=vx(e,l,1,r)-1;return s[c](i[c](l))}}function _x(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gj(){var e=a4,t=a4,n=Lm,r,i,s,a=rs,l,c,u;function d(){var m=Math.min(e.length,t.length);return a!==rs&&(a=w0e(e[0],e[m-1])),l=m>2?k0e:j0e,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?s:(c||(c=l(e.map(r),t,n)))(r(a(m)))}return h.invert=function(m){return a(i((u||(u=l(t,e.map(r),P0)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,E0),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),n=PM,d()},h.clamp=function(m){return arguments.length?(a=m?!0:rs,d()):a!==rs},h.interpolate=function(m){return arguments.length?(n=m,d()):n},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,p){return r=m,i=p,d()}}function EM(){return Gj()(rs,rs)}function S0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function M0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function om(e){return e=M0(Math.abs(e)),e?e[1]:NaN}function N0e(e,t){return function(n,r){for(var i=n.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function C0e(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var O0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oy(e){if(!(t=O0e.exec(e)))throw new Error("invalid format: "+e);var t;return new MM({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}oy.prototype=MM.prototype;function MM(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}MM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function P0e(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var W7;function E0e(e,t){var n=M0(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(W7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+M0(e,Math.max(0,t+s-1))[0]}function o4(e,t){var n=M0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const l4={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:S0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>o4(e*100,t),r:o4,s:E0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function c4(e){return e}var u4=Array.prototype.map,d4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function M0e(e){var t=e.grouping===void 0||e.thousands===void 0?c4:N0e(u4.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?c4:C0e(u4.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=oy(h);var m=h.fill,p=h.align,g=h.sign,y=h.symbol,x=h.zero,b=h.width,w=h.comma,v=h.precision,_=h.trim,j=h.type;j==="n"?(w=!0,j="g"):l4[j]||(v===void 0&&(v=12),_=!0,j="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=y==="$"?r:/[%p]/.test(j)?a:"",O=l4[j],P=/[defgprs%]/.test(j);v=v===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function M(A){var R=k,B=C,F,U,L;if(j==="c")B=O(A)+B,A="";else{A=+A;var D=A<0||1/A<0;if(A=isNaN(A)?c:O(Math.abs(A),v),_&&(A=P0e(A)),D&&+A==0&&g!=="+"&&(D=!1),R=(D?g==="("?g:l:g==="-"||g==="("?"":g)+R,B=(j==="s"?d4[8+W7/3]:"")+B+(D&&g==="("?")":""),P){for(F=-1,U=A.length;++F<U;)if(L=A.charCodeAt(F),48>L||L>57){B=(L===46?i+A.slice(F+1):A.slice(F))+B,A=A.slice(0,F);break}}}w&&!x&&(A=t(A,1/0));var T=R.length+A.length+B.length,$=T<b?new Array(b-T+1).join(m):"";switch(w&&x&&(A=t($+A,$.length?b-B.length:1/0),$=""),p){case"<":A=R+A+B+$;break;case"=":A=R+$+A+B;break;case"^":A=$.slice(0,T=$.length>>1)+R+A+B+$.slice(T);break;default:A=$+R+A+B;break}return s(A)}return M.toString=function(){return h+""},M}function d(h,m){var p=u((h=oy(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(om(m)/3)))*3,y=Math.pow(10,-g),x=d4[8+g/3];return function(b){return p(y*b)+x}}return{format:u,formatPrefix:d}}var Lv,TM,U7;T0e({thousands:",",grouping:[3],currency:["$",""]});function T0e(e){return Lv=M0e(e),TM=Lv.format,U7=Lv.formatPrefix,Lv}function A0e(e){return Math.max(0,-om(Math.abs(e)))}function z0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(om(t)/3)))*3-om(Math.abs(e)))}function D0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,om(t)-om(e))+1}function V7(e,t,n,r){var i=bO(e,t,n),s;switch(r=oy(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=z0e(i,a))&&(r.precision=s),U7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=D0e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=A0e(i))&&(r.precision=s-(r.type==="%")*2);break}}return TM(r)}function Hu(e){var t=e.domain;return e.ticks=function(n){var r=t();return xO(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return V7(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],l=r[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=vO(a,l,n),u===c)return r[i]=a,r[s]=l,t(r);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function H7(){var e=EM();return e.copy=function(){return _x(e,H7())},eo.apply(e,arguments),Hu(e)}function K7(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,E0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return K7(e).unknown(t)},e=arguments.length?Array.from(e,E0):[0,1],Hu(n)}function Y7(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function h4(e){return Math.log(e)}function f4(e){return Math.exp(e)}function R0e(e){return-Math.log(-e)}function I0e(e){return-Math.exp(-e)}function L0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $0e(e){return e===10?L0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function F0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function m4(e){return(t,n)=>-e(-t,n)}function AM(e){const t=e(h4,f4),n=t.domain;let r=10,i,s;function a(){return i=F0e(r),s=$0e(r),n()[0]<0?(i=m4(i),s=m4(s),e(R0e,I0e)):e(h4,f4),t}return t.base=function(l){return arguments.length?(r=+l,a()):r},t.domain=function(l){return arguments.length?(n(l),a()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=i(u),p=i(d),g,y;const x=l==null?10:+l;let b=[];if(!(r%1)&&p-m<x){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(g=1;g<r;++g)if(y=m<0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;b.push(y)}}else for(;m<=p;++m)for(g=r-1;g>=1;--g)if(y=m>0?g/s(-m):g*s(m),!(y<u)){if(y>d)break;b.push(y)}b.length*2<x&&(b=xO(u,d,x))}else b=xO(m,p,Math.min(p-m,x)).map(s);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=oy(c)).precision==null&&(c.trim=!0),c=TM(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(Y7(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function G7(){const e=AM(Gj()).domain([1,10]);return e.copy=()=>_x(e,G7()).base(e.base()),eo.apply(e,arguments),e}function p4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function g4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function zM(e){var t=1,n=e(p4(t),g4(t));return n.constant=function(r){return arguments.length?e(p4(t=+r),g4(t)):t},Hu(n)}function Q7(){var e=zM(Gj());return e.copy=function(){return _x(e,Q7()).constant(e.constant())},eo.apply(e,arguments)}function y4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function B0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function q0e(e){return e<0?-e*e:e*e}function DM(e){var t=e(rs,rs),n=1;function r(){return n===1?e(rs,rs):n===.5?e(B0e,q0e):e(y4(n),y4(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Hu(t)}function RM(){var e=DM(Gj());return e.copy=function(){return _x(e,RM()).exponent(e.exponent())},eo.apply(e,arguments),e}function W0e(){return RM.apply(null,arguments).exponent(.5)}function x4(e){return Math.sign(e)*e*e}function U0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function X7(){var e=EM(),t=[0,1],n=!1,r;function i(s){var a=U0e(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert(x4(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,E0)).map(x4)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return X7(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},eo.apply(i,arguments),Hu(i)}function Z7(){var e=[],t=[],n=[],r;function i(){var a=0,l=Math.max(1,t.length);for(n=new Array(l-1);++a<l;)n[a-1]=Y_e(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:t[vx(n,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Su),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Z7().domain(e).range(t).unknown(r)},eo.apply(s,arguments)}function J7(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[vx(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return J7().domain([e,t]).range(i).unknown(s)},eo.apply(Hu(a),arguments)}function eV(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[vx(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return eV().domain(e).range(t).unknown(n)},eo.apply(i,arguments)}const dS=new Date,hS=new Date;function Hr(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>Hr(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(dS.setTime(+s),hS.setTime(+a),e(dS),e(hS),Math.floor(n(dS,hS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const T0=Hr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);T0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):T0);T0.range;const ec=1e3,Ta=ec*60,tc=Ta*60,vc=tc*24,IM=vc*7,v4=vc*30,fS=vc*365,Od=Hr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ec)},(e,t)=>(t-e)/ec,e=>e.getUTCSeconds());Od.range;const LM=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ec)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getMinutes());LM.range;const $M=Hr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ta)},(e,t)=>(t-e)/Ta,e=>e.getUTCMinutes());$M.range;const FM=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ec-e.getMinutes()*Ta)},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getHours());FM.range;const BM=Hr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*tc)},(e,t)=>(t-e)/tc,e=>e.getUTCHours());BM.range;const wx=Hr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ta)/vc,e=>e.getDate()-1);wx.range;const Qj=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vc,e=>e.getUTCDate()-1);Qj.range;const tV=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vc,e=>Math.floor(e/vc));tV.range;function jh(e){return Hr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ta)/IM)}const Xj=jh(0),A0=jh(1),V0e=jh(2),H0e=jh(3),lm=jh(4),K0e=jh(5),Y0e=jh(6);Xj.range;A0.range;V0e.range;H0e.range;lm.range;K0e.range;Y0e.range;function kh(e){return Hr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/IM)}const Zj=kh(0),z0=kh(1),G0e=kh(2),Q0e=kh(3),cm=kh(4),X0e=kh(5),Z0e=kh(6);Zj.range;z0.range;G0e.range;Q0e.range;cm.range;X0e.range;Z0e.range;const qM=Hr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qM.range;const WM=Hr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());WM.range;const bc=Hr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});bc.range;const _c=Hr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});_c.range;function nV(e,t,n,r,i,s){const a=[[Od,1,ec],[Od,5,5*ec],[Od,15,15*ec],[Od,30,30*ec],[s,1,Ta],[s,5,5*Ta],[s,15,15*Ta],[s,30,30*Ta],[i,1,tc],[i,3,3*tc],[i,6,6*tc],[i,12,12*tc],[r,1,vc],[r,2,2*vc],[n,1,IM],[t,1,v4],[t,3,3*v4],[e,1,fS]];function l(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),g=p?p.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,h){const m=Math.abs(d-u)/h,p=kM(([,,x])=>x).right(a,m);if(p===a.length)return e.every(bO(u/fS,d/fS,h));if(p===0)return T0.every(Math.max(bO(u,d,h),1));const[g,y]=a[m/a[p-1][2]<a[p][2]/m?p-1:p];return g.every(y)}return[l,c]}const[J0e,ewe]=nV(_c,WM,Zj,tV,BM,$M),[twe,nwe]=nV(bc,qM,Xj,wx,FM,LM);function mS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gp(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function rwe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=yp(i),d=xp(i),h=yp(s),m=xp(s),p=yp(a),g=xp(a),y=yp(l),x=xp(l),b=yp(c),w=xp(c),v={a:D,A:T,b:$,B:G,c:null,d:S4,e:S4,f:Nwe,g:Rwe,G:Lwe,H:jwe,I:kwe,j:Swe,L:rV,m:Cwe,M:Owe,p:ie,q:X,Q:O4,s:P4,S:Pwe,u:Ewe,U:Mwe,V:Twe,w:Awe,W:zwe,x:null,X:null,y:Dwe,Y:Iwe,Z:$we,"%":C4},_={a:se,A:xe,b:me,B:De,c:null,d:N4,e:N4,f:Wwe,g:Jwe,G:tje,H:Fwe,I:Bwe,j:qwe,L:sV,m:Uwe,M:Vwe,p:ge,q:Ve,Q:O4,s:P4,S:Hwe,u:Kwe,U:Ywe,V:Gwe,w:Qwe,W:Xwe,x:null,X:null,y:Zwe,Y:eje,Z:nje,"%":C4},j={a:M,A,b:R,B,c:F,d:j4,e:j4,f:vwe,g:w4,G:_4,H:k4,I:k4,j:pwe,L:xwe,m:mwe,M:gwe,p:P,q:fwe,Q:_we,s:wwe,S:ywe,u:lwe,U:cwe,V:uwe,w:owe,W:dwe,x:U,X:L,y:w4,Y:_4,Z:hwe,"%":bwe};v.x=k(n,v),v.X=k(r,v),v.c=k(t,v),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(oe,Pe){return function(Y){var te=[],Ne=-1,Te=0,V=oe.length,ue,pe,$e;for(Y instanceof Date||(Y=new Date(+Y));++Ne<V;)oe.charCodeAt(Ne)===37&&(te.push(oe.slice(Te,Ne)),(pe=b4[ue=oe.charAt(++Ne)])!=null?ue=oe.charAt(++Ne):pe=ue==="e"?" ":"0",($e=Pe[ue])&&(ue=$e(Y,pe)),te.push(ue),Te=Ne+1);return te.push(oe.slice(Te,Ne)),te.join("")}}function C(oe,Pe){return function(Y){var te=gp(1900,void 0,1),Ne=O(te,oe,Y+="",0),Te,V;if(Ne!=Y.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(Pe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Te=pS(gp(te.y,0,1)),V=Te.getUTCDay(),Te=V>4||V===0?z0.ceil(Te):z0(Te),Te=Qj.offset(Te,(te.V-1)*7),te.y=Te.getUTCFullYear(),te.m=Te.getUTCMonth(),te.d=Te.getUTCDate()+(te.w+6)%7):(Te=mS(gp(te.y,0,1)),V=Te.getDay(),Te=V>4||V===0?A0.ceil(Te):A0(Te),Te=wx.offset(Te,(te.V-1)*7),te.y=Te.getFullYear(),te.m=Te.getMonth(),te.d=Te.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),V="Z"in te?pS(gp(te.y,0,1)).getUTCDay():mS(gp(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(V+5)%7:te.w+te.U*7-(V+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,pS(te)):mS(te)}}function O(oe,Pe,Y,te){for(var Ne=0,Te=Pe.length,V=Y.length,ue,pe;Ne<Te;){if(te>=V)return-1;if(ue=Pe.charCodeAt(Ne++),ue===37){if(ue=Pe.charAt(Ne++),pe=j[ue in b4?Pe.charAt(Ne++):ue],!pe||(te=pe(oe,Y,te))<0)return-1}else if(ue!=Y.charCodeAt(te++))return-1}return te}function P(oe,Pe,Y){var te=u.exec(Pe.slice(Y));return te?(oe.p=d.get(te[0].toLowerCase()),Y+te[0].length):-1}function M(oe,Pe,Y){var te=p.exec(Pe.slice(Y));return te?(oe.w=g.get(te[0].toLowerCase()),Y+te[0].length):-1}function A(oe,Pe,Y){var te=h.exec(Pe.slice(Y));return te?(oe.w=m.get(te[0].toLowerCase()),Y+te[0].length):-1}function R(oe,Pe,Y){var te=b.exec(Pe.slice(Y));return te?(oe.m=w.get(te[0].toLowerCase()),Y+te[0].length):-1}function B(oe,Pe,Y){var te=y.exec(Pe.slice(Y));return te?(oe.m=x.get(te[0].toLowerCase()),Y+te[0].length):-1}function F(oe,Pe,Y){return O(oe,t,Pe,Y)}function U(oe,Pe,Y){return O(oe,n,Pe,Y)}function L(oe,Pe,Y){return O(oe,r,Pe,Y)}function D(oe){return a[oe.getDay()]}function T(oe){return s[oe.getDay()]}function $(oe){return c[oe.getMonth()]}function G(oe){return l[oe.getMonth()]}function ie(oe){return i[+(oe.getHours()>=12)]}function X(oe){return 1+~~(oe.getMonth()/3)}function se(oe){return a[oe.getUTCDay()]}function xe(oe){return s[oe.getUTCDay()]}function me(oe){return c[oe.getUTCMonth()]}function De(oe){return l[oe.getUTCMonth()]}function ge(oe){return i[+(oe.getUTCHours()>=12)]}function Ve(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var Pe=k(oe+="",v);return Pe.toString=function(){return oe},Pe},parse:function(oe){var Pe=C(oe+="",!1);return Pe.toString=function(){return oe},Pe},utcFormat:function(oe){var Pe=k(oe+="",_);return Pe.toString=function(){return oe},Pe},utcParse:function(oe){var Pe=C(oe+="",!0);return Pe.toString=function(){return oe},Pe}}}var b4={"-":"",_:" ",0:"0"},fi=/^\s*\d+/,iwe=/^%/,swe=/[\\^$*+?|[\]().{}]/g;function bn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function awe(e){return e.replace(swe,"\\$&")}function yp(e){return new RegExp("^(?:"+e.map(awe).join("|")+")","i")}function xp(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function owe(e,t,n){var r=fi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function lwe(e,t,n){var r=fi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function cwe(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function uwe(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function dwe(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function _4(e,t,n){var r=fi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function w4(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hwe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fwe(e,t,n){var r=fi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function mwe(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function j4(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pwe(e,t,n){var r=fi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function k4(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gwe(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ywe(e,t,n){var r=fi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xwe(e,t,n){var r=fi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vwe(e,t,n){var r=fi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bwe(e,t,n){var r=iwe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _we(e,t,n){var r=fi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wwe(e,t,n){var r=fi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function S4(e,t){return bn(e.getDate(),t,2)}function jwe(e,t){return bn(e.getHours(),t,2)}function kwe(e,t){return bn(e.getHours()%12||12,t,2)}function Swe(e,t){return bn(1+wx.count(bc(e),e),t,3)}function rV(e,t){return bn(e.getMilliseconds(),t,3)}function Nwe(e,t){return rV(e,t)+"000"}function Cwe(e,t){return bn(e.getMonth()+1,t,2)}function Owe(e,t){return bn(e.getMinutes(),t,2)}function Pwe(e,t){return bn(e.getSeconds(),t,2)}function Ewe(e){var t=e.getDay();return t===0?7:t}function Mwe(e,t){return bn(Xj.count(bc(e)-1,e),t,2)}function iV(e){var t=e.getDay();return t>=4||t===0?lm(e):lm.ceil(e)}function Twe(e,t){return e=iV(e),bn(lm.count(bc(e),e)+(bc(e).getDay()===4),t,2)}function Awe(e){return e.getDay()}function zwe(e,t){return bn(A0.count(bc(e)-1,e),t,2)}function Dwe(e,t){return bn(e.getFullYear()%100,t,2)}function Rwe(e,t){return e=iV(e),bn(e.getFullYear()%100,t,2)}function Iwe(e,t){return bn(e.getFullYear()%1e4,t,4)}function Lwe(e,t){var n=e.getDay();return e=n>=4||n===0?lm(e):lm.ceil(e),bn(e.getFullYear()%1e4,t,4)}function $we(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bn(t/60|0,"0",2)+bn(t%60,"0",2)}function N4(e,t){return bn(e.getUTCDate(),t,2)}function Fwe(e,t){return bn(e.getUTCHours(),t,2)}function Bwe(e,t){return bn(e.getUTCHours()%12||12,t,2)}function qwe(e,t){return bn(1+Qj.count(_c(e),e),t,3)}function sV(e,t){return bn(e.getUTCMilliseconds(),t,3)}function Wwe(e,t){return sV(e,t)+"000"}function Uwe(e,t){return bn(e.getUTCMonth()+1,t,2)}function Vwe(e,t){return bn(e.getUTCMinutes(),t,2)}function Hwe(e,t){return bn(e.getUTCSeconds(),t,2)}function Kwe(e){var t=e.getUTCDay();return t===0?7:t}function Ywe(e,t){return bn(Zj.count(_c(e)-1,e),t,2)}function aV(e){var t=e.getUTCDay();return t>=4||t===0?cm(e):cm.ceil(e)}function Gwe(e,t){return e=aV(e),bn(cm.count(_c(e),e)+(_c(e).getUTCDay()===4),t,2)}function Qwe(e){return e.getUTCDay()}function Xwe(e,t){return bn(z0.count(_c(e)-1,e),t,2)}function Zwe(e,t){return bn(e.getUTCFullYear()%100,t,2)}function Jwe(e,t){return e=aV(e),bn(e.getUTCFullYear()%100,t,2)}function eje(e,t){return bn(e.getUTCFullYear()%1e4,t,4)}function tje(e,t){var n=e.getUTCDay();return e=n>=4||n===0?cm(e):cm.ceil(e),bn(e.getUTCFullYear()%1e4,t,4)}function nje(){return"+0000"}function C4(){return"%"}function O4(e){return+e}function P4(e){return Math.floor(+e/1e3)}var Lh,oV,lV;rje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rje(e){return Lh=rwe(e),oV=Lh.format,Lh.parse,lV=Lh.utcFormat,Lh.utcParse,Lh}function ije(e){return new Date(e)}function sje(e){return e instanceof Date?+e:+new Date(+e)}function UM(e,t,n,r,i,s,a,l,c,u){var d=EM(),h=d.invert,m=d.domain,p=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),w=u("%b %d"),v=u("%B"),_=u("%Y");function j(k){return(c(k)<k?p:l(k)<k?g:a(k)<k?y:s(k)<k?x:r(k)<k?i(k)<k?b:w:n(k)<k?v:_)(k)}return d.invert=function(k){return new Date(h(k))},d.domain=function(k){return arguments.length?m(Array.from(k,sje)):m().map(ije)},d.ticks=function(k){var C=m();return e(C[0],C[C.length-1],k??10)},d.tickFormat=function(k,C){return C==null?j:u(C)},d.nice=function(k){var C=m();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?m(Y7(C,k)):d},d.copy=function(){return _x(d,UM(e,t,n,r,i,s,a,l,c,u))},d}function aje(){return eo.apply(UM(twe,nwe,bc,qM,Xj,wx,FM,LM,Od,oV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oje(){return eo.apply(UM(J0e,ewe,_c,WM,Zj,Qj,BM,$M,Od,lV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jj(){var e=0,t=1,n,r,i,s,a=rs,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:a(i===0?.5:(h=(s(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(m){var p,g;return arguments.length?([p,g]=m,a=h(p,g),u):[a(0),a(1)]}}return u.range=d(Lm),u.rangeRound=d(PM),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function Ku(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cV(){var e=Hu(Jj()(rs));return e.copy=function(){return Ku(e,cV())},zc.apply(e,arguments)}function uV(){var e=AM(Jj()).domain([1,10]);return e.copy=function(){return Ku(e,uV()).base(e.base())},zc.apply(e,arguments)}function dV(){var e=zM(Jj());return e.copy=function(){return Ku(e,dV()).constant(e.constant())},zc.apply(e,arguments)}function VM(){var e=DM(Jj());return e.copy=function(){return Ku(e,VM()).exponent(e.exponent())},zc.apply(e,arguments)}function lje(){return VM.apply(null,arguments).exponent(.5)}function hV(){var e=[],t=rs;function n(r){if(r!=null&&!isNaN(r=+r))return t((vx(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Su),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>K_e(e,s/r))},n.copy=function(){return hV(t).domain(e)},zc.apply(n,arguments)}function e1(){var e=0,t=.5,n=1,r=1,i,s,a,l,c,u=rs,d,h=!1,m;function p(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(r*y<r*s?l:c),u(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([e,t,n]=y,i=d(e=+e),s=d(t=+t),a=d(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p):[e,t,n]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(u=y,p):u};function g(y){return function(x){var b,w,v;return arguments.length?([b,w,v]=x,u=b0e(y,[b,w,v]),p):[u(0),u(.5),u(1)]}}return p.range=g(Lm),p.rangeRound=g(PM),p.unknown=function(y){return arguments.length?(m=y,p):m},function(y){return d=y,i=y(e),s=y(t),a=y(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function fV(){var e=Hu(e1()(rs));return e.copy=function(){return Ku(e,fV())},zc.apply(e,arguments)}function mV(){var e=AM(e1()).domain([.1,1,10]);return e.copy=function(){return Ku(e,mV()).base(e.base())},zc.apply(e,arguments)}function pV(){var e=zM(e1());return e.copy=function(){return Ku(e,pV()).constant(e.constant())},zc.apply(e,arguments)}function HM(){var e=DM(e1());return e.copy=function(){return Ku(e,HM()).exponent(e.exponent())},zc.apply(e,arguments)}function cje(){return HM.apply(null,arguments).exponent(.5)}const Up=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:NM,scaleDiverging:fV,scaleDivergingLog:mV,scaleDivergingPow:HM,scaleDivergingSqrt:cje,scaleDivergingSymlog:pV,scaleIdentity:K7,scaleImplicit:_O,scaleLinear:H7,scaleLog:G7,scaleOrdinal:SM,scalePoint:Q_e,scalePow:RM,scaleQuantile:Z7,scaleQuantize:J7,scaleRadial:X7,scaleSequential:cV,scaleSequentialLog:uV,scaleSequentialPow:VM,scaleSequentialQuantile:hV,scaleSequentialSqrt:lje,scaleSequentialSymlog:dV,scaleSqrt:W0e,scaleSymlog:Q7,scaleThreshold:eV,scaleTime:aje,scaleUtc:oje,tickFormat:V7},Symbol.toStringTag,{value:"Module"}));var Dc=e=>e.chartData,gV=ke([Dc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),yV=(e,t,n,r)=>r?gV(e):Dc(e),xV=(e,t,n)=>n?gV(e):Dc(e);function Au(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(An(t)&&An(n))return!0}return!1}function E4(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(An(n))i=n;else if(typeof n=="function")return;if(An(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Au(a))return a}}function uje(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Au(r))return E4(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(xt(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&XR.test(i)){var c=XR.exec(i);if(c==null||c[1]==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(xt(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&ZR.test(s)){var d=ZR.exec(s);if(d==null||d[1]==null||t==null)l=void 0;else{var h=+d[1];l=t[1]+h}}else l=t==null?void 0:t[1];var m=[a,l];if(Au(m))return t==null?m:E4(m,t,n)}}}var $m=1e9,dje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},YM,er=!0,Ga="[DecimalError] ",Wd=Ga+"Invalid argument: ",KM=Ga+"Exponent out of range: ",Fm=Math.floor,pd=Math.pow,hje=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia,ri=1e7,Vn=7,bV=9007199254740991,D0=Fm(bV/Vn),wt={};wt.absoluteValue=wt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};wt.comparedTo=wt.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Vn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};wt.dividedBy=wt.div=function(e){return lc(this,new this.constructor(e))};wt.dividedToIntegerBy=wt.idiv=function(e){var t=this,n=t.constructor;return En(lc(t,new n(e),0,1),n.precision)};wt.equals=wt.eq=function(e){return!this.cmp(e)};wt.exponent=function(){return zr(this)};wt.greaterThan=wt.gt=function(e){return this.cmp(e)>0};wt.greaterThanOrEqualTo=wt.gte=function(e){return this.cmp(e)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(e){return this.cmp(e)<0};wt.lessThanOrEqualTo=wt.lte=function(e){return this.cmp(e)<1};wt.logarithm=wt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ia))throw Error(Ga+"NaN");if(n.s<1)throw Error(Ga+(n.s?"NaN":"-Infinity"));return n.eq(ia)?new r(0):(er=!1,t=lc(ly(n,s),ly(e,s),s),er=!0,En(t,i))};wt.minus=wt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jV(t,e):_V(t,(e.s=-e.s,e))};wt.modulo=wt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ga+"NaN");return n.s?(er=!1,t=lc(n,e,0,1).times(e),er=!0,n.minus(t)):En(new r(n),i)};wt.naturalExponential=wt.exp=function(){return wV(this)};wt.naturalLogarithm=wt.ln=function(){return ly(this)};wt.negated=wt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};wt.plus=wt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_V(t,e):jV(t,(e.s=-e.s,e))};wt.precision=wt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wd+e);if(t=zr(i)+1,r=i.d.length-1,n=r*Vn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};wt.squareRoot=wt.sqrt=function(){var e,t,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ga+"NaN")}for(e=zr(l),er=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=sl(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fm((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(lc(l,s,a+2)).times(.5),sl(s.d).slice(0,a)===(t=sl(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(En(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(t!="9999")break;a+=4}return er=!0,En(r,n)};wt.times=wt.mul=function(e){var t,n,r,i,s,a,l,c,u,d=this,h=d.constructor,m=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=p.length,c<u&&(s=m,m=p,p=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=s[i]+p[r]*m[i-r-1]+t,s[i--]=l%ri|0,t=l/ri|0;s[i]=(s[i]+t)%ri|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,er?En(e,h.precision):e};wt.toDecimalPlaces=wt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(vl(e,0,$m),t===void 0?t=r.rounding:vl(t,0,8),En(n,e+zr(n)+1,t))};wt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=sh(r,!0):(vl(e,0,$m),t===void 0?t=i.rounding:vl(t,0,8),r=En(new i(r),e+1,t),n=sh(r,!0,e+1)),n};wt.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?sh(i):(vl(e,0,$m),t===void 0?t=s.rounding:vl(t,0,8),r=En(new s(i),e+zr(i)+1,t),n=sh(r.abs(),!1,e+zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};wt.toInteger=wt.toint=function(){var e=this,t=e.constructor;return En(new t(e),zr(e)+1,t.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(e){var t,n,r,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ia);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ga+"Infinity");return l}if(l.eq(ia))return l;if(r=c.precision,e.eq(ia))return En(l,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=l.s,a){if((n=d<0?-d:d)<=bV){for(i=new c(ia),t=Math.ceil(r/Vn+4),er=!1;n%2&&(i=i.times(l),T4(i.d,t)),n=Fm(n/2),n!==0;)l=l.times(l),T4(l.d,t);return er=!0,e.s<0?new c(ia).div(i):En(i,r)}}else if(s<0)throw Error(Ga+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,er=!1,i=e.times(ly(l,r+u)),er=!0,i=wV(i),i.s=s,i};wt.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=zr(i),r=sh(i,n<=s.toExpNeg||n>=s.toExpPos)):(vl(e,1,$m),t===void 0?t=s.rounding:vl(t,0,8),i=En(new s(i),e,t),n=zr(i),r=sh(i,e<=n||n<=s.toExpNeg,e)),r};wt.toSignificantDigits=wt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(vl(e,1,$m),t===void 0?t=r.rounding:vl(t,0,8)),En(new r(n),e,t)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zr(e),n=e.constructor;return sh(e,t<=n.toExpNeg||t>=n.toExpPos)};function _V(e,t){var n,r,i,s,a,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),er?En(t,h):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=a,l=c.length),a=Math.ceil(h/Vn),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/ri|0,c[s]%=ri;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,er?En(t,h):t}function vl(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wd+e)}function sl(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=Vn-r.length,n&&(s+=ru(n)),s+=r;a=e[t],r=a+"",n=Vn-r.length,n&&(s+=ru(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var lc=function(){function e(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%ri|0,a=s/ri|0;return a&&r.unshift(a),r}function t(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ri+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,u,d,h,m,p,g,y,x,b,w,v,_,j,k,C,O,P=r.constructor,M=r.s==i.s?1:-1,A=r.d,R=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ga+"Division by zero");for(c=r.e-i.e,C=R.length,j=A.length,p=new P(M),g=p.d=[],u=0;R[u]==(A[u]||0);)++u;if(R[u]>(A[u]||0)&&--c,s==null?w=s=P.precision:a?w=s+(zr(r)-zr(i))+1:w=s,w<0)return new P(0);if(w=w/Vn+2|0,u=0,C==1)for(d=0,R=R[0],w++;(u<j||d)&&w--;u++)v=d*ri+(A[u]||0),g[u]=v/R|0,d=v%R|0;else{for(d=ri/(R[0]+1)|0,d>1&&(R=e(R,d),A=e(A,d),C=R.length,j=A.length),_=C,y=A.slice(0,C),x=y.length;x<C;)y[x++]=0;O=R.slice(),O.unshift(0),k=R[0],R[1]>=ri/2&&++k;do d=0,l=t(R,y,C,x),l<0?(b=y[0],C!=x&&(b=b*ri+(y[1]||0)),d=b/k|0,d>1?(d>=ri&&(d=ri-1),h=e(R,d),m=h.length,x=y.length,l=t(h,y,m,x),l==1&&(d--,n(h,C<m?O:R,m))):(d==0&&(l=d=1),h=R.slice()),m=h.length,m<x&&h.unshift(0),n(y,h,x),l==-1&&(x=y.length,l=t(R,y,C,x),l<1&&(d++,n(y,C<x?O:R,x))),x=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[x++]=A[_]||0:(y=[A[_]],x=1);while((_++<j||y[0]!==void 0)&&w--)}return g[0]||g.shift(),p.e=c,En(p,a?s+zr(p)+1:s)}}();function wV(e,t){var n,r,i,s,a,l,c=0,u=0,d=e.constructor,h=d.precision;if(zr(e)>16)throw Error(KM+zr(e));if(!e.s)return new d(ia);for(er=!1,l=h,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(pd(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(ia),d.precision=l;;){if(i=En(i.times(e),l),n=n.times(++c),a=s.plus(lc(i,n,l)),sl(a.d).slice(0,l)===sl(s.d).slice(0,l)){for(;u--;)s=En(s.times(s),l);return d.precision=h,t==null?(er=!0,En(s,h)):s}s=a}}function zr(e){for(var t=e.e*Vn,n=e.d[0];n>=10;n/=10)t++;return t}function gS(e,t,n){if(t>e.LN10.sd())throw er=!0,n&&(e.precision=n),Error(Ga+"LN10 precision limit exceeded");return En(new e(e.LN10),t)}function ru(e){for(var t="";e--;)t+="0";return t}function ly(e,t){var n,r,i,s,a,l,c,u,d,h=1,m=10,p=e,g=p.d,y=p.constructor,x=y.precision;if(p.s<1)throw Error(Ga+(p.s?"NaN":"-Infinity"));if(p.eq(ia))return new y(0);if(t==null?(er=!1,u=x):u=t,p.eq(10))return t==null&&(er=!0),gS(y,u);if(u+=m,y.precision=u,n=sl(g),r=n.charAt(0),s=zr(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(e),n=sl(p.d),r=n.charAt(0),h++;s=zr(p),r>1?(p=new y("0."+n),s++):p=new y(r+"."+n.slice(1))}else return c=gS(y,u+2,x).times(s+""),p=ly(new y(r+"."+n.slice(1)),u-m).plus(c),y.precision=x,t==null?(er=!0,En(p,x)):p;for(l=a=p=lc(p.minus(ia),p.plus(ia),u),d=En(p.times(p),u),i=3;;){if(a=En(a.times(d),u),c=l.plus(lc(a,new y(i),u)),sl(c.d).slice(0,u)===sl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(gS(y,u+2,x).times(s+""))),l=lc(l,new y(h),u),y.precision=x,t==null?(er=!0,En(l,x)):l;l=c,i+=2}}function M4(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fm(n/Vn),e.d=[],r=(n+1)%Vn,n<0&&(r+=Vn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Vn;r<i;)e.d.push(+t.slice(r,r+=Vn));t=t.slice(r),r=Vn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),er&&(e.e>D0||e.e<-D0))throw Error(KM+n)}else e.s=0,e.e=0,e.d=[0];return e}function En(e,t,n){var r,i,s,a,l,c,u,d,h=e.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=Vn,i=t,u=h[d=0];else{if(d=Math.ceil((r+1)/Vn),s=h.length,d>=s)return e;for(u=s=h[d],a=1;s>=10;s/=10)a++;r%=Vn,i=r-Vn+a}if(n!==void 0&&(s=pd(10,a-i-1),l=u/s%10|0,c=t<0||h[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/pd(10,a-i):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(s=zr(e),h.length=1,t=t-s-1,h[0]=pd(10,(Vn-t%Vn)%Vn),e.e=Fm(-t/Vn)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=pd(10,Vn-r),h[d]=i>0?(u/pd(10,a-i)%pd(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==ri&&(h[0]=1,++e.e);break}else{if(h[d]+=s,h[d]!=ri)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(er&&(e.e>D0||e.e<-D0))throw Error(KM+zr(e));return e}function jV(e,t){var n,r,i,s,a,l,c,u,d,h,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),er?En(t,p):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r,a){for(d=a<0,d?(n=c,a=-a,l=h.length):(n=h,r=u,l=c.length),i=Math.max(Math.ceil(p/Vn),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}a=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>a;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=ri-1;--c[s],c[i]+=ri}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,er?En(t,p):t):new m(0)}function sh(e,t,n){var r,i=zr(e),s=sl(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+ru(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ru(-i-1)+s,n&&(r=n-a)>0&&(s+=ru(r))):i>=a?(s+=ru(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+ru(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=ru(r))),e.s<0?"-"+s:s}function T4(e,t){if(e.length>t)return e.length=t,!0}function kV(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Wd+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return M4(a,s.toString())}else if(typeof s!="string")throw Error(Wd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,hje.test(s))M4(a,s);else throw Error(Wd+s)}if(i.prototype=wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kV,i.config=i.set=fje,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function fje(e){if(!e||typeof e!="object")throw Error(Ga+"Object expected");var t,n,r,i=["precision",1,$m,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fm(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Wd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wd+n+": "+r);return this}var YM=kV(dje);ia=new YM(1);const kn=YM;var mje=e=>e,SV={},NV=e=>e===SV,A4=e=>function t(){return arguments.length===0||arguments.length===1&&NV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},CV=(e,t)=>e===1?t:A4(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==SV).length;return s>=e?t(...r):CV(e-s,A4(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=r.map(d=>NV(d)?l.shift():d);return t(...u,...l)}))}),pje=e=>CV(e.length,e),SO=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},gje=pje((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),yje=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mje;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}};function OV(e){var t;return e===0?t=1:t=Math.floor(new kn(e).abs().log(10).toNumber())+1,t}function PV(e,t,n){for(var r=new kn(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var EV=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},MV=(e,t,n)=>{if(e.lte(0))return new kn(0);var r=OV(e.toNumber()),i=new kn(10).pow(r),s=e.div(i),a=r!==1?.05:.1,l=new kn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return t?new kn(c.toNumber()):new kn(Math.ceil(c.toNumber()))},xje=(e,t,n)=>{var r=new kn(1),i=new kn(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new kn(10).pow(OV(e)-1),i=new kn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new kn(Math.floor(e)))}else e===0?i=new kn(Math.floor((t-1)/2)):n||(i=new kn(Math.floor(e)));var a=Math.floor((t-1)/2),l=yje(gje(c=>i.add(new kn(c-a).mul(r)).toNumber()),SO);return l(0,t)},TV=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new kn(0),tickMin:new kn(0),tickMax:new kn(0)};var a=MV(new kn(n).sub(t).div(r-1),i,s),l;t<=0&&n>=0?l=new kn(0):(l=new kn(t).add(n).div(2),l=l.sub(new kn(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new kn(n).sub(l).div(a).toNumber()),d=c+u+1;return d>r?TV(t,n,r,i,s+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:a,tickMin:l.sub(new kn(c).mul(a)),tickMax:l.add(new kn(u).mul(a))})},vje=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=EV([n,r]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...SO(0,i-1).map(()=>1/0)]:[...SO(0,i-1).map(()=>-1/0),c];return n>r?u.reverse():u}if(l===c)return xje(l,i,s);var{step:d,tickMin:h,tickMax:m}=TV(l,c,a,s,0),p=PV(h,m.add(new kn(.1).mul(d)),d);return n>r?p.reverse():p},bje=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=EV([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),u=MV(new kn(l).sub(a).div(c-1),s,0),d=[...PV(new kn(a),new kn(l),u),l];return s===!1&&(d=d.map(h=>Math.round(h))),r>i?d.reverse():d},AV=e=>e.rootProps.maxBarSize,_je=e=>e.rootProps.barGap,zV=e=>e.rootProps.barCategoryGap,wje=e=>e.rootProps.barSize,t1=e=>e.rootProps.stackOffset,DV=e=>e.rootProps.reverseStackOrder,GM=e=>e.options.chartName,QM=e=>e.rootProps.syncId,RV=e=>e.rootProps.syncMethod,XM=e=>e.options.eventEmitter,jje=e=>e.rootProps.baseValue,ci={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Gl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},na={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},n1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},kje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gl.angleAxisId,includeHidden:!1,name:void 0,reversed:Gl.reversed,scale:Gl.scale,tick:Gl.tick,tickCount:void 0,ticks:void 0,type:Gl.type,unit:void 0},Sje={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:na.type,unit:void 0},Nje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gl.scale,tick:Gl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Cje={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:"category",unit:void 0},ZM=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Nje:kje,JM=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Cje:Sje,r1=e=>e.polarOptions,eT=ke([Tc,Ac,hi],S_e),IV=ke([r1,eT],(e,t)=>{if(e!=null)return Co(e.innerRadius,t,0)}),LV=ke([r1,eT],(e,t)=>{if(e!=null)return Co(e.outerRadius,t,t*.8)}),Oje=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},$V=ke([r1],Oje);ke([ZM,$V],n1);var FV=ke([eT,IV,LV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ke([JM,FV],n1);var BV=ke([_n,r1,IV,LV,Tc,Ac],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Co(a,i,i/2),cy:Co(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Kr=(e,t)=>t,i1=(e,t,n)=>n;function s1(e){return e==null?void 0:e.id}function qV(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=s1(l);u.forEach((h,m)=>{var p=s==null||i?m:String(Ar(h,s,null)),g=Ar(h,l.dataKey,0),y;a.has(p)?y=a.get(p):y={},Object.assign(y,{[d]:g}),a.set(p,y)})}}),Array.from(a.values())}function a1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var o1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function l1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Pje(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Yr=e=>{var t=_n(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bm=e=>e.tooltip.settings.axisId;function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function R0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z4(Object(n),!0).forEach(function(r){Eje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eje(e,t,n){return(t=Mje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mje(e){var t=Tje(e,"string");return typeof t=="symbol"?t:t+""}function Tje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NO=[0,"auto"],ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},WV=(e,t)=>e.cartesianAxis.xAxis[t],Rc=(e,t)=>{var n=WV(e,t);return n??ei},ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:NO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gx},UV=(e,t)=>e.cartesianAxis.yAxis[t],Ic=(e,t)=>{var n=UV(e,t);return n??ti},Aje={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tT=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Aje},vs=(e,t,n)=>{switch(t){case"xAxis":return Rc(e,n);case"yAxis":return Ic(e,n);case"zAxis":return tT(e,n);case"angleAxis":return ZM(e,n);case"radiusAxis":return JM(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},zje=(e,t,n)=>{switch(t){case"xAxis":return Rc(e,n);case"yAxis":return Ic(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},jx=(e,t,n)=>{switch(t){case"xAxis":return Rc(e,n);case"yAxis":return Ic(e,n);case"angleAxis":return ZM(e,n);case"radiusAxis":return JM(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function HV(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var c1=e=>e.graphicalItems.cartesianItems,Dje=ke([Kr,i1],HV),KV=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),kx=ke([c1,vs,Dje],KV,{memoizeOptions:{resultEqualityCheck:l1}}),YV=ke([kx],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(a1)),GV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Rje=ke([kx],GV),QV=e=>e.map(t=>t.data).filter(Boolean).flat(1),Ije=ke([kx],QV,{memoizeOptions:{resultEqualityCheck:l1}}),XV=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},nT=ke([Ije,yV],XV),ZV=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ar(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Ar(i,r)}))):e.map(r=>({value:r})),u1=ke([nT,vs,kx],ZV);function JV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Zb(e){if(yl(e)||e instanceof Date){var t=Number(e);if(An(t))return t}}function D4(e){if(Array.isArray(e)){var t=[Zb(e[0]),Zb(e[1])];return Au(t)?t:void 0}var n=Zb(e);if(n!=null)return[n,n]}function wc(e){return e.map(Zb).filter(bye)}function Lje(e,t,n){return!n||typeof t!="number"||Ka(t)?[]:n.length?wc(n.flatMap(r=>{var i=Ar(e,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!An(s)||!An(a)))return[t-s,t+a]})):[]}var Gr=e=>{var t=Yr(e),n=Bm(e);return jx(e,t,n)},Sx=ke([Gr],e=>e==null?void 0:e.dataKey),$je=ke([YV,yV,Gr],qV),eH=(e,t,n,r)=>{var i={},s=t.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,c]=a,u=r?[...c].reverse():c,d=u.map(s1);return[l,{stackedData:vve(e,d,n),graphicalItems:u}]}))},I0=ke([$je,YV,t1,DV],eH),tH=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var a=jve(e,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Fje=ke([vs],e=>e.allowDataOverflow),rT=e=>{var t;if(e==null||!("domain"in e))return NO;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=wc(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:NO},nH=ke([vs],rT),rH=ke([nH,Fje],vV),Bje=ke([I0,Dc,Kr,rH],tH,{memoizeOptions:{resultEqualityCheck:o1}}),iT=e=>e.errorBars,qje=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>JV(n,r)),L0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},iH=(e,t,n,r,i)=>{var s,a;if(n.length>0&&e.forEach(l=>{n.forEach(c=>{var u,d,h=(u=r[c.id])===null||u===void 0?void 0:u.filter(b=>JV(i,b)),m=Ar(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=Lje(l,m,h);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(s==null||g<s)&&(s=g),(a==null||y>a)&&(a=y)}var x=D4(m);x!=null&&(s=s==null?x[0]:Math.min(s,x[0]),a=a==null?x[1]:Math.max(a,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=D4(Ar(l,t.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),An(s)&&An(a))return[s,a]},Wje=ke([nT,vs,Rje,iT,Kr],iH,{memoizeOptions:{resultEqualityCheck:o1}});function Uje(e){var{value:t}=e;if(yl(t)||t instanceof Date)return t}var Vje=(e,t,n)=>{var r=e.map(Uje).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&GU(r))?D7(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},sH=e=>e.referenceElements.dots,qm=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Hje=ke([sH,Kr,i1],qm),aH=e=>e.referenceElements.areas,Kje=ke([aH,Kr,i1],qm),oH=e=>e.referenceElements.lines,Yje=ke([oH,Kr,i1],qm),lH=(e,t)=>{if(e!=null){var n=wc(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Gje=ke(Hje,Kr,lH),cH=(e,t)=>{if(e!=null){var n=wc(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Qje=ke([Kje,Kr],cH);function Xje(e){var t;if(e.x!=null)return wc([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:wc(n)}function Zje(e){var t;if(e.y!=null)return wc([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:wc(n)}var uH=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?Xje(r):Zje(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Jje=ke([Yje,Kr],uH),e1e=ke(Gje,Jje,Qje,(e,t,n)=>L0(e,n,t)),dH=(e,t,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",u=c?L0(r,s,i):L0(s,i);return uje(t,u,e.allowDataOverflow)},t1e=ke([vs,nH,rH,Bje,Wje,e1e,_n,Kr],dH,{memoizeOptions:{resultEqualityCheck:o1}}),n1e=[0,1],hH=(e,t,n,r,i,s,a)=>{if(!((e==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Mc(t,s);if(u&&l==null){var d;return D7(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?Vje(r,e,u):i==="expand"?n1e:a}},sT=ke([vs,_n,nT,u1,t1,Kr,t1e],hH),fH=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(dx(s));return l in Up?l:"point"}}},Nx=ke([vs,_n,VV,GM,Kr],fH);function r1e(e){if(e!=null){if(e in Up)return Up[e]();var t="scale".concat(dx(e));if(t in Up)return Up[t]()}}function aT(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=r1e(t);if(i!=null){var s=i.domain(n).range(r);return mve(s),s}}}var mH=(e,t,n)=>{var r=rT(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Au(e))return vje(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Au(e))return bje(e,t.tickCount,t.allowDecimals)}},oT=ke([sT,jx,Nx],mH),pH=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Au(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],a=t[1],l=n[n.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},i1e=ke([vs,sT,oT,Kr],pH),s1e=ke(u1,vs,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(wc(e.map(h=>h.value))).sort((h,m)=>h-m),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],u=r[l+1];if(!(c==null||u==null)){var d=u-c;n=Math.min(n,d)}}return n/a}}),gH=ke(s1e,_n,zV,hi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!An(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Co(n,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),a1e=(e,t,n)=>{var r=Rc(e,t);return r==null||typeof r.padding!="string"?0:gH(e,"xAxis",t,n,r.padding)},o1e=(e,t,n)=>{var r=Ic(e,t);return r==null||typeof r.padding!="string"?0:gH(e,"yAxis",t,n,r.padding)},l1e=ke(Rc,a1e,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),c1e=ke(Ic,o1e,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),u1e=ke([hi,l1e,Bj,Fj,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),d1e=ke([hi,_n,c1e,Bj,Fj,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Cx=(e,t,n,r)=>{var i;switch(t){case"xAxis":return u1e(e,n,r);case"yAxis":return d1e(e,n,r);case"zAxis":return(i=tT(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return $V(e);case"radiusAxis":return FV(e,n);default:return}},yH=ke([vs,Cx],n1),d1=ke([vs,Nx,i1e,yH],aT);ke([kx,iT,Kr],qje);function xH(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var h1=(e,t)=>t,f1=(e,t,n)=>n,h1e=ke(Lj,h1,f1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(xH)),f1e=ke($j,h1,f1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(xH)),vH=(e,t)=>({width:e.width,height:t.height}),m1e=(e,t)=>{var n=typeof t.width=="number"?t.width:gx;return{width:n,height:e.height}},bH=ke(hi,Rc,vH),p1e=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},g1e=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},y1e=ke(Ac,hi,h1e,h1,f1,(e,t,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=vH(t,l);a==null&&(a=p1e(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),x1e=ke(Tc,hi,f1e,h1,f1,(e,t,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=m1e(t,l);a==null&&(a=g1e(t,r,e));var u=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),v1e=(e,t)=>{var n=Rc(e,t);if(n!=null)return y1e(e,n.orientation,n.mirror)},b1e=ke([hi,Rc,v1e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),_1e=(e,t)=>{var n=Ic(e,t);if(n!=null)return x1e(e,n.orientation,n.mirror)},w1e=ke([hi,Ic,_1e,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),_H=ke(hi,Ic,(e,t)=>{var n=typeof t.width=="number"?t.width:gx;return{width:n,height:e.height}}),R4=(e,t,n)=>{switch(t){case"xAxis":return bH(e,n).width;case"yAxis":return _H(e,n).height;default:return}},wH=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Mc(e,r),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&GU(c))return c}},lT=ke([_n,u1,vs,Kr],wH),jH=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Mc(e,r);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},cT=ke([_n,u1,jx,Kr],jH),I4=ke([_n,zje,Nx,d1,lT,cT,Cx,oT,Kr],(e,t,n,r,i,s,a,l,c)=>{if(t!=null){var u=Mc(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:n,scale:r}}}),j1e=(e,t,n,r,i,s,a,l,c)=>{if(!(t==null||r==null)){var u=Mc(e,c),{type:d,ticks:h,tickCount:m}=t,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=d==="category"&&r.bandwidth?r.bandwidth()/p:0;g=c==="angleAxis"&&s!=null&&s.length>=2?Ms(s[0]-s[1])*2*g:g;var y=h||i;if(y){var x=y.map((b,w)=>{var v=a?a.indexOf(b):b;return{index:w,coordinate:r(v)+g,value:b,offset:g}});return x.filter(b=>An(b.coordinate))}return u&&l?l.map((b,w)=>({coordinate:r(b)+g,value:b,index:w,offset:g})).filter(b=>An(b.coordinate)):r.ticks?r.ticks(m).map(b=>({coordinate:r(b)+g,value:b,offset:g})):r.domain().map((b,w)=>({coordinate:r(b)+g,value:a?a[b]:b,index:w,offset:g}))}},kH=ke([_n,jx,Nx,d1,oT,Cx,lT,cT,Kr],j1e),k1e=(e,t,n,r,i,s,a)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var l=Mc(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Ms(r[0]-r[1])*2*u:u,l&&s?s.map((d,h)=>({coordinate:n(d)+u,value:d,index:h,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,h)=>({coordinate:n(d)+u,value:i?i[d]:d,index:h,offset:u}))}},zu=ke([_n,jx,d1,Cx,lT,cT,Kr],k1e),Du=ke(vs,d1,(e,t)=>{if(!(e==null||t==null))return R0(R0({},e),{},{scale:t})}),S1e=ke([vs,Nx,sT,yH],aT);ke((e,t,n)=>tT(e,n),S1e,(e,t)=>{if(!(e==null||t==null))return R0(R0({},e),{},{scale:t})});var N1e=ke([_n,Lj,$j],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),SH=e=>e.options.defaultTooltipEventType,NH=e=>e.options.validateTooltipEventTypes;function CH(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function uT(e,t){var n=SH(e),r=NH(e);return CH(t,n,r)}function C1e(e){return Rt(t=>uT(t,e))}var OH=(e,t)=>{var n,r=Number(t);if(!(Ka(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},O1e=e=>e.tooltip.settings,cu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},P1e={itemInteraction:{click:cu,hover:cu},axisInteraction:{click:cu,hover:cu},keyboardInteraction:cu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},PH=qs({name:"tooltip",initialState:P1e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Qn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=jo(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Qn()},removeTooltipEntrySettings:{reducer(e,t){var n=jo(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Qn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:E1e,replaceTooltipEntrySettings:M1e,removeTooltipEntrySettings:T1e,setTooltipSettingsState:A1e,setActiveMouseOverItemIndex:EH,mouseLeaveItem:z1e,mouseLeaveChart:MH,setActiveClickItemIndex:D1e,setMouseOverAxisIndex:TH,setMouseClickAxisIndex:R1e,setSyncInteraction:CO,setKeyboardInteraction:OO}=PH.actions,I1e=PH.reducer;function L4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L4(Object(n),!0).forEach(function(r){L1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L1e(e,t,n){return(t=$1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $1e(e){var t=F1e(e,"string");return typeof t=="symbol"?t:t+""}function F1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1e(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function q1e(e){return e.index!=null}var AH=(e,t,n,r)=>{if(t==null)return cu;var i=B1e(e,t,n);if(i==null)return cu;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(q1e(i)){if(s)return $v($v({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return $v($v({},cu),{},{coordinate:i.coordinate})};function W1e(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function U1e(e,t){var n=W1e(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function V1e(e,t,n){if(n==null||t==null)return!0;var r=Ar(e,t);return r==null||!Au(n)?!0:U1e(r,n)}var dT=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!An(s))return i;var a=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(a,Math.min(s,l)),u=t[c];return u==null||V1e(u,n,r)?String(c):null},zH=(e,t,n,r,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},DH=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},Ox=e=>e.options.tooltipPayloadSearcher,Wm=e=>e.tooltip;function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(n),!0).forEach(function(r){H1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H1e(e,t,n){return(t=K1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K1e(e){var t=Y1e(e,"string");return typeof t=="symbol"?t:t+""}function Y1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1e(e,t){return e??t}var RH=(e,t,n,r,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,h=[];return e.reduce((m,p)=>{var g,{dataDefinedOnItem:y,settings:x}=p,b=G1e(y,l),w=Array.isArray(b)?t7(b,u,d):b,v=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:r,_=x==null?void 0:x.nameKey,j;if(r&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?j=QU(w,r,i):j=s(w,t,c,_),Array.isArray(j))j.forEach(C=>{var O=F4(F4({},x),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});m.push(JR({tooltipEntrySettings:O,dataKey:C.dataKey,payload:C.payload,value:Ar(C.payload,C.dataKey),name:C.name}))});else{var k;m.push(JR({tooltipEntrySettings:x,dataKey:v,payload:j,value:Ar(j,v),name:(k=Ar(j,_))!==null&&k!==void 0?k:x==null?void 0:x.name}))}return m},h)}},hT=ke([Gr,_n,VV,GM,Yr],fH),Q1e=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),X1e=ke([Yr,Bm],HV),Um=ke([Q1e,Gr,X1e],KV,{memoizeOptions:{resultEqualityCheck:l1}}),Z1e=ke([Um],e=>e.filter(a1)),J1e=ke([Um],QV,{memoizeOptions:{resultEqualityCheck:l1}}),Vm=ke([J1e,Dc],XV),eke=ke([Z1e,Dc,Gr],qV),fT=ke([Vm,Gr,Um],ZV),IH=ke([Gr],rT),tke=ke([Gr],e=>e.allowDataOverflow),LH=ke([IH,tke],vV),nke=ke([Um],e=>e.filter(a1)),rke=ke([eke,nke,t1,DV],eH),ike=ke([rke,Dc,Yr,LH],tH),ske=ke([Um],GV),ake=ke([Vm,Gr,ske,iT,Yr],iH,{memoizeOptions:{resultEqualityCheck:o1}}),oke=ke([sH,Yr,Bm],qm),lke=ke([oke,Yr],lH),cke=ke([aH,Yr,Bm],qm),uke=ke([cke,Yr],cH),dke=ke([oH,Yr,Bm],qm),hke=ke([dke,Yr],uH),fke=ke([lke,hke,uke],L0),mke=ke([Gr,IH,LH,ike,ake,fke,_n,Yr],dH),Px=ke([Gr,_n,Vm,fT,t1,Yr,mke],hH),pke=ke([Px,Gr,hT],mH),gke=ke([Gr,Px,pke,Yr],pH),$H=e=>{var t=Yr(e),n=Bm(e),r=!1;return Cx(e,t,n,r)},FH=ke([Gr,$H],n1),BH=ke([Gr,hT,gke,FH],aT),yke=ke([_n,fT,Gr,Yr],wH),xke=ke([_n,fT,Gr,Yr],jH),vke=(e,t,n,r,i,s,a,l)=>{if(t){var{type:c}=t,u=Mc(e,l);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return h=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ms(i[0]-i[1])*2*h:h,u&&a?a.map((m,p)=>({coordinate:r(m)+h,value:m,index:p,offset:h})):r.domain().map((m,p)=>({coordinate:r(m)+h,value:s?s[m]:m,index:p,offset:h}))}}},Lc=ke([_n,Gr,hT,BH,$H,yke,xke,Yr],vke),mT=ke([SH,NH,O1e],(e,t,n)=>CH(n.shared,e,t)),qH=e=>e.tooltip.settings.trigger,pT=e=>e.tooltip.settings.defaultIndex,Ex=ke([Wm,mT,qH,pT],AH),ah=ke([Ex,Vm,Sx,Px],dT),WH=ke([Lc,ah],OH),UH=ke([Ex],e=>{if(e)return e.dataKey});ke([Ex],e=>{if(e)return e.graphicalItemId});var VH=ke([Wm,mT,qH,pT],DH),bke=ke([Tc,Ac,_n,hi,Lc,pT,VH,Ox],zH),_ke=ke([Ex,bke],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wke=ke([Ex],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),jke=ke([VH,ah,Dc,Sx,WH,Ox,mT],RH),kke=ke([jke],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function B4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B4(Object(n),!0).forEach(function(r){Ske(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ske(e,t,n){return(t=Nke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nke(e){var t=Cke(e,"string");return typeof t=="symbol"?t:t+""}function Cke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oke=()=>Rt(Gr),Pke=()=>{var e=Oke(),t=Rt(Lc),n=Rt(BH);return sm(!e||!n?void 0:q4(q4({},e),{},{scale:n}),t)};function W4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(n),!0).forEach(function(r){Eke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eke(e,t,n){return(t=Mke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mke(e){var t=Tke(e,"string");return typeof t=="symbol"?t:t+""}function Tke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ake=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},zke=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:a}=r;return $h($h($h({},r),ki(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return $h($h($h({},r),ki(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Dke(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var HH=(e,t,n,r,i)=>{var s,a=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(a<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,u,d,h,m,p=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(u=n[a-1])===null||u===void 0?void 0:u.coordinate,g=(d=n[l])===null||d===void 0?void 0:d.coordinate,y=l>=a-1?(h=n[0])===null||h===void 0?void 0:h.coordinate:(m=n[l+1])===null||m===void 0?void 0:m.coordinate,x=void 0;if(!(p==null||g==null||y==null))if(Ms(g-p)!==Ms(y-g)){var b=[];if(Ms(y-g)===Ms(i[1]-i[0])){x=y;var w=g+i[1]-i[0];b[0]=Math.min(w,(w+p)/2),b[1]=Math.max(w,(w+p)/2)}else{x=p;var v=y+i[1]-i[0];b[0]=Math.min(g,(v+g)/2),b[1]=Math.max(g,(v+g)/2)}var _=[Math.min(g,(x+g)/2),Math.max(g,(x+g)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){var j;return(j=n[l])===null||j===void 0?void 0:j.index}}else{var k=Math.min(p,y),C=Math.max(p,y);if(e>(k+g)/2&&e<=(C+g)/2){var O;return(O=n[l])===null||O===void 0?void 0:O.index}}}else if(t)for(var P=0;P<a;P++){var M=t[P];if(M!=null){var A=t[P+1],R=t[P-1];if(P===0&&A!=null&&e<=(M.coordinate+A.coordinate)/2||P===a-1&&R!=null&&e>(M.coordinate+R.coordinate)/2||P>0&&P<a-1&&R!=null&&A!=null&&e>(M.coordinate+R.coordinate)/2&&e<=(M.coordinate+A.coordinate)/2)return M.index}}return-1},KH=()=>Rt(GM),gT=(e,t)=>t,YH=(e,t,n)=>n,yT=(e,t,n,r)=>r,Rke=ke(Lc,e=>Oj(e,t=>t.coordinate)),xT=ke([Wm,gT,YH,yT],AH),vT=ke([xT,Vm,Sx,Px],dT),Ike=(e,t,n)=>{if(t!=null){var r=Wm(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},GH=ke([Wm,gT,YH,yT],DH),$0=ke([Tc,Ac,_n,hi,Lc,yT,GH,Ox],zH),Lke=ke([xT,$0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),QH=ke([Lc,vT],OH),$ke=ke([GH,vT,Dc,Sx,QH,Ox,gT],RH),Fke=ke([xT,vT],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Bke=(e,t,n,r,i,s,a)=>{if(!(!e||!n||!r||!i)&&Dke(e,a)){var l=kve(e,t),c=HH(l,s,i,n,r),u=Ake(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},qke=(e,t,n,r,i,s,a)=>{if(!(!e||!r||!i||!s||!n)){var l=E_e(e,n);if(l){var c=Sve(l,t),u=HH(c,a,s,r,i),d=zke(t,s,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},Wke=(e,t,n,r,i,s,a,l)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?Bke(e,t,r,i,s,a,l):qke(e,t,n,r,i,s,a)},Uke=ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Vke=ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(ci)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Pje}});function U4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(n),!0).forEach(function(r){Hke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hke(e,t,n){return(t=Kke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kke(e){var t=Yke(e,"string");return typeof t=="symbol"?t:t+""}function Yke(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gke={},Qke={zIndexMap:Object.values(ci).reduce((e,t)=>V4(V4({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Gke)},Xke=new Set(Object.values(ci));function Zke(e){return Xke.has(e)}var XH=qs({name:"zIndex",initialState:Qke,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Qn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Zke(n)&&delete e.zIndexMap[n])},prepare:Qn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Qn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Qn()}}}),{registerZIndexPortal:Jke,unregisterZIndexPortal:eSe,registerZIndexPortalElement:tSe,unregisterZIndexPortalElement:nSe}=XH.actions,rSe=XH.reducer;function to(e){var{zIndex:t,children:n}=e,r=tbe(),i=r&&t!==void 0&&t!==0,s=Hi(),a=Nr();f.useLayoutEffect(()=>i?(a(Jke({zIndex:t})),()=>{a(eSe({zIndex:t}))}):hx,[a,t,i]);var l=Rt(c=>Uke(c,t,s));return i?l?Pc.createPortal(n,l):null:n}function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PO.apply(null,arguments)}function H4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H4(Object(n),!0).forEach(function(r){iSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iSe(e,t,n){return(t=sSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sSe(e){var t=aSe(e,"string");return typeof t=="symbol"?t:t+""}function aSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oSe(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return f.isValidElement(t)?f.cloneElement(t,r):f.createElement(n,r)}function lSe(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,h=n,m=r,p=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var g,y,x;if(d==="ScatterChart")g=h,y=Wbe,x=ci.cursorLine;else if(d==="BarChart")g=Ube(l,h,s,a),y=O7,x=ci.cursorRectangle;else if(l==="radial"&&JU(h)){var{cx:b,cy:w,radius:v,startAngle:_,endAngle:j}=P7(h);g={cx:b,cy:w,startAngle:_,endAngle:j,innerRadius:v,outerRadius:v},y=M7,x=ci.cursorLine}else g={points:z_e(l,h,s)},y=hg,x=ci.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,C=Fv(Fv(Fv(Fv({stroke:"#ccc",pointerEvents:"none"},s),g),ux(c)),{},{payload:m,payloadIndex:p,className:wn("recharts-tooltip-cursor",k)});return f.createElement(to,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},f.createElement(oSe,{cursor:c,cursorComp:y,cursorProps:C}))}function cSe(e){var t=Pke(),n=f7(),r=wh(),i=KH();return t==null||n==null||r==null||i==null?null:f.createElement(lSe,PO({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var ZH=f.createContext(null),uSe=()=>f.useContext(ZH),JH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,m),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,p=h.length,g=new Array(p);m<p;m++)g[m]=h[m].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,m,p,g){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,w,v;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,h),!0;case 4:return x.fn.call(x.context,d,h,m),!0;case 5:return x.fn.call(x.context,d,h,m,p),!0;case 6:return x.fn.call(x.context,d,h,m,p,g),!0}for(v=1,w=new Array(b-1);v<b;v++)w[v-1]=arguments[v];x.fn.apply(x.context,w)}else{var _=x.length,j;for(v=0;v<_;v++)switch(x[v].once&&this.removeListener(u,x[v].fn,void 0,!0),b){case 1:x[v].fn.call(x[v].context);break;case 2:x[v].fn.call(x[v].context,d);break;case 3:x[v].fn.call(x[v].context,d,h);break;case 4:x[v].fn.call(x[v].context,d,h,m);break;default:if(!w)for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];x[v].fn.apply(x[v].context,w)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,m){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!h||g.context===h)&&a(this,p);else{for(var y=0,x=[],b=g.length;y<b;y++)(g[y].fn!==d||m&&!g[y].once||h&&g[y].context!==h)&&x.push(g[y]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(JH);var dSe=JH.exports;const hSe=wl(dSe);var cy=new hSe,EO="recharts.syncEvent.tooltip",K4="recharts.syncEvent.brush";function fSe(e,t){if(t){var n=Number.parseInt(t,10);if(!Ka(n))return e==null?void 0:e[n]}}var mSe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},eK=qs({name:"options",initialState:mSe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),pSe=eK.reducer,{createEventEmitter:gSe}=eK.actions;function ySe(e){return e.tooltip.syncInteraction}var xSe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},tK=qs({name:"chartData",initialState:xSe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Y4,setDataStartEndIndexes:vSe,setComputedData:sWe}=tK.actions,bSe=tK.reducer,_Se=["x","y"];function G4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G4(Object(n),!0).forEach(function(r){wSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wSe(e,t,n){return(t=jSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jSe(e){var t=kSe(e,"string");return typeof t=="symbol"?t:t+""}function kSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SSe(e,t){if(e==null)return{};var n,r,i=NSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CSe(){var e=Rt(QM),t=Rt(XM),n=Nr(),r=Rt(RV),i=Rt(Lc),s=wh(),a=qj(),l=Rt(c=>c.rootProps.className);f.useEffect(()=>{if(e==null)return hx;var c=(u,d,h)=>{if(t!==h&&e===u){if(r==="index"){var m;if(a&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y}=p,x=SSe(p,_Se),{x:b,y:w,width:v,height:_}=d.payload.sourceViewBox,j=Fh(Fh({},x),{},{x:a.x+(v?(g-b)/v:0)*a.width,y:a.y+(_?(y-w)/_:0)*a.height});n(Fh(Fh({},d),{},{payload:Fh(Fh({},d.payload),{},{coordinate:j})}))}else n(d);return}if(i!=null){var k;if(typeof r=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=r(i,C);k=i[O]}else r==="value"&&(k=i.find(L=>String(L.value)===d.payload.label));var{coordinate:P}=d.payload;if(k==null||d.payload.active===!1||P==null||a==null){n(CO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:M,y:A}=P,R=Math.min(M,a.x+a.width),B=Math.min(A,a.y+a.height),F={x:s==="horizontal"?k.coordinate:R,y:s==="horizontal"?B:k.coordinate},U=CO({active:d.payload.active,coordinate:F,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(U)}}};return cy.on(EO,c),()=>{cy.off(EO,c)}},[l,n,t,e,r,i,s,a])}function OSe(){var e=Rt(QM),t=Rt(XM),n=Nr();f.useEffect(()=>{if(e==null)return hx;var r=(i,s,a)=>{t!==a&&e===i&&n(vSe(s))};return cy.on(K4,r),()=>{cy.off(K4,r)}},[n,t,e])}function PSe(){var e=Nr();f.useEffect(()=>{e(gSe())},[e]),CSe(),OSe()}function ESe(e,t,n,r,i,s){var a=Rt(p=>Ike(p,e,t)),l=Rt(XM),c=Rt(QM),u=Rt(RV),d=Rt(ySe),h=d==null?void 0:d.active,m=qj();f.useEffect(()=>{if(!h&&c!=null&&l!=null){var p=CO({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m,graphicalItemId:void 0});cy.emit(EO,c,p,l)}},[h,n,a,i,r,l,c,u,s,m])}function Q4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q4(Object(n),!0).forEach(function(r){MSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MSe(e,t,n){return(t=TSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TSe(e){var t=ASe(e,"string");return typeof t=="symbol"?t:t+""}function ASe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zSe(e){return e.dataKey}function DSe(e,t){return f.isValidElement(e)?f.cloneElement(e,t):typeof e=="function"?f.createElement(e,t):f.createElement(wbe,t)}var Z4=[],RSe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ISe(e){var t,n,r=xs(e,RSe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:m,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:x,cursor:b,shared:w,trigger:v,defaultIndex:_,portal:j,axisId:k}=r,C=Nr(),O=typeof _=="number"?String(_):_;f.useEffect(()=>{C(A1e({shared:w,trigger:v,axisId:k,active:i,defaultIndex:O}))},[C,w,v,k,i,O]);var P=qj(),M=j7(),A=C1e(w),{activeIndex:R,isActive:B}=(t=Rt(ge=>Fke(ge,A,v,O)))!==null&&t!==void 0?t:{},F=Rt(ge=>$ke(ge,A,v,O)),U=Rt(ge=>QH(ge,A,v,O)),L=Rt(ge=>Lke(ge,A,v,O)),D=F,T=uSe(),$=(n=i??B)!==null&&n!==void 0?n:!1,[G,ie]=cxe([D,$]),X=A==="axis"?U:void 0;ESe(A,v,L,X,R,$);var se=j??T;if(se==null||P==null||A==null)return null;var xe=D??Z4;$||(xe=Z4),u&&xe.length&&(xe=Iye(xe.filter(ge=>ge.value!=null&&(ge.hide!==!0||r.includeHidden)),m,zSe));var me=xe.length>0,De=f.createElement(Pbe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:d,active:$,coordinate:L,hasPayload:me,offset:h,position:p,reverseDirection:g,useTranslate3d:y,viewBox:P,wrapperStyle:x,lastBoundingBox:G,innerRef:ie,hasPortalFromProps:!!j},DSe(c,X4(X4({},r),{},{payload:xe,label:X,active:$,activeIndex:R,coordinate:L,accessibilityLayer:M})));return f.createElement(f.Fragment,null,Pc.createPortal(De,se),$&&f.createElement(cSe,{cursor:b,tooltipEventType:A,coordinate:L,payload:xe,index:R}))}var nK=e=>null;nK.displayName="Cell";function LSe(e,t,n){return(t=$Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Se(e){var t=FSe(e,"string");return typeof t=="symbol"?t:t+""}function FSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BSe{constructor(t){LSe(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qSe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(r){WSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WSe(e,t,n){return(t=USe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function USe(e){var t=VSe(e,"string");return typeof t=="symbol"?t:t+""}function VSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HSe={cacheSize:2e3,enableCache:!0},rK=qSe({},HSe),e3=new BSe(rK.cacheSize),KSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},t3="recharts_measurement_span";function YSe(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var n3=(e,t)=>{try{var n=document.getElementById(t3);n||(n=document.createElement("span"),n.setAttribute("id",t3),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,KSe,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},fg=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xx.isSsr)return{width:0,height:0};if(!rK.enableCache)return n3(t,n);var r=YSe(t,n),i=e3.get(r);if(i)return i;var s=n3(t,n);return e3.set(r,s),s},iK;function GSe(e,t,n){return(t=QSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QSe(e){var t=XSe(e,"string");return typeof t=="symbol"?t:t+""}function XSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZSe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JSe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eNe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tNe=["cm","mm","pt","pc","in","Q","px"];function nNe(e){return tNe.includes(e)}var xf="NaN";function rNe(e,t){return e*eNe[t]}class vi{static parse(t){var n,[,r,i]=(n=JSe.exec(t))!==null&&n!==void 0?n:[];return r==null?vi.NaN:new vi(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ka(t)&&(this.unit=""),n!==""&&!ZSe.test(n)&&(this.num=NaN,this.unit=""),nNe(n)&&(this.num=rNe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new vi(NaN,""):new vi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vi(NaN,""):new vi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vi(NaN,""):new vi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vi(NaN,""):new vi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ka(this.num)}}iK=vi;GSe(vi,"NaN",new iK(NaN,""));function sK(e){if(e==null||e.includes(xf))return xf;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=r3.exec(t))!==null&&n!==void 0?n:[],a=vi.parse(r??""),l=vi.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return xf;t=t.replace(r3,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,m]=(u=i3.exec(t))!==null&&u!==void 0?u:[],p=vi.parse(d??""),g=vi.parse(m??""),y=h==="+"?p.add(g):p.subtract(g);if(y.isNaN())return xf;t=t.replace(i3,y.toString())}return t}var s3=/\(([^()]*)\)/;function iNe(e){for(var t=e,n;(n=s3.exec(t))!=null;){var[,r]=n;t=t.replace(s3,sK(r))}return t}function sNe(e){var t=e.replace(/\s+/g,"");return t=iNe(t),t=sK(t),t}function aNe(e){try{return sNe(e)}catch{return xf}}function yS(e){var t=aNe(e.slice(5,-1));return t===xf?"":t}var oNe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lNe=["dx","dy","angle","className","breakAll"];function MO(){return MO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MO.apply(null,arguments)}function a3(e,t){if(e==null)return{};var n,r,i=cNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aK=/[ \f\n\r\t\v\u2028\u2029]+/,oK=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];lr(t)||(n?i=t.toString().split(""):i=t.toString().split(aK));var s=i.map(l=>({word:l,width:fg(l,r).width})),a=n?0:fg("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function uNe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var lK=(e,t,n,r)=>e.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(t==null||r||c.width+l+n<Number(t)))c.words.push(a),c.width+=l+n;else{var u={words:[a],width:l};i.push(u)}return i},[]),cK=e=>e.reduce((t,n)=>t.width>n.width?t:n),dNe="",o3=(e,t,n,r,i,s,a,l)=>{var c=e.slice(0,t),u=oK({breakAll:n,style:r,children:c+dNe});if(!u)return[!1,[]];var d=lK(u.wordsWithComputedWidth,s,a,l),h=d.length>i||cK(d).width>Number(s);return[h,d]},hNe=(e,t,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=xt(s),d=String(a),h=lK(t,r,n,i);if(!u||i)return h;var m=h.length>s||cK(h).width>Number(r);if(!m)return h;for(var p=0,g=d.length-1,y=0,x;p<=g&&y<=d.length-1;){var b=Math.floor((p+g)/2),w=b-1,[v,_]=o3(d,w,c,l,s,r,n,i),[j]=o3(d,b,c,l,s,r,n,i);if(!v&&!j&&(p=b+1),v&&j&&(g=b-1),!v&&j){x=_;break}y++}return x||h},l3=e=>{var t=lr(e)?[]:e.toString().split(aK);return[{words:t,width:void 0}]},fNe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=e;if((t||n)&&!xx.isSsr){var l,c,u=oK({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return l3(r);return hNe({breakAll:s,children:r,maxLines:a,style:i},l,c,t,!!n)}return l3(r)},uK="#808080",mNe={angle:0,breakAll:!1,capHeight:"0.71em",fill:uK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},bT=f.forwardRef((e,t)=>{var n=xs(e,mNe),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,h=a3(n,oNe),m=f.useMemo(()=>fNe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:g,angle:y,className:x,breakAll:b}=h,w=a3(h,lNe);if(!yl(r)||!yl(i)||m.length===0)return null;var v=Number(r)+(xt(p)?p:0),_=Number(i)+(xt(g)?g:0);if(!An(v)||!An(_))return null;var j;switch(d){case"start":j=yS("calc(".concat(a,")"));break;case"middle":j=yS("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:j=yS("calc(".concat(m.length-1," * -").concat(s,")"));break}var k=[];if(c){var C=m[0].width,{width:O}=h;k.push("scale(".concat(xt(O)&&xt(C)?O/C:1,")"))}return y&&k.push("rotate(".concat(y,", ").concat(v,", ").concat(_,")")),k.length&&(w.transform=k.join(" ")),f.createElement("text",MO({},us(w),{ref:t,x:v,y:_,className:wn("recharts-text",x),textAnchor:u,fill:l.includes("url")?uK:l}),m.map((P,M)=>{var A=P.words.join(b?"":" ");return f.createElement("tspan",{x:v,dy:M===0?j:s,key:"".concat(A,"-").concat(M)},A)}))});bT.displayName="Text";var pNe=["labelRef"],gNe=["content"];function c3(e,t){if(e==null)return{};var n,r,i=yNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(r){xNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xNe(e,t,n){return(t=vNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vNe(e){var t=bNe(e,"string");return typeof t=="symbol"?t:t+""}function bNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(null,arguments)}var dK=f.createContext(null),_Ne=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=e,c=f.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[t,n,r,i,s,a]);return f.createElement(dK.Provider,{value:c},l)},hK=()=>{var e=f.useContext(dK),t=qj();return e||h7(t)},wNe=f.createContext(null),jNe=()=>{var e=f.useContext(wNe),t=Rt(BV);return e||t},kNe=e=>{var{value:t,formatter:n}=e,r=lr(e.children)?t:e.children;return typeof n=="function"?n(r):r},_T=e=>e!=null&&typeof e=="function",SNe=(e,t)=>{var n=Ms(t-e),r=Math.min(Math.abs(t-e),360);return n*r},NNe=(e,t,n,r,i)=>{var{offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:m,clockWise:p}=i,g=(u+d)/2,y=SNe(h,m),x=y>=0?1:-1,b,w;switch(t){case"insideStart":b=h+x*s,w=p;break;case"insideEnd":b=m-x*s,w=!p;break;case"end":b=m+x*s,w=p;break;default:throw new Error("Unsupported position ".concat(t))}w=y<=0?w:!w;var v=ki(l,c,g,b),_=ki(l,c,g,b+(w?1:-1)*359),j="M".concat(v.x,",").concat(v.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(_.x,",").concat(_.y),k=lr(e.id)?Qg("recharts-radial-line-"):e.id;return f.createElement("text",Ql({},r,{dominantBaseline:"central",className:wn("recharts-radial-bar-label",a)}),f.createElement("defs",null,f.createElement("path",{id:k,d:j})),f.createElement("textPath",{xlinkHref:"#".concat(k)},n))},CNe=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(n==="outside"){var{x:d,y:h}=ki(r,i,a+t,u);return{x:d,y:h,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(s+a)/2,{x:p,y:g}=ki(r,i,m,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},TO=e=>"cx"in e&&xt(e.cx),ONe=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!TO(n)&&(s=n);var{x:a,y:l,upperWidth:c,lowerWidth:u,height:d}=t,h=a,m=a+(c-u)/2,p=(h+m)/2,g=(c+u)/2,y=h+c/2,x=d>=0?1:-1,b=x*r,w=x>0?"end":"start",v=x>0?"start":"end",_=c>=0?1:-1,j=_*r,k=_>0?"end":"start",C=_>0?"start":"end";if(i==="top"){var O={x:h+c/2,y:l-b,textAnchor:"middle",verticalAnchor:w};return wr(wr({},O),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var P={x:m+u/2,y:l+d+b,textAnchor:"middle",verticalAnchor:v};return wr(wr({},P),s?{height:Math.max(s.y+s.height-(l+d),0),width:u}:{})}if(i==="left"){var M={x:p-j,y:l+d/2,textAnchor:k,verticalAnchor:"middle"};return wr(wr({},M),s?{width:Math.max(M.x-s.x,0),height:d}:{})}if(i==="right"){var A={x:p+g+j,y:l+d/2,textAnchor:C,verticalAnchor:"middle"};return wr(wr({},A),s?{width:Math.max(s.x+s.width-A.x,0),height:d}:{})}var R=s?{width:g,height:d}:{};return i==="insideLeft"?wr({x:p+j,y:l+d/2,textAnchor:C,verticalAnchor:"middle"},R):i==="insideRight"?wr({x:p+g-j,y:l+d/2,textAnchor:k,verticalAnchor:"middle"},R):i==="insideTop"?wr({x:h+c/2,y:l+b,textAnchor:"middle",verticalAnchor:v},R):i==="insideBottom"?wr({x:m+u/2,y:l+d-b,textAnchor:"middle",verticalAnchor:w},R):i==="insideTopLeft"?wr({x:h+j,y:l+b,textAnchor:C,verticalAnchor:v},R):i==="insideTopRight"?wr({x:h+c-j,y:l+b,textAnchor:k,verticalAnchor:v},R):i==="insideBottomLeft"?wr({x:m+j,y:l+d-b,textAnchor:C,verticalAnchor:w},R):i==="insideBottomRight"?wr({x:m+u-j,y:l+d-b,textAnchor:k,verticalAnchor:w},R):i&&typeof i=="object"&&(xt(i.x)||yc(i.x))&&(xt(i.y)||yc(i.y))?wr({x:a+Co(i.x,g),y:l+Co(i.y,d),textAnchor:"end",verticalAnchor:"end"},R):wr({x:y,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},PNe={angle:0,offset:5,zIndex:ci.label,position:"middle",textBreakAll:!1};function iu(e){var t=xs(e,PNe),{viewBox:n,position:r,value:i,children:s,content:a,className:l="",textBreakAll:c,labelRef:u}=t,d=jNe(),h=hK(),m=r==="center"?h:d??h,p,g,y;if(n==null?p=m:TO(n)?p=n:p=h7(n),!p||lr(i)&&lr(s)&&!f.isValidElement(a)&&typeof a!="function")return null;var x=wr(wr({},t),{},{viewBox:p});if(f.isValidElement(a)){var{labelRef:b}=x,w=c3(x,pNe);return f.cloneElement(a,w)}if(typeof a=="function"){var{content:v}=x,_=c3(x,gNe);if(g=f.createElement(a,_),f.isValidElement(g))return g}else g=kNe(t);var j=us(t);if(TO(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return NNe(t,r,g,j,p);y=CNe(p,t.offset,t.position)}else y=ONe(t,p);return f.createElement(to,{zIndex:t.zIndex},f.createElement(bT,Ql({ref:u,className:wn("recharts-label",l)},j,y,{textAnchor:uNe(j.textAnchor)?j.textAnchor:y.textAnchor,breakAll:c}),g))}iu.displayName="Label";var ENe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?f.createElement(iu,Ql({key:"label-implicit"},r)):yl(e)?f.createElement(iu,Ql({key:"label-implicit",value:e},r)):f.isValidElement(e)?e.type===iu?f.cloneElement(e,wr({key:"label-implicit"},r)):f.createElement(iu,Ql({key:"label-implicit",content:e},r)):_T(e)?f.createElement(iu,Ql({key:"label-implicit",content:e},r)):e&&typeof e=="object"?f.createElement(iu,Ql({},e,{key:"label-implicit"},r)):null};function MNe(e){var{label:t,labelRef:n}=e,r=hK();return ENe(t,r,n)||null}var fK={},mK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(mK);var pK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(pK);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mK,n=pK,r=Nj;function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(fK);var TNe=fK.last;const ANe=wl(TNe);var zNe=["valueAccessor"],DNe=["dataKey","clockWise","id","textBreakAll","zIndex"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F0.apply(null,arguments)}function d3(e,t){if(e==null)return{};var n,r,i=RNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var INe=e=>Array.isArray(e.value)?ANe(e.value):e.value,gK=f.createContext(void 0),yK=gK.Provider,xK=f.createContext(void 0);xK.Provider;function LNe(){return f.useContext(gK)}function $Ne(){return f.useContext(xK)}function Jb(e){var{valueAccessor:t=INe}=e,n=d3(e,zNe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=d3(n,DNe),u=LNe(),d=$Ne(),h=u||d;return!h||!h.length?null:f.createElement(to,{zIndex:l??ci.label},f.createElement(ds,{className:"recharts-label-list"},h.map((m,p)=>{var g,y=lr(r)?t(m,p):Ar(m&&m.payload,r),x=lr(s)?{}:{id:"".concat(s,"-").concat(p)};return f.createElement(iu,F0({key:"label-".concat(p)},us(m),c,x,{fill:(g=n.fill)!==null&&g!==void 0?g:m.fill,parentViewBox:m.parentViewBox,value:y,textBreakAll:a,viewBox:m.viewBox,index:p,zIndex:0}))})))}Jb.displayName="LabelList";function vK(e){var{label:t}=e;return t?t===!0?f.createElement(Jb,{key:"labelList-implicit"}):f.isValidElement(t)||_T(t)?f.createElement(Jb,{key:"labelList-implicit",content:t}):typeof t=="object"?f.createElement(Jb,F0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AO.apply(null,arguments)}var bK=e=>{var{cx:t,cy:n,r,className:i}=e,s=wn("recharts-dot",i);return xt(t)&&xt(n)&&xt(r)?f.createElement("circle",AO({},Ha(e),ZE(e),{className:s,cx:t,cy:n,r})):null},FNe={radiusAxis:{},angleAxis:{}},_K=qs({name:"polarAxis",initialState:FNe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aWe,removeRadiusAxis:oWe,addAngleAxis:lWe,removeAngleAxis:cWe}=_K.actions,BNe=_K.reducer,wK={exports:{}},zn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wT=Symbol.for("react.transitional.element"),jT=Symbol.for("react.portal"),m1=Symbol.for("react.fragment"),p1=Symbol.for("react.strict_mode"),g1=Symbol.for("react.profiler"),y1=Symbol.for("react.consumer"),x1=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),b1=Symbol.for("react.suspense"),_1=Symbol.for("react.suspense_list"),w1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),qNe=Symbol.for("react.view_transition"),WNe=Symbol.for("react.client.reference");function no(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wT:switch(e=e.type,e){case m1:case g1:case p1:case b1:case _1:case qNe:return e;default:switch(e=e&&e.$$typeof,e){case x1:case v1:case j1:case w1:return e;case y1:return e;default:return t}}case jT:return t}}}zn.ContextConsumer=y1;zn.ContextProvider=x1;zn.Element=wT;zn.ForwardRef=v1;zn.Fragment=m1;zn.Lazy=j1;zn.Memo=w1;zn.Portal=jT;zn.Profiler=g1;zn.StrictMode=p1;zn.Suspense=b1;zn.SuspenseList=_1;zn.isContextConsumer=function(e){return no(e)===y1};zn.isContextProvider=function(e){return no(e)===x1};zn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wT};zn.isForwardRef=function(e){return no(e)===v1};zn.isFragment=function(e){return no(e)===m1};zn.isLazy=function(e){return no(e)===j1};zn.isMemo=function(e){return no(e)===w1};zn.isPortal=function(e){return no(e)===jT};zn.isProfiler=function(e){return no(e)===g1};zn.isStrictMode=function(e){return no(e)===p1};zn.isSuspense=function(e){return no(e)===b1};zn.isSuspenseList=function(e){return no(e)===_1};zn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===m1||e===g1||e===p1||e===b1||e===_1||typeof e=="object"&&e!==null&&(e.$$typeof===j1||e.$$typeof===w1||e.$$typeof===x1||e.$$typeof===y1||e.$$typeof===v1||e.$$typeof===WNe||e.getModuleId!==void 0)};zn.typeOf=no;wK.exports=zn;var UNe=wK.exports,h3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",f3=null,xS=null,jK=e=>{if(e===f3&&Array.isArray(xS))return xS;var t=[];return f.Children.forEach(e,n=>{lr(n)||(UNe.isFragment(n)?t=t.concat(jK(n.props.children)):t.push(n))}),xS=t,f3=e,t};function VNe(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>h3(i)):r=[h3(t)],jK(e).forEach(i=>{var s=nm(i,"type.displayName")||nm(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var kK=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,SK={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(SK);var HNe=SK.isPlainObject;const KNe=wl(HNe);var m3,p3,g3,y3,x3;function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(r){YNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YNe(e,t,n){return(t=GNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GNe(e){var t=QNe(e,"string");return typeof t=="symbol"?t:t+""}function QNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function vp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _3=(e,t,n,r,i)=>{var s=n-r,a;return a=hr(m3||(m3=vp(["M ",",",""])),e,t),a+=hr(p3||(p3=vp(["L ",",",""])),e+n,t),a+=hr(g3||(g3=vp(["L ",",",""])),e+n-s/2,t+i),a+=hr(y3||(y3=vp(["L ",",",""])),e+n-s/2-r,t+i),a+=hr(x3||(x3=vp(["L ",","," Z"])),e,t),a},XNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZNe=e=>{var t=xs(e,XNe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,m=f.useRef(null),[p,g]=f.useState(-1),y=f.useRef(i),x=f.useRef(s),b=f.useRef(a),w=f.useRef(n),v=f.useRef(r),_=Yj(e,"trapezoid-");if(f.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var F=m.current.getTotalLength();F&&g(F)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var j=wn("recharts-trapezoid",l);if(!h)return f.createElement("g",null,f.createElement("path",B0({},us(t),{className:j,d:_3(n,r,i,s,a)})));var k=y.current,C=x.current,O=b.current,P=w.current,M=v.current,A="0px ".concat(p===-1?1:p,"px"),R="".concat(p,"px 0px"),B=k7(["strokeDasharray"],u,c);return f.createElement(Kj,{animationId:_,key:_,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},F=>{var U=ar(k,i,F),L=ar(C,s,F),D=ar(O,a,F),T=ar(P,n,F),$=ar(M,r,F);m.current&&(y.current=U,x.current=L,b.current=D,w.current=T,v.current=$);var G=F>0?{transition:B,strokeDasharray:R}:{strokeDasharray:A};return f.createElement("path",B0({},us(t),{className:j,d:_3(T,$,U,L,D),ref:m,style:b3(b3({},G),t.style)}))})},JNe=["option","shapeType","activeClassName"];function eCe(e,t){if(e==null)return{};var n,r,i=tCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(r){nCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nCe(e,t,n){return(t=rCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rCe(e){var t=iCe(e,"string");return typeof t=="symbol"?t:t+""}function iCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sCe(e,t){return q0(q0({},t),e)}function aCe(e,t){return e==="symbols"}function j3(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return f.createElement(O7,n);case"trapezoid":return f.createElement(ZNe,n);case"sector":return f.createElement(M7,n);case"symbols":if(aCe(t))return f.createElement(ZU,n);break;case"curve":return f.createElement(hg,n);default:return null}}function oCe(e){return f.isValidElement(e)?e.props:e}function lCe(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=eCe(e,JNe),s;if(f.isValidElement(t))s=f.cloneElement(t,q0(q0({},i),oCe(t)));else if(typeof t=="function")s=t(i,i.index);else if(KNe(t)&&typeof t!="boolean"){var a=sCe(t,i);s=f.createElement(j3,{shapeType:n,elementProps:a})}else{var l=i;s=f.createElement(j3,{shapeType:n,elementProps:l})}return i.isActive?f.createElement(ds,{className:r},s):s}var NK=(e,t,n)=>{var r=Nr();return(i,s)=>a=>{e==null||e(i,s,a),r(EH({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},CK=e=>{var t=Nr();return(n,r)=>i=>{e==null||e(n,r,i),t(z1e())}},OK=(e,t,n)=>{var r=Nr();return(i,s)=>a=>{e==null||e(i,s,a),r(D1e({activeIndex:String(s),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function PK(e){var{tooltipEntrySettings:t}=e,n=Nr(),r=Hi(),i=f.useRef(null);return f.useLayoutEffect(()=>{r||(i.current===null?n(E1e(t)):i.current!==t&&n(M1e({prev:i.current,next:t})),i.current=t)},[t,n,r]),f.useLayoutEffect(()=>()=>{i.current&&(n(T1e(i.current)),i.current=null)},[n]),null}function EK(e){var{legendPayload:t}=e,n=Nr(),r=Hi(),i=f.useRef(null);return f.useLayoutEffect(()=>{r||(i.current===null?n(mbe(t)):i.current!==t&&n(pbe({prev:i.current,next:t})),i.current=t)},[n,r,t]),f.useLayoutEffect(()=>()=>{i.current&&(n(gbe(i.current)),i.current=null)},[n]),null}var vS,cCe=()=>{var[e]=f.useState(()=>Qg("uid-"));return e},uCe=(vS=Cw.useId)!==null&&vS!==void 0?vS:cCe;function dCe(e,t){var n=uCe();return t||(e?"".concat(e,"-").concat(n):n)}var hCe=f.createContext(void 0),MK=e=>{var{id:t,type:n,children:r}=e,i=dCe("recharts-".concat(n),t);return f.createElement(hCe.Provider,{value:i},r(i))},fCe={cartesianItems:[],polarItems:[]},TK=qs({name:"graphicalItems",initialState:fCe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Qn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=jo(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Qn()},removeCartesianGraphicalItem:{reducer(e,t){var n=jo(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Qn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Qn()},removePolarGraphicalItem:{reducer(e,t){var n=jo(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Qn()}}}),{addCartesianGraphicalItem:mCe,replaceCartesianGraphicalItem:pCe,removeCartesianGraphicalItem:gCe,addPolarGraphicalItem:uWe,removePolarGraphicalItem:dWe}=TK.actions,yCe=TK.reducer,xCe=e=>{var t=Nr(),n=f.useRef(null);return f.useLayoutEffect(()=>{n.current===null?t(mCe(e)):n.current!==e&&t(pCe({prev:n.current,next:e})),n.current=e},[t,e]),f.useLayoutEffect(()=>()=>{n.current&&(t(gCe(n.current)),n.current=null)},[t]),null},AK=f.memo(xCe),vCe=["points"];function k3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(r){bCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bCe(e,t,n){return(t=_Ce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ce(e){var t=wCe(e,"string");return typeof t=="symbol"?t:t+""}function wCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function jCe(e,t){if(e==null)return{};var n,r,i=kCe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kCe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function SCe(e){var{option:t,dotProps:n,className:r}=e;if(f.isValidElement(t))return f.cloneElement(t,n);if(typeof t=="function")return t(n);var i=wn(r,typeof t!="boolean"?t.className:""),s=n??{},{points:a}=s,l=jCe(s,vCe);return f.createElement(bK,W0({},l,{className:i}))}function NCe(e,t){return e==null?!1:t?!0:e.length===1}function CCe(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:u=ci.scatter}=e;if(!NCe(t,n))return null;var d=kK(n),h=Ege(n),m=t.map((g,y)=>{var x,b,w=bS(bS(bS({r:3},a),h),{},{index:y,cx:(x=g.x)!==null&&x!==void 0?x:void 0,cy:(b=g.y)!==null&&b!==void 0?b:void 0,dataKey:s,value:g.value,payload:g.payload,points:t});return f.createElement(SCe,{key:"dot-".concat(y),option:n,dotProps:w,className:i})}),p={};return l&&c!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),f.createElement(to,{zIndex:u},f.createElement(ds,W0({className:r},p),m))}function S3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S3(Object(n),!0).forEach(function(r){OCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OCe(e,t,n){return(t=PCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PCe(e){var t=ECe(e,"string");return typeof t=="symbol"?t:t+""}function ECe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zK=0,MCe={xAxis:{},yAxis:{},zAxis:{}},DK=qs({name:"cartesianAxis",initialState:MCe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Qn()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Qn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Qn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Qn()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Qn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Qn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Qn()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Qn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Qn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);e.yAxis[n]=N3(N3({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:TCe,replaceXAxis:ACe,removeXAxis:zCe,addYAxis:DCe,replaceYAxis:RCe,removeYAxis:ICe,addZAxis:hWe,replaceZAxis:fWe,removeZAxis:mWe,updateYAxisWidth:LCe}=DK.actions,$Ce=DK.reducer,FCe=ke([hi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),BCe=ke([FCe,Tc,Ac],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),kT=()=>Rt(BCe),qCe=()=>Rt(kke);function C3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C3(Object(n),!0).forEach(function(r){WCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WCe(e,t,n){return(t=UCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UCe(e){var t=VCe(e,"string");return typeof t=="symbol"?t:t+""}function VCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HCe=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=_S(_S(_S({},l),ux(i)),ZE(i)),u;return f.isValidElement(i)?u=f.cloneElement(i,c):typeof i=="function"?u=i(c):u=f.createElement(bK,c),f.createElement(ds,{className:"recharts-active-dot",clipPath:a},u)};function O3(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=ci.activeDot}=e,l=Rt(ah),c=qCe();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return lr(u)?null:f.createElement(to,{zIndex:a},f.createElement(HCe,{point:u,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var P3=(e,t,n)=>{var r=n??e;if(!lr(r))return Co(r,t,0)},KCe=(e,t,n)=>{var r={},i=e.filter(a1),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),r),l=Object.entries(a).map(u=>{var[d,h]=u,m=h.map(g=>g.dataKey),p=P3(t,n,h[0].barSize);return{stackId:d,dataKeys:m,barSize:p}}),c=s.map(u=>{var d=[u.dataKey].filter(m=>m!=null),h=P3(t,n,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]};function E3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E3(Object(n),!0).forEach(function(r){YCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YCe(e,t,n){return(t=GCe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GCe(e){var t=QCe(e,"string");return typeof t=="symbol"?t:t+""}function QCe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XCe(e,t,n,r,i){var s=r.length;if(!(s<1)){var a=Co(e,n,0,!0),l,c=[];if(An(r[0].barSize)){var u=!1,d=n/s,h=r.reduce((b,w)=>b+(w.barSize||0),0);h+=(s-1)*a,h>=n&&(h-=(s-1)*a,a=0),h>=n&&d>0&&(u=!0,d*=.9,h=s*d);var m=(n-h)/2>>0,p={offset:m-a,size:0};l=r.reduce((b,w)=>{var v,_={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p.offset+p.size+a,size:u?d:(v=w.barSize)!==null&&v!==void 0?v:0}},j=[...b,_];return p=j[j.length-1].position,j},c)}else{var g=Co(t,n,0,!0);n-2*g-(s-1)*a<=0&&(a=0);var y=(n-2*g-(s-1)*a)/s;y>1&&(y>>=0);var x=An(i)?Math.min(y,i):y;l=r.reduce((b,w,v)=>[...b,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:g+(y+a)*v+(y-x)/2,size:x}}],c)}return l}}var ZCe=(e,t,n,r,i,s,a)=>{var l=lr(a)?t:a,c=XCe(n,r,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Bv(Bv({},u),{},{position:Bv(Bv({},u.position),{},{offset:u.position.offset-i/2})}))),c},JCe=(e,t)=>{var n=s1(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===n)}}}};function eOe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&An(e.zIndex)?e.zIndex:t}var tOe=e=>{var{chartData:t}=e,n=Nr(),r=Hi();return f.useEffect(()=>r?()=>{}:(n(Y4(t)),()=>{n(Y4(void 0))}),[t,n,r]),null},M3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RK=qs({name:"brush",initialState:M3,reducers:{setBrushSettings(e,t){return t.payload==null?M3:t.payload}}}),{setBrushSettings:pWe}=RK.actions,nOe=RK.reducer;function rOe(e,t,n){return(t=iOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iOe(e){var t=sOe(e,"string");return typeof t=="symbol"?t:t+""}function sOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ST{static create(t){return new ST(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}rOe(ST,"EPS",1e-4);function aOe(e){return(e%180+180)%180}var oOe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=aOe(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},lOe={dots:[],areas:[],lines:[]},IK=qs({name:"referenceElements",initialState:lOe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=jo(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=jo(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=jo(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:gWe,removeDot:yWe,addArea:xWe,removeArea:vWe,addLine:bWe,removeLine:_We}=IK.actions,cOe=IK.reducer,uOe=f.createContext(void 0),dOe=e=>{var{children:t}=e,[n]=f.useState("".concat(Qg("recharts"),"-clip")),r=kT();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return f.createElement(uOe.Provider,{value:n},f.createElement("defs",null,f.createElement("clipPath",{id:n},f.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function LK(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function hOe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return oOe(r,n)}function fOe(e,t,n){var r=n==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function uy(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function mOe(e,t){return LK(e,t+1)}function pOe(e,t,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,h=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:LK(r,u)};var y=c,x,b=()=>(x===void 0&&(x=n(g,y)),x),w=g.coordinate,v=c===0||uy(e,w,b,d,l);v||(c=0,d=a,u+=1),v&&(d=w+e*(b()/2+i),c+=u)},m;u<=s.length;)if(m=h(),m)return m.v;return[]}function gOe(e,t,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:c}=t,u=1;u<=a;u++){for(var d=(a-1)%u,h=l,m=!0,p=function(){var w=r[g],v=g,_,j=()=>(_===void 0&&(_=n(w,v)),_),k=w.coordinate,C=g===d||uy(e,k,j,h,c);if(!C)return m=!1,1;C&&(h=k+e*(j()/2+i))},g=d;g<a&&!p();g+=u);if(m){for(var y=[],x=d;x<a;x+=u)y.push(r[x]);return y}}return[]}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){yOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yOe(e,t,n){return(t=xOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xOe(e){var t=vOe(e,"string");return typeof t=="symbol"?t:t+""}function vOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bOe(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(m){var p=s[m],g,y=()=>(g===void 0&&(g=n(p,m)),g);if(m===a-1){var x=e*(p.coordinate+e*y()/2-c);s[m]=p=$i($i({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else s[m]=p=$i($i({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var b=uy(e,p.tickCoord,y,l,c);b&&(c=p.tickCoord-e*(y()/2+i),s[m]=$i($i({},p),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function _Oe(e,t,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=r[l-1],h=n(d,l-1),m=e*(d.coordinate+e*h/2-u);if(a[l-1]=d=$i($i({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),d.tickCoord!=null){var p=uy(e,d.tickCoord,()=>h,c,u);p&&(u=d.tickCoord-e*(h/2+i),a[l-1]=$i($i({},d),{},{isShow:!0}))}}for(var g=s?l-1:l,y=function(w){var v=a[w],_,j=()=>(_===void 0&&(_=n(v,w)),_);if(w===0){var k=e*(v.coordinate-e*j()/2-c);a[w]=v=$i($i({},v),{},{tickCoord:k<0?v.coordinate-k*e:v.coordinate})}else a[w]=v=$i($i({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var C=uy(e,v.tickCoord,j,c,u);C&&(c=v.tickCoord+e*(j()/2+i),a[w]=$i($i({},v),{},{isShow:!0}))}},x=0;x<g;x++)y(x);return a}function NT(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!r)return[];if(xt(c)||xx.isSsr){var m;return(m=mOe(i,xt(c)?c:0))!==null&&m!==void 0?m:[]}var p=[],g=l==="top"||l==="bottom"?"width":"height",y=d&&g==="width"?fg(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(v,_)=>{var j=typeof u=="function"?u(v.value,_):v.value;return g==="width"?hOe(fg(j,{fontSize:t,letterSpacing:n}),y,h):fg(j,{fontSize:t,letterSpacing:n})[g]},b=i.length>=2?Ms(i[1].coordinate-i[0].coordinate):1,w=fOe(s,b,g);return c==="equidistantPreserveStart"?pOe(b,w,x,i,a):c==="equidistantPreserveEnd"?gOe(b,w,x,i,a):(c==="preserveStart"||c==="preserveStartEnd"?p=_Oe(b,w,x,i,a,c==="preserveStartEnd"):p=bOe(b,w,x,i,a),p.filter(v=>v.isShow))}var wOe=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>a&&(a=h.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(n?r:0);return Math.round(u)}return 0},jOe=["axisLine","width","height","className","hide","ticks","axisType"];function kOe(e,t){if(e==null)return{};var n,r,i=SOe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SOe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oh(){return oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh.apply(null,arguments)}function A3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(n),!0).forEach(function(r){NOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NOe(e,t,n){return(t=COe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function COe(e){var t=OOe(e,"string");return typeof t=="symbol"?t:t+""}function OOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cc={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ci.axis};function POe(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Er(Er(Er({},c),Ha(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=Er(Er({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Er(Er({},u),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+i})}return f.createElement("line",oh({},u,{className:wn("recharts-cartesian-axis-line",nm(l,"className"))}))}function EOe(e,t,n,r,i,s,a,l,c){var u,d,h,m,p,g,y=l?-1:1,x=e.tickSize||a,b=xt(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":u=d=e.coordinate,m=n+ +!l*i,h=m-y*x,g=h-y*c,p=b;break;case"left":h=m=e.coordinate,d=t+ +!l*r,u=d-y*x,p=u-y*c,g=b;break;case"right":h=m=e.coordinate,d=t+ +l*r,u=d+y*x,p=u+y*c,g=b;break;default:u=d=e.coordinate,m=n+ +l*i,h=m+y*x,g=h+y*c,p=b;break}return{line:{x1:u,y1:h,x2:d,y2:m},tick:{x:p,y:g}}}function MOe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function TOe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function AOe(e){var{option:t,tickProps:n,value:r}=e,i,s=wn(n.className,"recharts-cartesian-axis-tick-value");if(f.isValidElement(t))i=f.cloneElement(t,Er(Er({},n),{},{className:s}));else if(typeof t=="function")i=t(Er(Er({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=wn(a,t==null?void 0:t.className)),i=f.createElement(bT,oh({},n,{className:a}),r)}return i}var zOe=f.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:h,x:m,y:p,width:g,height:y,tickSize:x,tickMargin:b,fontSize:w,letterSpacing:v,getTicksConfig:_,events:j,axisType:k}=e,C=NT(Er(Er({},_),{},{ticks:n}),w,v),O=MOe(d,h),P=TOe(d,h),M=Ha(_),A=ux(r),R={};typeof i=="object"&&(R=i);var B=Er(Er({},M),{},{fill:"none"},R),F=C.map(D=>Er({entry:D},EOe(D,m,p,g,y,d,x,h,b))),U=F.map(D=>{var{entry:T,line:$}=D;return f.createElement(ds,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},i&&f.createElement("line",oh({},B,$,{className:wn("recharts-cartesian-axis-tick-line",nm(i,"className"))})))}),L=F.map((D,T)=>{var{entry:$,tick:G}=D,ie=Er(Er(Er(Er({textAnchor:O,verticalAnchor:P},M),{},{stroke:"none",fill:s},A),G),{},{index:T,payload:$,visibleTicksCount:C.length,tickFormatter:a,padding:c},u);return f.createElement(ds,oh({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},JE(j,$,T)),r&&f.createElement(AOe,{option:r,tickProps:ie,value:"".concat(typeof a=="function"?a($.value,T):$.value).concat(l||"")}))});return f.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},L.length>0&&f.createElement(to,{zIndex:ci.label},f.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},L)),U.length>0&&f.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},U))}),DOe=f.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=e,u=kOe(e,jOe),[d,h]=f.useState(""),[m,p]=f.useState(""),g=f.useRef(null);f.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return wOe({ticks:g.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=f.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var w=b[0];if(w){var v=window.getComputedStyle(w),_=v.fontSize,j=v.letterSpacing;(_!==d||j!==m)&&(h(_),p(j))}}},[d,m]);return a||r!=null&&r<=0||i!=null&&i<=0?null:f.createElement(to,{zIndex:e.zIndex},f.createElement(ds,{className:wn("recharts-cartesian-axis",s)},f.createElement(POe,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ha(e)}),f.createElement(zOe,{ref:y,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:m,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),f.createElement(_Ne,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},f.createElement(MNe,{label:e.label,labelRef:e.labelRef}),e.children)))}),CT=f.forwardRef((e,t)=>{var n=xs(e,cc);return f.createElement(DOe,oh({},n,{ref:t}))});CT.displayName="CartesianAxis";var ROe=["x1","y1","x2","y2","key"],IOe=["offset"],LOe=["xAxisId","yAxisId"],$Oe=["xAxisId","yAxisId"];function z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(n),!0).forEach(function(r){FOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FOe(e,t,n){return(t=BOe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BOe(e){var t=qOe(e,"string");return typeof t=="symbol"?t:t+""}function qOe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pd.apply(null,arguments)}function U0(e,t){if(e==null)return{};var n,r,i=WOe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WOe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UOe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:l}=e;return f.createElement("rect",{x:r,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $K(e){var{option:t,lineItemProps:n}=e,r;if(f.isValidElement(t))r=f.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:a,x2:l,y2:c,key:u}=n,d=U0(n,ROe),h=(i=Ha(d))!==null&&i!==void 0?i:{},{offset:m}=h,p=U0(h,IOe);r=f.createElement("line",Pd({},p,{x1:s,y1:a,x2:l,y2:c,fill:"none",key:u}))}return r}function VOe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=U0(e,LOe),c=i.map((u,d)=>{var h=qi(qi({},l),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return f.createElement($K,{key:"line-".concat(d),option:r,lineItemProps:h})});return f.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function HOe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=e,l=U0(e,$Oe),c=i.map((u,d)=>{var h=qi(qi({},l),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return f.createElement($K,{option:r,lineItemProps:h,key:"line-".concat(d)})});return f.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function KOe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var p=!u[m+1],g=p?i+a-h:u[m+1]-h;if(g<=0)return null;var y=m%t.length;return f.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:g,width:s,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function YOe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,m)=>h-m);i!==u[0]&&u.unshift(0);var d=u.map((h,m)=>{var p=!u[m+1],g=p?i+a-h:u[m+1]-h;if(g<=0)return null;var y=m%n.length;return f.createElement("rect",{key:"react-".concat(m),x:h,y:s,width:g,height:l,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return f.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var GOe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return n7(NT(qi(qi(qi({},cc),n),{},{ticks:r7(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},QOe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return n7(NT(qi(qi(qi({},cc),n),{},{ticks:r7(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},XOe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ci.grid};function FK(e){var t=m7(),n=p7(),r=f7(),i=qi(qi({},xs(e,XOe)),{},{x:xt(e.x)?e.x:r.left,y:xt(e.y)?e.y:r.top,width:xt(e.width)?e.width:r.width,height:xt(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:m,verticalValues:p}=i,g=Hi(),y=Rt(P=>I4(P,"xAxis",s,g)),x=Rt(P=>I4(P,"yAxis",a,g));if(!xl(u)||!xl(d)||!xt(l)||!xt(c))return null;var b=i.verticalCoordinatesGenerator||GOe,w=i.horizontalCoordinatesGenerator||QOe,{horizontalPoints:v,verticalPoints:_}=i;if((!v||!v.length)&&typeof w=="function"){var j=m&&m.length,k=w({yAxis:x?qi(qi({},x),{},{ticks:j?m:x.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:h);y0(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(v=k)}if((!_||!_.length)&&typeof b=="function"){var C=p&&p.length,O=b({xAxis:y?qi(qi({},y),{},{ticks:C?p:y.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:h);y0(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}return f.createElement(to,{zIndex:i.zIndex},f.createElement("g",{className:"recharts-cartesian-grid"},f.createElement(UOe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),f.createElement(KOe,Pd({},i,{horizontalPoints:v})),f.createElement(YOe,Pd({},i,{verticalPoints:_})),f.createElement(VOe,Pd({},i,{offset:r,horizontalPoints:v,xAxis:y,yAxis:x})),f.createElement(HOe,Pd({},i,{offset:r,verticalPoints:_,xAxis:y,yAxis:x}))))}FK.displayName="CartesianGrid";var ZOe={},BK=qs({name:"errorBars",initialState:ZOe,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:wWe,replaceErrorBar:jWe,removeErrorBar:kWe}=BK.actions,JOe=BK.reducer,e2e=["children"];function t2e(e,t){if(e==null)return{};var n,r,i=n2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r2e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},i2e=f.createContext(r2e);function s2e(e){var{children:t}=e,n=t2e(e,e2e);return f.createElement(i2e.Provider,{value:n},t)}function OT(e,t){var n,r,i=Rt(u=>Rc(u,e)),s=Rt(u=>Ic(u,t)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ei.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ti.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function qK(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=kT(),{needClipX:s,needClipY:a,needClip:l}=OT(t,n);if(!l||!i)return null;var{x:c,y:u,width:d,height:h}=i;return f.createElement("clipPath",{id:"clipPath-".concat(r)},f.createElement("rect",{x:s?c:c-d/2,y:a?u:u-h/2,width:s?d:d*2,height:a?h:h*2}))}function a2e(e){var t=ux(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:s}=t,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var o2e={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=f;function l2e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c2e=typeof Object.is=="function"?Object.is:l2e,u2e=Mx.useSyncExternalStore,d2e=Mx.useRef,h2e=Mx.useEffect,f2e=Mx.useMemo,m2e=Mx.useDebugValue;o2e.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=d2e(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=f2e(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return h=g}return h=p}if(g=h,c2e(d,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(d=p,g):(d=p,h=y)}var u=!1,d,h,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var l=u2e(e,s[0],s[1]);return h2e(function(){a.hasValue=!0,a.value=l},[l]),m2e(l),l};function p2e(e){e()}function g2e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){p2e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var D3={notify(){},get:()=>[]};function y2e(e,t){let n,r=D3,i=0,s=!1;function a(y){d();const x=r.subscribe(y);let b=!1;return()=>{b||(b=!0,x(),h())}}function l(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,n||(n=e.subscribe(c),r=g2e())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=D3)}function m(){s||(s=!0,d())}function p(){s&&(s=!1,h())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>r};return g}var x2e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v2e=x2e(),b2e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_2e=b2e(),w2e=()=>v2e||_2e?f.useLayoutEffect:f.useEffect,j2e=w2e();function R3(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function k2e(e,t){if(R3(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!R3(e[n[i]],t[n[i]]))return!1;return!0}var wS=Symbol.for("react-redux-context"),jS=typeof globalThis<"u"?globalThis:{};function S2e(){if(!f.createContext)return{};const e=jS[wS]??(jS[wS]=new Map);let t=e.get(f.createContext);return t||(t=f.createContext(null),e.set(f.createContext,t)),t}var N2e=S2e();function C2e(e){const{children:t,context:n,serverState:r,store:i}=e,s=f.useMemo(()=>{const c=y2e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=f.useMemo(()=>i.getState(),[i]);j2e(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||N2e;return f.createElement(l.Provider,{value:s},t)}var O2e=C2e,P2e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function E2e(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function k1(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(P2e.has(r)){if(e[r]==null&&t[r]==null)continue;if(!k2e(e[r],t[r]))return!1}else if(!E2e(e[r],t[r]))return!1;return!0}function Sl(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:zK}function Nl(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:zK}var WK=(e,t,n)=>Du(e,"xAxis",Sl(e,t),n),UK=(e,t,n)=>zu(e,"xAxis",Sl(e,t),n),VK=(e,t,n)=>Du(e,"yAxis",Nl(e,t),n),HK=(e,t,n)=>zu(e,"yAxis",Nl(e,t),n),M2e=ke([_n,WK,VK,UK,HK],(e,t,n,r,i)=>Mc(e,"xAxis")?sm(t,r,!1):sm(n,i,!1)),T2e=(e,t)=>t,KK=ke([c1,T2e],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),YK=e=>{var t=_n(e),n=Mc(t,"xAxis");return n?"yAxis":"xAxis"},A2e=(e,t)=>{var n=YK(e);return n==="yAxis"?Nl(e,t):Sl(e,t)},z2e=(e,t,n)=>I0(e,YK(e),A2e(e,t),n),D2e=ke([KK,z2e],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=s1(e);if(!(r==null||i==null)){var s=(n=t[r])===null||n===void 0?void 0:n.stackedData,a=s==null?void 0:s.find(l=>l.key===i);if(a!=null)return a.map(l=>[l[0],l[1]])}}}),R2e=ke([_n,WK,VK,UK,HK,D2e,xV,M2e,KK,jje],(e,t,n,r,i,s,a,l,c,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:m}=a;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:p}=c,g;if(p&&p.length>0?g=p:g=d==null?void 0:d.slice(h,m+1),g!=null)return tPe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:s,displayedData:g,chartBaseValue:u,bandSize:l})}}),I2e=["id"],L2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(null,arguments)}function GK(e,t){if(e==null)return{};var n,r,i=$2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function I3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I3(Object(n),!0).forEach(function(r){F2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F2e(e,t,n){return(t=B2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B2e(e){var t=q2e(e,"string");return typeof t=="symbol"?t:t+""}function q2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V0(e,t){return e&&e!=="none"?e:t}var W2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:V0(r,i),value:Ij(n,t),payload:e}]},U2e=f.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:Ij(a,t),hide:l,type:u,color:V0(r,s),unit:c,graphicalItemId:d}};return f.createElement(PK,{tooltipEntrySettings:h})});function V2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:a}=r,l=Ha(r);return f.createElement(CCe,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:t})}function H2e(e){var{showLabels:t,children:n,points:r}=e,i=r.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return vf(vf({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return f.createElement(yK,{value:t?i:void 0},n)}function L3(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s}=e,{layout:a,type:l,stroke:c,connectNulls:u,isRange:d}=s,{id:h}=s,m=GK(s,I2e),p=Ha(m),g=us(m);return f.createElement(f.Fragment,null,(t==null?void 0:t.length)>1&&f.createElement(ds,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},f.createElement(hg,Ud({},g,{id:h,points:t,connectNulls:u,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&f.createElement(hg,Ud({},p,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&f.createElement(hg,Ud({},p,{className:"recharts-area-curve",layout:a,type:l,connectNulls:u,fill:"none",points:n}))),f.createElement(V2e,{points:t,props:m,clipPathId:i}))}function K2e(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=e,l=(t=s[0])===null||t===void 0?void 0:t.y,c=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!An(l)||!An(c))return null;var u=r*Math.abs(l-c),d=Math.max(...s.map(h=>h.x||0));return xt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),xt(d)?f.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function Y2e(e){var t,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=e,l=(t=s[0])===null||t===void 0?void 0:t.x,c=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!An(l)||!An(c))return null;var u=r*Math.abs(l-c),d=Math.max(...s.map(h=>h.y||0));return xt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),xt(d)?f.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function G2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?f.createElement(K2e,{alpha:t,points:r,baseLine:i,strokeWidth:s}):f.createElement(Y2e,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function Q2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:a,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:m,onAnimationEnd:p}=r,g=f.useMemo(()=>({points:a,baseLine:l}),[a,l]),y=Yj(g,"recharts-area-"),x=ebe(),[b,w]=f.useState(!1),v=!b,_=f.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),j=f.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);if(x==null)return null;var k=i.current,C=s.current;return f.createElement(H2e,{showLabels:v,points:a},r.children,f.createElement(Kj,{animationId:y,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:_,onAnimationStart:j,key:y},O=>{if(k){var P=k.length/a.length,M=O===1?a:a.map((R,B)=>{var F=Math.floor(B*P);if(k[F]){var U=k[F];return vf(vf({},R),{},{x:ar(U.x,R.x,O),y:ar(U.y,R.y,O)})}return R}),A;return xt(l)?A=ar(C,l,O):lr(l)||Ka(l)?A=ar(C,0,O):A=l.map((R,B)=>{var F=Math.floor(B*P);if(Array.isArray(C)&&C[F]){var U=C[F];return vf(vf({},R),{},{x:ar(U.x,R.x,O),y:ar(U.y,R.y,O)})}return R}),O>0&&(i.current=M,s.current=A),f.createElement(L3,{points:M,baseLine:A,needClip:t,clipPathId:n,props:r})}return O>0&&(i.current=a,s.current=l),f.createElement(ds,null,c&&f.createElement("defs",null,f.createElement("clipPath",{id:"animationClipPath-".concat(n)},f.createElement(G2e,{alpha:O,points:a,baseLine:l,layout:x,strokeWidth:r.strokeWidth}))),f.createElement(ds,{clipPath:"url(#animationClipPath-".concat(n,")")},f.createElement(L3,{points:a,baseLine:l,needClip:t,clipPathId:n,props:r})))}),f.createElement(vK,{label:r.label}))}function X2e(e){var{needClip:t,clipPathId:n,props:r}=e,i=f.useRef(null),s=f.useRef();return f.createElement(Q2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Z2e extends f.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:s,left:a,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:m,baseLine:p,zIndex:g}=this.props;if(t)return null;var y=wn("recharts-area",i),x=m,{r:b,strokeWidth:w}=a2e(n),v=kK(n),_=b*2+w,j=l?"url(#clipPath-".concat(v?"":"dots-").concat(x,")"):void 0;return f.createElement(to,{zIndex:g},f.createElement(ds,{className:y},l&&f.createElement("defs",null,f.createElement(qK,{clipPathId:x,xAxisId:c,yAxisId:u}),!v&&f.createElement("clipPath",{id:"clipPath-dots-".concat(x)},f.createElement("rect",{x:a-_/2,y:s-_/2,width:d+_,height:h+_}))),f.createElement(X2e,{needClip:l,clipPathId:x,props:this.props})),f.createElement(O3,{points:r,mainColor:V0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(p)&&f.createElement(O3,{points:p,mainColor:V0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var QK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ci.area};function J2e(e){var t,n=xs(e,QK),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:m,legendType:p,stroke:g,xAxisId:y,yAxisId:x}=n,b=GK(n,L2e),w=wh(),v=KH(),{needClip:_}=OT(y,x),j=Hi(),{points:k,isRange:C,baseLine:O}=(t=Rt(F=>R2e(F,e.id,j)))!==null&&t!==void 0?t:{},P=kT();if(w!=="horizontal"&&w!=="vertical"||P==null||v!=="AreaChart"&&v!=="ComposedChart")return null;var{height:M,width:A,x:R,y:B}=P;return!k||!k.length?null:f.createElement(Z2e,Ud({},b,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:O,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:M,hide:h,layout:w,isAnimationActive:m==="auto"?!xx.isSsr:m,isRange:C,legendType:p,needClip:_,points:k,stroke:g,width:A,left:R,top:B,xAxisId:y,yAxisId:x}))}var ePe=(e,t,n,r,i)=>{var s=n??t;if(xt(s))return s;var a=e==="horizontal"?i:r,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return s==="dataMin"?u:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function tPe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:m,bandSize:p}=e,g=i&&i.length,y=ePe(s,a,n,l,c),x=s==="horizontal",b=!1,w=u.map((_,j)=>{var k,C,O;if(g)O=i[d+j];else{var P=Ar(_,r);Array.isArray(P)?(O=P,b=!0):O=[y,P]}var M=(k=(C=O)===null||C===void 0?void 0:C[1])!==null&&k!==void 0?k:null,A=M==null||g&&!t&&Ar(_,r)==null;return x?{x:GR({axis:l,ticks:h,bandSize:p,entry:_,index:j}),y:A?null:c.scale(M),value:O,payload:_}:{x:A?null:l.scale(M),y:GR({axis:c,ticks:m,bandSize:p,entry:_,index:j}),value:O,payload:_}}),v;return g||b?v=w.map(_=>{var j=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:j!=null&&_.y!=null?c.scale(j):null,payload:_.payload}:{x:j!=null?l.scale(j):null,y:_.y,payload:_.payload}}):v=x?c.scale(y):l.scale(y),{points:w,baseLine:v,isRange:b}}function nPe(e){var t=xs(e,QK),n=Hi();return f.createElement(MK,{id:t.id,type:"area"},r=>f.createElement(f.Fragment,null,f.createElement(EK,{legendPayload:W2e(t)}),f.createElement(U2e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),f.createElement(AK,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:i7(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),f.createElement(J2e,Ud({},t,{id:r}))))}var XK=f.memo(nPe,k1);XK.displayName="Area";var rPe="Invariant failed";function iPe(e,t){throw new Error(rPe)}function zO(){return zO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zO.apply(null,arguments)}function H0(e){return f.createElement(lCe,zO({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var sPe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(xt(t))return t;var s=xt(r)||lr(r);return s?t(r,i):(s||iPe(),n)}},aPe=(e,t,n)=>n,oPe=(e,t)=>t,Tx=ke([c1,oPe],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),lPe=ke([Tx],e=>e==null?void 0:e.maxBarSize),cPe=(e,t,n,r)=>r,uPe=ke([_n,c1,Sl,Nl,aPe],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),dPe=(e,t,n)=>{var r=_n(e),i=Sl(e,t),s=Nl(e,t);if(!(i==null||s==null))return r==="horizontal"?I0(e,"yAxis",s,n):I0(e,"xAxis",i,n)},hPe=(e,t)=>{var n=_n(e),r=Sl(e,t),i=Nl(e,t);if(!(r==null||i==null))return n==="horizontal"?R4(e,"xAxis",r):R4(e,"yAxis",i)},fPe=ke([uPe,wje,hPe],KCe),mPe=(e,t,n)=>{var r,i,s=Tx(e,t);if(s!=null){var a=Sl(e,t),l=Nl(e,t);if(!(a==null||l==null)){var c=_n(e),u=AV(e),{maxBarSize:d}=s,h=lr(d)?u:d,m,p;return c==="horizontal"?(m=Du(e,"xAxis",a,n),p=zu(e,"xAxis",a,n)):(m=Du(e,"yAxis",l,n),p=zu(e,"yAxis",l,n)),(r=(i=sm(m,p,!0))!==null&&i!==void 0?i:h)!==null&&r!==void 0?r:0}}},ZK=(e,t,n)=>{var r=_n(e),i=Sl(e,t),s=Nl(e,t);if(!(i==null||s==null)){var a,l;return r==="horizontal"?(a=Du(e,"xAxis",i,n),l=zu(e,"xAxis",i,n)):(a=Du(e,"yAxis",s,n),l=zu(e,"yAxis",s,n)),sm(a,l)}},pPe=ke([fPe,AV,_je,zV,mPe,ZK,lPe],ZCe),gPe=(e,t,n)=>{var r=Sl(e,t);if(r!=null)return Du(e,"xAxis",r,n)},yPe=(e,t,n)=>{var r=Nl(e,t);if(r!=null)return Du(e,"yAxis",r,n)},xPe=(e,t,n)=>{var r=Sl(e,t);if(r!=null)return zu(e,"xAxis",r,n)},vPe=(e,t,n)=>{var r=Nl(e,t);if(r!=null)return zu(e,"yAxis",r,n)},bPe=ke([pPe,Tx],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),_Pe=ke([dPe,Tx],JCe),wPe=ke([hi,bM,gPe,yPe,xPe,vPe,bPe,_n,xV,ZK,_Pe,Tx,cPe],(e,t,n,r,i,s,a,l,c,u,d,h,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:y}=c;if(!(h==null||a==null||t==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||u==null)){var{data:x}=h,b;if(x!=null&&x.length>0?b=x:b=p==null?void 0:p.slice(g,y+1),b!=null)return XPe({layout:l,barSettings:h,pos:a,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:d,displayedData:b,offset:e,cells:m,dataStartIndex:g})}}),jPe=["index"];function DO(){return DO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DO.apply(null,arguments)}function kPe(e,t){if(e==null)return{};var n,r,i=SPe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SPe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var JK=f.createContext(void 0),NPe=e=>{var t=f.useContext(JK);if(t!=null)return t.stackId;if(e!=null)return i7(e)},CPe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),OPe=e=>{var t=f.useContext(JK);if(t!=null){var{stackId:n}=t;return"url(#".concat(CPe(n,e),")")}},PPe=e=>{var{index:t}=e,n=kPe(e,jPe),r=OPe(t);return f.createElement(ds,DO({className:"recharts-bar-stack-layer",clipPath:r},n))},EPe=["onMouseEnter","onMouseLeave","onClick"],MPe=["value","background","tooltipPosition"],TPe=["id"],APe=["onMouseEnter","onClick","onMouseLeave"];function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(null,arguments)}function $3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$3(Object(n),!0).forEach(function(r){zPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zPe(e,t,n){return(t=DPe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DPe(e){var t=RPe(e,"string");return typeof t=="symbol"?t:t+""}function RPe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0(e,t){if(e==null)return{};var n,r,i=IPe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IPe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var LPe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:Ij(n,t),payload:e}]},$Pe=f.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:a,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Ij(s,t),hide:a,type:c,color:i,unit:l,graphicalItemId:u}};return f.createElement(PK,{tooltipEntrySettings:d})});function FPe(e){var t=Rt(ah),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=K0(s,EPe),d=NK(a,r,s.id),h=CK(l),m=OK(c,r,s.id);if(!i||n==null)return null;var p=ux(i);return f.createElement(to,{zIndex:eOe(i,ci.barBackground)},n.map((g,y)=>{var{value:x,background:b,tooltipPosition:w}=g,v=K0(g,MPe);if(!b)return null;var _=d(g,y),j=h(g,y),k=m(g,y),C=ts(ts(ts(ts(ts({option:i,isActive:String(y)===t},v),{},{fill:"#eee"},b),p),JE(u,g,y)),{},{onMouseEnter:_,onMouseLeave:j,onClick:k,dataKey:r,index:y,className:"recharts-bar-background-rectangle"});return f.createElement(H0,jc({key:"background-bar-".concat(y)},C))}))}function BPe(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var a={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return ts(ts({},a),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:a,fill:s.fill})});return f.createElement(yK,{value:t?i:void 0},n)}function qPe(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:a}=e,l=Rt(ah),c=Rt(UH),u=n&&String(s)===l&&(c==null||a===c),d=u?n:t;return u?f.createElement(to,{zIndex:ci.activeBar},f.createElement(H0,jc({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))):f.createElement(H0,jc({},r,{name:String(r.name)},i,{isActive:u,option:d,index:s,dataKey:a}))}function WPe(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return f.createElement(H0,jc({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function UPe(e){var t,{data:n,props:r}=e,i=(t=Ha(r))!==null&&t!==void 0?t:{},{id:s}=i,a=K0(i,TPe),{shape:l,dataKey:c,activeBar:u}=r,{onMouseEnter:d,onClick:h,onMouseLeave:m}=r,p=K0(r,APe),g=NK(d,c,s),y=CK(m),x=OK(h,c,s);return n?f.createElement(f.Fragment,null,n.map((b,w)=>f.createElement(PPe,jc({index:w,key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(w),className:"recharts-bar-rectangle"},JE(p,b,w),{onMouseEnter:g(b,w),onMouseLeave:y(b,w),onClick:x(b,w)}),u?f.createElement(qPe,{shape:l,activeBar:u,baseProps:a,entry:b,index:w,dataKey:c}):f.createElement(WPe,{shape:l,baseProps:a,entry:b,index:w,dataKey:c})))):null}function VPe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=n.current,m=Yj(t,"recharts-bar-"),[p,g]=f.useState(!1),y=!p,x=f.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),b=f.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return f.createElement(BPe,{showLabels:y,rects:r},f.createElement(Kj,{animationId:m,begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:b,key:m},w=>{var v=w===1?r:r==null?void 0:r.map((_,j)=>{var k=h&&h[j];if(k)return ts(ts({},_),{},{x:ar(k.x,_.x,w),y:ar(k.y,_.y,w),width:ar(k.width,_.width,w),height:ar(k.height,_.height,w)});if(i==="horizontal"){var C=ar(0,_.height,w),O=ar(_.stackedBarStart,_.y,w);return ts(ts({},_),{},{y:O,height:C})}var P=ar(0,_.width,w),M=ar(_.stackedBarStart,_.x,w);return ts(ts({},_),{},{width:P,x:M})});return w>0&&(n.current=v??null),v==null?null:f.createElement(ds,null,f.createElement(UPe,{props:t,data:v}))}),f.createElement(vK,{label:t.label}),t.children)}function HPe(e){var t=f.useRef(null);return f.createElement(VPe,{previousRectanglesRef:t,props:e})}var eY=0,KPe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ar(e,t)}};class YPe extends f.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t||n==null)return null;var d=wn("recharts-bar",i),h=u;return f.createElement(ds,{className:d,id:u},l&&f.createElement("defs",null,f.createElement(qK,{clipPathId:h,xAxisId:s,yAxisId:a})),f.createElement(ds,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},f.createElement(FPe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),f.createElement(HPe,this.props)))}}var GPe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:eY,xAxisId:0,yAxisId:0,zIndex:ci.bar};function QPe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=OT(t,n),m=wh(),p=Hi(),g=VNe(e.children,nK),y=Rt(w=>wPe(w,e.id,p,g));if(m!=="vertical"&&m!=="horizontal")return null;var x,b=y==null?void 0:y[0];return b==null||b.height==null||b.width==null?x=0:x=m==="vertical"?b.height/2:b.width/2,f.createElement(s2e,{xAxisId:t,yAxisId:n,data:y,dataPointFormatter:KPe,errorBarOffset:x},f.createElement(YPe,jc({},e,{layout:m,needClip:h,data:y,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function XPe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:m,cells:p,parentViewBox:g,dataStartIndex:y}=e,x=t==="horizontal"?l:a,b=d?x.scale.domain():null,w=bve({numericAxis:x}),v=x.scale(w);return h.map((_,j)=>{var k,C,O,P,M,A;if(d){var R=d[j+y];if(R==null)return null;k=pve(R,b)}else k=Ar(_,n),Array.isArray(k)||(k=[w,k]);var B=sPe(r,eY)(k[1],j);if(t==="horizontal"){var F,[U,L]=[l.scale(k[0]),l.scale(k[1])];C=QR({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:_,index:j}),O=(F=L??U)!==null&&F!==void 0?F:void 0,P=i.size;var D=U-L;if(M=Ka(D)?0:D,A={x:C,y:m.top,width:P,height:m.height},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var T=Ms(M||B)*(Math.abs(B)-Math.abs(M));O-=T,M+=T}}else{var[$,G]=[a.scale(k[0]),a.scale(k[1])];if(C=$,O=QR({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:_,index:j}),P=G-$,M=i.size,A={x:m.left,y:O,width:m.width,height:M},Math.abs(B)>0&&Math.abs(P)<Math.abs(B)){var ie=Ms(P||B)*(Math.abs(B)-Math.abs(P));P+=ie}}if(C==null||O==null||P==null||M==null)return null;var X=ts(ts({},_),{},{stackedBarStart:v,x:C,y:O,width:P,height:M,value:d?k:k[1],payload:_,background:A,tooltipPosition:{x:C+P/2,y:O+M/2},parentViewBox:g},p&&p[j]&&p[j].props);return X}).filter(Boolean)}function ZPe(e){var t=xs(e,GPe),n=NPe(t.stackId),r=Hi();return f.createElement(MK,{id:t.id,type:"bar"},i=>f.createElement(f.Fragment,null,f.createElement(EK,{legendPayload:LPe(t)}),f.createElement($Pe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),f.createElement(AK,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),f.createElement(to,{zIndex:t.zIndex},f.createElement(QPe,jc({},t,{id:i})))))}var tY=f.memo(ZPe,k1);tY.displayName="Bar";var JPe=["domain","range"],eEe=["domain","range"];function F3(e,t){if(e==null)return{};var n,r,i=tEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function B3(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function nY(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=F3(e,JPe),{domain:s,range:a}=t,l=F3(t,eEe);return!B3(n,s)||!B3(r,a)?!1:k1(i,l)}var nEe=["dangerouslySetInnerHTML","ticks","scale"],rEe=["id","scale"];function RO(){return RO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RO.apply(null,arguments)}function q3(e,t){if(e==null)return{};var n,r,i=iEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sEe(e){var t=Nr(),n=f.useRef(null);return f.useLayoutEffect(()=>{n.current===null?t(TCe(e)):n.current!==e&&t(ACe({prev:n.current,next:e})),n.current=e},[e,t]),f.useLayoutEffect(()=>()=>{n.current&&(t(zCe(n.current)),n.current=null)},[t]),null}var aEe=e=>{var{xAxisId:t,className:n}=e,r=Rt(bM),i=Hi(),s="xAxis",a=Rt(b=>kH(b,s,t,i)),l=Rt(b=>bH(b,t)),c=Rt(b=>b1e(b,t)),u=Rt(b=>WV(b,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:m}=e,p=q3(e,nEe),{id:g,scale:y}=u,x=q3(u,rEe);return f.createElement(CT,RO({},p,x,{x:c.x,y:c.y,width:l.width,height:l.height,className:wn("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:a,axisType:s}))},oEe={allowDataOverflow:ei.allowDataOverflow,allowDecimals:ei.allowDecimals,allowDuplicatedCategory:ei.allowDuplicatedCategory,angle:ei.angle,axisLine:cc.axisLine,height:ei.height,hide:!1,includeHidden:ei.includeHidden,interval:ei.interval,minTickGap:ei.minTickGap,mirror:ei.mirror,orientation:ei.orientation,padding:ei.padding,reversed:ei.reversed,scale:ei.scale,tick:ei.tick,tickCount:ei.tickCount,tickLine:cc.tickLine,tickSize:cc.tickSize,type:ei.type,xAxisId:0},lEe=e=>{var t=xs(e,oEe);return f.createElement(f.Fragment,null,f.createElement(sEe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),f.createElement(aEe,t))},rY=f.memo(lEe,nY);rY.displayName="XAxis";var cEe=["dangerouslySetInnerHTML","ticks","scale"],uEe=["id","scale"];function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(null,arguments)}function W3(e,t){if(e==null)return{};var n,r,i=dEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function dEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hEe(e){var t=Nr(),n=f.useRef(null);return f.useLayoutEffect(()=>{n.current===null?t(DCe(e)):n.current!==e&&t(RCe({prev:n.current,next:e})),n.current=e},[e,t]),f.useLayoutEffect(()=>()=>{n.current&&(t(ICe(n.current)),n.current=null)},[t]),null}var fEe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=f.useRef(null),a=f.useRef(null),l=Rt(bM),c=Hi(),u=Nr(),d="yAxis",h=Rt(k=>_H(k,t)),m=Rt(k=>w1e(k,t)),p=Rt(k=>kH(k,d,t,c)),g=Rt(k=>UV(k,t));if(f.useLayoutEffect(()=>{if(!(r!=="auto"||!h||_T(i)||f.isValidElement(i)||g==null)){var k=s.current;if(k){var C=k.getCalculatedWidth();Math.round(h.width)!==Math.round(C)&&u(LCe({id:t,width:C}))}}},[p,h,u,i,t,r,g]),h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:b}=e,w=W3(e,cEe),{id:v,scale:_}=g,j=W3(g,uEe);return f.createElement(CT,IO({},w,j,{ref:s,labelRef:a,x:m.x,y:m.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:h.width,height:h.height,className:wn("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:p,axisType:d}))},mEe={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,angle:ti.angle,axisLine:cc.axisLine,hide:!1,includeHidden:ti.includeHidden,interval:ti.interval,minTickGap:ti.minTickGap,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tick:ti.tick,tickCount:ti.tickCount,tickLine:cc.tickLine,tickSize:cc.tickSize,type:ti.type,width:ti.width,yAxisId:0},pEe=e=>{var t=xs(e,mEe);return f.createElement(f.Fragment,null,f.createElement(hEe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),f.createElement(fEe,t))},iY=f.memo(pEe,nY);iY.displayName="YAxis";var gEe=(e,t)=>t,PT=ke([gEe,_n,BV,Yr,FH,Lc,Rke,hi],Wke),ET=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},sY=Ya("mouseClick"),aY=px();aY.startListening({actionCreator:sY,effect:(e,t)=>{var n=e.payload,r=PT(t.getState(),ET(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(R1e({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var LO=Ya("mouseMove"),oY=px(),qv=null;oY.startListening({actionCreator:LO,effect:(e,t)=>{var n=e.payload;qv!==null&&cancelAnimationFrame(qv);var r=ET(n);qv=requestAnimationFrame(()=>{var i=t.getState(),s=uT(i,i.tooltip.settings.shared);if(s==="axis"){var a=PT(i,r);(a==null?void 0:a.activeIndex)!=null?t.dispatch(TH({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(MH())}qv=null})}});function yEe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var U3={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},lY=qs({name:"rootProps",initialState:U3,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:U3.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xEe=lY.reducer,{updateOptions:vEe}=lY.actions,cY=qs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:SWe}=cY.actions,bEe=cY.reducer,uY=Ya("keyDown"),dY=Ya("focus"),MT=px();MT.startListening({actionCreator:uY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=dT(i,Vm(n),Sx(n),Px(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=Lc(n);if(s==="Enter"){var u=$0(n,"axis","hover",String(i.index));t.dispatch(OO({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=N1e(n),h=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,p=l+m*h;if(!(c==null||p>=c.length||p<0)){var g=$0(n,"axis","hover",String(p));t.dispatch(OO({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});MT.startListening({actionCreator:dY,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=$0(n,"axis","hover",String(s));t.dispatch(OO({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Ca=Ya("externalEvent"),hY=px(),kS=new Map;hY.startListening({actionCreator:Ca,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=kS.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:_ke(l),activeDataKey:UH(l),activeIndex:ah(l),activeLabel:WH(l),activeTooltipIndex:ah(l),isTooltipActive:wke(l)};n(c,r)}finally{kS.delete(i)}});kS.set(i,a)}}});var _Ee=ke([Wm],e=>e.tooltipItemPayloads),wEe=ke([_Ee,Ox,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(l=>l.settings.graphicalItemId===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,n);return a}}}),fY=Ya("touchMove"),mY=px();mY.startListening({actionCreator:fY,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=uT(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=PT(r,ET({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(TH({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(Cve),h=(l=u.getAttribute(Ove))!==null&&l!==void 0?l:void 0,m=Um(r).find(y=>y.id===h);if(d==null||m==null||h==null)return;var{dataKey:p}=m,g=wEe(r,d,h);t.dispatch(EH({activeDataKey:p,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:h}))}}}});var jEe=C9({brush:nOe,cartesianAxis:$Ce,chartData:bSe,errorBars:JOe,graphicalItems:yCe,layout:cve,legend:ybe,options:pSe,polarAxis:BNe,polarOptions:bEe,referenceElements:cOe,rootProps:xEe,tooltip:I1e,zIndex:rSe}),kEe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return zxe({reducer:jEe,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([aY.middleware,oY.middleware,MT.middleware,hY.middleware,mY.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(q9({type:"raf"}))},devTools:{serialize:{replacer:yEe},name:"recharts-".concat(n)}})};function SEe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Hi(),s=f.useRef(null);if(i)return n;s.current==null&&(s.current=kEe(t,r));var a=cM;return f.createElement(O2e,{context:a,store:s.current},n)}function NEe(e){var{layout:t,margin:n}=e,r=Nr(),i=Hi();return f.useEffect(()=>{i||(r(ave(t)),r(sve(n)))},[r,i,t,n]),null}var CEe=f.memo(NEe,k1);function OEe(e){var t=Nr();return f.useEffect(()=>{t(vEe(e))},[t,e]),null}function V3(e){var{zIndex:t,isPanorama:n}=e,r=f.useRef(null),i=Nr();return f.useLayoutEffect(()=>(r.current&&i(tSe({zIndex:t,element:r.current,isPanorama:n})),()=>{i(nSe({zIndex:t,isPanorama:n}))}),[i,t,n]),f.createElement("g",{tabIndex:-1,ref:r})}function H3(e){var{children:t,isPanorama:n}=e,r=Rt(Vke);if(!r||r.length===0)return t;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return f.createElement(f.Fragment,null,i.map(a=>f.createElement(V3,{key:a,zIndex:a,isPanorama:n})),t,s.map(a=>f.createElement(V3,{key:a,zIndex:a,isPanorama:n})))}var PEe=["children"];function EEe(e,t){if(e==null)return{};var n,r,i=MEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function MEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(null,arguments)}var TEe={width:"100%",height:"100%",display:"block"},AEe=f.forwardRef((e,t)=>{var n=m7(),r=p7(),i=j7();if(!xl(n)||!xl(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),f.createElement(EU,Y0({},a,{title:l,desc:c,role:d,tabIndex:u,width:n,height:r,style:TEe,ref:t}),s)}),zEe=e=>{var{children:t}=e,n=Rt(Bj);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return f.createElement(EU,{width:r,height:i,x:a,y:s},t)},K3=f.forwardRef((e,t)=>{var{children:n}=e,r=EEe(e,PEe),i=Hi();return i?f.createElement(zEe,null,f.createElement(H3,{isPanorama:!0},n)):f.createElement(AEe,Y0({ref:t},r),f.createElement(H3,{isPanorama:!1},n))});function DEe(){var e=Nr(),[t,n]=f.useState(null),r=Rt(Nve);return f.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;An(s)&&s!==r&&e(lve(s))}},[t,e,r]),n}function Y3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function REe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y3(Object(n),!0).forEach(function(r){IEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IEe(e,t,n){return(t=LEe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LEe(e){var t=$Ee(e,"string");return typeof t=="symbol"?t:t+""}function $Ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(null,arguments)}var FEe=()=>(PSe(),null);function G0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var BEe=f.forwardRef((e,t)=>{var n,r,i=f.useRef(null),[s,a]=f.useState({containerWidth:G0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:G0((r=e.style)===null||r===void 0?void 0:r.height)}),l=f.useCallback((u,d)=>{a(h=>{var m=Math.round(u),p=Math.round(d);return h.containerWidth===m&&h.containerHeight===p?h:{containerWidth:m,containerHeight:p}})},[]),c=f.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();l(d,h);var m=g=>{var{width:y,height:x}=g[0].contentRect;l(y,x)},p=new ResizeObserver(m);p.observe(u),i.current=p}},[t,l]);return f.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),f.createElement(f.Fragment,null,f.createElement(Wj,{width:s.containerWidth,height:s.containerHeight}),f.createElement("div",lh({ref:c},e)))}),qEe=f.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=f.useState({containerWidth:G0(n),containerHeight:G0(r)}),a=f.useCallback((c,u)=>{s(d=>{var h=Math.round(c),m=Math.round(u);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=f.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();a(u,d)}},[t,a]);return f.createElement(f.Fragment,null,f.createElement(Wj,{width:i.containerWidth,height:i.containerHeight}),f.createElement("div",lh({ref:l},e)))}),WEe=f.forwardRef((e,t)=>{var{width:n,height:r}=e;return f.createElement(f.Fragment,null,f.createElement(Wj,{width:n,height:r}),f.createElement("div",lh({ref:t},e)))}),UEe=f.forwardRef((e,t)=>{var{width:n,height:r}=e;return yc(n)||yc(r)?f.createElement(qEe,lh({},e,{ref:t})):f.createElement(WEe,lh({},e,{ref:t}))});function VEe(e){return e===!0?BEe:UEe}var HEe=f.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:m,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:x,width:b,responsive:w,dispatchTouchEvents:v=!0}=e,_=f.useRef(null),j=Nr(),[k,C]=f.useState(null),[O,P]=f.useState(null),M=DEe(),A=_M(),R=(A==null?void 0:A.width)>0?A.width:b,B=(A==null?void 0:A.height)>0?A.height:i,F=f.useCallback(oe=>{M(oe),typeof t=="function"&&t(oe),C(oe),P(oe),oe!=null&&(_.current=oe)},[M,t,C,P]),U=f.useCallback(oe=>{j(sY(oe)),j(Ca({handler:s,reactEvent:oe}))},[j,s]),L=f.useCallback(oe=>{j(LO(oe)),j(Ca({handler:u,reactEvent:oe}))},[j,u]),D=f.useCallback(oe=>{j(MH()),j(Ca({handler:d,reactEvent:oe}))},[j,d]),T=f.useCallback(oe=>{j(LO(oe)),j(Ca({handler:h,reactEvent:oe}))},[j,h]),$=f.useCallback(()=>{j(dY())},[j]),G=f.useCallback(oe=>{j(uY(oe.key))},[j]),ie=f.useCallback(oe=>{j(Ca({handler:a,reactEvent:oe}))},[j,a]),X=f.useCallback(oe=>{j(Ca({handler:l,reactEvent:oe}))},[j,l]),se=f.useCallback(oe=>{j(Ca({handler:c,reactEvent:oe}))},[j,c]),xe=f.useCallback(oe=>{j(Ca({handler:m,reactEvent:oe}))},[j,m]),me=f.useCallback(oe=>{j(Ca({handler:y,reactEvent:oe}))},[j,y]),De=f.useCallback(oe=>{v&&j(fY(oe)),j(Ca({handler:g,reactEvent:oe}))},[j,v,g]),ge=f.useCallback(oe=>{j(Ca({handler:p,reactEvent:oe}))},[j,p]),Ve=VEe(w);return f.createElement(ZH.Provider,{value:k},f.createElement(Ige.Provider,{value:O},f.createElement(Ve,{width:R??(x==null?void 0:x.width),height:B??(x==null?void 0:x.height),className:wn("recharts-wrapper",r),style:REe({position:"relative",cursor:"default",width:R,height:B},x),onClick:U,onContextMenu:ie,onDoubleClick:X,onFocus:$,onKeyDown:G,onMouseDown:se,onMouseEnter:L,onMouseLeave:D,onMouseMove:T,onMouseUp:xe,onTouchEnd:ge,onTouchMove:De,onTouchStart:me,ref:F},f.createElement(FEe,null),n)))}),KEe=["width","height","responsive","children","className","style","compact","title","desc"];function YEe(e,t){if(e==null)return{};var n,r,i=GEe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GEe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QEe=f.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:u,desc:d}=e,h=YEe(e,KEe),m=Ha(h);return c?f.createElement(f.Fragment,null,f.createElement(Wj,{width:n,height:r}),f.createElement(K3,{otherAttributes:m,title:u,desc:d},s)):f.createElement(HEe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},f.createElement(K3,{otherAttributes:m,title:u,desc:d,ref:t},f.createElement(dOe,null,s)))});function $O(){return $O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$O.apply(null,arguments)}var XEe={top:5,right:5,bottom:5,left:5},ZEe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:XEe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},JEe=f.forwardRef(function(t,n){var r,i=xs(t.categoricalChartProps,ZEe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return f.createElement(SEe,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},f.createElement(tOe,{chartData:u.data}),f.createElement(CEe,{layout:i.layout,margin:i.margin}),f.createElement(OEe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),f.createElement(QEe,$O({},i,{ref:n})))}),eMe=["axis"],tMe=f.forwardRef((e,t)=>f.createElement(JEe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eMe,tooltipPayloadSearcher:fSe,categoricalChartProps:e,ref:t}));function pY(e){const t=nMe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(iMe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function nMe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=aMe(i),l=sMe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rMe=Symbol("radix.slottable");function iMe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rMe}function sMe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function aMe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var oMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_a=oMe.reduce((e,t)=>{const n=pY(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function TT(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function lMe(e){const t=cMe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(dMe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function cMe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=fMe(i),l=hMe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uMe=Symbol("radix.slottable");function dMe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uMe}function hMe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function fMe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var mMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pMe=mMe.reduce((e,t)=>{const n=lMe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),gY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gMe="VisuallyHidden",yMe=f.forwardRef((e,t)=>o.jsx(pMe.span,{...e,ref:t,style:{...gY,...e.style}}));yMe.displayName=gMe;var xMe=[" ","Enter","ArrowUp","ArrowDown"],vMe=[" ","Enter"],ch="Select",[S1,N1,bMe]=pE(ch),[Hm]=ba(ch,[bMe,Im]),C1=Im(),[_Me,Yu]=Hm(ch),[wMe,jMe]=Hm(ch),yY=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:m,required:p,form:g}=e,y=C1(t),[x,b]=f.useState(null),[w,v]=f.useState(null),[_,j]=f.useState(!1),k=Zy(u),[C,O]=pl({prop:r,defaultProp:i??!1,onChange:s,caller:ch}),[P,M]=pl({prop:a,defaultProp:l,onChange:c,caller:ch}),A=f.useRef(null),R=x?g||!!x.closest("form"):!0,[B,F]=f.useState(new Set),U=Array.from(B).map(L=>L.props.value).join(";");return o.jsx(SE,{...y,children:o.jsxs(_Me,{required:p,scope:t,trigger:x,onTriggerChange:b,valueNode:w,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:La(),value:P,onValueChange:M,open:C,onOpenChange:O,dir:k,triggerPointerDownPosRef:A,disabled:m,children:[o.jsx(S1.Provider,{scope:t,children:o.jsx(wMe,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(L=>{F(D=>new Set(D).add(L))},[]),onNativeOptionRemove:f.useCallback(L=>{F(D=>{const T=new Set(D);return T.delete(L),T})},[]),children:n})}),R?o.jsxs(BY,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:L=>M(L.target.value),disabled:m,form:g,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(B)]},U):null]})})};yY.displayName=ch;var xY="SelectTrigger",vY=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=C1(n),a=Yu(xY,n),l=a.disabled||r,c=Zt(t,a.onTriggerChange),u=N1(n),d=f.useRef("touch"),[h,m,p]=WY(y=>{const x=u().filter(v=>!v.disabled),b=x.find(v=>v.value===a.value),w=UY(x,y,b);w!==void 0&&a.onValueChange(w.value)}),g=y=>{l||(a.onOpenChange(!0),p()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return o.jsx(lj,{asChild:!0,...s,children:o.jsx(_a.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":qY(a.value)?"":void 0,...i,ref:c,onClick:ut(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:ut(i.onPointerDown,y=>{d.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:ut(i.onKeyDown,y=>{const x=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(x&&y.key===" ")&&xMe.includes(y.key)&&(g(),y.preventDefault())})})})});vY.displayName=xY;var bY="SelectValue",_Y=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=e,c=Yu(bY,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=Zt(t,c.onValueNodeChange);return di(()=>{u(d)},[u,d]),o.jsx(_a.span,{...l,ref:h,style:{pointerEvents:"none"},children:qY(c.value)?o.jsx(o.Fragment,{children:a}):s})});_Y.displayName=bY;var kMe="SelectIcon",wY=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return o.jsx(_a.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});wY.displayName=kMe;var SMe="SelectPortal",jY=e=>o.jsx(nx,{asChild:!0,...e});jY.displayName=SMe;var uh="SelectContent",kY=f.forwardRef((e,t)=>{const n=Yu(uh,e.__scopeSelect),[r,i]=f.useState();if(di(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Pc.createPortal(o.jsx(SY,{scope:e.__scopeSelect,children:o.jsx(S1.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(NY,{...e,ref:t})});kY.displayName=uh;var lo=10,[SY,Gu]=Hm(uh),NMe="SelectContentImpl",CMe=pY("SelectContent.RemoveScroll"),NY=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:x,...b}=e,w=Yu(uh,n),[v,_]=f.useState(null),[j,k]=f.useState(null),C=Zt(t,ge=>_(ge)),[O,P]=f.useState(null),[M,A]=f.useState(null),R=N1(n),[B,F]=f.useState(!1),U=f.useRef(!1);f.useEffect(()=>{if(v)return uj(v)},[v]),rj();const L=f.useCallback(ge=>{const[Ve,...oe]=R().map(te=>te.ref.current),[Pe]=oe.slice(-1),Y=document.activeElement;for(const te of ge)if(te===Y||(te==null||te.scrollIntoView({block:"nearest"}),te===Ve&&j&&(j.scrollTop=0),te===Pe&&j&&(j.scrollTop=j.scrollHeight),te==null||te.focus(),document.activeElement!==Y))return},[R,j]),D=f.useCallback(()=>L([O,v]),[L,O,v]);f.useEffect(()=>{B&&D()},[B,D]);const{onOpenChange:T,triggerPointerDownPosRef:$}=w;f.useEffect(()=>{if(v){let ge={x:0,y:0};const Ve=Pe=>{var Y,te;ge={x:Math.abs(Math.round(Pe.pageX)-(((Y=$.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(Pe.pageY)-(((te=$.current)==null?void 0:te.y)??0))}},oe=Pe=>{ge.x<=10&&ge.y<=10?Pe.preventDefault():v.contains(Pe.target)||T(!1),document.removeEventListener("pointermove",Ve),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ve),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ve),document.removeEventListener("pointerup",oe,{capture:!0})}}},[v,T,$]),f.useEffect(()=>{const ge=()=>T(!1);return window.addEventListener("blur",ge),window.addEventListener("resize",ge),()=>{window.removeEventListener("blur",ge),window.removeEventListener("resize",ge)}},[T]);const[G,ie]=WY(ge=>{const Ve=R().filter(Y=>!Y.disabled),oe=Ve.find(Y=>Y.ref.current===document.activeElement),Pe=UY(Ve,ge,oe);Pe&&setTimeout(()=>Pe.ref.current.focus())}),X=f.useCallback((ge,Ve,oe)=>{const Pe=!U.current&&!oe;(w.value!==void 0&&w.value===Ve||Pe)&&(P(ge),Pe&&(U.current=!0))},[w.value]),se=f.useCallback(()=>v==null?void 0:v.focus(),[v]),xe=f.useCallback((ge,Ve,oe)=>{const Pe=!U.current&&!oe;(w.value!==void 0&&w.value===Ve||Pe)&&A(ge)},[w.value]),me=r==="popper"?FO:CY,De=me===FO?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:p,sticky:g,hideWhenDetached:y,avoidCollisions:x}:{};return o.jsx(SY,{scope:n,content:v,viewport:j,onViewportChange:k,itemRefCallback:X,selectedItem:O,onItemLeave:se,itemTextRefCallback:xe,focusSelectedItem:D,selectedItemText:M,position:r,isPositioned:B,searchRef:G,children:o.jsx(sx,{as:CMe,allowPinchZoom:!0,children:o.jsx(ex,{asChild:!0,trapped:w.open,onMountAutoFocus:ge=>{ge.preventDefault()},onUnmountAutoFocus:ut(i,ge=>{var Ve;(Ve=w.trigger)==null||Ve.focus({preventScroll:!0}),ge.preventDefault()}),children:o.jsx(Jy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ge=>ge.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(me,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ge=>ge.preventDefault(),...b,...De,onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ut(b.onKeyDown,ge=>{const Ve=ge.ctrlKey||ge.altKey||ge.metaKey;if(ge.key==="Tab"&&ge.preventDefault(),!Ve&&ge.key.length===1&&ie(ge.key),["ArrowUp","ArrowDown","Home","End"].includes(ge.key)){let Pe=R().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(ge.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ge.key)){const Y=ge.target,te=Pe.indexOf(Y);Pe=Pe.slice(te+1)}setTimeout(()=>L(Pe)),ge.preventDefault()}})})})})})})});NY.displayName=NMe;var OMe="SelectItemAlignedPosition",CY=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Yu(uh,n),a=Gu(uh,n),[l,c]=f.useState(null),[u,d]=f.useState(null),h=Zt(t,C=>d(C)),m=N1(n),p=f.useRef(!1),g=f.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:b,focusSelectedItem:w}=a,v=f.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&x&&b){const C=s.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(s.dir!=="rtl"){const Y=M.left-O.left,te=P.left-Y,Ne=C.left-te,Te=C.width+Ne,V=Math.max(Te,O.width),ue=window.innerWidth-lo,pe=BC(te,[lo,Math.max(lo,ue-V)]);l.style.minWidth=Te+"px",l.style.left=pe+"px"}else{const Y=O.right-M.right,te=window.innerWidth-P.right-Y,Ne=window.innerWidth-C.right-te,Te=C.width+Ne,V=Math.max(Te,O.width),ue=window.innerWidth-lo,pe=BC(te,[lo,Math.max(lo,ue-V)]);l.style.minWidth=Te+"px",l.style.right=pe+"px"}const A=m(),R=window.innerHeight-lo*2,B=y.scrollHeight,F=window.getComputedStyle(u),U=parseInt(F.borderTopWidth,10),L=parseInt(F.paddingTop,10),D=parseInt(F.borderBottomWidth,10),T=parseInt(F.paddingBottom,10),$=U+L+B+T+D,G=Math.min(x.offsetHeight*5,$),ie=window.getComputedStyle(y),X=parseInt(ie.paddingTop,10),se=parseInt(ie.paddingBottom,10),xe=C.top+C.height/2-lo,me=R-xe,De=x.offsetHeight/2,ge=x.offsetTop+De,Ve=U+L+ge,oe=$-Ve;if(Ve<=xe){const Y=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const te=u.clientHeight-y.offsetTop-y.offsetHeight,Ne=Math.max(me,De+(Y?se:0)+te+D),Te=Ve+Ne;l.style.height=Te+"px"}else{const Y=A.length>0&&x===A[0].ref.current;l.style.top="0px";const Ne=Math.max(xe,U+y.offsetTop+(Y?X:0)+De)+oe;l.style.height=Ne+"px",y.scrollTop=Ve-xe+y.offsetTop}l.style.margin=`${lo}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,s.trigger,s.valueNode,l,u,y,x,b,s.dir,r]);di(()=>v(),[v]);const[_,j]=f.useState();di(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const k=f.useCallback(C=>{C&&g.current===!0&&(v(),w==null||w(),g.current=!1)},[v,w]);return o.jsx(EMe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(_a.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});CY.displayName=OMe;var PMe="SelectPopperPosition",FO=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=lo,...s}=e,a=C1(n);return o.jsx(NE,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});FO.displayName=PMe;var[EMe,AT]=Hm(uh,{}),BO="SelectViewport",OY=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Gu(BO,n),a=AT(BO,n),l=Zt(t,s.onViewportChange),c=f.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(S1.Slot,{scope:n,children:o.jsx(_a.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ut(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-lo*2,y=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),b=Math.max(y,x);if(b<g){const w=b+p,v=Math.min(g,w),_=w-v;h.style.height=v+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});OY.displayName=BO;var PY="SelectGroup",[MMe,TMe]=Hm(PY),AMe=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=La();return o.jsx(MMe,{scope:n,id:i,children:o.jsx(_a.div,{role:"group","aria-labelledby":i,...r,ref:t})})});AMe.displayName=PY;var EY="SelectLabel",MY=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=TMe(EY,n);return o.jsx(_a.div,{id:i.id,...r,ref:t})});MY.displayName=EY;var Q0="SelectItem",[zMe,TY]=Hm(Q0),AY=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,l=Yu(Q0,n),c=Gu(Q0,n),u=l.value===r,[d,h]=f.useState(s??""),[m,p]=f.useState(!1),g=Zt(t,w=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,w,r,i)}),y=La(),x=f.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(zMe,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:f.useCallback(w=>{h(v=>v||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(S1.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:o.jsx(_a.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:ut(a.onFocus,()=>p(!0)),onBlur:ut(a.onBlur,()=>p(!1)),onClick:ut(a.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:ut(a.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:ut(a.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ut(a.onPointerMove,w=>{var v;x.current=w.pointerType,i?(v=c.onItemLeave)==null||v.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ut(a.onPointerLeave,w=>{var v;w.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:ut(a.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(vMe.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});AY.displayName=Q0;var Vp="SelectItemText",zY=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=Yu(Vp,n),l=Gu(Vp,n),c=TY(Vp,n),u=jMe(Vp,n),[d,h]=f.useState(null),m=Zt(t,b=>h(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=f.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return di(()=>(y(g),()=>x(g)),[y,x,g]),o.jsxs(o.Fragment,{children:[o.jsx(_a.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Pc.createPortal(s.children,a.valueNode):null]})});zY.displayName=Vp;var DY="SelectItemIndicator",RY=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return TY(DY,n).isSelected?o.jsx(_a.span,{"aria-hidden":!0,...r,ref:t}):null});RY.displayName=DY;var qO="SelectScrollUpButton",IY=f.forwardRef((e,t)=>{const n=Gu(qO,e.__scopeSelect),r=AT(qO,e.__scopeSelect),[i,s]=f.useState(!1),a=Zt(t,r.onScrollButtonChange);return di(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx($Y,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});IY.displayName=qO;var WO="SelectScrollDownButton",LY=f.forwardRef((e,t)=>{const n=Gu(WO,e.__scopeSelect),r=AT(WO,e.__scopeSelect),[i,s]=f.useState(!1),a=Zt(t,r.onScrollButtonChange);return di(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?o.jsx($Y,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});LY.displayName=WO;var $Y=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Gu("SelectScrollButton",n),a=f.useRef(null),l=N1(n),c=f.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),di(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(_a.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ut(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ut(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ut(i.onPointerLeave,()=>{c()})})}),DMe="SelectSeparator",FY=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(_a.div,{"aria-hidden":!0,...r,ref:t})});FY.displayName=DMe;var UO="SelectArrow",RMe=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=C1(n),s=Yu(UO,n),a=Gu(UO,n);return s.open&&a.position==="popper"?o.jsx(CE,{...i,...r,ref:t}):null});RMe.displayName=UO;var IMe="SelectBubbleInput",BY=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=f.useRef(null),s=Zt(r,i),a=TT(t);return f.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[a,t]),o.jsx(_a.select,{...n,style:{...gY,...n.style},ref:s,defaultValue:t})});BY.displayName=IMe;function qY(e){return e===""||e===void 0}function WY(e){const t=ji(e),n=f.useRef(""),r=f.useRef(0),i=f.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function UY(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=LMe(e,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function LMe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var $Me=yY,VY=vY,FMe=_Y,BMe=wY,qMe=jY,HY=kY,WMe=OY,KY=MY,YY=AY,UMe=zY,VMe=RY,GY=IY,QY=LY,XY=FY;const it=$Me,st=FMe,et=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(VY,{ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-card px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground/70 focus:outline-none focus:ring-2 focus:ring-ring/30 focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(BMe,{asChild:!0,children:o.jsx(Ec,{className:"h-4 w-4 opacity-50"})})]}));et.displayName=VY.displayName;const ZY=f.forwardRef(({className:e,...t},n)=>o.jsx(GY,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(fE,{className:"h-4 w-4"})}));ZY.displayName=GY.displayName;const JY=f.forwardRef(({className:e,...t},n)=>o.jsx(QY,{ref:n,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Ec,{className:"h-4 w-4"})}));JY.displayName=QY.displayName;const tt=f.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>o.jsx(qMe,{children:o.jsxs(HY,{ref:i,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-lg border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(ZY,{}),o.jsx(WMe,{className:ae("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(JY,{})]})}));tt.displayName=HY.displayName;const HMe=f.forwardRef(({className:e,...t},n)=>o.jsx(KY,{ref:n,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));HMe.displayName=KY.displayName;const fe=f.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(YY,{ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-md py-2 pl-8 pr-3 text-sm outline-none focus:bg-muted/60 focus:text-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(VMe,{children:o.jsx(hE,{className:"h-4 w-4"})})}),o.jsx(UMe,{children:t})]}));fe.displayName=YY.displayName;const KMe=f.forwardRef(({className:e,...t},n)=>o.jsx(XY,{ref:n,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));KMe.displayName=XY.displayName;const eG=6048e5,YMe=864e5,G3=Symbol.for("constructDateFrom");function Dr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&G3 in e?e[G3](t):e instanceof Date?new e.constructor(t):new Date(t)}function Nn(e,t){return Dr(t||e,e)}function zT(e,t,n){const r=Nn(e,n==null?void 0:n.in);return isNaN(t)?Dr(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function um(e,t,n){const r=Nn(e,n==null?void 0:n.in);if(isNaN(t))return Dr(e,NaN);if(!t)return r;const i=r.getDate(),s=Dr(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const a=s.getDate();return i>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let GMe={};function Ax(){return GMe}function dm(e,t){var l,c,u,d;const n=Ax(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Nn(e,t==null?void 0:t.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function dy(e,t){return dm(e,{...t,weekStartsOn:1})}function tG(e,t){const n=Nn(e,t==null?void 0:t.in),r=n.getFullYear(),i=Dr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=dy(i),a=Dr(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=dy(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Q3(e){const t=Nn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Km(e,...t){const n=Dr.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function hy(e,t){const n=Nn(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function nG(e,t,n){const[r,i]=Km(n==null?void 0:n.in,e,t),s=hy(r),a=hy(i),l=+s-Q3(s),c=+a-Q3(a);return Math.round((l-c)/YMe)}function QMe(e,t){const n=tG(e,t),r=Dr(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),dy(r)}function XMe(e,t,n){return zT(e,t*7,n)}function ZMe(e,t,n){return um(e,t*12,n)}function JMe(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Dr.bind(null,i));const s=Nn(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),Dr(r,n||NaN)}function eTe(e,t){let n,r=t==null?void 0:t.in;return e.forEach(i=>{!r&&typeof i=="object"&&(r=Dr.bind(null,i));const s=Nn(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),Dr(r,n||NaN)}function tTe(e,t,n){const[r,i]=Km(n==null?void 0:n.in,e,t);return+hy(r)==+hy(i)}function rG(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nTe(e){return!(!rG(e)&&typeof e!="number"||isNaN(+Nn(e)))}function rTe(e,t,n){const[r,i]=Km(n==null?void 0:n.in,e,t),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function iTe(e,t){const n=Nn(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function iG(e,t){const[n,r]=Km(e,t.start,t.end);return{start:n,end:r}}function sTe(e,t){const{start:n,end:r}=iG(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setDate(1);let l=1;const c=[];for(;+a<=s;)c.push(Dr(n,a)),a.setMonth(a.getMonth()+l);return i?c.reverse():c}function fy(e,t){const n=Nn(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function aTe(e,t){const n=Nn(e,t==null?void 0:t.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function sG(e,t){const n=Nn(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function oTe(e,t){const{start:n,end:r}=iG(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0),a.setMonth(0,1);let l=1;const c=[];for(;+a<=s;)c.push(Dr(n,a)),a.setFullYear(a.getFullYear()+l);return i?c.reverse():c}function aG(e,t){var l,c,u,d;const n=Ax(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Nn(e,t==null?void 0:t.in),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function lTe(e,t){return aG(e,{...t,weekStartsOn:1})}const cTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uTe=(e,t,n)=>{let r;const i=cTe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function SS(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mTe={date:SS({formats:dTe,defaultWidth:"full"}),time:SS({formats:hTe,defaultWidth:"full"}),dateTime:SS({formats:fTe,defaultWidth:"full"})},pTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gTe=(e,t,n,r)=>pTe[e];function bp(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=e.formattingValues[l]||e.formattingValues[a]}else{const a=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const yTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_Te={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jTe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},kTe={ordinalNumber:jTe,era:bp({values:yTe,defaultWidth:"wide"}),quarter:bp({values:xTe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:bp({values:vTe,defaultWidth:"wide"}),day:bp({values:bTe,defaultWidth:"wide"}),dayPeriod:bp({values:_Te,defaultWidth:"wide",formattingValues:wTe,defaultFormattingWidth:"wide"})};function _p(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?NTe(l,h=>h.test(a)):STe(l,h=>h.test(a));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(a.length);return{value:u,rest:d}}}function STe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function NTe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function CTe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=t.slice(i.length);return{value:a,rest:l}}}const OTe=/^(\d+)(th|st|nd|rd)?/i,PTe=/\d+/i,ETe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MTe={any:[/^b/i,/^(a|c)/i]},TTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ATe={any:[/1/i,/2/i,/3/i,/4/i]},zTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ITe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$Te={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FTe={ordinalNumber:CTe({matchPattern:OTe,parsePattern:PTe,valueCallback:e=>parseInt(e,10)}),era:_p({matchPatterns:ETe,defaultMatchWidth:"wide",parsePatterns:MTe,defaultParseWidth:"any"}),quarter:_p({matchPatterns:TTe,defaultMatchWidth:"wide",parsePatterns:ATe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_p({matchPatterns:zTe,defaultMatchWidth:"wide",parsePatterns:DTe,defaultParseWidth:"any"}),day:_p({matchPatterns:RTe,defaultMatchWidth:"wide",parsePatterns:ITe,defaultParseWidth:"any"}),dayPeriod:_p({matchPatterns:LTe,defaultMatchWidth:"any",parsePatterns:$Te,defaultParseWidth:"any"})},ef={code:"en-US",formatDistance:uTe,formatLong:mTe,formatRelative:gTe,localize:kTe,match:FTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BTe(e,t){const n=Nn(e,t==null?void 0:t.in);return nG(n,sG(n))+1}function oG(e,t){const n=Nn(e,t==null?void 0:t.in),r=+dy(n)-+QMe(n);return Math.round(r/eG)+1}function lG(e,t){var d,h,m,p;const n=Nn(e,t==null?void 0:t.in),r=n.getFullYear(),i=Ax(),s=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=Dr((t==null?void 0:t.in)||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=dm(a,t),c=Dr((t==null?void 0:t.in)||e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=dm(c,t);return+n>=+l?r+1:+n>=+u?r:r-1}function qTe(e,t){var l,c,u,d;const n=Ax(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=lG(e,t),s=Dr((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),dm(s,t)}function cG(e,t){const n=Nn(e,t==null?void 0:t.in),r=+dm(n,t)-+qTe(n,t);return Math.round(r/eG)+1}function jn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Yc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return jn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):jn(n+1,2)},d(e,t){return jn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return jn(e.getHours()%12||12,t.length)},H(e,t){return jn(e.getHours(),t.length)},m(e,t){return jn(e.getMinutes(),t.length)},s(e,t){return jn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return jn(i,t.length)}},Bh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},X3={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Yc.y(e,t)},Y:function(e,t,n,r){const i=lG(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return jn(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):jn(s,t.length)},R:function(e,t){const n=tG(e);return jn(n,t.length)},u:function(e,t){const n=e.getFullYear();return jn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return jn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return jn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Yc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return jn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=cG(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):jn(i,t.length)},I:function(e,t,n){const r=oG(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):jn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Yc.d(e,t)},D:function(e,t,n){const r=BTe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):jn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return jn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return jn(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return jn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Bh.noon:r===0?i=Bh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Bh.evening:r>=12?i=Bh.afternoon:r>=4?i=Bh.morning:i=Bh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Yc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Yc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):jn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):jn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Yc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Yc.s(e,t)},S:function(e,t){return Yc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return J3(r);case"XXXX":case"XX":return gd(r);case"XXXXX":case"XXX":default:return gd(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return J3(r);case"xxxx":case"xx":return gd(r);case"xxxxx":case"xxx":default:return gd(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z3(r,":");case"OOOO":default:return"GMT"+gd(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z3(r,":");case"zzzz":default:return"GMT"+gd(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return jn(r,t.length)},T:function(e,t,n){return jn(+e,t.length)}};function Z3(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+jn(s,2)}function J3(e,t){return e%60===0?(e>0?"-":"+")+jn(Math.abs(e)/60,2):gd(e,t)}function gd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=jn(Math.trunc(r/60),2),s=jn(r%60,2);return n+i+t+s}const eL=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},uG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},WTe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return eL(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",eL(r,t)).replace("{{time}}",uG(i,t))},UTe={p:uG,P:WTe},VTe=/^D+$/,HTe=/^Y+$/,KTe=["D","DD","YY","YYYY"];function YTe(e){return VTe.test(e)}function GTe(e){return HTe.test(e)}function QTe(e,t,n){const r=XTe(e,t,n);if(console.warn(r),KTe.includes(e))throw new RangeError(r)}function XTe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ZTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eAe=/^'([^]*?)'?$/,tAe=/''/g,nAe=/[a-zA-Z]/;function As(e,t,n){var d,h,m,p,g,y,x,b;const r=Ax(),i=(n==null?void 0:n.locale)??r.locale??ef,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((b=(x=r.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,l=Nn(e,n==null?void 0:n.in);if(!nTe(l))throw new RangeError("Invalid time value");let c=t.match(JTe).map(w=>{const v=w[0];if(v==="p"||v==="P"){const _=UTe[v];return _(w,i.formatLong)}return w}).join("").match(ZTe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const v=w[0];if(v==="'")return{isToken:!1,value:rAe(w)};if(X3[v])return{isToken:!0,value:w};if(v.match(nAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const v=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&GTe(v)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&YTe(v))&&QTe(v,t,String(e));const _=X3[v[0]];return _(l,v,i.localize,u)}).join("")}function rAe(e){const t=e.match(eAe);return t?t[1].replace(tAe,"'"):e}function iAe(e,t){const n=Nn(e,t==null?void 0:t.in),r=n.getFullYear(),i=n.getMonth(),s=Dr(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function sAe(e,t){return Nn(e,t==null?void 0:t.in).getMonth()}function aAe(e,t){return Nn(e,t==null?void 0:t.in).getFullYear()}function oAe(e,t){return+Nn(e)>+Nn(t)}function lAe(e,t){return+Nn(e)<+Nn(t)}function cAe(e,t,n){const[r,i]=Km(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function uAe(e,t,n){const[r,i]=Km(n==null?void 0:n.in,e,t);return r.getFullYear()===i.getFullYear()}function yd(e,t,n){return zT(e,-t,n)}function dAe(e,t,n){const r=Nn(e,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),a=Dr(e,0);a.setFullYear(i,t,15),a.setHours(0,0,0,0);const l=iAe(a);return r.setMonth(t,Math.min(s,l)),r}function hAe(e,t,n){const r=Nn(e,n==null?void 0:n.in);return isNaN(+r)?Dr(e,NaN):(r.setFullYear(t),r)}function fAe(e,t,n){return um(e,-1,n)}function mAe(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const NS={},Hp={};function Ed(e,t){try{const r=(NS[e]||(NS[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return r in Hp?Hp[r]:tL(r,r.split(":"))}catch{if(e in Hp)return Hp[e];const n=e==null?void 0:e.match(pAe);return n?tL(e,n.slice(1)):NaN}}const pAe=/([+-]\d\d):?(\d\d)?/;function tL(e,t){const n=+(t[0]||0),r=+(t[1]||0),i=+(t[2]||0)/60;return Hp[e]=n*60+r>0?n*60+r+i:n*60-r-i}class al extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Ed(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),dG(this),VO(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new al(...n,t):new al(Date.now(),t)}withTimeZone(t){return new al(+this,t)}getTimezoneOffset(){const t=-Ed(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),VO(this),+this}[Symbol.for("constructDateFrom")](t){return new al(+new Date(t),this.timeZone)}}const nL=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!nL.test(e))return;const t=e.replace(nL,"$1UTC");al.prototype[t]&&(e.startsWith("get")?al.prototype[e]=function(){return this.internal[t]()}:(al.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),gAe(this),+this},al.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),VO(this),+this}))});function VO(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Ed(e.timeZone,e)*60))}function gAe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),dG(e)}function dG(e){const t=Ed(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const i=-new Date(+e).getTimezoneOffset(),s=-new Date(+r).getTimezoneOffset(),a=i-s,l=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&l&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const c=i-n;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const u=new Date(+e);u.setUTCSeconds(0);const d=i>0?u.getSeconds():(u.getSeconds()-60)%60,h=Math.round(-(Ed(e.timeZone,e)*60))%60;(h||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+h),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+h+d));const m=Ed(e.timeZone,e),p=m>0?Math.floor(m):Math.ceil(m),y=-new Date(+e).getTimezoneOffset()-p,x=p!==n,b=y-c;if(x&&b){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+b);const w=Ed(e.timeZone,e),v=w>0?Math.floor(w):Math.ceil(w),_=p-v;_&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+_),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+_))}}class nc extends al{static tz(t,...n){return n.length?new nc(...n,t):new nc(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),i=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+i}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,i]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${r} ${n} ${i}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,i]=this.tzComponents();return`${t} GMT${n}${r}${i} (${mAe(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:(n==null?void 0:n.timeZone)||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),i=String(Math.abs(t)%60).padStart(2,"0");return[n,r,i]}withTimeZone(t){return new nc(+this,t)}[Symbol.for("constructDateFrom")](t){return new nc(+new Date(t),this.timeZone)}}const rL=5,yAe=4;function xAe(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,i=t.addDays(e,-r+1),s=t.addDays(i,rL*7-1);return t.getMonth(e)===t.getMonth(s)?rL:yAe}function hG(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-1*6):t.addDays(n,-1*(r-1))}function vAe(e,t){const n=hG(e,t),r=xAe(e,t);return t.addDays(n,r*7-1)}const fG={...ef,labels:{labelDayButton:(e,t,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(a,l)=>As(a,l,{locale:ef,...n});let s=i(e,"PPPP");return t.today&&(s=`Today, ${s}`),t.selected&&(s=`${s}, selected`),s},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,s)=>As(i,s,{locale:ef,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let i;r&&typeof r.format=="function"?i=r.format.bind(r):i=(a,l)=>As(a,l,{locale:ef,...n});let s=i(e,"PPPP");return t!=null&&t.today&&(s=`Today, ${s}`),s},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(i,s)=>As(i,s,{locale:ef,...t}),r(e,"cccc")}}};class pa{constructor(t,n){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?nc.tz(this.options.timeZone):new this.Date},this.newDate=(r,i,s)=>{var a;return(a=this.overrides)!=null&&a.newDate?this.overrides.newDate(r,i,s):this.options.timeZone?new nc(r,i,s,this.options.timeZone):new Date(r,i,s)},this.addDays=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addDays?this.overrides.addDays(r,i):zT(r,i)},this.addMonths=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addMonths?this.overrides.addMonths(r,i):um(r,i)},this.addWeeks=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addWeeks?this.overrides.addWeeks(r,i):XMe(r,i)},this.addYears=(r,i)=>{var s;return(s=this.overrides)!=null&&s.addYears?this.overrides.addYears(r,i):ZMe(r,i)},this.differenceInCalendarDays=(r,i)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,i):nG(r,i)},this.differenceInCalendarMonths=(r,i)=>{var s;return(s=this.overrides)!=null&&s.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,i):rTe(r,i)},this.eachMonthOfInterval=r=>{var i;return(i=this.overrides)!=null&&i.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):sTe(r)},this.eachYearOfInterval=r=>{var l;const i=(l=this.overrides)!=null&&l.eachYearOfInterval?this.overrides.eachYearOfInterval(r):oTe(r),s=new Set(i.map(c=>this.getYear(c)));if(s.size===i.length)return i;const a=[];return s.forEach(c=>{a.push(new Date(c,0,1))}),a},this.endOfBroadcastWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):vAe(r,this)},this.endOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.endOfISOWeek?this.overrides.endOfISOWeek(r):lTe(r)},this.endOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.endOfMonth?this.overrides.endOfMonth(r):iTe(r)},this.endOfWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.endOfWeek?this.overrides.endOfWeek(r,i):aG(r,this.options)},this.endOfYear=r=>{var i;return(i=this.overrides)!=null&&i.endOfYear?this.overrides.endOfYear(r):aTe(r)},this.format=(r,i,s)=>{var l;const a=(l=this.overrides)!=null&&l.format?this.overrides.format(r,i,this.options):As(r,i,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(a):a},this.getISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.getISOWeek?this.overrides.getISOWeek(r):oG(r)},this.getMonth=(r,i)=>{var s;return(s=this.overrides)!=null&&s.getMonth?this.overrides.getMonth(r,this.options):sAe(r,this.options)},this.getYear=(r,i)=>{var s;return(s=this.overrides)!=null&&s.getYear?this.overrides.getYear(r,this.options):aAe(r,this.options)},this.getWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.getWeek?this.overrides.getWeek(r,this.options):cG(r,this.options)},this.isAfter=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isAfter?this.overrides.isAfter(r,i):oAe(r,i)},this.isBefore=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isBefore?this.overrides.isBefore(r,i):lAe(r,i)},this.isDate=r=>{var i;return(i=this.overrides)!=null&&i.isDate?this.overrides.isDate(r):rG(r)},this.isSameDay=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isSameDay?this.overrides.isSameDay(r,i):tTe(r,i)},this.isSameMonth=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isSameMonth?this.overrides.isSameMonth(r,i):cAe(r,i)},this.isSameYear=(r,i)=>{var s;return(s=this.overrides)!=null&&s.isSameYear?this.overrides.isSameYear(r,i):uAe(r,i)},this.max=r=>{var i;return(i=this.overrides)!=null&&i.max?this.overrides.max(r):JMe(r)},this.min=r=>{var i;return(i=this.overrides)!=null&&i.min?this.overrides.min(r):eTe(r)},this.setMonth=(r,i)=>{var s;return(s=this.overrides)!=null&&s.setMonth?this.overrides.setMonth(r,i):dAe(r,i)},this.setYear=(r,i)=>{var s;return(s=this.overrides)!=null&&s.setYear?this.overrides.setYear(r,i):hAe(r,i)},this.startOfBroadcastWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):hG(r,this)},this.startOfDay=r=>{var i;return(i=this.overrides)!=null&&i.startOfDay?this.overrides.startOfDay(r):hy(r)},this.startOfISOWeek=r=>{var i;return(i=this.overrides)!=null&&i.startOfISOWeek?this.overrides.startOfISOWeek(r):dy(r)},this.startOfMonth=r=>{var i;return(i=this.overrides)!=null&&i.startOfMonth?this.overrides.startOfMonth(r):fy(r)},this.startOfWeek=(r,i)=>{var s;return(s=this.overrides)!=null&&s.startOfWeek?this.overrides.startOfWeek(r,this.options):dm(r,this.options)},this.startOfYear=r=>{var i;return(i=this.overrides)!=null&&i.startOfYear?this.overrides.startOfYear(r):sG(r)},this.options={locale:fG,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let i=0;i<10;i++)r[i.toString()]=n.format(i);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){var n;const t=(n=this.options.locale)==null?void 0:n.code;return t&&pa.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:i}=this.options,s=n==null?void 0:n.code;if(s&&pa.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:r,numberingSystem:i}).format(t)}catch{}const a=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,a)}}pa.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Cl=new pa;class mG{constructor(t,n,r=Cl){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class bAe{constructor(t,n){this.date=t,this.weeks=n}}class _Ae{constructor(t,n){this.days=n,this.weekNumber=t}}function wAe(e){return ot.createElement("button",{...e})}function jAe(e){return ot.createElement("span",{...e})}function kAe(e){const{size:t=24,orientation:n="left",className:r}=e;return ot.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&ot.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&ot.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&ot.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&ot.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function SAe(e){const{day:t,modifiers:n,...r}=e;return ot.createElement("td",{...r})}function NAe(e){const{day:t,modifiers:n,...r}=e,i=ot.useRef(null);return ot.useEffect(()=>{var s;n.focused&&((s=i.current)==null||s.focus())},[n.focused]),ot.createElement("button",{ref:i,...r})}var zt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(zt||(zt={}));var ir;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(ir||(ir={}));var vo;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(vo||(vo={}));var ea;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(ea||(ea={}));function CAe(e){const{options:t,className:n,components:r,classNames:i,...s}=e,a=[i[zt.Dropdown],n].join(" "),l=t==null?void 0:t.find(({value:c})=>c===s.value);return ot.createElement("span",{"data-disabled":s.disabled,className:i[zt.DropdownRoot]},ot.createElement(r.Select,{className:a,...s},t==null?void 0:t.map(({value:c,label:u,disabled:d})=>ot.createElement(r.Option,{key:c,value:c,disabled:d},u))),ot.createElement("span",{className:i[zt.CaptionLabel],"aria-hidden":!0},l==null?void 0:l.label,ot.createElement(r.Chevron,{orientation:"down",size:18,className:i[zt.Chevron]})))}function OAe(e){return ot.createElement("div",{...e})}function PAe(e){return ot.createElement("div",{...e})}function EAe(e){const{calendarMonth:t,displayIndex:n,...r}=e;return ot.createElement("div",{...r},e.children)}function MAe(e){const{calendarMonth:t,displayIndex:n,...r}=e;return ot.createElement("div",{...r})}function TAe(e){return ot.createElement("table",{...e})}function AAe(e){return ot.createElement("div",{...e})}const pG=f.createContext(void 0);function zx(){const e=f.useContext(pG);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function zAe(e){const{components:t}=zx();return ot.createElement(t.Dropdown,{...e})}function DAe(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:i,...s}=e,{components:a,classNames:l,labels:{labelPrevious:c,labelNext:u}}=zx(),d=f.useCallback(m=>{i&&(n==null||n(m))},[i,n]),h=f.useCallback(m=>{r&&(t==null||t(m))},[r,t]);return ot.createElement("nav",{...s},ot.createElement(a.PreviousMonthButton,{type:"button",className:l[zt.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:h},ot.createElement(a.Chevron,{disabled:r?void 0:!0,className:l[zt.Chevron],orientation:"left"})),ot.createElement(a.NextMonthButton,{type:"button",className:l[zt.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":u(i),onClick:d},ot.createElement(a.Chevron,{disabled:i?void 0:!0,orientation:"right",className:l[zt.Chevron]})))}function RAe(e){const{components:t}=zx();return ot.createElement(t.Button,{...e})}function IAe(e){return ot.createElement("option",{...e})}function LAe(e){const{components:t}=zx();return ot.createElement(t.Button,{...e})}function $Ae(e){const{rootRef:t,...n}=e;return ot.createElement("div",{...n,ref:t})}function FAe(e){return ot.createElement("select",{...e})}function BAe(e){const{week:t,...n}=e;return ot.createElement("tr",{...n})}function qAe(e){return ot.createElement("th",{...e})}function WAe(e){return ot.createElement("thead",{"aria-hidden":!0},ot.createElement("tr",{...e}))}function UAe(e){const{week:t,...n}=e;return ot.createElement("th",{...n})}function VAe(e){return ot.createElement("th",{...e})}function HAe(e){return ot.createElement("tbody",{...e})}function KAe(e){const{components:t}=zx();return ot.createElement(t.Dropdown,{...e})}const YAe=Object.freeze(Object.defineProperty({__proto__:null,Button:wAe,CaptionLabel:jAe,Chevron:kAe,Day:SAe,DayButton:NAe,Dropdown:CAe,DropdownNav:OAe,Footer:PAe,Month:EAe,MonthCaption:MAe,MonthGrid:TAe,Months:AAe,MonthsDropdown:zAe,Nav:DAe,NextMonthButton:RAe,Option:IAe,PreviousMonthButton:LAe,Root:$Ae,Select:FAe,Week:BAe,WeekNumber:UAe,WeekNumberHeader:VAe,Weekday:qAe,Weekdays:WAe,Weeks:HAe,YearsDropdown:KAe},Symbol.toStringTag,{value:"Module"}));function rc(e,t,n=!1,r=Cl){let{from:i,to:s}=e;const{differenceInCalendarDays:a,isSameDay:l}=r;return i&&s?(a(s,i)<0&&([i,s]=[s,i]),a(t,i)>=(n?1:0)&&a(s,t)>=(n?1:0)):!n&&s?l(s,t):!n&&i?l(i,t):!1}function DT(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function O1(e){return!!(e&&typeof e=="object"&&"from"in e)}function RT(e){return!!(e&&typeof e=="object"&&"after"in e)}function IT(e){return!!(e&&typeof e=="object"&&"before"in e)}function gG(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function yG(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ic(e,t,n=Cl){const r=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:s,isAfter:a}=n;return r.some(l=>{if(typeof l=="boolean")return l;if(n.isDate(l))return i(e,l);if(yG(l,n))return l.some(c=>i(e,c));if(O1(l))return rc(l,e,!1,n);if(gG(l))return Array.isArray(l.dayOfWeek)?l.dayOfWeek.includes(e.getDay()):l.dayOfWeek===e.getDay();if(DT(l)){const c=s(l.before,e),u=s(l.after,e),d=c>0,h=u<0;return a(l.before,l.after)?h&&d:d||h}return RT(l)?s(e,l.after)>0:IT(l)?s(l.before,e)>0:typeof l=="function"?l(e):!1})}function GAe(e,t,n,r,i){const{disabled:s,hidden:a,modifiers:l,showOutsideDays:c,broadcastCalendar:u,today:d=i.today()}=t,{isSameDay:h,isSameMonth:m,startOfMonth:p,isBefore:g,endOfMonth:y,isAfter:x}=i,b=n&&p(n),w=r&&y(r),v={[ir.focused]:[],[ir.outside]:[],[ir.disabled]:[],[ir.hidden]:[],[ir.today]:[]},_={};for(const j of e){const{date:k,displayMonth:C}=j,O=!!(C&&!m(k,C)),P=!!(b&&g(k,b)),M=!!(w&&x(k,w)),A=!!(s&&ic(k,s,i)),R=!!(a&&ic(k,a,i))||P||M||!u&&!c&&O||u&&c===!1&&O,B=h(k,d);O&&v.outside.push(j),A&&v.disabled.push(j),R&&v.hidden.push(j),B&&v.today.push(j),l&&Object.keys(l).forEach(F=>{const U=l==null?void 0:l[F];U&&ic(k,U,i)&&(_[F]?_[F].push(j):_[F]=[j])})}return j=>{const k={[ir.focused]:!1,[ir.disabled]:!1,[ir.hidden]:!1,[ir.outside]:!1,[ir.today]:!1},C={};for(const O in v){const P=v[O];k[O]=P.some(M=>M===j)}for(const O in _)C[O]=_[O].some(P=>P===j);return{...k,...C}}}function QAe(e,t,n={}){return Object.entries(e).filter(([,i])=>i===!0).reduce((i,[s])=>(n[s]?i.push(n[s]):t[ir[s]]?i.push(t[ir[s]]):t[vo[s]]&&i.push(t[vo[s]]),i),[t[zt.Day]])}function XAe(e){return{...YAe,...e}}function ZAe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function JAe(){const e={};for(const t in zt)e[zt[t]]=`rdp-${zt[t]}`;for(const t in ir)e[ir[t]]=`rdp-${ir[t]}`;for(const t in vo)e[vo[t]]=`rdp-${vo[t]}`;for(const t in ea)e[ea[t]]=`rdp-${ea[t]}`;return e}function xG(e,t,n){return(n??new pa(t)).formatMonthYear(e)}const eze=xG;function tze(e,t,n){return(n??new pa(t)).format(e,"d")}function nze(e,t=Cl){return t.format(e,"LLLL")}function rze(e,t,n){return(n??new pa(t)).format(e,"cccccc")}function ize(e,t=Cl){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function sze(){return""}function vG(e,t=Cl){return t.format(e,"yyyy")}const aze=vG,oze=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:xG,formatDay:tze,formatMonthCaption:eze,formatMonthDropdown:nze,formatWeekNumber:ize,formatWeekNumberHeader:sze,formatWeekdayName:rze,formatYearCaption:aze,formatYearDropdown:vG},Symbol.toStringTag,{value:"Module"}));function lze(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...oze,...e}}function LT(e,t,n,r){let i=(r??new pa(n)).format(e,"PPPP");return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i}const cze=LT;function $T(e,t,n){return(n??new pa(t)).formatMonthYear(e)}const uze=$T;function bG(e,t,n,r){let i=(r??new pa(n)).format(e,"PPPP");return t!=null&&t.today&&(i=`Today, ${i}`),i}function _G(e){return"Choose the Month"}function wG(){return""}const dze="Go to the Next Month";function jG(e,t){return dze}function kG(e){return"Go to the Previous Month"}function SG(e,t,n){return(n??new pa(t)).format(e,"cccc")}function NG(e,t){return`Week ${e}`}function CG(e){return"Week Number"}function OG(e){return"Choose the Year"}const hze=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:uze,labelDay:cze,labelDayButton:LT,labelGrid:$T,labelGridcell:bG,labelMonthDropdown:_G,labelNav:wG,labelNext:jG,labelPrevious:kG,labelWeekNumber:NG,labelWeekNumberHeader:CG,labelWeekday:SG,labelYearDropdown:OG},Symbol.toStringTag,{value:"Module"})),oo=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function fze(e,t){var r;const n=((r=t.locale)==null?void 0:r.labels)??{};return{...hze,...e??{},labelDayButton:oo(LT,e==null?void 0:e.labelDayButton,n.labelDayButton),labelMonthDropdown:oo(_G,e==null?void 0:e.labelMonthDropdown,n.labelMonthDropdown),labelNext:oo(jG,e==null?void 0:e.labelNext,n.labelNext),labelPrevious:oo(kG,e==null?void 0:e.labelPrevious,n.labelPrevious),labelWeekNumber:oo(NG,e==null?void 0:e.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:oo(OG,e==null?void 0:e.labelYearDropdown,n.labelYearDropdown),labelGrid:oo($T,e==null?void 0:e.labelGrid,n.labelGrid),labelGridcell:oo(bG,e==null?void 0:e.labelGridcell,n.labelGridcell),labelNav:oo(wG,e==null?void 0:e.labelNav,n.labelNav),labelWeekNumberHeader:oo(CG,e==null?void 0:e.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:oo(SG,e==null?void 0:e.labelWeekday,n.labelWeekday)}}function mze(e,t,n,r,i){const{startOfMonth:s,startOfYear:a,endOfYear:l,eachMonthOfInterval:c,getMonth:u}=i;return c({start:a(e),end:l(e)}).map(m=>{const p=r.formatMonthDropdown(m,i),g=u(m),y=t&&m<s(t)||n&&m>s(n)||!1;return{value:g,label:p,disabled:y}})}function pze(e,t={},n={}){let r={...t==null?void 0:t[zt.Day]};return Object.entries(e).filter(([,i])=>i===!0).forEach(([i])=>{r={...r,...n==null?void 0:n[i]}}),r}function gze(e,t,n,r){const i=r??e.today(),s=n?e.startOfBroadcastWeek(i,e):t?e.startOfISOWeek(i):e.startOfWeek(i),a=[];for(let l=0;l<7;l++){const c=e.addDays(s,l);a.push(c)}return a}function yze(e,t,n,r,i=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:a,eachYearOfInterval:l,getYear:c}=r,u=s(e),d=a(t),h=l({start:u,end:d});return i&&h.reverse(),h.map(m=>{const p=n.formatYearDropdown(m,r);return{value:c(m),label:p,disabled:!1}})}const Dx=e=>e instanceof HTMLElement?e:null,CS=e=>[...e.querySelectorAll("[data-animated-month]")??[]],xze=e=>Dx(e.querySelector("[data-animated-month]")),OS=e=>Dx(e.querySelector("[data-animated-caption]")),PS=e=>Dx(e.querySelector("[data-animated-weeks]")),vze=e=>Dx(e.querySelector("[data-animated-nav]")),bze=e=>Dx(e.querySelector("[data-animated-weekdays]"));function _ze(e,t,{classNames:n,months:r,focused:i,dateLib:s}){const a=f.useRef(null),l=f.useRef(r),c=f.useRef(!1);f.useLayoutEffect(()=>{const u=l.current;if(l.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||u.length===0||r.length!==u.length)return;const d=s.isSameMonth(r[0].date,u[0].date),h=s.isAfter(r[0].date,u[0].date),m=h?n[ea.caption_after_enter]:n[ea.caption_before_enter],p=h?n[ea.weeks_after_enter]:n[ea.weeks_before_enter],g=a.current,y=e.current.cloneNode(!0);if(y instanceof HTMLElement?(CS(y).forEach(v=>{if(!(v instanceof HTMLElement))return;const _=xze(v);_&&v.contains(_)&&v.removeChild(_);const j=OS(v);j&&j.classList.remove(m);const k=PS(v);k&&k.classList.remove(p)}),a.current=y):a.current=null,c.current||d||i)return;const x=g instanceof HTMLElement?CS(g):[],b=CS(e.current);if(b!=null&&b.every(w=>w instanceof HTMLElement)&&x&&x.every(w=>w instanceof HTMLElement)){c.current=!0,e.current.style.isolation="isolate";const w=vze(e.current);w&&(w.style.zIndex="1"),b.forEach((v,_)=>{const j=x[_];if(!j)return;v.style.position="relative",v.style.overflow="hidden";const k=OS(v);k&&k.classList.add(m);const C=PS(v);C&&C.classList.add(p);const O=()=>{c.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),k&&k.classList.remove(m),C&&C.classList.remove(p),v.style.position="",v.style.overflow="",v.contains(j)&&v.removeChild(j)};j.style.pointerEvents="none",j.style.position="absolute",j.style.overflow="hidden",j.setAttribute("aria-hidden","true");const P=bze(j);P&&(P.style.opacity="0");const M=OS(j);M&&(M.classList.add(h?n[ea.caption_before_exit]:n[ea.caption_after_exit]),M.addEventListener("animationend",O));const A=PS(j);A&&A.classList.add(h?n[ea.weeks_before_exit]:n[ea.weeks_after_exit]),v.insertBefore(j,v.firstChild)})}})}function wze(e,t,n,r){const i=e[0],s=e[e.length-1],{ISOWeek:a,fixedWeeks:l,broadcastCalendar:c}=n??{},{addDays:u,differenceInCalendarDays:d,differenceInCalendarMonths:h,endOfBroadcastWeek:m,endOfISOWeek:p,endOfMonth:g,endOfWeek:y,isAfter:x,startOfBroadcastWeek:b,startOfISOWeek:w,startOfWeek:v}=r,_=c?b(i,r):a?w(i):v(i),j=c?m(s):a?p(g(s)):y(g(s)),k=t&&(c?m(t):a?p(t):y(t)),C=k&&x(j,k)?k:j,O=d(C,_),P=h(s,i)+1,M=[];for(let B=0;B<=O;B++){const F=u(_,B);M.push(F)}const R=(c?35:42)*P;if(l&&M.length<R){const B=R-M.length;for(let F=0;F<B;F++){const U=u(M[M.length-1],1);M.push(U)}}return M}function jze(e){const t=[];return e.reduce((n,r)=>{const i=r.weeks.reduce((s,a)=>s.concat(a.days.slice()),t.slice());return n.concat(i.slice())},t.slice())}function kze(e,t,n,r){const{numberOfMonths:i=1}=n,s=[];for(let a=0;a<i;a++){const l=r.addMonths(e,a);if(t&&l>t)break;s.push(l)}return s}function iL(e,t,n,r){const{month:i,defaultMonth:s,today:a=r.today(),numberOfMonths:l=1}=e;let c=i||s||a;const{differenceInCalendarMonths:u,addMonths:d,startOfMonth:h}=r;if(n&&u(n,c)<l-1){const m=-1*(l-1);c=d(n,m)}return t&&u(c,t)<0&&(c=t),h(c)}function Sze(e,t,n,r){const{addDays:i,endOfBroadcastWeek:s,endOfISOWeek:a,endOfMonth:l,endOfWeek:c,getISOWeek:u,getWeek:d,startOfBroadcastWeek:h,startOfISOWeek:m,startOfWeek:p}=r,g=e.reduce((y,x)=>{const b=n.broadcastCalendar?h(x,r):n.ISOWeek?m(x):p(x),w=n.broadcastCalendar?s(x):n.ISOWeek?a(l(x)):c(l(x)),v=t.filter(C=>C>=b&&C<=w),_=n.broadcastCalendar?35:42;if(n.fixedWeeks&&v.length<_){const C=t.filter(O=>{const P=_-v.length;return O>w&&O<=i(w,P)});v.push(...C)}const j=v.reduce((C,O)=>{const P=n.ISOWeek?u(O):d(O),M=C.find(R=>R.weekNumber===P),A=new mG(O,x,r);return M?M.days.push(A):C.push(new _Ae(P,[A])),C},[]),k=new bAe(x,j);return y.push(k),y},[]);return n.reverseMonths?g.reverse():g}function Nze(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:i,startOfDay:s,startOfMonth:a,endOfMonth:l,addYears:c,endOfYear:u,newDate:d,today:h}=t,{fromYear:m,toYear:p,fromMonth:g,toMonth:y}=e;!n&&g&&(n=g),!n&&m&&(n=t.newDate(m,0,1)),!r&&y&&(r=y),!r&&p&&(r=d(p,11,31));const x=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=a(n):m?n=d(m,0,1):!n&&x&&(n=i(c(e.today??h(),-100))),r?r=l(r):p?r=d(p,11,31):!r&&x&&(r=u(e.today??h())),[n&&s(n),r&&s(r)]}function Cze(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s=1}=n,{startOfMonth:a,addMonths:l,differenceInCalendarMonths:c}=r,u=i?s:1,d=a(e);if(!t)return l(d,u);if(!(c(t,e)<s))return l(d,u)}function Oze(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:i,numberOfMonths:s}=n,{startOfMonth:a,addMonths:l,differenceInCalendarMonths:c}=r,u=i?s??1:1,d=a(e);if(!t)return l(d,-u);if(!(c(d,t)<=0))return l(d,-u)}function Pze(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function P1(e,t){const[n,r]=f.useState(e);return[t===void 0?n:t,r]}function Eze(e,t){var _;const[n,r]=Nze(e,t),{startOfMonth:i,endOfMonth:s}=t,a=iL(e,n,r,t),[l,c]=P1(a,e.month?a:void 0);f.useEffect(()=>{const j=iL(e,n,r,t);c(j)},[e.timeZone]);const{months:u,weeks:d,days:h,previousMonth:m,nextMonth:p}=f.useMemo(()=>{const j=kze(l,r,{numberOfMonths:e.numberOfMonths},t),k=wze(j,e.endMonth?s(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),C=Sze(j,k,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),O=Pze(C),P=jze(C),M=Oze(l,n,e,t),A=Cze(l,r,e,t);return{months:C,weeks:O,days:P,previousMonth:M,nextMonth:A}},[t,l.getTime(),r==null?void 0:r.getTime(),n==null?void 0:n.getTime(),e.disableNavigation,e.broadcastCalendar,(_=e.endMonth)==null?void 0:_.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:g,onMonthChange:y}=e,x=j=>d.some(k=>k.days.some(C=>C.isEqualTo(j))),b=j=>{if(g)return;let k=i(j);n&&k<i(n)&&(k=i(n)),r&&k>i(r)&&(k=i(r)),c(k),y==null||y(k)};return{months:u,weeks:d,days:h,navStart:n,navEnd:r,previousMonth:m,nextMonth:p,goToMonth:b,goToDay:j=>{x(j)||b(j.date)}}}var Qo;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Qo||(Qo={}));function sL(e){return!e[ir.disabled]&&!e[ir.hidden]&&!e[ir.outside]}function Mze(e,t,n,r){let i,s=-1;for(const a of e){const l=t(a);sL(l)&&(l[ir.focused]&&s<Qo.FocusedModifier?(i=a,s=Qo.FocusedModifier):r!=null&&r.isEqualTo(a)&&s<Qo.LastFocused?(i=a,s=Qo.LastFocused):n(a.date)&&s<Qo.Selected?(i=a,s=Qo.Selected):l[ir.today]&&s<Qo.Today&&(i=a,s=Qo.Today))}return i||(i=e.find(a=>sL(t(a)))),i}function Tze(e,t,n,r,i,s,a){const{ISOWeek:l,broadcastCalendar:c}=s,{addDays:u,addMonths:d,addWeeks:h,addYears:m,endOfBroadcastWeek:p,endOfISOWeek:g,endOfWeek:y,max:x,min:b,startOfBroadcastWeek:w,startOfISOWeek:v,startOfWeek:_}=a;let k={day:u,week:h,month:d,year:m,startOfWeek:C=>c?w(C,a):l?v(C):_(C),endOfWeek:C=>c?p(C):l?g(C):y(C)}[e](n,t==="after"?1:-1);return t==="before"&&r?k=x([r,k]):t==="after"&&i&&(k=b([i,k])),k}function PG(e,t,n,r,i,s,a,l=0){if(l>365)return;const c=Tze(e,t,n.date,r,i,s,a),u=!!(s.disabled&&ic(c,s.disabled,a)),d=!!(s.hidden&&ic(c,s.hidden,a)),h=c,m=new mG(c,h,a);return!u&&!d?m:PG(e,t,m,r,i,s,a,l+1)}function Aze(e,t,n,r,i){const{autoFocus:s}=e,[a,l]=f.useState(),c=Mze(t.days,n,r||(()=>!1),a),[u,d]=f.useState(s?c:void 0);return{isFocusTarget:y=>!!(c!=null&&c.isEqualTo(y)),setFocused:d,focused:u,blur:()=>{l(u),d(void 0)},moveFocus:(y,x)=>{if(!u)return;const b=PG(y,x,u,t.navStart,t.navEnd,e,i);b&&(e.disableNavigation&&!t.days.some(v=>v.isEqualTo(b))||(t.goToDay(b),d(b)))}}}function zze(e,t){const{selected:n,required:r,onSelect:i}=e,[s,a]=P1(n,i?n:void 0),l=i?n:s,{isSameDay:c}=t,u=p=>(l==null?void 0:l.some(g=>c(g,p)))??!1,{min:d,max:h}=e;return{selected:l,select:(p,g,y)=>{let x=[...l??[]];if(u(p)){if((l==null?void 0:l.length)===d||r&&(l==null?void 0:l.length)===1)return;x=l==null?void 0:l.filter(b=>!c(b,p))}else(l==null?void 0:l.length)===h?x=[p]:x=[...x,p];return i||a(x),i==null||i(x,p,g,y),x},isSelected:u}}function Dze(e,t,n=0,r=0,i=!1,s=Cl){const{from:a,to:l}=t||{},{isSameDay:c,isAfter:u,isBefore:d}=s;let h;if(!a&&!l)h={from:e,to:n>0?void 0:e};else if(a&&!l)c(a,e)?n===0?h={from:a,to:e}:i?h={from:a,to:void 0}:h=void 0:d(e,a)?h={from:e,to:a}:h={from:a,to:e};else if(a&&l)if(c(a,e)&&c(l,e))i?h={from:a,to:l}:h=void 0;else if(c(a,e))h={from:a,to:n>0?void 0:e};else if(c(l,e))h={from:e,to:n>0?void 0:e};else if(d(e,a))h={from:e,to:l};else if(u(e,a))h={from:a,to:e};else if(u(e,l))h={from:a,to:e};else throw new Error("Invalid range");if(h!=null&&h.from&&(h!=null&&h.to)){const m=s.differenceInCalendarDays(h.to,h.from);r>0&&m>r?h={from:e,to:void 0}:n>1&&m<n&&(h={from:e,to:void 0})}return h}function Rze(e,t,n=Cl){const r=Array.isArray(t)?t:[t];let i=e.from;const s=n.differenceInCalendarDays(e.to,e.from),a=Math.min(s,6);for(let l=0;l<=a;l++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function aL(e,t,n=Cl){return rc(e,t.from,!1,n)||rc(e,t.to,!1,n)||rc(t,e.from,!1,n)||rc(t,e.to,!1,n)}function Ize(e,t,n=Cl){const r=Array.isArray(t)?t:[t];if(r.filter(l=>typeof l!="function").some(l=>typeof l=="boolean"?l:n.isDate(l)?rc(e,l,!1,n):yG(l,n)?l.some(c=>rc(e,c,!1,n)):O1(l)?l.from&&l.to?aL(e,{from:l.from,to:l.to},n):!1:gG(l)?Rze(e,l.dayOfWeek,n):DT(l)?n.isAfter(l.before,l.after)?aL(e,{from:n.addDays(l.after,1),to:n.addDays(l.before,-1)},n):ic(e.from,l,n)||ic(e.to,l,n):RT(l)||IT(l)?ic(e.from,l,n)||ic(e.to,l,n):!1))return!0;const a=r.filter(l=>typeof l=="function");if(a.length){let l=e.from;const c=n.differenceInCalendarDays(e.to,e.from);for(let u=0;u<=c;u++){if(a.some(d=>d(l)))return!0;l=n.addDays(l,1)}}return!1}function Lze(e,t){const{disabled:n,excludeDisabled:r,selected:i,required:s,onSelect:a}=e,[l,c]=P1(i,a?i:void 0),u=a?i:l;return{selected:u,select:(m,p,g)=>{const{min:y,max:x}=e,b=m?Dze(m,u,y,x,s,t):void 0;return r&&n&&(b!=null&&b.from)&&b.to&&Ize({from:b.from,to:b.to},n,t)&&(b.from=m,b.to=void 0),a||c(b),a==null||a(b,m,p,g),b},isSelected:m=>u&&rc(u,m,!1,t)}}function $ze(e,t){const{selected:n,required:r,onSelect:i}=e,[s,a]=P1(n,i?n:void 0),l=i?n:s,{isSameDay:c}=t;return{selected:l,select:(h,m,p)=>{let g=h;return!r&&l&&l&&c(h,l)&&(g=void 0),i||a(g),i==null||i(g,h,m,p),g},isSelected:h=>l?c(l,h):!1}}function Fze(e,t){const n=$ze(e,t),r=zze(e,t),i=Lze(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return i;default:return}}function _i(e,t){return e instanceof nc&&e.timeZone===t?e:new nc(e,t)}function oL(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?_i(e,t):Array.isArray(e)?e.map(n=>n instanceof Date?_i(n,t):n):O1(e)?{...e,from:e.from?_i(e.from,t):e.from,to:e.to?_i(e.to,t):e.to}:DT(e)?{before:_i(e.before,t),after:_i(e.after,t)}:RT(e)?{after:_i(e.after,t)}:IT(e)?{before:_i(e.before,t)}:e}function ES(e,t){return e&&(Array.isArray(e)?e.map(n=>oL(n,t)):oL(e,t))}function Bze(e){var Bn;let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=_i(t.today,n)),t.month&&(t.month=_i(t.month,n)),t.defaultMonth&&(t.defaultMonth=_i(t.defaultMonth,n)),t.startMonth&&(t.startMonth=_i(t.startMonth,n)),t.endMonth&&(t.endMonth=_i(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=_i(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=(Bn=t.selected)==null?void 0:Bn.map(gt=>_i(gt,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?_i(t.selected.from,n):t.selected.from,to:t.selected.to?_i(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=ES(t.disabled,n)),t.hidden!==void 0&&(t.hidden=ES(t.hidden,n)),t.modifiers)){const gt={};Object.keys(t.modifiers).forEach(Ft=>{var nt;gt[Ft]=ES((nt=t.modifiers)==null?void 0:nt[Ft],n)}),t.modifiers=gt}const{components:r,formatters:i,labels:s,dateLib:a,locale:l,classNames:c}=f.useMemo(()=>{const gt={...fG,...t.locale},Ft=new pa({locale:gt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib);return{dateLib:Ft,components:XAe(t.components),formatters:lze(t.formatters),labels:fze(t.labels,Ft.options),locale:gt,classNames:{...JAe(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:a.today()});const{captionLayout:u,mode:d,navLayout:h,numberOfMonths:m=1,onDayBlur:p,onDayClick:g,onDayFocus:y,onDayKeyDown:x,onDayMouseEnter:b,onDayMouseLeave:w,onNextClick:v,onPrevClick:_,showWeekNumber:j,styles:k}=t,{formatCaption:C,formatDay:O,formatMonthDropdown:P,formatWeekNumber:M,formatWeekNumberHeader:A,formatWeekdayName:R,formatYearDropdown:B}=i,F=Eze(t,a),{days:U,months:L,navStart:D,navEnd:T,previousMonth:$,nextMonth:G,goToMonth:ie}=F,X=GAe(U,t,D,T,a),{isSelected:se,select:xe,selected:me}=Fze(t,a)??{},{blur:De,focused:ge,isFocusTarget:Ve,moveFocus:oe,setFocused:Pe}=Aze(t,F,X,se??(()=>!1),a),{labelDayButton:Y,labelGridcell:te,labelGrid:Ne,labelMonthDropdown:Te,labelNav:V,labelPrevious:ue,labelNext:pe,labelWeekday:$e,labelWeekNumber:Qe,labelWeekNumberHeader:K,labelYearDropdown:ne}=s,Ce=f.useMemo(()=>gze(a,t.ISOWeek,t.broadcastCalendar,t.today),[a,t.ISOWeek,t.broadcastCalendar,t.today]),Z=d!==void 0||g!==void 0,be=f.useCallback(()=>{$&&(ie($),_==null||_($))},[$,ie,_]),Ie=f.useCallback(()=>{G&&(ie(G),v==null||v(G))},[ie,G,v]),re=f.useCallback((gt,Ft)=>nt=>{nt.preventDefault(),nt.stopPropagation(),Pe(gt),!Ft.disabled&&(xe==null||xe(gt.date,Ft,nt),g==null||g(gt.date,Ft,nt))},[xe,g,Pe]),H=f.useCallback((gt,Ft)=>nt=>{Pe(gt),y==null||y(gt.date,Ft,nt)},[y,Pe]),we=f.useCallback((gt,Ft)=>nt=>{De(),p==null||p(gt.date,Ft,nt)},[De,p]),Be=f.useCallback((gt,Ft)=>nt=>{const le={ArrowLeft:[nt.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[nt.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[nt.shiftKey?"year":"week","after"],ArrowUp:[nt.shiftKey?"year":"week","before"],PageUp:[nt.shiftKey?"year":"month","before"],PageDown:[nt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(le[nt.key]){nt.preventDefault(),nt.stopPropagation();const[Se,Oe]=le[nt.key];oe(Se,Oe)}x==null||x(gt.date,Ft,nt)},[oe,x,t.dir]),Je=f.useCallback((gt,Ft)=>nt=>{b==null||b(gt.date,Ft,nt)},[b]),Xe=f.useCallback((gt,Ft)=>nt=>{w==null||w(gt.date,Ft,nt)},[w]),Nt=f.useCallback(gt=>Ft=>{const nt=Number(Ft.target.value),le=a.setMonth(a.startOfMonth(gt),nt);ie(le)},[a,ie]),ft=f.useCallback(gt=>Ft=>{const nt=Number(Ft.target.value),le=a.setYear(a.startOfMonth(gt),nt);ie(le)},[a,ie]),{className:Et,style:Xt}=f.useMemo(()=>({className:[c[zt.Root],t.className].filter(Boolean).join(" "),style:{...k==null?void 0:k[zt.Root],...t.style}}),[c,t.className,t.style,k]),hn=ZAe(t),Yn=f.useRef(null);_ze(Yn,!!t.animate,{classNames:c,months:L,focused:ge,dateLib:a});const Ct={dayPickerProps:t,selected:me,select:xe,isSelected:se,months:L,nextMonth:G,previousMonth:$,goToMonth:ie,getModifiers:X,components:r,classNames:c,styles:k,labels:s,formatters:i};return ot.createElement(pG.Provider,{value:Ct},ot.createElement(r.Root,{rootRef:t.animate?Yn:void 0,className:Et,style:Xt,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...hn},ot.createElement(r.Months,{className:c[zt.Months],style:k==null?void 0:k[zt.Months]},!t.hideNavigation&&!h&&ot.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[zt.Nav],style:k==null?void 0:k[zt.Nav],"aria-label":V(),onPreviousClick:be,onNextClick:Ie,previousMonth:$,nextMonth:G}),L.map((gt,Ft)=>ot.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[zt.Month],style:k==null?void 0:k[zt.Month],key:Ft,displayIndex:Ft,calendarMonth:gt},h==="around"&&!t.hideNavigation&&Ft===0&&ot.createElement(r.PreviousMonthButton,{type:"button",className:c[zt.PreviousMonthButton],tabIndex:$?void 0:-1,"aria-disabled":$?void 0:!0,"aria-label":ue($),onClick:be,"data-animated-button":t.animate?"true":void 0},ot.createElement(r.Chevron,{disabled:$?void 0:!0,className:c[zt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),ot.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[zt.MonthCaption],style:k==null?void 0:k[zt.MonthCaption],calendarMonth:gt,displayIndex:Ft},u!=null&&u.startsWith("dropdown")?ot.createElement(r.DropdownNav,{className:c[zt.Dropdowns],style:k==null?void 0:k[zt.Dropdowns]},(()=>{const nt=u==="dropdown"||u==="dropdown-months"?ot.createElement(r.MonthsDropdown,{key:"month",className:c[zt.MonthsDropdown],"aria-label":Te(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Nt(gt.date),options:mze(gt.date,D,T,i,a),style:k==null?void 0:k[zt.Dropdown],value:a.getMonth(gt.date)}):ot.createElement("span",{key:"month"},P(gt.date,a)),le=u==="dropdown"||u==="dropdown-years"?ot.createElement(r.YearsDropdown,{key:"year",className:c[zt.YearsDropdown],"aria-label":ne(a.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:ft(gt.date),options:yze(D,T,i,a,!!t.reverseYears),style:k==null?void 0:k[zt.Dropdown],value:a.getYear(gt.date)}):ot.createElement("span",{key:"year"},B(gt.date,a));return a.getMonthYearOrder()==="year-first"?[le,nt]:[nt,le]})(),ot.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(gt.date,a.options,a))):ot.createElement(r.CaptionLabel,{className:c[zt.CaptionLabel],role:"status","aria-live":"polite"},C(gt.date,a.options,a))),h==="around"&&!t.hideNavigation&&Ft===m-1&&ot.createElement(r.NextMonthButton,{type:"button",className:c[zt.NextMonthButton],tabIndex:G?void 0:-1,"aria-disabled":G?void 0:!0,"aria-label":pe(G),onClick:Ie,"data-animated-button":t.animate?"true":void 0},ot.createElement(r.Chevron,{disabled:G?void 0:!0,className:c[zt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Ft===m-1&&h==="after"&&!t.hideNavigation&&ot.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[zt.Nav],style:k==null?void 0:k[zt.Nav],"aria-label":V(),onPreviousClick:be,onNextClick:Ie,previousMonth:$,nextMonth:G}),ot.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":Ne(gt.date,a.options,a)||void 0,className:c[zt.MonthGrid],style:k==null?void 0:k[zt.MonthGrid]},!t.hideWeekdays&&ot.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[zt.Weekdays],style:k==null?void 0:k[zt.Weekdays]},j&&ot.createElement(r.WeekNumberHeader,{"aria-label":K(a.options),className:c[zt.WeekNumberHeader],style:k==null?void 0:k[zt.WeekNumberHeader],scope:"col"},A()),Ce.map(nt=>ot.createElement(r.Weekday,{"aria-label":$e(nt,a.options,a),className:c[zt.Weekday],key:String(nt),style:k==null?void 0:k[zt.Weekday],scope:"col"},R(nt,a.options,a)))),ot.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[zt.Weeks],style:k==null?void 0:k[zt.Weeks]},gt.weeks.map(nt=>ot.createElement(r.Week,{className:c[zt.Week],key:nt.weekNumber,style:k==null?void 0:k[zt.Week],week:nt},j&&ot.createElement(r.WeekNumber,{week:nt,style:k==null?void 0:k[zt.WeekNumber],"aria-label":Qe(nt.weekNumber,{locale:l}),className:c[zt.WeekNumber],scope:"row",role:"rowheader"},M(nt.weekNumber,a)),nt.days.map(le=>{const{date:Se}=le,Oe=X(le);if(Oe[ir.focused]=!Oe.hidden&&!!(ge!=null&&ge.isEqualTo(le)),Oe[vo.selected]=(se==null?void 0:se(Se))||Oe.selected,O1(me)){const{from:At,to:fn}=me;Oe[vo.range_start]=!!(At&&fn&&a.isSameDay(Se,At)),Oe[vo.range_end]=!!(At&&fn&&a.isSameDay(Se,fn)),Oe[vo.range_middle]=rc(me,Se,!0,a)}const Tt=pze(Oe,k,t.modifiersStyles),jt=QAe(Oe,c,t.modifiersClassNames),Kt=!Z&&!Oe.hidden?te(Se,Oe,a.options,a):void 0;return ot.createElement(r.Day,{key:`${le.isoDate}_${le.displayMonthId}`,day:le,modifiers:Oe,className:jt.join(" "),style:Tt,role:"gridcell","aria-selected":Oe.selected||void 0,"aria-label":Kt,"data-day":le.isoDate,"data-month":le.outside?le.dateMonthId:void 0,"data-selected":Oe.selected||void 0,"data-disabled":Oe.disabled||void 0,"data-hidden":Oe.hidden||void 0,"data-outside":le.outside||void 0,"data-focused":Oe.focused||void 0,"data-today":Oe.today||void 0},!Oe.hidden&&Z?ot.createElement(r.DayButton,{className:c[zt.DayButton],style:k==null?void 0:k[zt.DayButton],type:"button",day:le,modifiers:Oe,disabled:!Oe.focused&&Oe.disabled||void 0,"aria-disabled":Oe.focused&&Oe.disabled||void 0,tabIndex:Ve(le)?0:-1,"aria-label":Y(Se,Oe,a.options,a),onClick:re(le,Oe),onBlur:we(le,Oe),onFocus:H(le,Oe),onKeyDown:Be(le,Oe),onMouseEnter:Je(le,Oe),onMouseLeave:Xe(le,Oe)},O(Se,a.options,a)):!Oe.hidden&&O(le.date,a.options,a))})))))))),t.footer&&ot.createElement(r.Footer,{className:c[zt.Footer],style:k==null?void 0:k[zt.Footer],role:"status","aria-live":"polite"},t.footer)))}function HO({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",navLayout:i="around",...s}){return o.jsx(Bze,{captionLayout:r,navLayout:i,showOutsideDays:n,className:ae("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-4",month:"relative",month_caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",dropdowns:"flex items-center gap-2",nav:"flex items-center gap-1",button_previous:ae(Ub({variant:"ghost"}),"absolute left-1 top-1 h-8 w-8 bg-transparent p-0 text-muted-foreground hover:bg-muted/60 hover:text-foreground"),button_next:ae(Ub({variant:"ghost"}),"absolute right-1 top-1 h-8 w-8 bg-transparent p-0 text-muted-foreground hover:bg-muted/60 hover:text-foreground"),month_grid:"w-full border-collapse space-y-1 mt-2",weekdays:"flex w-full",weekday:"text-muted-foreground/80 rounded-md w-9 font-medium text-[0.7rem] text-center",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative aria-selected:bg-muted first:aria-selected:rounded-md last:aria-selected:rounded-md focus-within:relative focus-within:z-20",day_button:ae(Ub({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),range_end:"rounded-md",selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",today:"border border-primary/30 text-foreground",outside:"text-muted-foreground opacity-50 aria-selected:bg-muted/50 aria-selected:text-muted-foreground aria-selected:opacity-40",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-muted aria-selected:text-foreground",hidden:"invisible",...t},components:{Chevron:({className:a,orientation:l})=>{const c=l==="left"?Zw:l==="right"?zm:l==="up"?fE:Ec;return o.jsx(c,{className:ae("h-4 w-4",a)})}},...s})}HO.displayName="Calendar";function EG(e){const t=qze(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(Uze);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function qze(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=Hze(i),l=Vze(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wze=Symbol("radix.slottable");function Uze(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wze}function Vze(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Hze(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Kze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MG=Kze.reduce((e,t)=>{const n=EG(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),E1="Popover",[TG]=ba(E1,[Im]),Rx=Im(),[Yze,Qu]=TG(E1),AG=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,l=Rx(t),c=f.useRef(null),[u,d]=f.useState(!1),[h,m]=pl({prop:r,defaultProp:i??!1,onChange:s,caller:E1});return o.jsx(SE,{...l,children:o.jsx(Yze,{scope:t,contentId:La(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:a,children:n})})};AG.displayName=E1;var zG="PopoverAnchor",Gze=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Qu(zG,n),s=Rx(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return f.useEffect(()=>(a(),()=>l()),[a,l]),o.jsx(lj,{...s,...r,ref:t})});Gze.displayName=zG;var DG="PopoverTrigger",RG=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Qu(DG,n),s=Rx(n),a=Zt(t,i.triggerRef),l=o.jsx(MG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":BG(i.open),...r,ref:a,onClick:ut(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:o.jsx(lj,{asChild:!0,...s,children:l})});RG.displayName=DG;var FT="PopoverPortal",[Qze,Xze]=TG(FT,{forceMount:void 0}),IG=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=Qu(FT,t);return o.jsx(Qze,{scope:t,forceMount:n,children:o.jsx(Pi,{present:n||s.open,children:o.jsx(nx,{asChild:!0,container:i,children:r})})})};IG.displayName=FT;var hm="PopoverContent",LG=f.forwardRef((e,t)=>{const n=Xze(hm,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=Qu(hm,e.__scopePopover);return o.jsx(Pi,{present:r||s.open,children:s.modal?o.jsx(Jze,{...i,ref:t}):o.jsx(eDe,{...i,ref:t})})});LG.displayName=hm;var Zze=EG("PopoverContent.RemoveScroll"),Jze=f.forwardRef((e,t)=>{const n=Qu(hm,e.__scopePopover),r=f.useRef(null),i=Zt(t,r),s=f.useRef(!1);return f.useEffect(()=>{const a=r.current;if(a)return uj(a)},[]),o.jsx(sx,{as:Zze,allowPinchZoom:!0,children:o.jsx($G,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ut(e.onCloseAutoFocus,a=>{var l;a.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ut(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ut(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),eDe=f.forwardRef((e,t)=>{const n=Qu(hm,e.__scopePopover),r=f.useRef(!1),i=f.useRef(!1);return o.jsx($G,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),$G=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=Qu(hm,n),p=Rx(n);return rj(),o.jsx(ex,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:o.jsx(Jy,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(NE,{"data-state":BG(m.open),role:"dialog",id:m.contentId,...p,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),FG="PopoverClose",tDe=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Qu(FG,n);return o.jsx(MG.button,{type:"button",...r,ref:t,onClick:ut(e.onClick,()=>i.onOpenChange(!1))})});tDe.displayName=FG;var nDe="PopoverArrow",rDe=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Rx(n);return o.jsx(CE,{...i,...r,ref:t})});rDe.displayName=nDe;function BG(e){return e?"open":"closed"}var iDe=AG,sDe=RG,aDe=IG,qG=LG;const bl=iDe,_l=sDe,Po=f.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>o.jsx(aDe,{children:o.jsx(qG,{ref:i,align:t,sideOffset:n,className:ae("z-50 w-72 rounded-xl border bg-popover p-4 text-popover-foreground shadow-lg outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Po.displayName=qG.displayName;const lL=(e,t)=>{const n=String(e||"").trim();if(!n)return null;if(t){const c=/^(\d{4})-(\d{2})-(\d{2})[T\s](\d{2}):(\d{2})(?::(\d{2}))?$/.exec(n);if(!c)return null;const[,u,d,h,m,p,g]=c,y=new Date(Number(u),Number(d)-1,Number(h),Number(m),Number(p),g?Number(g):0,0);return Number.isFinite(y.getTime())?y:null}const r=/^(\d{4})-(\d{2})-(\d{2})$/.exec(n);if(!r)return null;const[,i,s,a]=r,l=new Date(Number(i),Number(s)-1,Number(a),0,0,0,0);return Number.isFinite(l.getTime())?l:null},cL=(e,t)=>t?As(e,"yyyy-MM-dd'T'HH:mm"):As(e,"yyyy-MM-dd"),uL=(e,t)=>new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),MS=e=>{const t=(e==null?void 0:e.from)??(e==null?void 0:e.to)??new Date,n=fy(t),r=e!=null&&e.to?fy(e.to):um(n,1),i=r.getTime()<=n.getTime()?um(n,1):r;return{left:n,right:i}};function WG({className:e,triggerClassName:t,date:n,setDate:r,withTime:i=!1}){const{t:s}=Wt(),[a,l]=f.useState(!1),[c,u]=f.useState(""),[d,h]=f.useState(""),[m,p]=f.useState(()=>MS(n).left),[g,y]=f.useState(()=>MS(n).right);f.useEffect(()=>{if(!a)return;u(n!=null&&n.from?cL(n.from,i):""),h(n!=null&&n.to?cL(n.to,i):"");const{left:j,right:k}=MS(n);p(j),y(k)},[a,n==null?void 0:n.from,n==null?void 0:n.to,i]);const x=f.useMemo(()=>{if(!(n!=null&&n.from))return null;const j=i?"yyyy-MM-dd HH:mm":"yyyy-MM-dd";return n.to?`${As(n.from,j)} - ${As(n.to,j)}`:As(n.from,j)},[n==null?void 0:n.from,n==null?void 0:n.to,i]),b=j=>{if(!r)return;const k=j.from!==void 0?j.from:n==null?void 0:n.from,C=j.to!==void 0?j.to:n==null?void 0:n.to;if(!k&&!C){r(void 0);return}if(k&&C&&C.getTime()<k.getTime()){r({from:C,to:k});return}r({from:k,to:C})},w=j=>{if(!r)return;if(!j){r(void 0);return}if(!i){r(j);return}const k=j.from&&(n!=null&&n.from)?uL(n.from,j.from):j.from,C=j.to&&(n!=null&&n.to)?uL(n.to,j.to):j.to;r({from:k,to:C})},v=j=>{const k=fy(j);p(k);const C=um(k,1);g.getTime()<C.getTime()&&y(C)},_=j=>{const k=fy(j);y(k);const C=fAe(k);m.getTime()>C.getTime()&&p(C)};return o.jsx("div",{className:ae("grid gap-2",e),children:o.jsxs(bl,{open:a,onOpenChange:l,children:[o.jsx(_l,{asChild:!0,children:o.jsxs(W,{id:"date",variant:"outline",className:ae("h-9 w-[260px] justify-start text-left font-normal",t,!n&&"text-muted-foreground"),children:[o.jsx(q6,{className:"mr-2 h-4 w-4"}),x?o.jsx("span",{className:"truncate",children:x}):o.jsx("span",{children:"Pick a date"})]})}),o.jsx(Po,{className:"w-auto p-3",align:"end",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:s("common.from")}),o.jsx(J,{type:i?"datetime-local":"date",value:c,onChange:j=>{const k=j.target.value;if(u(k),!r)return;if(!k.trim()){b({from:void 0,to:void 0}),h("");return}const C=lL(k,i);C&&b({from:C})},className:"h-8"})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:s("common.to")}),o.jsx(J,{type:i?"datetime-local":"date",value:d,onChange:j=>{const k=j.target.value;if(h(k),!r)return;if(!k.trim()){b({to:void 0});return}const C=lL(k,i);C&&b({to:C})},className:"h-8"})]})]}),o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("div",{className:"flex flex-col sm:flex-row",children:[o.jsx("div",{className:"border-b border-border/70 sm:border-b-0 sm:border-r",children:o.jsx(HO,{initialFocus:!0,mode:"range",month:m,onMonthChange:v,selected:n,onSelect:w,numberOfMonths:1})}),o.jsx("div",{children:o.jsx(HO,{mode:"range",month:g,onMonthChange:_,selected:n,onSelect:w,numberOfMonths:1})})]})})]})})]})})}function oDe(){const{t:e}=Wt(),t=e("common.currency_symbol"),[n,r]=f.useState("last_30_days"),[i,s]=f.useState("amount"),[a,l]=f.useState({from:yd(new Date,30),to:new Date}),[c,u]=f.useState([]),[d,h]=f.useState({total_income:0,transaction_count:0,avg_amount:0,commission_total:0,commission_count:0,commission_rate:0,start_date:"",end_date:""}),m=d.start_date&&d.end_date?e("dashboard.range_display",{start:d.start_date,end:d.end_date}):a!=null&&a.from&&(a!=null&&a.to)?e("dashboard.range_display",{start:As(a.from,"yyyy-MM-dd"),end:As(a.to,"yyyy-MM-dd")}):"";return f.useEffect(()=>{const p=new Date;let g=p,y=p;switch(n){case"last_30_days":g=yd(p,30);break;case"last_7_days":g=yd(p,7);break;case"last_90_days":g=yd(p,90);break;case"last_180_days":g=yd(p,180);break;case"last_year":g=yd(p,365);break;case"custom":return}l({from:g,to:y})},[n]),f.useEffect(()=>{if(!(a!=null&&a.from)||!(a!=null&&a.to))return;(async()=>{try{const g=As(a.from,"yyyy-MM-dd"),y=As(a.to,"yyyy-MM-dd"),x=await xo.getIncomeRecords({start_date:g,end_date:y}),b=x.data.data.list,w=x.data.data.summary,v=b.map(_=>({date:_.date,amount:Zh(_.paid_total),quantity:_.paid_count,commission:Zh(_.commission_total)}));u(v),h({total_income:Zh(w.paid_total),transaction_count:Number(w.paid_count??0),avg_amount:Zh(w.avg_paid_amount),commission_total:Zh(w.commission_total),commission_count:Number(w.commission_count??0),commission_rate:Number(w.commission_rate??0),start_date:w.start_date??"",end_date:w.end_date??""})}catch(g){console.error("Failed to fetch income records",g)}})()},[a]),o.jsxs(It,{className:"col-span-full",children:[o.jsxs(Xn,{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{className:"text-base font-semibold",children:e("dashboard.income_overview")}),m?o.jsx("div",{className:"text-xs text-muted-foreground",children:m}):null]}),o.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[o.jsxs(it,{value:n,onValueChange:r,children:[o.jsx(et,{className:"h-8 w-[140px] text-xs",children:o.jsx(st,{placeholder:e("dashboard.time_range")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"last_7_days",children:e("dashboard.last_7_days")}),o.jsx(fe,{value:"last_30_days",children:e("dashboard.last_30_days")}),o.jsx(fe,{value:"last_90_days",children:e("dashboard.last_90_days")}),o.jsx(fe,{value:"last_180_days",children:e("dashboard.last_180_days")}),o.jsx(fe,{value:"last_year",children:e("dashboard.last_year")}),o.jsx(fe,{value:"custom",children:e("dashboard.custom_range")})]})]}),n==="custom"&&o.jsx(WG,{date:a,setDate:l,className:"w-auto",triggerClassName:"h-8 w-[220px]"}),o.jsxs("div",{className:"flex items-center rounded-lg border border-border/70 bg-muted/40 p-1",children:[o.jsx(W,{variant:"ghost",size:"sm",className:i==="amount"?"h-7 bg-card shadow-sm text-foreground":"h-7 text-muted-foreground",onClick:()=>s("amount"),children:e("dashboard.amount")}),o.jsx(W,{variant:"ghost",size:"sm",className:i==="quantity"?"h-7 bg-card shadow-sm text-foreground":"h-7 text-muted-foreground",onClick:()=>s("quantity"),children:e("dashboard.quantity")})]})]})]}),o.jsxs(Lt,{className:"pt-0",children:[o.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.total_income")}),o.jsxs("div",{className:"text-2xl font-semibold tabular-nums",children:[t,hd(d.total_income)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.order_count_total",{count:d.transaction_count})}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.avg_amount"),": ",t,hd(d.avg_amount)]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.total_commission")}),o.jsxs("div",{className:"text-2xl font-semibold tabular-nums",children:[t,hd(d.commission_total)]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.commission_count_total",{count:d.commission_count})}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.commission_rate"),": ",d.commission_rate.toFixed(2),"%"]})]})]}),o.jsx("div",{className:"mt-6",children:o.jsx(Zve,{width:"100%",height:320,children:o.jsxs(tMe,{data:c,children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:"incomeAreaFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"0%",stopColor:"hsl(var(--foreground))",stopOpacity:.16}),o.jsx("stop",{offset:"100%",stopColor:"hsl(var(--foreground))",stopOpacity:0})]})}),o.jsx(FK,{strokeDasharray:"2 6",vertical:!1,stroke:"hsl(var(--border))"}),o.jsx(rY,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),o.jsx(iY,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:p=>i==="amount"?`${t}${hd(Number(p),2)}`:e("dashboard.transaction_unit",{count:p})}),o.jsx(ISe,{content:({active:p,payload:g})=>{var x;if(!p||!g||g.length===0)return null;const y=((x=g[0])==null?void 0:x.payload)||{};return i==="quantity"?o.jsx("div",{className:"rounded-xl border border-border bg-card px-3 py-2 text-xs shadow-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-foreground/80"}),o.jsx("span",{children:e("dashboard.order_quantity")}),o.jsx("span",{className:"ml-auto font-semibold tabular-nums",children:y.quantity??0})]})}):o.jsx("div",{className:"rounded-xl border border-border bg-card px-3 py-2 text-xs shadow-lg",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-foreground/80"}),o.jsx("span",{children:e("dashboard.order_amount")}),o.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[t,hd(Number(y.amount??0),2)]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx("span",{className:"h-2 w-2 rounded-full bg-muted-foreground/50"}),o.jsx("span",{children:e("dashboard.commission_amount")}),o.jsxs("span",{className:"ml-auto font-semibold tabular-nums text-foreground",children:[t,hd(Number(y.commission??0),2)]})]})]})})}}),o.jsx(XK,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--foreground))",fill:"url(#incomeAreaFill)",strokeWidth:2,dot:!1,activeDot:{r:5},hide:i!=="amount"}),o.jsx(tY,{dataKey:"quantity",radius:[6,6,0,0],fill:"hsl(var(--foreground))",opacity:.9,barSize:18,hide:i!=="quantity"})]})})})]})]})}function ss({open:e,onOpenChange:t,position:n,items:r,contentClassName:i}){return n?o.jsxs(Ua,{open:e,onOpenChange:t,children:[o.jsx(Va,{asChild:!0,children:o.jsx("button",{type:"button",tabIndex:-1,className:"fixed left-0 top-0 h-px w-px opacity-0",style:{left:n.x,top:n.y},"aria-label":"Context menu"})}),o.jsx(fa,{align:"start",side:"bottom",sideOffset:6,className:ae("w-56",i),children:r.map((s,a)=>{const l=s.key??`${s.type}-${a}`;if(s.type==="separator")return o.jsx(es,{},l);const c=ae(s.destructive&&"text-destructive focus:text-destructive");return s.type==="checkbox"?o.jsx(DE,{checked:s.checked,disabled:s.disabled,className:c,onCheckedChange:()=>{var u;return(u=s.onSelect)==null?void 0:u.call(s)},children:s.label},l):o.jsx(nn,{disabled:s.disabled,className:c,onSelect:()=>{var u;return(u=s.onSelect)==null?void 0:u.call(s)},children:s.label},l)})})]}):null}function as(){const[e,t]=f.useState(!1),[n,r]=f.useState(null),[i,s]=f.useState(null),a=f.useCallback((l,c)=>{l.preventDefault(),l.stopPropagation(),s(c),r({x:l.clientX,y:l.clientY}),t(!0)},[]);return{open:e,setOpen:t,position:n,data:i,setData:s,openMenu:a}}const UG=()=>{var t;const e=(t=navigator.clipboard)==null?void 0:t.writeText;return window.isSecureContext&&typeof e=="function"},lDe=e=>{try{if(typeof document.execCommand!="function")return!1;const t=document.activeElement,n=document.getSelection(),r=n&&n.rangeCount>0?n.getRangeAt(0):null;let i=!1;const s=c=>{var u;try{(u=c.clipboardData)==null||u.setData("text/plain",e),c.preventDefault(),i=!0}catch{}};document.addEventListener("copy",s);const a=document.createElement("textarea");a.value=e,a.readOnly=!0,a.style.position="fixed",a.style.top="0",a.style.left="-9999px",a.style.opacity="0",a.style.pointerEvents="none",a.style.fontSize="12pt",document.body.appendChild(a),a.focus(),a.select(),a.setSelectionRange(0,a.value.length);const l=document.execCommand("copy");return document.removeEventListener("copy",s),document.body.removeChild(a),t&&typeof t.focus=="function"&&t.focus(),n&&(n.removeAllRanges(),r&&n.addRange(r)),l&&(i||!UG())}catch{return!1}};async function KO(e){const t=String(e??"");if(!t)return{ok:!1,method:"unsupported"};const n=lDe(t);if(UG())try{return await navigator.clipboard.writeText(t),{ok:!0,method:"clipboard"}}catch{}return n?{ok:!0,method:"execCommand"}:{ok:!1,method:"execCommand"}}async function fl(e){return(await KO(e)).ok}const X0=new Set,Df=[],Wv=e=>{if(X0.size===0){Df.push(e),Df.length>20&&Df.shift();return}for(const t of X0)t(e)},Q={show:e=>Wv(e),success:(e,t)=>Wv({tone:"success",message:e,...t??{}}),error:(e,t)=>Wv({tone:"error",message:e,...t??{}}),info:(e,t)=>Wv({tone:"info",message:e,...t??{}}),subscribe:e=>(X0.add(e),Df.length&&Df.splice(0,Df.length).forEach(e),()=>{X0.delete(e)})},dL=({title:e,icon:t,type:n})=>{var b,w,v;const{t:r}=Wt(),[i,s]=f.useState("last_30_days"),[a,l]=f.useState({from:yd(new Date,30),to:new Date}),[c,u]=f.useState([]),d=as(),[h,m]=f.useState(null);f.useEffect(()=>{(async()=>{let j=Math.floor(Date.now()/1e3)-2592e3,k=Math.floor(Date.now()/1e3);if(i==="today")j=Math.floor(new Date().setHours(0,0,0,0)/1e3);else if(i==="last_7_days")j=Math.floor(Date.now()/1e3)-604800;else if(i==="custom"&&(a!=null&&a.from)&&(a!=null&&a.to)){j=Math.floor(a.from.getTime()/1e3);const C=Math.floor(a.to.getTime()/1e3);Number.isFinite(C)&&C>0&&(k=C)}try{const C=await xo.getTrafficRank(n,j,k);u(C.data.data)}catch(C){console.error(`Failed to fetch ${n} rank`,C)}})()},[n,i,a]);function p(_,j=2){if(!+_)return"0 B";const k=1024,C=j<0?0:j,O=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],P=Math.floor(Math.log(_)/Math.log(k));return`${parseFloat((_/Math.pow(k,P)).toFixed(C))} ${O[P]}`}const g=f.useMemo(()=>Math.max(1,...c.map(_=>_.value||0)),[c]),y=_=>{const j=Math.abs(_);return Number.isInteger(j)?j.toFixed(0):j.toFixed(1)},x=_=>{const j=y(_);return _>0?`+${j}%`:_<0?`-${j}%`:`${j}%`};return o.jsxs(It,{className:"col-span-1",children:[o.jsxs(Xn,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx("div",{className:"space-y-1",children:o.jsxs(Zn,{className:"flex items-center gap-2 text-base font-semibold",children:[o.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:e})]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(it,{value:i,onValueChange:s,children:[o.jsx(et,{className:"h-8 w-[120px] text-xs",children:o.jsx(st,{placeholder:r("dashboard.time_range")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"today",children:r("dashboard.today")}),o.jsx(fe,{value:"last_7_days",children:r("dashboard.last_7_days")}),o.jsx(fe,{value:"last_30_days",children:r("dashboard.last_30_days")}),o.jsx(fe,{value:"custom",children:r("dashboard.custom_range")})]})]}),i==="custom"&&o.jsx(WG,{date:a,setDate:l,withTime:!0,className:"w-auto",triggerClassName:"h-8 w-[260px]"}),o.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground","aria-label":r("dashboard.range"),children:o.jsx(H_,{className:"h-4 w-4"})})]})]}),o.jsxs(Lt,{children:[o.jsx(cs,{className:"h-[320px] pr-3",children:o.jsxs("div",{className:"space-y-1.5",children:[c.map(_=>{const j=Math.min(100,Math.round(_.value/g*100)),k=Number(_.change),C=Number.isFinite(k)?k:0,O=C>=0;return o.jsxs(bl,{open:h===_.id,onOpenChange:P=>{P||m(M=>M===_.id?null:M)},children:[o.jsx(_l,{asChild:!0,children:o.jsx("div",{className:"group relative rounded-xl bg-muted/40 px-3 py-1.5 transition-colors hover:bg-muted/50",onMouseEnter:()=>m(_.id),onMouseLeave:()=>m(P=>P===_.id?null:P),onContextMenu:P=>d.openMenu(P,_),children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("div",{className:"text-sm font-medium truncate text-foreground",children:_.name}),o.jsx("div",{className:"mt-2 h-1.5 w-full rounded-full bg-muted/70",children:o.jsx("div",{className:"h-full rounded-full bg-foreground/90",style:{width:`${j}%`}})})]}),o.jsxs("div",{className:"flex flex-col items-end gap-0.5 text-xs leading-tight shrink-0",children:[o.jsxs("div",{className:ae("flex items-center font-medium tabular-nums",O?"text-green-600":"text-red-500"),children:[O?o.jsx(vh,{className:"w-3 h-3 mr-1"}):o.jsx(xh,{className:"w-3 h-3 mr-1"}),y(C),"%"]}),o.jsx("div",{className:"text-muted-foreground tabular-nums",children:p(_.value)})]})]})})}),o.jsxs(Po,{side:"right",align:"center",sideOffset:12,className:"w-auto min-w-[180px] rounded-lg border border-slate-800 bg-slate-900 px-3 py-2 text-[11px] text-white shadow-lg pointer-events-none",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-white/70",children:r("dashboard.current_traffic")}),o.jsx("span",{className:"font-semibold tabular-nums",children:p(_.value)})]}),o.jsxs("div",{className:"mt-1 flex items-center justify-between gap-3 text-white/80",children:[o.jsx("span",{children:r("dashboard.previous_traffic")}),o.jsx("span",{className:"font-semibold tabular-nums text-white",children:p(_.previousValue)})]}),o.jsxs("div",{className:"mt-1 flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-white/70",children:r("dashboard.change_rate")}),o.jsx("span",{className:ae("font-semibold tabular-nums",O?"text-green-400":"text-red-400"),children:x(C)})]})]})]},_.id)}),c.length===0&&o.jsx("div",{className:"text-center text-sm text-muted-foreground py-6",children:r("dashboard.system_log_empty")})]})}),o.jsx(ss,{open:d.open,onOpenChange:d.setOpen,position:d.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),r("dashboard.copy_name")]}),disabled:!((b=d.data)!=null&&b.name),onSelect:()=>{var _;(_=d.data)!=null&&_.name&&(d.setOpen(!1),fl(d.data.name).then(j=>j?Q.success(r("common.copied")):Q.error(r("common.copy_failed"))).catch(()=>Q.error(r("common.copy_failed"))))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),r("dashboard.copy_id")]}),disabled:((w=d.data)==null?void 0:w.id)===void 0||((v=d.data)==null?void 0:v.id)===null,onSelect:()=>{var _,j;((_=d.data)==null?void 0:_.id)===void 0||((j=d.data)==null?void 0:j.id)===null||(d.setOpen(!1),fl(String(d.data.id)).then(k=>k?Q.success(r("common.copied")):Q.error(r("common.copy_failed"))).catch(()=>Q.error(r("common.copy_failed"))))}}]})]})]})};function cDe(){const{t:e}=Wt();return o.jsxs(o.Fragment,{children:[o.jsx(dL,{title:e("dashboard.node_traffic_rank"),type:"node",icon:tj}),o.jsx(dL,{title:e("dashboard.user_traffic_rank"),type:"user",icon:Jf})]})}function VG(e){return Number.isFinite(e)?Math.max(0,Math.min(100,e)):0}function hL(e,t){if(!Number.isFinite(e)||e<=0)return 0;const n=Number.isFinite(t)&&t>0?t:1;return VG(e/(e+n)*100)}function YO({value:e}){const t=VG(e);return o.jsx("div",{className:"h-2 w-full rounded-full bg-muted overflow-hidden",children:o.jsx("div",{className:"h-full bg-foreground transition-[width] duration-300",style:{width:`${t}%`}})})}function uDe(){const{t:e}=Wt(),[t,n]=f.useState(null),[r,i]=f.useState(!1),[s,a]=f.useState(null),l=f.useCallback(async()=>{i(!0);try{const m=await xo.getQueueStats();n(m.data.data),a(Date.now())}catch(m){console.error("Failed to fetch queue stats",m)}finally{i(!1)}},[]);f.useEffect(()=>{l();const m=setInterval(l,1e4);return()=>clearInterval(m)},[l]);const c=t!=null&&t.wait&&Object.values(t.wait)[0]||0,u=!!(t!=null&&t.status),d=f.useMemo(()=>hL((t==null?void 0:t.recentJobs)??0,1e3),[t==null?void 0:t.recentJobs]),h=f.useMemo(()=>hL((t==null?void 0:t.jobsPerMinute)??0,50),[t==null?void 0:t.jobsPerMinute]);return o.jsxs(It,{className:"h-full",children:[o.jsxs(Xn,{className:"flex flex-row items-center justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Zn,{className:"text-base font-semibold",children:e("dashboard.queue_status")}),s&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.last_updated"),": ",new Date(s).toLocaleTimeString()]})]}),o.jsx(W,{variant:"outline",size:"sm",onClick:l,disabled:r,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",r&&"animate-spin")})})]}),o.jsx(Lt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[u?o.jsx(Ef,{className:"h-5 w-5 text-green-500"}):o.jsx($d,{className:"h-5 w-5 text-red-500"}),o.jsx("div",{className:"font-semibold",children:e("dashboard.running_state")})]}),o.jsx("div",{className:ae("text-xs font-medium",u?"text-green-600":"text-red-600"),children:e(u?"dashboard.normal":"dashboard.stopped")})]}),o.jsxs("div",{className:"mt-3 text-xs text-muted-foreground flex items-center gap-2",children:[o.jsxs("span",{children:[e("dashboard.wait_time"),":"]}),o.jsxs("span",{className:"font-semibold text-foreground tabular-nums",children:[c,o.jsx("span",{className:"ml-1 text-xs font-medium text-muted-foreground",children:e("dashboard.seconds")})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.pending_tasks")}),o.jsx("div",{className:"text-2xl font-bold tabular-nums",children:(t==null?void 0:t.recentJobs)??0})]}),o.jsx("div",{className:"mt-3",children:o.jsx(YO,{value:d})})]}),o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.processed_per_min")}),o.jsx("div",{className:"text-2xl font-bold tabular-nums",children:(t==null?void 0:t.jobsPerMinute)??0})]}),o.jsx("div",{className:"mt-3",children:o.jsx(YO,{value:h})})]})]})]})})]})}function dDe(e){if(!Number.isFinite(e)||e<=0)return"-";if(e<60)return`${e}m`;const t=Math.floor(e/60);return t<48?`${t}h`:`${Math.floor(t/24)}d`}function hDe(e){const t=Math.max(0,Math.floor(Number(e)||0));if(t<60)return`${t}s`;const n=Math.floor(t/60),r=t%60;if(n<60)return`${n}m ${r}s`;const i=Math.floor(n/60),s=n%60;return`${i}h ${s}m`}function fDe(){var Te;const{t:e}=Wt(),[t,n]=f.useState(null),[r,i]=f.useState(!1),[s,a]=f.useState(null),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState([]),[p,g]=f.useState(0),[y,x]=f.useState(1),[b,w]=f.useState(10),[v,_]=f.useState(!1),[j,k]=f.useState(null),C=f.useCallback(async()=>{i(!0);try{const V=await xo.getQueueStats();n(V.data.data),a(Date.now())}catch(V){console.error("Failed to fetch queue stats",V)}finally{i(!1)}},[]),O=f.useCallback(async(V,ue=b)=>{d(!0);try{const pe=await xo.getHorizonFailedJobs({current:V,page_size:ue});m(pe.data.data||[]),g(pe.data.total||0),x(pe.data.current||V)}catch(pe){m([]),g(0),console.error("Failed to fetch failed jobs",pe)}finally{d(!1)}},[b]);f.useEffect(()=>{C();const V=setInterval(C,1e4);return()=>clearInterval(V)},[C]);const P=(t==null?void 0:t.failedJobs)??0,M=((Te=t==null?void 0:t.periods)==null?void 0:Te.failedJobs)??0,A=t==null?void 0:t.queueWithMaxRuntime,R=A&&typeof A=="object"&&"name"in A&&String(A.name)||e("dashboard.na"),B=A&&typeof A=="object"&&"runtime"in A?Number(A.runtime):0,F=Number.isFinite(B)?B>1e3?B/1e3:B:0,U=(t==null?void 0:t.processes)??0,L=U>0?100:0,D=Math.max(1,Math.ceil(p/b)),T=Math.min(h.length,b),$=h.length===0?160:Math.min(560,44+T*52),G=0,ie=V=>{const ue=String(V||"").trim();if(!ue)return"-";const pe=ue.split("\\").pop()||ue.split("/").pop()||ue;return pe.length>42?`${pe.slice(0,42)}`:pe},X=V=>{const ue=String(V||"").trim();if(!ue)return"-";const pe=ue.indexOf("#");if(pe>0){const $e=ue.slice(pe+1).trim();if($e.length>=16&&/^[0-9a-f-]+$/i.test($e))return ue.slice(0,pe).trim()}return ue},se=V=>{const ue=String(V||"").split(`
`)[0]||"";if(!ue.trim())return"-";const[pe,...$e]=ue.split(":"),Qe=ie(pe),K=$e.join(":").trim(),ne=K?`${Qe}: ${K}`:Qe;return ne.length>80?`${ne.slice(0,80)}`:ne},xe=async()=>{k(null),_(!1),c(!0),await O(1)},me=V=>{const ue=(V==null?void 0:V.failed_at)??(V==null?void 0:V.failedAt)??(V==null?void 0:V.failedAtTimestamp),pe=Number(ue);if(!Number.isFinite(pe))return String(ue??"-");const $e=pe>1e10?pe:pe*1e3;try{return new Date($e).toLocaleString()}catch{return String(ue)}},De=V=>{const ue=(V==null?void 0:V.failed_at)??(V==null?void 0:V.failedAt)??(V==null?void 0:V.failedAtTimestamp),pe=Number(ue);return!Number.isFinite(pe)||pe<=0?null:pe>1e10?Math.trunc(pe):Math.trunc(pe*1e3)},ge=V=>String((V==null?void 0:V.id)??(V==null?void 0:V.uuid)??(V==null?void 0:V.job_id)??(V==null?void 0:V.jobId)??"-"),Ve=V=>{var ue;return String((V==null?void 0:V.queue)??((ue=V==null?void 0:V.payload)==null?void 0:ue.queue)??"-")},oe=V=>{var ue;return String((V==null?void 0:V.connection)??((ue=V==null?void 0:V.payload)==null?void 0:ue.connection)??"-")},Pe=V=>typeof(V==null?void 0:V.exception)=="string"?V.exception:"",Y=V=>{const ue=V==null?void 0:V.payload;if(!ue)return null;if(typeof ue=="string")try{return JSON.parse(ue)}catch{return ue}return ue},te=V=>{if(V==null)return"";if(typeof V=="string")return V;try{return JSON.stringify(V,null,2)}catch{return String(V)}},Ne=V=>{var K,ne,Ce;const ue=(V==null?void 0:V.queue)??((K=V==null?void 0:V.payload)==null?void 0:K.queue)??"-",pe=(V==null?void 0:V.name)??((ne=V==null?void 0:V.payload)==null?void 0:ne.displayName)??((Ce=V==null?void 0:V.payload)==null?void 0:Ce.job)??(V==null?void 0:V.job)??"-",$e=X(String(pe)),Qe=typeof(V==null?void 0:V.exception)=="string"?V.exception.split(`
`)[0]:"";return{queue:String(ue),name:String($e),exception:Qe}};return o.jsxs(o.Fragment,{children:[o.jsxs(It,{className:"h-full",children:[o.jsxs(Xn,{className:"flex flex-row items-center justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Zn,{className:"text-base font-semibold",children:e("dashboard.job_details")}),s&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("dashboard.last_updated"),": ",new Date(s).toLocaleTimeString()]})]}),o.jsx(W,{variant:"outline",size:"sm",onClick:C,disabled:r,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",r&&"animate-spin")})})]}),o.jsx(Lt,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx("span",{children:e("dashboard.report_7d")}),o.jsx(W,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:xe,"aria-label":e("dashboard.failed_jobs_title"),children:o.jsx(TC,{className:"h-4 w-4 text-muted-foreground"})})]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-red-600",children:P})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(MC,{className:"h-4 w-4"}),e("dashboard.retention_time")]}),o.jsxs("div",{className:"font-semibold tabular-nums",children:[M||"-",o.jsx("span",{className:"ml-1 text-xs font-medium text-muted-foreground",children:e("dashboard.minutes")}),o.jsxs("span",{className:"ml-2 text-xs font-medium text-muted-foreground",children:["(",e("dashboard.approx"),": ",dDe(M),")"]})]})]})]}),o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.max_runtime_queue")}),o.jsx("div",{className:"text-2xl font-bold tabular-nums",children:hDe(F)})]}),o.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(Kce,{className:"h-4 w-4"}),e("dashboard.failed_table.queue")]}),o.jsx("div",{className:"max-w-[220px] truncate text-right font-semibold text-foreground",children:R||e("dashboard.na")})]})]})]}),o.jsxs("div",{className:"rounded-lg border p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(H_,{className:"h-4 w-4 text-muted-foreground"}),e("dashboard.active_processes")]}),o.jsxs("div",{className:"text-sm font-semibold tabular-nums",children:[U," / ",U]})]}),o.jsx("div",{className:"mt-3",children:o.jsx(YO,{value:L})})]})]})})]}),o.jsx(on,{open:l,onOpenChange:V=>{c(V),V||(k(null),_(!1))},children:o.jsxs(rn,{className:"max-w-5xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("dashboard.failed_jobs_title")})}),o.jsx(cs,{className:"pr-4",style:{height:$},children:u?o.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:e("dashboard.loading")}):h.length===0?o.jsx("div",{className:"p-4 text-sm text-muted-foreground",children:e("dashboard.failed_jobs_empty")}):o.jsx("div",{className:"rounded-md border overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[180px]",children:e("dashboard.failed_table.time")}),o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[140px]",children:e("dashboard.failed_table.queue")}),o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("dashboard.failed_table.job")}),o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("dashboard.failed_table.exception")}),o.jsx("th",{className:"text-center font-medium px-3 py-2 w-[84px]",children:e("dashboard.failed_table.action")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:h.map((V,ue)=>{const pe=Ne(V),$e=pe.name,Qe=ie($e),K=pe.exception||"",ne=se(K);return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-3 py-3 align-top text-xs tabular-nums",children:me(V)}),o.jsx("td",{className:"px-3 py-3 align-top text-xs",children:pe.queue}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"truncate max-w-[260px]",title:$e,children:Qe})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"truncate max-w-[360px]",title:K||"-",children:ne})}),o.jsx("td",{className:"px-3 py-3 align-top text-center",children:o.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{k(V),_(!0)},"aria-label":e("dashboard.detail"),children:o.jsx(TC,{className:"h-4 w-4"})})})]},(V==null?void 0:V.id)??(V==null?void 0:V.uuid)??ue)})})]})})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("dashboard.selected_count",{selected:G,total:p})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e("dashboard.per_page"),o.jsxs(it,{value:String(b),onValueChange:V=>{const ue=Math.max(10,Number(V)||10);w(ue),O(1,ue)},children:[o.jsx(et,{className:"h-8 w-[72px]",children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"10",children:"10"}),o.jsx(fe,{value:"20",children:"20"}),o.jsx(fe,{value:"50",children:"50"}),o.jsx(fe,{value:"100",children:"100"})]})]})]}),o.jsx("div",{className:"text-sm text-muted-foreground tabular-nums",children:e("dashboard.page_info",{current:y,total:D})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(1),disabled:u||y<=1,children:o.jsx(Jw,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(Math.max(1,y-1)),disabled:u||y<=1,children:o.jsx(Zw,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(Math.min(D,y+1)),disabled:u||y>=D,children:o.jsx(zm,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>O(D),disabled:u||y>=D,children:o.jsx(ej,{className:"h-4 w-4"})})]})]})]}),o.jsxs(pr,{children:[o.jsxs(W,{variant:"outline",onClick:()=>O(y),disabled:u,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",u&&"animate-spin")}),e("common.refresh")]}),o.jsx(W,{variant:"outline",onClick:()=>c(!1),children:e("common.close")})]})]})}),o.jsx(on,{open:v,onOpenChange:_,children:o.jsxs(rn,{className:"max-w-4xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("dashboard.failed_job_detail_title")})}),o.jsx(cs,{className:"h-[70vh] pr-4",children:j&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-md border p-4",children:o.jsxs("div",{className:"grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.task_id")}),o.jsx("span",{className:"font-medium tabular-nums truncate",children:ge(j)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.timestamp_ms")}),o.jsx("span",{className:"font-medium tabular-nums",children:De(j)??"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.failed_table.queue")}),o.jsx("span",{className:"font-medium truncate",children:Ve(j)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.connection")}),o.jsx("span",{className:"font-medium truncate",children:oe(j)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 md:col-span-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.failed_at")}),o.jsx("span",{className:"font-medium tabular-nums",children:me(j)})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.exception")}),o.jsx("pre",{className:"min-h-[220px] rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono text-red-600 whitespace-pre-wrap break-words",children:Pe(j)||"-"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.payload")}),o.jsx("pre",{className:"min-h-[260px] rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono whitespace-pre-wrap break-words",children:te(Y(j))||"-"})]})]})}),o.jsx(pr,{children:o.jsx(W,{variant:"outline",onClick:()=>_(!1),children:e("common.close")})})]})})]})}function mDe(){const{t:e}=Wt(),[t,n]=f.useState({info:0,warning:0,error:0,total:0}),[r,i]=f.useState(!1),[s,a]=f.useState(!1),[l,c]=f.useState("all"),[u,d]=f.useState(""),[h,m]=f.useState(""),[p,g]=f.useState(1),[y,x]=f.useState(10),[b,w]=f.useState(0),[v,_]=f.useState([]),[j,k]=f.useState(!1),[C,O]=f.useState(!1),[P,M]=f.useState(null),[A,R]=f.useState(!1),[B,F]=f.useState(30),[U,L]=f.useState("all"),[D,T]=f.useState(1e3),[$,G]=f.useState(null),[ie,X]=f.useState(null),[se,xe]=f.useState(null),[me,De]=f.useState(!1),ge=f.useCallback(async()=>{i(!0);try{const ne=await xo.getSystemStatus();n(ne.data.data.logs)}catch(ne){console.error("Failed to fetch system log stats",ne)}finally{i(!1)}},[]);f.useEffect(()=>{ge()},[ge]),f.useEffect(()=>{const ne=setTimeout(()=>{const Ce=u.trim();m(Ce),g(1)},400);return()=>clearTimeout(ne)},[u]);const Ve=f.useMemo(()=>Math.max(1,Math.ceil(b/y)),[b,y]),oe=0,Pe=ne=>{const Ce=Number(ne);if(!Number.isFinite(Ce)||Ce<=0)return"-";const Z=Ce>1e10?Ce:Ce*1e3;try{return new Date(Z).toLocaleString()}catch{return String(ne)}},Y=ne=>{const Ce=(ne||"").toUpperCase();return e(Ce==="ERROR"?"dashboard.error":Ce==="WARNING"?"dashboard.warning":"dashboard.info")},te=ne=>{const Ce=(ne||"").toUpperCase();return Ce==="ERROR"?o.jsx(gv,{className:"h-4 w-4 text-red-500"}):Ce==="WARNING"?o.jsx(xv,{className:"h-4 w-4 text-yellow-500"}):o.jsx(Vb,{className:"h-4 w-4 text-blue-500"})},Ne=f.useCallback(async()=>{k(!0);try{const ne={current:p,page_size:y};l!=="all"&&(ne.level=l),h&&(ne.keyword=h);const Ce=await xo.getSystemLog(ne);_(Ce.data.data??[]),w(Ce.data.total??0)}catch(ne){console.error("Failed to fetch system logs",ne),_([]),w(0)}finally{k(!1)}},[p,y,l,h]);f.useEffect(()=>{s&&Ne()},[s,Ne]);const Te=()=>{c("all"),d(""),m(""),g(1),x(10)},V=Math.min(v.length,y),ue=v.length===0?220:Math.min(560,44+V*52),pe=ne=>Math.max(0,Math.min(365,Math.trunc(ne))),$e=ne=>Math.max(100,Math.min(1e4,Math.trunc(ne))),Qe=f.useCallback(async ne=>{De(!0),ne!=null&&ne.preserveResult||(X(null),xe(null));try{const Ce=pe(B),Z=await xo.getLogClearStats({days:Ce,level:U});G(Z.data.data)}catch(Ce){console.error("Failed to get log clear stats",Ce),G(null)}finally{De(!1)}},[B,U]),K=f.useCallback(async()=>{var ne,Ce,Z,be,Ie,re,H,we;De(!0),X(null),xe(null);try{const Be=pe(B),Je=$e(D),Xe=await xo.clearSystemLog({days:Be,level:U,limit:Je}),Nt=((Ce=(ne=Xe.data)==null?void 0:ne.data)==null?void 0:Ce.message)||e("dashboard.clear_logs_done"),ft=(be=(Z=Xe.data)==null?void 0:Z.data)==null?void 0:be.deleted_count,Et=(re=(Ie=Xe.data)==null?void 0:Ie.data)==null?void 0:re.total_count,Xt=(we=(H=Xe.data)==null?void 0:H.data)==null?void 0:we.remaining_count,hn=[Nt,Number.isFinite(ft)?`${e("dashboard.clear_logs_deleted")}: ${ft}`:null,Number.isFinite(Et)?`${e("dashboard.clear_logs_total_count")}: ${Et}`:null,Number.isFinite(Xt)?`${e("dashboard.clear_logs_remaining")}: ${Xt}`:null].filter(Boolean).join(" / ");X(hn),xe(Number.isFinite(ft)?ft>0?"success":"warning":"success"),await ge(),s&&await Ne(),await Qe({preserveResult:!0})}catch(Be){console.error("Failed to clear system logs",Be),X(e("common.save_failed")),xe("error")}finally{De(!1)}},[B,U,D,e,ge,s,Ne,Qe]);return o.jsxs(It,{className:"col-span-full",children:[o.jsxs(Xn,{className:"flex flex-row items-center justify-between space-y-0",children:[o.jsx(Zn,{className:"text-base font-semibold",children:e("dashboard.system_log")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",className:"h-8",onClick:()=>a(!0),children:e("dashboard.view_all")}),o.jsxs(W,{variant:"destructive",size:"sm",className:ae("h-8",r&&"opacity-80"),onClick:()=>{R(!0),X(null),xe(null),G(null)},disabled:r,children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("dashboard.clear_logs")]})]})]}),o.jsxs(Lt,{children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[o.jsx("div",{className:"rounded-lg p-4 bg-blue-500/10 border border-blue-500/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700 dark:text-blue-300",children:[o.jsx(Vb,{className:"h-4 w-4"}),e("dashboard.info")]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-blue-700 dark:text-blue-300",children:t.info})]})}),o.jsx("div",{className:"rounded-lg p-4 bg-yellow-500/10 border border-yellow-500/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-yellow-700 dark:text-yellow-300",children:[o.jsx(xv,{className:"h-4 w-4"}),e("dashboard.warning")]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-yellow-700 dark:text-yellow-300",children:t.warning})]})}),o.jsx("div",{className:"rounded-lg p-4 bg-red-500/10 border border-red-500/20",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-700 dark:text-red-300",children:[o.jsx(gv,{className:"h-4 w-4"}),e("dashboard.error")]}),o.jsx("div",{className:"text-2xl font-bold tabular-nums text-red-700 dark:text-red-300",children:t.error})]})})]}),o.jsxs("div",{className:"mt-3 text-xs text-muted-foreground",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:t.total}),r&&o.jsx("span",{className:"ml-2",children:e("dashboard.loading")})]})]}),o.jsx(on,{open:A,onOpenChange:R,children:o.jsxs(rn,{className:"max-w-3xl",children:[o.jsx(ln,{children:o.jsxs(cn,{className:"flex items-center gap-2",children:[o.jsx(Pn,{className:"h-5 w-5 text-red-500"}),e("dashboard.clear_logs_title")]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.clear_logs_days")}),o.jsx(J,{type:"number",min:0,max:365,value:B,onChange:ne=>F(pe(Number(ne.target.value)))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.clear_logs_days_hint")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.clear_logs_level")}),o.jsxs(it,{value:U,onValueChange:ne=>L(ne),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("dashboard.all")}),o.jsx(fe,{value:"info",children:e("dashboard.info")}),o.jsx(fe,{value:"warning",children:e("dashboard.warning")}),o.jsx(fe,{value:"error",children:e("dashboard.error")})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("dashboard.clear_logs_limit")}),o.jsx(J,{type:"number",min:100,max:1e4,value:D,onChange:ne=>T($e(Number(ne.target.value)))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("dashboard.clear_logs_limit_hint")})]})]}),o.jsxs("div",{className:"rounded-xl border border-amber-200/80 bg-amber-50/60 p-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-amber-900",children:[o.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-amber-100 text-amber-700",children:o.jsx(sle,{className:"h-4 w-4"})}),e("dashboard.clear_logs_preview")]}),o.jsxs(W,{variant:"outline",size:"sm",onClick:()=>Qe(),disabled:me,className:"h-8",children:[o.jsx(q6,{className:ae("h-4 w-4 mr-2",me&&"animate-spin")}),e("dashboard.clear_logs_get_stats")]})]}),o.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-2 md:grid-cols-3 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.clear_logs_cutoff")}),o.jsx("span",{className:"font-semibold tabular-nums truncate",children:($==null?void 0:$.cutoff_date)??"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.clear_logs_to_clear")}),o.jsx("span",{className:"font-semibold tabular-nums",children:($==null?void 0:$.logs_to_clear)??"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.clear_logs_total_logs")}),o.jsx("span",{className:"font-semibold tabular-nums",children:($==null?void 0:$.total_logs)??"-"})]})]}),$&&o.jsxs("div",{className:ae("mt-4 rounded-lg border p-3 text-sm",$.logs_to_clear===0?"border-red-200 bg-red-50 text-red-700":"border-amber-200 bg-amber-100/60 text-amber-900"),children:[o.jsx("div",{className:"font-medium",children:e("dashboard.clear_logs_will_clear",{count:$.logs_to_clear??0})}),o.jsx("div",{className:"mt-1 text-xs",children:e("dashboard.clear_logs_irreversible")}),o.jsx("div",{className:"mt-1 text-xs",children:e("dashboard.clear_logs_rule_hint")}),$.logs_to_clear===0&&o.jsx("div",{className:"mt-2 text-xs font-medium",children:e("dashboard.clear_logs_zero_error")})]}),ie&&o.jsxs("div",{className:ae("mt-3 flex items-start gap-2 rounded-lg border p-3 text-sm",se==="success"&&"border-emerald-200 bg-emerald-50 text-emerald-700",se==="warning"&&"border-amber-200 bg-amber-50 text-amber-800",se==="error"&&"border-red-200 bg-red-50 text-red-700"),role:"status","aria-live":"polite",children:[se==="success"?o.jsx(Ef,{className:"mt-0.5 h-4 w-4"}):se==="error"?o.jsx(gv,{className:"mt-0.5 h-4 w-4"}):o.jsx(xv,{className:"mt-0.5 h-4 w-4"}),o.jsx("div",{className:"leading-5",children:ie})]})]})]}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>R(!1),disabled:me,children:e("common.cancel")}),o.jsx(W,{variant:"destructive",onClick:K,disabled:me,children:e("dashboard.clear_logs_confirm")})]})]})}),o.jsx(on,{open:s,onOpenChange:ne=>{a(ne),ne||(O(!1),M(null))},children:o.jsxs(rn,{className:"max-w-6xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("dashboard.system_log")})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center rounded-lg bg-muted/50 p-1",children:[o.jsxs(W,{type:"button",variant:"ghost",size:"sm",className:ae(l==="all"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("all"),g(1)},children:[o.jsx(qg,{className:"h-4 w-4 mr-1.5"}),e("dashboard.all")]}),o.jsxs(W,{type:"button",variant:"ghost",size:"sm",className:ae(l==="info"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("info"),g(1)},children:[o.jsx(Vb,{className:"h-4 w-4 mr-1.5 text-blue-500"}),e("dashboard.info")]}),o.jsxs(W,{type:"button",variant:"ghost",size:"sm",className:ae(l==="warning"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("warning"),g(1)},children:[o.jsx(xv,{className:"h-4 w-4 mr-1.5 text-yellow-500"}),e("dashboard.warning")]}),o.jsxs(W,{type:"button",variant:"ghost",size:"sm",className:ae(l==="error"?"bg-card shadow-sm text-foreground":"text-muted-foreground"),onClick:()=>{c("error"),g(1)},children:[o.jsx(gv,{className:"h-4 w-4 mr-1.5 text-red-500"}),e("dashboard.error")]})]})}),o.jsxs("div",{className:"relative w-full md:w-[320px]",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(J,{value:u,onChange:ne=>d(ne.target.value),placeholder:e("dashboard.system_log_search_placeholder"),className:"h-9 pl-9"})]})]}),o.jsx(cs,{className:"pr-4",style:{height:ue},children:o.jsx("div",{className:"rounded-md border overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[120px]",children:e("dashboard.system_log_table.level")}),o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[180px]",children:e("dashboard.system_log_table.time")}),o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("dashboard.system_log_table.title")}),o.jsx("th",{className:"text-left font-medium px-3 py-2 w-[120px]",children:e("dashboard.system_log_table.method")}),o.jsx("th",{className:"text-center font-medium px-3 py-2 w-[84px]",children:e("dashboard.system_log_table.action")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:j?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-3 py-10 text-center text-sm text-muted-foreground",children:e("dashboard.loading")})}):v.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-3 py-10 text-center text-sm text-muted-foreground",children:e("dashboard.system_log_empty")})}):v.map((ne,Ce)=>{const Z=(ne.title||"").trim()||(ne.context||"").trim()||(ne.data||"").trim()||"-",be=(ne.method||"").toUpperCase();return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsxs("div",{className:"flex items-center gap-2",children:[te(ne.level),o.jsx("span",{className:ae("text-xs font-medium",String(ne.level||"").toUpperCase()==="ERROR"&&"text-red-600",String(ne.level||"").toUpperCase()==="WARNING"&&"text-yellow-700",String(ne.level||"").toUpperCase()==="INFO"&&"text-blue-700"),children:Y(ne.level)})]})}),o.jsx("td",{className:"px-3 py-3 align-top text-xs tabular-nums",children:Pe(ne.created_at)}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("div",{className:"truncate max-w-[520px]",title:Z,children:Z})}),o.jsx("td",{className:"px-3 py-3 align-top",children:o.jsx("span",{className:ae("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium",be==="GET"&&"border-blue-200 bg-blue-50 text-blue-700",be==="POST"&&"border-green-200 bg-green-50 text-green-700",be==="PUT"&&"border-amber-200 bg-amber-50 text-amber-700",be==="DELETE"&&"border-red-200 bg-red-50 text-red-700"),children:be||"-"})}),o.jsx("td",{className:"px-3 py-3 align-top text-center",children:o.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{M(ne),O(!0)},"aria-label":e("dashboard.detail"),children:o.jsx(TC,{className:"h-4 w-4"})})})]},ne.id??Ce)})})]})})}),o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("dashboard.selected_count",{selected:oe,total:b})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e("dashboard.per_page"),o.jsxs(it,{value:String(y),onValueChange:ne=>{const Ce=Math.max(10,Number(ne)||10);x(Ce),g(1)},children:[o.jsx(et,{className:"h-8 w-[72px]",children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"10",children:"10"}),o.jsx(fe,{value:"20",children:"20"}),o.jsx(fe,{value:"50",children:"50"}),o.jsx(fe,{value:"100",children:"100"})]})]})]}),o.jsx("div",{className:"text-sm text-muted-foreground tabular-nums",children:e("dashboard.page_info",{current:p,total:Ve})}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(1),disabled:j||p<=1,children:o.jsx(Jw,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(ne=>Math.max(1,ne-1)),disabled:j||p<=1,children:o.jsx(Zw,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(ne=>Math.min(Ve,ne+1)),disabled:j||p>=Ve,children:o.jsx(zm,{className:"h-4 w-4"})}),o.jsx(W,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>g(Ve),disabled:j||p>=Ve,children:o.jsx(ej,{className:"h-4 w-4"})})]})]})]}),o.jsxs(pr,{children:[o.jsxs(W,{variant:"outline",onClick:Ne,disabled:j,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",j&&"animate-spin")}),e("common.refresh")]}),o.jsx(W,{variant:"outline",onClick:Te,disabled:j,children:e("dashboard.system_log_reset_filter")}),o.jsx(W,{variant:"outline",onClick:()=>a(!1),children:e("common.close")})]}),o.jsx(on,{open:C,onOpenChange:O,children:o.jsxs(rn,{className:"max-w-4xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("dashboard.system_log_detail_title")})}),o.jsx(cs,{className:"h-[70vh] pr-4",children:P&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"rounded-md border p-4",children:o.jsxs("div",{className:"grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.level")}),o.jsx("span",{className:"font-medium",children:Y(P.level)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.time")}),o.jsx("span",{className:"font-medium tabular-nums",children:Pe(P.created_at)})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.method")}),o.jsx("span",{className:"font-medium",children:String(P.method||"-").toUpperCase()})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"URI"}),o.jsx("span",{className:"font-medium truncate",children:P.uri||"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"IP"}),o.jsx("span",{className:"font-medium tabular-nums",children:P.ip||"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("span",{className:"text-muted-foreground",children:"Host"}),o.jsx("span",{className:"font-medium truncate",children:P.host||"-"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 md:col-span-2",children:[o.jsx("span",{className:"text-muted-foreground",children:e("dashboard.system_log_table.title")}),o.jsx("span",{className:"font-medium truncate",children:(P.title||"").trim()||(P.context||"").trim()||(P.data||"").trim()||"-"})]})]})}),(P.context||"").trim()&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:"Context"}),o.jsx("pre",{className:"rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono whitespace-pre-wrap break-words",children:P.context})]}),(P.data||"").trim()&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:"Data"}),o.jsx("pre",{className:"rounded-md border bg-muted/10 p-3 text-xs leading-5 font-mono whitespace-pre-wrap break-words",children:P.data})]})]})}),o.jsx(pr,{children:o.jsx(W,{variant:"outline",onClick:()=>O(!1),children:e("common.close")})})]})})]})})]})}function pDe(){return o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx(Nge,{}),o.jsx("div",{className:"grid gap-4 grid-cols-1",children:o.jsx(oDe,{})}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:o.jsx(cDe,{})}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsx(uDe,{}),o.jsx(fDe,{})]}),o.jsx("div",{className:"grid gap-4 grid-cols-1",children:o.jsx(mDe,{})})]})}const HG=f.createContext(null);function gDe({children:e}){const{t}=Wt(),[n,r]=f.useState(!1),[i,s]=f.useState({}),a=f.useRef(null),l=f.useCallback(y=>{r(!1);const x=a.current;a.current=null,x==null||x(y)},[]),c=f.useCallback(y=>(s(y),r(!0),new Promise(x=>{a.current=x})),[]),u=i.title??t("common.confirm"),d=i.description,h=i.cancelText??t("common.cancel"),m=i.confirmText??t("common.confirm"),p=i.confirmVariant??"default",g=f.useMemo(()=>c,[c]);return o.jsxs(HG.Provider,{value:g,children:[e,o.jsx(on,{open:n,onOpenChange:y=>{if(!y&&n){l(!1);return}r(y)},children:o.jsxs(rn,{children:[o.jsxs(ln,{children:[o.jsx(cn,{children:u}),d?o.jsx(fU,{children:d}):null]}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>l(!1),children:h}),o.jsx(W,{variant:p,onClick:()=>l(!0),children:m})]})]})})]})}const wa=()=>{const e=f.useContext(HG);if(!e)throw new Error("useConfirmDialog must be used within <ConfirmDialogProvider />");return e},yDe=e=>e==="error"?6e3:e==="success"?2500:3e3,xDe=()=>{var t,n;const e=(n=(t=globalThis.crypto)==null?void 0:t.randomUUID)==null?void 0:n.call(t);return e||`${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`},vDe=e=>e==="success"||e==="error"||e==="info"?e:"info";function bDe({children:e}){const[t,n]=f.useState([]),[r,i]=f.useState(()=>new Set),s=f.useRef(new Map),a=f.useRef(new Map),l=f.useCallback(h=>{n(p=>p.filter(g=>g.id!==h)),i(p=>{if(!p.has(h))return p;const g=new Set(p);return g.delete(h),g});const m=a.current.get(h);m&&window.clearTimeout(m),a.current.delete(h)},[]),c=f.useCallback(h=>{i(y=>{if(y.has(h))return y;const x=new Set(y);return x.add(h),x});const m=s.current.get(h);m&&window.clearTimeout(m),s.current.delete(h);const p=a.current.get(h);p&&window.clearTimeout(p);const g=window.setTimeout(()=>l(h),170);a.current.set(h,g)},[l]),u=f.useCallback(h=>{const m=vDe(h.tone),p=Number.isFinite(h.durationMs)?Math.max(0,Math.trunc(h.durationMs)):yDe(m),g=xDe(),y={id:g,tone:m,title:h.title,message:String(h.message||""),durationMs:p};if(n(x=>{const b=[y,...x];if(b.length>6){const w=b.pop();if(w){const v=s.current.get(w.id);v&&window.clearTimeout(v),s.current.delete(w.id)}}return b}),p>0){const x=window.setTimeout(()=>c(g),p);s.current.set(g,x)}},[c]);f.useEffect(()=>Q.subscribe(u),[u]),f.useEffect(()=>()=>{for(const h of s.current.values())window.clearTimeout(h);for(const h of a.current.values())window.clearTimeout(h);s.current.clear(),a.current.clear()},[]);const d=f.useMemo(()=>({success:{icon:o.jsx(Ef,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"}),container:"border-emerald-500/55 bg-emerald-500/15 border-l-emerald-500 dark:border-emerald-400/55 dark:bg-emerald-400/15 dark:border-l-emerald-400"},error:{icon:o.jsx($d,{className:"h-4 w-4 text-rose-600 dark:text-rose-400"}),container:"border-rose-500/55 bg-rose-500/15 border-l-rose-500 dark:border-rose-400/55 dark:bg-rose-400/15 dark:border-l-rose-400"},info:{icon:o.jsx(Vb,{className:"h-4 w-4 text-sky-600 dark:text-sky-400"}),container:"border-sky-500/55 bg-sky-500/15 border-l-sky-500 dark:border-sky-400/55 dark:bg-sky-400/15 dark:border-l-sky-400"}}),[]);return o.jsxs(o.Fragment,{children:[e,o.jsx("div",{"aria-live":"polite",className:"pointer-events-none fixed left-1/2 top-3 z-[100] flex w-full max-w-[360px] -translate-x-1/2 flex-col gap-2 px-3 sm:top-4",children:t.map(h=>o.jsx("div",{className:"pointer-events-auto",children:o.jsxs("div",{role:"status","aria-atomic":"true",className:ae("group flex items-center gap-2 rounded-xl border border-l-4 px-3 py-2 shadow-md backdrop-blur",r.has(h.id)?"animate-out fade-out-0 slide-out-to-top-2 duration-200":"animate-in fade-in-0 slide-in-from-top-2 duration-200",d[h.tone].container),children:[o.jsx("div",{className:"flex-shrink-0",children:d[h.tone].icon}),o.jsxs("div",{className:"min-w-0 flex-1",children:[h.title?o.jsx("div",{className:"text-[13px] font-semibold leading-4 text-foreground",children:h.title}):null,o.jsx("div",{className:ae("text-[13px] leading-4",h.title?"mt-0.5 text-muted-foreground":"text-foreground"),children:h.message})]}),o.jsx(W,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-lg opacity-70 transition-opacity hover:opacity-100",onClick:()=>c(h.id),"aria-label":"Close",children:o.jsx(Fd,{className:"h-4 w-4"})})]})},h.id))})]})}function _De(e){const t=wDe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(kDe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function wDe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=NDe(i),l=SDe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jDe=Symbol("radix.slottable");function kDe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jDe}function SDe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function NDe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var CDe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],M1=CDe.reduce((e,t)=>{const n=_De(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),T1="Tabs",[ODe]=ba(T1,[cj]),KG=cj(),[PDe,BT]=ODe(T1),YG=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Zy(l),[h,m]=pl({prop:r,onChange:i,defaultProp:s??"",caller:T1});return o.jsx(PDe,{scope:n,baseId:La(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(M1.div,{dir:d,"data-orientation":a,...u,ref:t})})});YG.displayName=T1;var GG="TabsList",QG=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=BT(GG,n),a=KG(n);return o.jsx(L8,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(M1.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});QG.displayName=GG;var XG="TabsTrigger",ZG=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=BT(XG,n),l=KG(n),c=tQ(a.baseId,r),u=nQ(a.baseId,r),d=r===a.value;return o.jsx($8,{asChild:!0,...l,focusable:!i,active:d,children:o.jsx(M1.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:ut(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:ut(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:ut(e.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!i&&h&&a.onValueChange(r)})})})});ZG.displayName=XG;var JG="TabsContent",eQ=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,l=BT(JG,n),c=tQ(l.baseId,r),u=nQ(l.baseId,r),d=r===l.value,h=f.useRef(d);return f.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(Pi,{present:i||d,children:({present:m})=>o.jsx(M1.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&s})})});eQ.displayName=JG;function tQ(e,t){return`${e}-trigger-${t}`}function nQ(e,t){return`${e}-content-${t}`}var EDe=YG,rQ=QG,iQ=ZG,sQ=eQ;const Ym=EDe,Sh=f.forwardRef(({className:e,...t},n)=>o.jsx(rQ,{ref:n,className:ae("inline-flex items-center justify-center gap-1 rounded-xl bg-muted/40 p-1 text-muted-foreground",e),...t}));Sh.displayName=rQ.displayName;const mr=f.forwardRef(({className:e,...t},n)=>o.jsx(iQ,{ref:n,className:ae("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-card data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mr.displayName=iQ.displayName;const ii=f.forwardRef(({className:e,...t},n)=>o.jsx(sQ,{ref:n,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ii.displayName=sQ.displayName;function MDe(e){const t=TDe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(zDe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function TDe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=RDe(i),l=DDe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ADe=Symbol("radix.slottable");function zDe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ADe}function DDe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function RDe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var IDe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],aQ=IDe.reduce((e,t)=>{const n=MDe(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),A1="Switch",[LDe]=ba(A1),[$De,FDe]=LDe(A1),oQ=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,p]=f.useState(null),g=Zt(t,v=>p(v)),y=f.useRef(!1),x=m?d||!!m.closest("form"):!0,[b,w]=pl({prop:i,defaultProp:s??!1,onChange:u,caller:A1});return o.jsxs($De,{scope:n,checked:b,disabled:l,children:[o.jsx(aQ.button,{type:"button",role:"switch","aria-checked":b,"aria-required":a,"data-state":dQ(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:g,onClick:ut(e.onClick,v=>{w(_=>!_),x&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),x&&o.jsx(uQ,{control:m,bubbles:!y.current,name:r,value:c,checked:b,required:a,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});oQ.displayName=A1;var lQ="SwitchThumb",cQ=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=FDe(lQ,n);return o.jsx(aQ.span,{"data-state":dQ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});cQ.displayName=lQ;var BDe="SwitchBubbleInput",uQ=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=f.useRef(null),l=Zt(a,s),c=TT(n),u=wE(t);return f.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==n&&p){const g=new Event("click",{bubbles:r});p.call(d,n),d.dispatchEvent(g)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uQ.displayName=BDe;function dQ(e){return e?"checked":"unchecked"}var hQ=oQ,qDe=cQ;const Dt=f.forwardRef(({className:e,...t},n)=>o.jsx(hQ,{className:ae("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border border-border/70 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-emerald-600/60 data-[state=checked]:bg-emerald-600 data-[state=unchecked]:bg-muted dark:data-[state=checked]:border-emerald-500/60 dark:data-[state=checked]:bg-emerald-500 dark:data-[state=unchecked]:bg-muted/40",e),...t,ref:n,children:o.jsx(qDe,{className:ae("pointer-events-none block h-5 w-5 rounded-full border border-border/70 bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Dt.displayName=hQ.displayName;function Ge({label:e,htmlFor:t,hint:n,children:r}){return o.jsxs("div",{className:"space-y-2 border-b border-border/70 py-4 first:pt-0 last:border-b-0 last:pb-0",children:[o.jsx(ee,{htmlFor:t,className:"block text-sm font-medium leading-5 text-foreground",children:e}),r,n?o.jsx("div",{className:"text-xs text-muted-foreground",children:n}):null]})}function WDe(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({app_name:"",app_description:"",app_url:"",force_https:!1,logo:"",subscribe_url:"",tos_url:"",stop_register:!1,currency:"CNY",currency_symbol:""}),p=f.useCallback(v=>({app_name:v.app_name,app_description:v.app_description,app_url:v.app_url,force_https:v.force_https,logo:v.logo,subscribe_url:v.subscribe_url,tos_url:v.tos_url,stop_register:v.stop_register,currency:v.currency,currency_symbol:v.currency_symbol}),[]),g=f.useMemo(()=>p(h),[h,p]),y=f.useMemo(()=>JSON.stringify(g),[g]),x=f.useCallback(async()=>{var v,_;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const k=(await Kn.fetch("site")).data.data.site||{},C={app_name:k.app_name??"",app_description:k.app_description??"",app_url:k.app_url??"",force_https:!!k.force_https,logo:k.logo??"",subscribe_url:k.subscribe_url??"",tos_url:k.tos_url??"",stop_register:!!k.stop_register,currency:k.currency??"CNY",currency_symbol:k.currency_symbol??""};n.current=!0,r.current=JSON.stringify(p(C)),i.current="",m(C)}catch(j){console.error(j);const k=((_=(v=j==null?void 0:j.response)==null?void 0:v.data)==null?void 0:_.message)||e("common.load_failed");d(k),Q.error(k)}finally{a(!1)}},[e,p]);f.useEffect(()=>{x()},[x]);const b=f.useCallback(async(v,_)=>{var k,C;t.current&&(window.clearTimeout(t.current),t.current=null);const j=JSON.stringify(v);c(!0),d(e("common.saving"));try{await Kn.save(v),r.current=j,i.current="";const O=String(v.app_name||"").trim();O?localStorage.setItem("app_name",O):localStorage.removeItem("app_name"),window.dispatchEvent(new Event("xboard:site_name_changed")),d(e("common.saved")),_!=null&&_.silentSuccess||Q.success(e("common.saved"))}catch(O){console.error(O),i.current=j;const P=((C=(k=O==null?void 0:O.response)==null?void 0:k.data)==null?void 0:C.message)||e("common.save_failed");d(P),Q.error(P)}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&y!==r.current&&y!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,b(g,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,g,y,b,l]);const w=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:y===r.current?{label:e("common.saved"),className:"text-green-600"}:y===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[y,l,e]);return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.site_settings")}),o.jsx(ha,{children:e("system.site_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[w&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",w.className),children:[e("common.autosave"),": ",w.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:x,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>b(g),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.site_name"),htmlFor:"site_name",hint:e("system.site_name_hint"),children:o.jsx(J,{id:"site_name",value:h.app_name,onChange:v=>m(_=>({..._,app_name:v.target.value})),placeholder:"Xboard"})}),o.jsx(Ge,{label:e("system.site_description"),htmlFor:"site_desc",hint:e("system.site_description_hint"),children:o.jsx(J,{id:"site_desc",value:h.app_description,onChange:v=>m(_=>({..._,app_description:v.target.value})),placeholder:"Xboard is best!"})}),o.jsx(Ge,{label:e("system.site_url"),htmlFor:"site_url",hint:e("system.site_url_hint"),children:o.jsx(J,{id:"site_url",value:h.app_url,onChange:v=>m(_=>({..._,app_url:v.target.value})),placeholder:"https://example.com"})}),o.jsx(Ge,{label:e("system.site_ssl"),htmlFor:"https",hint:e("system.site_ssl_hint"),children:o.jsx(Dt,{id:"https",checked:h.force_https,onCheckedChange:v=>m(_=>({..._,force_https:v}))})}),o.jsx(Ge,{label:e("system.stop_register"),htmlFor:"stop_register",hint:e("system.stop_register_hint"),children:o.jsx(Dt,{id:"stop_register",checked:h.stop_register,onCheckedChange:v=>m(_=>({..._,stop_register:v}))})}),o.jsx(Ge,{label:e("system.site_logo"),htmlFor:"logo",hint:e("system.site_logo_hint"),children:o.jsx(J,{id:"logo",value:h.logo,onChange:v=>m(_=>({..._,logo:v.target.value})),placeholder:"https://example.com/logo.png"})}),o.jsx(Ge,{label:e("system.subscribe_url"),htmlFor:"sub_url",hint:e("system.subscribe_url_hint"),children:o.jsx(J,{id:"sub_url",value:h.subscribe_url,onChange:v=>m(_=>({..._,subscribe_url:v.target.value})),placeholder:"https://sub.example.com"})}),o.jsx(Ge,{label:e("system.tos_url"),htmlFor:"tos",hint:e("system.tos_url_hint"),children:o.jsx(J,{id:"tos",value:h.tos_url,onChange:v=>m(_=>({..._,tos_url:v.target.value})),placeholder:"https://example.com/tos"})}),o.jsx(Ge,{label:e("system.currency"),htmlFor:"currency",hint:e("system.currency_hint"),children:o.jsx(J,{id:"currency",value:h.currency,onChange:v=>m(_=>({..._,currency:v.target.value})),placeholder:"CNY"})}),o.jsx(Ge,{label:e("system.currency_symbol"),htmlFor:"currency_symbol",hint:e("system.currency_symbol_hint"),children:o.jsx(J,{id:"currency_symbol",value:h.currency_symbol,onChange:v=>m(_=>({..._,currency_symbol:v.target.value})),placeholder:""})}),u&&o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function UDe(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({email_verify:!1,safe_mode_enable:!1,secure_path:"",captcha_enable:!1,captcha_type:"recaptcha",recaptcha_key:"",recaptcha_site_key:"",recaptcha_v3_secret_key:"",recaptcha_v3_site_key:"",recaptcha_v3_score_threshold:"0.5",turnstile_secret_key:"",turnstile_site_key:"",email_whitelist_enable:!1,email_whitelist_suffix:"",email_gmail_limit_enable:!1,register_limit_by_ip_enable:!1,register_limit_count:"3",register_limit_expire:"60",password_limit_enable:!0,password_limit_count:"5",password_limit_expire:"60"}),p=f.useCallback(_=>{const j=_.split(",").map(k=>k.trim()).filter(Boolean);return Array.from(new Set(j))},[]),g=f.useMemo(()=>p(h.email_whitelist_suffix),[h.email_whitelist_suffix,p]),y=f.useMemo(()=>({email_verify:h.email_verify,safe_mode_enable:h.safe_mode_enable,secure_path:h.secure_path,captcha_enable:h.captcha_enable,captcha_type:h.captcha_type,recaptcha_key:h.recaptcha_key,recaptcha_site_key:h.recaptcha_site_key,recaptcha_v3_secret_key:h.recaptcha_v3_secret_key,recaptcha_v3_site_key:h.recaptcha_v3_site_key,recaptcha_v3_score_threshold:Number(h.recaptcha_v3_score_threshold),turnstile_secret_key:h.turnstile_secret_key,turnstile_site_key:h.turnstile_site_key,email_whitelist_enable:h.email_whitelist_enable,email_whitelist_suffix:g,email_gmail_limit_enable:h.email_gmail_limit_enable,register_limit_by_ip_enable:h.register_limit_by_ip_enable,register_limit_count:Number(h.register_limit_count),register_limit_expire:Number(h.register_limit_expire),password_limit_enable:h.password_limit_enable,password_limit_count:Number(h.password_limit_count),password_limit_expire:Number(h.password_limit_expire)}),[h,g]),x=f.useMemo(()=>JSON.stringify(y),[y]),b=f.useCallback(async()=>{var _,j;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const C=(await Kn.fetch("safe")).data.data.safe||{},O=Array.isArray(C.email_whitelist_suffix)?C.email_whitelist_suffix.join(","):C.email_whitelist_suffix??"",P={email_verify:!!C.email_verify,safe_mode_enable:!!C.safe_mode_enable,secure_path:C.secure_path??"",captcha_enable:!!C.captcha_enable,captcha_type:C.captcha_type??"recaptcha",recaptcha_key:C.recaptcha_key??"",recaptcha_site_key:C.recaptcha_site_key??"",recaptcha_v3_secret_key:C.recaptcha_v3_secret_key??"",recaptcha_v3_site_key:C.recaptcha_v3_site_key??"",recaptcha_v3_score_threshold:String(C.recaptcha_v3_score_threshold??"0.5"),turnstile_secret_key:C.turnstile_secret_key??"",turnstile_site_key:C.turnstile_site_key??"",email_whitelist_enable:!!C.email_whitelist_enable,email_whitelist_suffix:O,email_gmail_limit_enable:!!C.email_gmail_limit_enable,register_limit_by_ip_enable:!!C.register_limit_by_ip_enable,register_limit_count:String(C.register_limit_count??"3"),register_limit_expire:String(C.register_limit_expire??"60"),password_limit_enable:!!C.password_limit_enable,password_limit_count:String(C.password_limit_count??"5"),password_limit_expire:String(C.password_limit_expire??"60")};n.current=!0,r.current=JSON.stringify({email_verify:P.email_verify,safe_mode_enable:P.safe_mode_enable,secure_path:P.secure_path,captcha_enable:P.captcha_enable,captcha_type:P.captcha_type,recaptcha_key:P.recaptcha_key,recaptcha_site_key:P.recaptcha_site_key,recaptcha_v3_secret_key:P.recaptcha_v3_secret_key,recaptcha_v3_site_key:P.recaptcha_v3_site_key,recaptcha_v3_score_threshold:Number(P.recaptcha_v3_score_threshold),turnstile_secret_key:P.turnstile_secret_key,turnstile_site_key:P.turnstile_site_key,email_whitelist_enable:P.email_whitelist_enable,email_whitelist_suffix:p(P.email_whitelist_suffix),email_gmail_limit_enable:P.email_gmail_limit_enable,register_limit_by_ip_enable:P.register_limit_by_ip_enable,register_limit_count:Number(P.register_limit_count),register_limit_expire:Number(P.register_limit_expire),password_limit_enable:P.password_limit_enable,password_limit_count:Number(P.password_limit_count),password_limit_expire:Number(P.password_limit_expire)}),i.current="",m(P)}catch(k){console.error(k);const C=((j=(_=k==null?void 0:k.response)==null?void 0:_.data)==null?void 0:j.message)||e("common.load_failed");d(C),Q.error(C)}finally{a(!1)}},[p,e]);f.useEffect(()=>{b()},[b]);const w=f.useCallback(async(_,j)=>{var C,O;t.current&&(window.clearTimeout(t.current),t.current=null);const k=JSON.stringify(_);c(!0),d(e("common.saving"));try{await Kn.save(_),r.current=k,i.current="",d(e("common.saved")),j!=null&&j.silentSuccess||Q.success(e("common.saved"))}catch(P){console.error(P),i.current=k;const M=((O=(C=P==null?void 0:P.response)==null?void 0:C.data)==null?void 0:O.message)||e("common.save_failed");d(M),Q.error(M)}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&x!==r.current&&x!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,w(y,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,y,x,w,l]);const v=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:x===r.current?{label:e("common.saved"),className:"text-green-600"}:x===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[x,l,e]);return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.security_settings")}),o.jsx(ha,{children:e("system.security_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[v&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",v.className),children:[e("common.autosave"),": ",v.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:b,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>w(y),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.email_verify"),htmlFor:"email_verify",hint:e("system.email_verify_hint"),children:o.jsx(Dt,{id:"email_verify",checked:h.email_verify,onCheckedChange:_=>m(j=>({...j,email_verify:_}))})}),o.jsx(Ge,{label:e("system.safe_mode_enable"),htmlFor:"safe_mode_enable",hint:e("system.safe_mode_enable_hint"),children:o.jsx(Dt,{id:"safe_mode_enable",checked:h.safe_mode_enable,onCheckedChange:_=>m(j=>({...j,safe_mode_enable:_}))})}),o.jsx(Ge,{label:e("system.secure_path"),htmlFor:"secure_path",hint:e("system.secure_path_hint"),children:o.jsx(J,{id:"secure_path",value:h.secure_path,onChange:_=>m(j=>({...j,secure_path:_.target.value}))})}),o.jsxs("div",{className:"space-y-0 pt-4",children:[o.jsx(Ge,{label:e("system.enable_captcha"),htmlFor:"captcha",hint:e("system.enable_captcha_hint"),children:o.jsx(Dt,{id:"captcha",checked:h.captcha_enable,onCheckedChange:_=>m(j=>({...j,captcha_enable:_}))})}),h.captcha_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Ge,{label:e("system.captcha_type"),hint:e("system.captcha_type_hint"),children:o.jsxs(it,{value:h.captcha_type,onValueChange:_=>m(j=>({...j,captcha_type:_})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("system.captcha_type")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"recaptcha",children:"reCAPTCHA"}),o.jsx(fe,{value:"recaptcha-v3",children:"reCAPTCHA v3"}),o.jsx(fe,{value:"turnstile",children:"Turnstile"})]})]})}),h.captcha_type==="recaptcha"&&o.jsxs("div",{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.recaptcha_key"),htmlFor:"recaptcha_key",children:o.jsx(J,{id:"recaptcha_key",value:h.recaptcha_key,onChange:_=>m(j=>({...j,recaptcha_key:_.target.value}))})}),o.jsx(Ge,{label:e("system.recaptcha_site_key"),htmlFor:"recaptcha_site_key",children:o.jsx(J,{id:"recaptcha_site_key",value:h.recaptcha_site_key,onChange:_=>m(j=>({...j,recaptcha_site_key:_.target.value}))})})]}),h.captcha_type==="recaptcha-v3"&&o.jsxs("div",{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.recaptcha_v3_secret_key"),htmlFor:"recaptcha_v3_secret",children:o.jsx(J,{id:"recaptcha_v3_secret",value:h.recaptcha_v3_secret_key,onChange:_=>m(j=>({...j,recaptcha_v3_secret_key:_.target.value}))})}),o.jsx(Ge,{label:e("system.recaptcha_v3_site_key"),htmlFor:"recaptcha_v3_site",children:o.jsx(J,{id:"recaptcha_v3_site",value:h.recaptcha_v3_site_key,onChange:_=>m(j=>({...j,recaptcha_v3_site_key:_.target.value}))})}),o.jsx(Ge,{label:e("system.recaptcha_v3_score_threshold"),htmlFor:"recaptcha_v3_score",children:o.jsx(J,{id:"recaptcha_v3_score",value:h.recaptcha_v3_score_threshold,onChange:_=>m(j=>({...j,recaptcha_v3_score_threshold:_.target.value}))})})]}),h.captcha_type==="turnstile"&&o.jsxs("div",{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.turnstile_secret_key"),htmlFor:"turnstile_secret",children:o.jsx(J,{id:"turnstile_secret",value:h.turnstile_secret_key,onChange:_=>m(j=>({...j,turnstile_secret_key:_.target.value}))})}),o.jsx(Ge,{label:e("system.turnstile_site_key"),htmlFor:"turnstile_site",children:o.jsx(J,{id:"turnstile_site",value:h.turnstile_site_key,onChange:_=>m(j=>({...j,turnstile_site_key:_.target.value}))})})]})]})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx(Ge,{label:e("system.email_whitelist_enable"),htmlFor:"email_whitelist_enable",hint:e("system.email_whitelist_enable_hint"),children:o.jsx(Dt,{id:"email_whitelist_enable",checked:h.email_whitelist_enable,onCheckedChange:_=>m(j=>({...j,email_whitelist_enable:_}))})}),h.email_whitelist_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Ge,{label:e("system.email_whitelist_suffix"),htmlFor:"email_whitelist_suffix",hint:e("system.email_whitelist_hint"),children:o.jsx(J,{id:"email_whitelist_suffix",value:h.email_whitelist_suffix,onChange:_=>m(j=>({...j,email_whitelist_suffix:_.target.value})),placeholder:"qq.com,gmail.com"})}),o.jsx(Ge,{label:e("system.email_gmail_limit_enable"),htmlFor:"email_gmail_limit_enable",hint:e("system.email_gmail_limit_enable_hint"),children:o.jsx(Dt,{id:"email_gmail_limit_enable",checked:h.email_gmail_limit_enable,onCheckedChange:_=>m(j=>({...j,email_gmail_limit_enable:_}))})})]})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx(Ge,{label:e("system.register_limit_by_ip"),htmlFor:"register_limit_by_ip_enable",hint:e("system.register_limit_by_ip_hint"),children:o.jsx(Dt,{id:"register_limit_by_ip_enable",checked:h.register_limit_by_ip_enable,onCheckedChange:_=>m(j=>({...j,register_limit_by_ip_enable:_}))})}),h.register_limit_by_ip_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Ge,{label:e("system.register_limit_count"),htmlFor:"register_limit_count",hint:e("system.register_limit_count_hint"),children:o.jsx(J,{id:"register_limit_count",value:h.register_limit_count,onChange:_=>m(j=>({...j,register_limit_count:_.target.value}))})}),o.jsx(Ge,{label:e("system.register_limit_expire"),htmlFor:"register_limit_expire",hint:e("system.register_limit_expire_hint"),children:o.jsx(J,{id:"register_limit_expire",value:h.register_limit_expire,onChange:_=>m(j=>({...j,register_limit_expire:_.target.value}))})})]})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx(Ge,{label:e("system.password_limit_enable"),htmlFor:"password_limit_enable",hint:e("system.password_limit_enable_hint"),children:o.jsx(Dt,{id:"password_limit_enable",checked:h.password_limit_enable,onCheckedChange:_=>m(j=>({...j,password_limit_enable:_}))})}),h.password_limit_enable&&o.jsxs(o.Fragment,{children:[o.jsx(Ge,{label:e("system.password_limit_count"),htmlFor:"password_limit_count",hint:e("system.password_limit_count_hint"),children:o.jsx(J,{id:"password_limit_count",value:h.password_limit_count,onChange:_=>m(j=>({...j,password_limit_count:_.target.value}))})}),o.jsx(Ge,{label:e("system.password_limit_expire"),htmlFor:"password_limit_expire",hint:e("system.password_limit_expire_hint"),children:o.jsx(J,{id:"password_limit_expire",value:h.password_limit_expire,onChange:_=>m(j=>({...j,password_limit_expire:_.target.value}))})})]})]}),u&&o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function VDe(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({subscribe_path:"s",plan_change_enable:!0,surplus_enable:!0,reset_traffic_method:"0",show_info_to_server_enable:!1,show_protocol_to_server_enable:!1,default_remind_expire:!0,default_remind_traffic:!0}),p=f.useMemo(()=>({subscribe_path:h.subscribe_path,plan_change_enable:h.plan_change_enable,surplus_enable:h.surplus_enable,reset_traffic_method:Number(h.reset_traffic_method),show_info_to_server_enable:h.show_info_to_server_enable,show_protocol_to_server_enable:h.show_protocol_to_server_enable,default_remind_expire:h.default_remind_expire,default_remind_traffic:h.default_remind_traffic}),[h]),g=f.useMemo(()=>JSON.stringify(p),[p]),y=f.useCallback(async()=>{var w,v;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const j=(await Kn.fetch("subscribe")).data.data.subscribe||{},k={subscribe_path:j.subscribe_path??"s",plan_change_enable:!!j.plan_change_enable,surplus_enable:!!j.surplus_enable,reset_traffic_method:String(j.reset_traffic_method??0),show_info_to_server_enable:!!j.show_info_to_server_enable,show_protocol_to_server_enable:!!j.show_protocol_to_server_enable,default_remind_expire:!!j.default_remind_expire,default_remind_traffic:!!j.default_remind_traffic};n.current=!0,r.current=JSON.stringify({subscribe_path:k.subscribe_path,plan_change_enable:k.plan_change_enable,surplus_enable:k.surplus_enable,reset_traffic_method:Number(k.reset_traffic_method),show_info_to_server_enable:k.show_info_to_server_enable,show_protocol_to_server_enable:k.show_protocol_to_server_enable,default_remind_expire:k.default_remind_expire,default_remind_traffic:k.default_remind_traffic}),i.current="",m(k)}catch(_){console.error(_);const j=((v=(w=_==null?void 0:_.response)==null?void 0:w.data)==null?void 0:v.message)||e("common.load_failed");d(j),Q.error(j)}finally{a(!1)}},[e]);f.useEffect(()=>{y()},[y]);const x=f.useCallback(async(w,v)=>{var j,k;t.current&&(window.clearTimeout(t.current),t.current=null);const _=JSON.stringify(w);c(!0),d(e("common.saving"));try{await Kn.save(w),r.current=_,i.current="",d(e("common.saved")),v!=null&&v.silentSuccess||Q.success(e("common.saved"))}catch(C){console.error(C),i.current=_;const O=((k=(j=C==null?void 0:C.response)==null?void 0:j.data)==null?void 0:k.message)||e("common.save_failed");d(O),Q.error(O)}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&g!==r.current&&g!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,x(p,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,p,g,x,l]);const b=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:g===r.current?{label:e("common.saved"),className:"text-green-600"}:g===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[g,l,e]);return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.subscription_settings")}),o.jsx(ha,{children:e("system.subscription_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",b.className),children:[e("common.autosave"),": ",b.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:y,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>x(p),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.subscribe_path"),htmlFor:"subscribe_path",hint:e("system.subscribe_path_hint"),children:o.jsx(J,{id:"subscribe_path",value:h.subscribe_path,onChange:w=>m(v=>({...v,subscribe_path:w.target.value})),placeholder:"s"})}),o.jsx(Ge,{label:e("system.plan_change_enable"),htmlFor:"plan_change_enable",hint:e("system.plan_change_enable_hint"),children:o.jsx(Dt,{id:"plan_change_enable",checked:h.plan_change_enable,onCheckedChange:w=>m(v=>({...v,plan_change_enable:w}))})}),o.jsx(Ge,{label:e("system.surplus_enable"),htmlFor:"surplus_enable",hint:e("system.surplus_enable_hint"),children:o.jsx(Dt,{id:"surplus_enable",checked:h.surplus_enable,onCheckedChange:w=>m(v=>({...v,surplus_enable:w}))})}),o.jsx(Ge,{label:e("system.reset_traffic_method"),hint:e("system.reset_traffic_method_hint"),children:o.jsxs(it,{value:h.reset_traffic_method,onValueChange:w=>m(v=>({...v,reset_traffic_method:w})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("system.reset_traffic_method")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:e("system.reset_traffic_0")}),o.jsx(fe,{value:"1",children:e("system.reset_traffic_1")}),o.jsx(fe,{value:"2",children:e("system.reset_traffic_2")}),o.jsx(fe,{value:"3",children:e("system.reset_traffic_3")}),o.jsx(fe,{value:"4",children:e("system.reset_traffic_4")})]})]})}),o.jsx(Ge,{label:e("system.show_info_to_server_enable"),htmlFor:"show_info_to_server_enable",hint:e("system.show_info_to_server_enable_hint"),children:o.jsx(Dt,{id:"show_info_to_server_enable",checked:h.show_info_to_server_enable,onCheckedChange:w=>m(v=>({...v,show_info_to_server_enable:w}))})}),o.jsx(Ge,{label:e("system.show_protocol_to_server_enable"),htmlFor:"show_protocol_to_server_enable",hint:e("system.show_protocol_to_server_enable_hint"),children:o.jsx(Dt,{id:"show_protocol_to_server_enable",checked:h.show_protocol_to_server_enable,onCheckedChange:w=>m(v=>({...v,show_protocol_to_server_enable:w}))})}),o.jsx(Ge,{label:e("system.default_remind_expire"),htmlFor:"default_remind_expire",hint:e("system.default_remind_expire_hint"),children:o.jsx(Dt,{id:"default_remind_expire",checked:h.default_remind_expire,onCheckedChange:w=>m(v=>({...v,default_remind_expire:w}))})}),o.jsx(Ge,{label:e("system.default_remind_traffic"),htmlFor:"default_remind_traffic",hint:e("system.default_remind_traffic_hint"),children:o.jsx(Dt,{id:"default_remind_traffic",checked:h.default_remind_traffic,onCheckedChange:w=>m(v=>({...v,default_remind_traffic:w}))})}),u&&o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function HDe(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({telegram_bot_enable:!1,telegram_bot_token:"",telegram_discuss_link:""}),p=f.useMemo(()=>({telegram_bot_enable:h.telegram_bot_enable,telegram_bot_token:h.telegram_bot_token,telegram_discuss_link:h.telegram_discuss_link}),[h]),g=f.useMemo(()=>JSON.stringify(p),[p]),y=f.useCallback(async()=>{var v,_;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const k=(await Kn.fetch("telegram")).data.data.telegram||{},C={telegram_bot_enable:!!k.telegram_bot_enable,telegram_bot_token:k.telegram_bot_token??"",telegram_discuss_link:k.telegram_discuss_link??""};n.current=!0,r.current=JSON.stringify({telegram_bot_enable:C.telegram_bot_enable,telegram_bot_token:C.telegram_bot_token,telegram_discuss_link:C.telegram_discuss_link}),i.current="",m(C)}catch(j){console.error(j);const k=((_=(v=j==null?void 0:j.response)==null?void 0:v.data)==null?void 0:_.message)||e("common.load_failed");d(k),Q.error(k)}finally{a(!1)}},[e]);f.useEffect(()=>{y()},[y]);const x=f.useCallback(async(v,_)=>{var k,C;t.current&&(window.clearTimeout(t.current),t.current=null);const j=JSON.stringify(v);c(!0),d(e("common.saving"));try{await Kn.save(v),r.current=j,i.current="",d(e("common.saved")),_!=null&&_.silentSuccess||Q.success(e("common.saved"))}catch(O){console.error(O),i.current=j;const P=((C=(k=O==null?void 0:O.response)==null?void 0:k.data)==null?void 0:C.message)||e("common.save_failed");d(P),Q.error(P)}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&g!==r.current&&g!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,x(p,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,p,g,x,l]);const b=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:g===r.current?{label:e("common.saved"),className:"text-green-600"}:g===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[g,l,e]),w=async()=>{var v,_;c(!0),d("");try{await Kn.setTelegramWebhook(h.telegram_bot_token),d(e("system.telegram_webhook_set")),Q.success(e("system.telegram_webhook_set"))}catch(j){console.error(j);const k=((_=(v=j==null?void 0:j.response)==null?void 0:v.data)==null?void 0:_.message)||e("common.save_failed");d(k),Q.error(k)}finally{c(!1)}};return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.telegram_settings")}),o.jsx(ha,{children:e("system.telegram_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[b&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",b.className),children:[e("common.autosave"),": ",b.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:y,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>x(p),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.enable_telegram"),htmlFor:"tg_enable",hint:e("system.enable_telegram_hint"),children:o.jsx(Dt,{id:"tg_enable",checked:h.telegram_bot_enable,onCheckedChange:v=>m(_=>({..._,telegram_bot_enable:v}))})}),o.jsx(Ge,{label:e("system.tg_webhook"),htmlFor:"webhook",hint:e("system.tg_webhook_hint"),children:o.jsxs(W,{onClick:w,disabled:l||!h.telegram_bot_token,className:"w-fit",children:[o.jsx(Jle,{className:"h-4 w-4 mr-2"}),e("system.set_webhook")]})}),o.jsx(Ge,{label:e("system.tg_group_link"),htmlFor:"group",hint:e("system.tg_group_link_hint"),children:o.jsx(J,{id:"group",value:h.telegram_discuss_link,onChange:v=>m(_=>({..._,telegram_discuss_link:v.target.value})),placeholder:"https://t.me/your_group"})}),o.jsx(Ge,{label:e("system.tg_api_token"),htmlFor:"token",hint:e("system.tg_api_token_hint"),children:o.jsx(J,{id:"token",type:"text",value:h.telegram_bot_token,onChange:v=>m(_=>({..._,telegram_bot_token:v.target.value})),placeholder:"123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11"})}),u&&o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")||u===e("system.telegram_webhook_set")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}const gr=f.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-card px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground/70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));gr.displayName="Textarea";const KDe=/^[\uD800-\uDBFF]$/,YDe=/^[\uDC00-\uDFFF]$/,GDe=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;var fL;(function(e){e[e.Unknown=1e-13]="Unknown",e[e.Rule=1e-12]="Rule",e[e.DICT=2e-8]="DICT",e[e.Surname=1]="Surname",e[e.Custom=1]="Custom"})(fL||(fL={}));const ga={Normal:1,Surname:10,Custom:100};function go(e){var t;return e.length-(((t=e.match(GDe))===null||t===void 0?void 0:t.length)||0)}function Z0(e){const t=[];let n=0;for(;n<e.length;){const r=e[n];KDe.test(r)&&YDe.test(e[n+1])?(t.push(e.substring(n,n+2)),n+=2):(t.push(r),n+=1)}return t}class fQ{constructor(){this.NumberDICT=[],this.StringDICT=new Map}get(t){if(t.length>1)return this.StringDICT.get(t);{const n=t.charCodeAt(0);return this.NumberDICT[n]}}set(t,n){if(t.length>1)this.StringDICT.set(t,n);else{const r=t.charCodeAt(0);this.NumberDICT[r]=n}}clear(){this.NumberDICT=[],this.StringDICT.clear()}}const mL={"bng png png":[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng zhng":[""],"ko qio y":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","",""],xi:["","","","","","","","","","","","",""],hn:["","","","","",""],"wn m":[""],zhng:["","","","","","","","","","","","","","","","","","","",""],sn:["","","","","","","","",""],"shng shng shang":[""],"q j":["","",""],"b fu":[""],"y y y":[""],min:["","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],chu:["","","","","","","","",""],zhun:["","","","","","","","","","","","","","","","",""],"qi j":[""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],di:["","","",""],ling:["","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","","","","","","",""],"sng sng":[""],gn:["","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","",""],"g g":["","",""],y:["","","","","","","","","","","","","","",""],pn:["","","","","","","","","","","","","","","","",""],"zhng zhng":[""],j:["","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun kung":[""],chun:["","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","",""],"wi wi":[""],"jng dn":[""],"l l":[""],j:["","","","","","","","","","","","","","","","","","",""],pi:["","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ji:["","","","","","","","","","","","","","",""],"tu zh":["","",""],"me m ma yo":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"w w":[""],zh:["","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","",""],"l yu yo lo":["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","",""],png:["","","","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","",""],gui:[""],"chng shng":["","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ho y":[""],"ni mi":[""],q:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","",""],sh:["","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","",""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mo:["","","","","","","","","","",""],mi:["","","","","",""],lun:["","",""],r:["","","","","",""],xu:["","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","",""],n:["",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","",""],"qin gn":[""],"zh lun":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ln ln":[""],ju:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"le lio":[""],"g m":[""],"y y":["",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","",""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","",""],"xi su":[""],"q zhi":["",""],"y y":["","","","",""],"j q":["",""],tu:["","","",""],"wng w":[""],"kng hng gng":[""],d:["",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hi:["","","","","","","","",""],"hng png":[""],m:["","","","","","","","","","","","","","","","","","",""],ye:[""],xing:["","","","","","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","",""],"qn qng":["",""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","","","","","","",""],"wi mn":["",""],rn:["","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wng:["","","","",""],"shn sh":[""],l:["","","","","","","","","","","","","","",""],dng:["","","","","","","","",""],z:["","","","","","",""],"jn jn":["","",""],"p p":[""],"chu qi":[""],zhng:["","","",""],jn:["","","","","","","","","","","","","","","","","","","","","",""],bng:["","","","","","","",""],rng:["","","","",""],f:["","",""],"jn sn":[""],ln:["","","","","","","","","","","","","","","","","","","","","","",""],cng:["","","","","","","","","","","","","","",""],"zi z z":[""],t:["","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu ch du":[""],hng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gn hn":[""],"y g":[""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],cho:["","",""],"chng zhng":["","","",""],s:[""],chng:["","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"men mn":[""],fn:["","","",""],"cho mio":[""],"yng ng":[""],zhng:["","","","","","","","","","","","","",""],"p p":[""],w:["","","","","","","","","","","","","","","","","",""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji ji jie":[""],"yo f":[""],"rn rn":[""],"fn bn":[""],d:["","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","","","","","","","","",""],dio:["","","","","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","",""],wn:["","","","","","","","","","","",""],xn:[""],kng:["","","","","","",""],i:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j q":["",""],"xi x":[""],"jn yn":[""],dn:["","","","","","","","","","","","",""],f:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","",""],hu:["","","","","","",""],"hu kui":["","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chun zhun":["",""],"ch j":["","",""],"j ch":[""],y:["","","","","","","","","","","","","","","","","",""],qin:["","","","","","","","","","","","","","","","","","","","","",""],shng:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],"chen cng":[""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","",""],ch:["","","","","","","","","","","","","","","","","",""],"xin xun":[""],"n n":[""],"b bi":[""],"g g":[""],n:["","","","","","","","","","","",""],"n n":[""],bn:["","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"s c":[""],bng:["","","","","",""],"s sh":[""],"ji qi g":[""],"y ch":[""],"din tin":["",""],"hn gn":[""],mi:["","","","","","","","","","","","","","","",""],dn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],c:["","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zu:["","",""],yng:["","","","","","","","","","","","","","","","","","",""],"t t":["",""],zhn:["","","","","","","","","","","","","","","","","","","",""],"h h h":[""],b:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","",""],"y di":["","","",""],"f f b b":[""],"zu zu":[""],gu:["","","","","","","","","","","","","","",""],nng:["","","","","","",""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yng yng":[""],w:["","","",""],k:["","","","",""],bo:["","","","","","","","","","","","","","",""],"hui hu":[""],"g h":[""],lo:["","","","","","","","","","","","","","",""],xing:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","","","","",""],f:["","","","","",""],mng:["","","","",""],"r ni":[""],hn:["","","","",""],hu:["",""],gu:["","","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],tio:["","","","",""],jio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","","","","","","","","","",""],kn:["","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],gi:["","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","",""],ku:["","","",""],gng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mu:["","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","",""],"dng tng tng":[""],ch:["","","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng gng":["",""],zhu:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],r:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"jin cn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ta:[""],"jio yo":["","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"c z zhi":["",""],kui:["","","","","","","","","","","","","","","","","","","","","","",""],chi:["","","","","","",""],nng:["","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","",""],"hu hu":["",""],jing:["","","","","","","","","","","","","","","","","","","",""],"chng tng":[""],"zhn zhn":["",""],zu:["","","","","","","","","","","","","","",""],qn:["","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"sh du":[""],tng:["","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","",""],"tu tu":[""],nn:["","","","","","","","","","","","",""],xio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bin pin":["","",""],tu:["","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","",""],:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","",""],"gung kung":[""],k:["","","","","","","","","","","","",""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ling:["","","","","","","","","","","",""],z:["","","","","","","","","","",""],"qio xio":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","",""],jng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sn:["",""],pi:[""],s:[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","",""],bo:["","","","","","","","","","","","","","","","","","","","",""],"y sh y":[""],"s q":[""],"xn shn":[""],xi:["","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"li ling":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":["","","",""],xio:["","","","","","","","","","","","","","","","","","",""],pi:["","","","","","","",""],bio:["","",""],"ch t":[""],fi:["","","","","","","","","","","","","","","","","","","","","","","",""],fng:["","","","","","","","","","",""],n:["","","","","","",""],bi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h ch":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cu z":[""],"ling li":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","",""],gun:["","","","","","","","","","","","","",""],tin:["","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","",""],"do do":[""],"tn tn":["",""],"ju ju":[""],chu:["","","","","","","","","","","","","","","",""],xng:["","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng chng":[""],hu:["","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","",""],"ling jng":["",""],su:["","","","","","","","","","","","",""],"chng chng":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],jun:["","","","","","","","","","","","","","","","","","","",""],zng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","",""],"w wi":[""],lu:["","","","","","","","","",""],sng:["","","","","","","","","","","","","","","","","",""],lng:["","","","",""],z:["","","","","","","","","","","","","",""],bn:["","","","","","",""],ci:["","","","","","","","","","",""],zhi:["","","","",""],y:["","","","","","","","",""],sh:["","","","","","","","","",""],qng:["","","","","","","","","","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chng chn":["",""],run:["","","","","","","","","","",""],"zhng tng":[""],chn:["","","","","",""],"ji ji":[""],"j ji":[""],"bng bng":[""],ru:["","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],pin:["","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tng dng":[""],:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ch:["","",""],shng:["","",""],ch:["","","","","","","","","","","","",""],hung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yo:["","","","","","","","","","","","","","","","","",""],"chu qio":[""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","",""],c:["","","","","","",""],b:["","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ci s":[""],dun:["","","","",""],u:["","","","","","","","",""],tu:["","",""],"zn z z":[""],"l lu":["",""],fn:["","","","","","","","","","","","","","","",""],"ku gu":[""],su:["","","","","","","",""],"zh s t":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xi:["","","","","","",""],"yun yun":["",""],rng:["","","","",""],n:["",""],yn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gu jing":[""],m:["","","","","","","","","","",""],bng:["","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ho:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x x":[""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"qin jin":[""],"qu ju":["",""],"cng chen":[""],rng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"t tn":[""],su:["","","","","","","","","","","","","","","",""],di:["",""],zi:["","","","","","","",""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],bn:["","","","","","","","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","","",""],nu:["","","","",""],"cn cn":[""],li:["","","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","",""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"zo co":[""],sng:["","","","","","","","","","",""],o:["","","","","","","","","","","","","","",""],"q cu":[""],chung:["","","",""],sh:["",""],hn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","","","","","","","","","","","",""],"yn yn":["","",""],"pio bio":["",""],lin:["","","","","","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","",""],"tn tn":[""],yng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","",""],zhun:["","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","","","",""],shn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"tu tu":[""],zn:["","","",""],p:["","","","","","","","","","","","","","","","","","",""],lo:["","","","","","","","","","","","","","","","","","","","",""],chng:["","","","","","","",""],gung:["","","","","","","","","","","","","","","","","",""],lio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],dng:["","","","","","","","","","",""],"chn zhn zhun":[""],b:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],chun:["","","","",""],"ti jin":[""],sng:["",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"y j":[""]," w":[""],"tng zhung":[""],ln:["","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],jn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ji jie":[""],qio:["","","","","","","","","","","","","",""],p:["","","","","","","","","","","",""],si:["","","",""],"chn tn shn":[""],"dng dng":["","",""],xun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dn dn":["","",""],cn:["","","","","","","",""],"bn bn":[""],"n n":[""],ti:["","","","","","","","","","","","","","","",""],ln:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"n y i y":[""],mng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nng:["","","","","","","","","","","","","","","",""],qing:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],kung:["","",""],bo:["","","","","","","","","","","","","","","","","","","",""],bio:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zn:["","","","","","",""],ho:["","","","","","","","","","","","","","","","","",""],qng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","",""],tng:["","","","","","","","","","","","","","","","","","","",""],"lng lng lng":[""],"chn chn":[""],"rng xing":["",""],"hu xi":[""],lu:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","",""],"nng nng":[""],"w w":[""],yn:["","","","","","","","","","","","","","","","","",""],zn:["","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],xing:["","","","","","","","","","","","","","","",""],chng:["","","","","","","","","","","","","","","","",""],zho:["","","","","","","","","","","","","","","","","","","","","","",""],"du ru yu":["","",""],k:["","","","","","","","","","","","","","","","","","","","","",""],t:["","","","",""],dng:["","","","","","","",""],du:["","","","","",""],hung:["","","","","","","","","","","",""],r:["","","","","","","","","","","",""],ni:["","","",""],"y sh":[""],"li l":[""],han:["",""],tin:["","","","","","","",""],"xng xng":[""],din:["","","","","","","","","","","",""],"z c":[""],jin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","",""],mo:["","","","","","","","","","","","","","","","","","","","","","","","",""],rn:["","","","","","","","",""],"ni n":[""],gng:["","","","","","","","","","","","","","","","","","","","","",""],c:["","","","","","","","","","","","","","","","","","","","",""],gu:["","","","",""],"mo m":[""],gu:["","","","","","","","","","","","","","","","","","","","","",""],x:["","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"yu yn":[""],xi:["","",""],jn:["","","","","","","","","","","","","","","","","","","","","","",""],m:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"gun gun":["","","","",""],mng:["","","","","","","","","","","","",""],zhng:["","","","","","","","",""],zu:["","","","","","","","","","","","","","","","",""],yun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],mng:["","","","","","","","","","","","","","","","","","","","",""],ku:["","","","","","","","","","","","","",""],ti:["","","","","","","","","","","","","","",""],"fng png":["",""],"chng chng":[""],kung:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:[""],pn:["","","","","","","","","","","","","","","","","",""],f:["","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],qi:["","","","","","","","",""],"jng chng":["","",""],su:["","","","","","","","","","","","","","","","","","","","",""],mi:["","","","","","","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhn:["","","","",""],"ling ling":["","",""],dio:["","","","","","","","","","","","","","","","","","","","",""],cu:["","","","",""],i:["","","","","","","",""],du:["","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"j j":[""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ch ch":["",""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],png:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ki:["","","","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","","","","","",""],"kn qin":[""],t:["","","","","","","","","","","","","","",""],"o w":[""],ch:["","","","","","","","","",""],dng:["","","","","","","","","","","","","","","","","","","","","","",""],hn:["","","","","","","","","","","","","","","","","","","","","",""],zo:["",""],do:["","","","","","","","",""],chung:["","","","","","","","",""],"fn fn":[""],"qi qi":[""],kn:["","","","","","",""],cn:["",""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],yu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"chung chung":["",""],q:["","","","","","","",""],"bi bi":["",""],"po bo":[""],"chn chn":["","",""],gu:["","","","","","","","","","","","",""],gng:["","","","","","","","","","","","","","",""],do:["","","","","","","","","","","","","","","","","","",""],chung:["","","","",""],k:["","","","","","","","","","","",""],du:["","","","","","","","","","","","","","","",""],"shu shu":[""],"qun xun":[""],"ch sh":["",""],"c c":[""],gu:["","","","","","","","","","","","","","","","","","","","","","","","",""],lu:["","","","","","","","","","","","","","","","","","","","","","",""],cu:["","","","","","","","","","","","","","",""],"xio xu":[""],"ki k":["",""],"l l":[""],t:["","","","","","","","",""],pu:[""],wn:["","","","","","","","","","","",""],"bo b":["",""],du:["","","","","","","","","","",""],qng:["","","","","","","","","","","","","","",""],"yn shn":[""],"d zhu":[""],yn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","",""],shng:["","","","","","","","","","","","","",""],"dun zh":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","",""],g:["","","","","","","","","","","","","","","","",""],"d zh":[""],chun:["","","","","","","","",""],"tun zhun":["","",""],"l ji":[""],png:["","","","","","","","","","",""],pio:["","","","","","","","","","",""],ku:["","","","","","","",""],"jio cho":["","","",""],qio:["","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"zh zh":[""],"p p":["",""],tng:["","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zun:["","","","",""],m:["","","","","","","","","","","","","","","","","","","","",""],zh:["","","","","","","","","","","","","","","","","","","","","","",""],qun:["","","","",""],"jn jng":["","",""],kng:["","","","","","","","","","",""],"xi li":[""],"zh ch":[""],n:["","","",""],sho:["","","","","","","","",""],mio:["","","","","","","","","","",""],ku:["",""],w:["","","","","","","","","","","","","","","","",""],kung:["","","","","","","","","","","",""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],go:["","","","","","","","","","","","",""],"b bi":[""],lng:["","","","","","","","","","","","","","","","","","","","","","",""],xn:["","","","","","","","","","","","","","","","","","","","",""],"jun jun":["",""],"l li":[""],ki:["","","",""],"wng yng":[""],qn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","",""],jun:["","","","","","","","","","",""],"tng dng":["","","",""],l:["","","","","","","","","","","","","","","",""],ch:["","","","","","","","","","","","","","",""],sho:["","",""],"gu gu":[""],cng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"to yo":["",""],po:["","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu":[""],"bi bi":[""],no:["","","","","","","","","","","",""],"ch shi":[""],fng:["","","","","","","","","","",""],z:["","","","","","","","",""],qi:["","","","","","","","","","","","","","","","","","",""],"zng cng":[""],fi:["","","","","","","","","",""],"ku gu":["",""],sun:[""],p:["","","","","","","","","","",""],"q u":["",""],"k qi":[""],"yn yn":["",""],bin:["","","","","","","","","","",""],n:["","","","","","","","","","","","","","","","",""],nin:["","","","","","",""],s:["","","","","","","","","","",""],z:["","","","","","","",""],shng:["","","","","","","","","","","","","","","","","","","","","","","","",""],wn:["","","","","","","","","","","","",""],"hu hu hu":["",""],bi:["","","","","","","","","",""],"z c":[""],"dn shn chn":["",""],"nn n":[""],"shui l":[""],"b bo p":[""],"kung gun":[""],bin:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","",""],"zhn zhn":["",""],"k qi":[""],l:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],l:["","","","","","","","","","","","","","","","","","","","","","","","","",""],gu:["","","","","","","",""],"ng yng":[""],yn:["","","","","","","","","","","","","","","","",""],qu:["","","","","","","","","","","","","","","","","","","",""],lun:[""],"jun jun":["",""],"chng n hn":[""],"wi yn":[""],tng:["","","","","","","","","","","","","","","",""],"zh zhi":[""],"hn n":["",""],y:["","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","",""],"zh zhi":[""],png:["","","","","","","","","","",""],"zh sh":[""],mng:["","","","","","","","","","","","","","","","","","","","","","",""],zu:["","","",""],"sh xi":["",""],o:["","","","","","","","","","","","","","","","","","","","","","","",""],"ln qin":[""],"s mu":[""],"gng hng":[""],"ln mio":[""],"qi ru":[""],d:["","","",""],"xin xun":["",""],"cn shn cn sn":["","","",""],"i y":[""],"ch ch ch ch":[""],shung:["","","","","","","","","","","","","",""],shu:["",""],gui:[""],b:["","","","","","","","","","","","","",""],"f f":[""],"zhu y l ju":[""],q:["","","","","","",""],"ji xi":["",""],"wi y":["","",""],di:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","","","","",""],"j gu":[""],lng:["","","",""],"do do to":[""],"zh zh":[""],jio:["","","","","","","","","","","","","","","","","","","","","","","","",""],"zho sho":[""],"k k":[""],"ti ti":["",""],p:["","","","","","",""],"y xi":[""],"ho ho":[""],tn:["","","","","","","",""],"hng hng":[""],mi:["","","",""],"x y y":[""],ch:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xun sng":[""],yo:["","","","","","","","","","","","","","",""],z:["","","","","","","","","","","","","","","","","",""],"h g":["",""],"cn du":[""],"tng tng":[""],"t t":["",""],"zh zh":["",""],"xi h":[""]," y":[""],"ma m m":[""],ln:["","","","","","","","","","","","","","","","",""],tn:["","","",""],"b p":[""],qn:["","","","","","","","","","",""],"ji g":[""],"fu p":[""],"ba b":[""],dn:["","","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","",""]," hu":[""],"kng hng":["",""],shn:[""],"zh z":[""],"yn shn":[""],w:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"cho cho":[""],"n n":[""],"xu chu ju":[""],chu:["","",""],"du r":[""],hu:["",""],"hng hu u":[""],"w y":[""],"ya y":[""]," e":[""],di:["","",""],"mn q":[""],hng:["","","","","","","","","","","","","","",""],n:["","","","","","","","","","","","","","","",""],"tn tin":[""],"f ":["",""],"di ti":[""],"u u u":[""],"bi bei":[""],"yun yn yn":["",""],gu:["","","","","","","","","","","","","","","","","","",""],"hu q":[""],"qing qing":["",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],jun:["","","","","",""],pn:["",""],"wn mn":[""],"ne n":[""]," m mu":[""],rn:["","","","","","","","","","","","",""],"ti ch":[""],"q zh":[""],"z c":[""],"gu g gu":[""],"c z":[""],"hu x gu":[""],"h     a":[""],no:["","","","","","","","","","","","","","",""],"xi g":[""],pi:["","","","","",""],"ho xio":[""],mng:["",""],"d dn":[""],"zu j":[""],"xin gn":[""],pu:["","",""],"yng yng":[""],"z z zh":[""],"h h hu hu h":[""],hi:[""],d:["","","","","","","","","",""],"k k":[""],g:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"k g":[""],zuo:[""],lng:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"xin xin":[""],q:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"x di":[""],"li li li lie":[""],z:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m:[""],"j x qi":[""],"g lu k lo":[""],"sh xn":[""],"zn z z zan":[""],"hi k":[""],hu:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hui sh":[""],to:["","","","","","","","","","","","","","","","","","","","","","",""],xin:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]," n":[""],"xun xun":["",""],"wi h w gu gu":[""],"yn y yn":[""],i:["","","","","","",""],pn:["",""],shn:["","","","","","","","","","","","","","","","","","","","","",""],"hng hng hng":[""],"w wa":[""],"h h h":[""],zi:["","","","","","","","",""],"d di":[""],pi:["","","","","","",""],"gn hn":[""],"y y":["",""],"yu hu":["",""],nin:["","","","","","","","","",""],"hu hu":["",""],"j ji zhi":["",""],mu:[""],"y yo":["",""],lng:["","",""],"  ":[""],"l l li":[""],"n na ni n ni":[""],h:["","","","","","","","","","","","","","","","","","","","","","",""],"b p b":[""],zh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"ling lng":[""],"li l":[""],hn:["","","","","","","","","",""],"hng hng":[""],gng:["","","","","","","","","","","","","",""],"chu yu":[""],"g ji":[""],"bei bi":[""],"hn hn":[""],chn:["","","","","","","","","","","","","","","","","","","",""],"i i":[""],"ji qin":[""],"yn dn xin":[""],ch:["","","","",""],"w g ":[""],zo:["","","","","","","","","","","","","","","","","","",""],d:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"gng hng gng":["",""],du:[""],"lo lo":["","",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],lng:["","","","",""],"w wi":[""],fng:["","","",""],"yn jn":[""],"h xi":[""],wi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],shu:[""],chng:["","","","","","","","","",""],"r w":[""],qing:["","","",""],y:[""],y:["","","","","","","","","","",""],li:["","","","","","","","","","","","","","","","","",""],tu:["","","","","","","","","",""],"zhu zho tio":[""],kn:["","","","","","","","","",""],"zhu zho":["",""],"hng hng":["",""],"ln ln":[""],"a    ":[""],qing:["","","","","","","","","","","","","","","","","","","",""],"tn zhn xing du":[""],wn:["","","","","","",""],"cu qi":[""],"di sh ji t":[""],"yu w":[""],"z c":[""],"b t":[""],"chu chui":[""],"y y ":[""],fi:["","","","","","","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],sh:[""],"l la":[""],"yng qng":[""],p:["","","","",""],"zh sh":[""],s:["","","","","","","","","","","","","","","","","","","","","","","","","",""],ni:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lu lu luo":["",""],"tn chn tu":[""],bo:["",""],dng:["","","","","","","","","","","","","","","","","",""],lng:[""],"n n":[""],k:["",""],"yng y":[""],"l l l":[""],ji:["","","","","","","","","","","","","","","","","","","","","","","",""],hu:["","","","","","","","","","","","","","",""],"di zh":[""],wi:["","",""],"nu r":[""],"x hu gu":[""],zn:[""],"w ":[""],h:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hun yun xun h":[""],x:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"h h y":[""],ku:["","","","","","","","","","","","","","","","","","",""],"zhng chung":[""],"wi wi":["","",""],"du zh":[""],"sng sng":[""],"qio jio":[""],"pn bn":[""],"cn sn q":[""],"zh ch":[""],mio:[""],"pn pn":[""],ku:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"lou lu":[""],"zo qio":[""],"h xio xio h":[""]," sh":[""],xi:["","","","","","","","","","","","","","","","","","","","",""],"qing qing":["","","","",""],"i y":["",""],"m m ma":[""],"k k":[""],"d t":["",""],sng:["","","","","","",""],chn:["","","","","","","","",""],"w g":[""],"png bng":[""],"xin qin qin":[""],lo:["","","","","","","","","",""],wng:["","","","","","","",""],w:["","","","","",""],"hi hi":[""],h:["","","","",""],zi:[""],si:[""],"g g g":[""],g:["",""],n:["","","","",""],di:[""],"i i i":[""],tng:["","","",""],"zu su":[""],"zh zh zh zhe":[""],m:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],su:["",""],tn:["","","","","","","","","","","","","",""],"jio do":[""],"ki g":[""],"shn cn":[""],co:["","","","","","","","","","","",""],pio:["","","",""],"lu lou":[""],g:["",""],"g ji":[""],"jio xio":[""],"x sh":["",""],p:["","","","","",""],"d di":[""],"ma m":[""],"l lei":[""],"g g g":[""],si:["","","","","",""],"zu chui":[""],"cho zho":["","",""],zu:["","","",""],"qio qio":["","",""],"ch x shu":[""],"tn chn":[""],"dn tn":["","","","",""],"hi m":[""],:["","","","",""],"fn bo":[""],chung:["","",""],"c z h":[""],"tn ku":[""],"cng chng":[""],dng:["","","","","","","","","",""],p:["","","","","","","",""],ju:["","","",""],l:["","","","",""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],:[""],"zhu zhu":[""],"jio qio ch":[""],yun:["","","","","","","","","","","","",""],"i i i":[""],"yng yng":["",""],"ju xu":[""],"pn pn fn":[""],g:["","","","",""],"xn hn hn":[""],dng:["","","","","","","","","",""],ln:["","","","","","","","","","",""],t:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"hu hu ":[""],ho:["","","",""],"h xi":[""],"xi p":[""],"zhu chu":["","",""],m:[""],"ch c":[""],"b po bo":[""],"me mi m":[""],"xi hi":[""],"o xio":[""],m:["",""],pn:["","","","","","","","","","","","",""],m:["",""],"rng rng":[""],l:["",""],"jio ju jio":[""],chu:["","","","","","","","","","","","","","","",""],"hun hun":[""],"z c":[""],chi:["","","","",""],"nng nng":[""],"z zn cn":[""],s:["","","","","","","","","",""],zng:["","","","","","",""],"z ni yn":[""],nng:[""],"lu lu luo":[""],"wi gu":[""],hu:["","","","","","","","","","","","","","","",""],nn:["","",""],"jin nn":[""],nn:[""],tun:["","","","","","","","","","",""],"tn dn":["",""],gu:["","","","","","","","","","","","","","","","","",""],kn:["","",""],"wi tng":[""],qn:["","",""],r:["","","","","",""],ti:["","",""],p:["","","","","","","","","","","","","","","","",""],"qun jun jun":["",""],"chu chun":[""],tun:["","",""],l:["","","","","","","","",""],"hun yun":[""],lun:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],t:["","","",""],"x wi":[""],"d de":["",""],"qin s":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","",""],"chng chng":["","",""],"q yn":[""],ji:["","","","","","","","","","","","","","","","","","","","",""],"zh zh":[""],bn:["","","","","","","","","","","","",""],qn:["","","","","","","","","","",""],"mi fn":[""],"rng kng":[""],"fng fng":[""],"fn bn":[""],tn:["","","","","","","","","","","",""],"hui pi p pi":[""],"d ln":[""],tn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b:["","","","","","","","","","","",""],fn:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],zhu:["","","","","","","","","","","","","","","","","",""],p:["","","","","","","","","","",""],"pn bn":[""],kn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],din:["","","","","","","","","","","","","","","","","","","","","","",""],"m m":[""],"k k":["",""],xu:["","","","","","","","",""],"d ch":["",""],l:["","","",""],lng:["","","","","","","","","",""],mn:["","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":["","",""],c:["","","","","","","","","","","","","","","","","","","","","","","","","",""],du:["","","","","","","",""],"du du":[""],"du du":["",""],ch:["","","","","","","","","","","",""],shng:["","","","","","","","",""],shu:["","","","","",""],da:["","",""],hng:["","","","","","","","","","","","","","",""],"n n":[""],xng:["","","","","","","","","","","","","","","","","",""],"yun hun":[""],bng:["","","","","","","","","","","",""],"pu f":[""],cn:["","",""],"bng fng":[""],"d fng":[""],"xi ji":[""],"mi mn":[""],lng:["","","","","",""],"shn yn":[""],"qn jn":[""],"p b":[""],hu:["","","","","","","","","",""],"su s":[""],"p p":[""],"qng zhng":["",""],"wn wn":[""],ln:["","",""],"zhng chng":[""],kng:["","","","","",""],"ci ci":["","",""],"ch tu":[""],bng:["","","",""],"kn xin":[""],"y sh":["",""],pi:["","","","","","","","","",""],"so so":[""],"jn qn jn":[""],"png bng":[""],"qin zn jin":[""],n:["","","","","","","","","","","","","",""],"du hu":["",""],hun:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"bo b p":[""],"mo mu w":[""],run:["","",""],"i  y":[""],gng:["",""],mi:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],d:["","","","","","","",""],fng:["","","",""],hng:[""],chn:["","","","","","","","","","","","","","","","","",""],jing:["","","","","","","","","","","","","",""],hung:["","","","","",""],dun:["","","","","","","","","","","","","","","","","",""],t:["","","","","","",""],wng:["","","","","","",""],"si si s":[""],zng:["","","","","","",""],tin:["","","","","","","","","","","","","","","","","","",""],zhng:["","","","","","","","","","","",""],"tin zhn":[""],wn:["","","","","","","","","","","","","","","","","",""],li:["","","","","","","","","",""],hi:["","","","",""],lng:["","","","","","",""],bng:["","","","","","","","","",""],chn:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"u qi":[""],"qin jin":[""],"zhun tun":[""],shung:["","","","","",""],sh:["","","","","","",""],lu:["","","","","",""],ch:["","","","","","","","","","","","","","","","","","","","","","","",""],sh:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"d zh":["",""],kn:["","","","","","",""],chn:["","","","","","","","",""],"zh zhu":[""],qing:["","","","",""],zng:["","","","","","","","","","",""],qing:["","","","","","","","","","","",""],"kui tu":[""],"tun dng":[""],"qio qu":[""],"zn dn":[""],"qio o":[""],"y t":[""],"xu b ju":[""],ln:["","","","","","","","","","","","","","","","","","","","","",""],hui:["","",""],rng:["","","",""],"ln xin":[""],do:["","","","","","","","","","","","","","","","","","",""],ru:["","","","","","","",""],san:[""],zhung:["","","","","","",""],"k qio":["",""],kn:["","","","","","","","","","","","","",""],mng:["","","","","",""],cn:["",""],"zh zhng":[""],"g yng":[""],"jing xing":["",""],"png fng fng":[""],zhi:["","","","","","","",""],"xun xing":[""],wi:["",""],"wn yun wn yun":[""],"mo wn":[""],mng:["","","","","",""],"d di":[""],"f f":["","","",""],gui:["","",""],yng:["","","","","","","","","","","",""],"hng bn":[""],go:["","","","","","","","","","","","","",""],"to bn":[""],"tu tou":[""],"yn to":[""],"ku ku":["",""],"ji ji g xi":[""],hu:["","","","","","","","","","","","","","","","","","","","","",""],"ji ji g xi":[""],n:["","",""],"d t":[""],"yn yn":["",""],po:["","","","","","","",""],ni:["","","","","","","",""],"qun jun":["","",""],zu:["",""],"q qi xi":[""],ki:["","","","","",""],"bn bn":["",""],to:[""],"zng zhung":[""],bn:["","","","","",""],"xn zhu":[""],sh:["","","","","","","","","",""],"h p ti":[""],"o y":["","",""],yn:["","","","","","","","",""],"du ch":[""],"n r":[""],n:["","","","",""],"dng dng tin":[""],"t ji":[""],nun:[""],"ho ho":[""],fn:["","","","","","","","","","","","","","","","","","","","",""],shu:["","","","","","","","","","",""],"fi pi":[""],wng:["","","","",""],zhung:["","","","","","","","","","","","","",""],m:["",""],"f yu":[""],"hi ji":[""],d:["","","","","","","","","","","","","","",""],mio:["","","","","",""],"fu pi p":[""],"yu ju":[""],ni:[""],"n nn":[""],tu:["","","","","","","","",""],"wn yun":[""],fng:["","","","","",""],n:[""],zhu:["",""],zho:["","","","","","","","","",""],"ni n":[""],tu:["","","","",""],"xin xun x":[""],"zh y":["",""],:["","","",""],mi:["","","","","","","","","","","","","","","","","",""],"q q":[""],"x x":["",""],"shn shn":["","","","",""],mn:["","","","","","","","","","","",""],ji:["","","","",""],"wi wi":[""],pn:["","","","","",""],"hu hu":[""],"jio xio":[""],"gu d":[""],"lo m":[""],"nin nin":[""],zhn:["","","","","","","","","","","","","","","","","","","","","","","","",""],hng:["","","","","","","","","","","",""],"jn xn":[""],"ku h":[""]," y":[""],"xin shn":[""],w:[""],"ro ro":["",""],"sho sho":[""],xi:["","","","","",""],"w mi m":[""],"chu li":[""],ning:["","",""],"n nu":["",""],"pu b":[""],"ni su":[""],tu:["","","","","",""],mn:["","","","","","","","",""],"w w y":[""],"x i":[""],"zhu shu":[""],"dng dng":[""],"i i ":[""]," ":[""],min:["","","","","","","","","","","","","","","",""],"pu pi b":[""],bio:["","","","","","",""],"f fn":[""],w:["","",""],"n n":["",""],"qun jun":["",""],hn:["","","","","","","","","","","","","",""],"qin jn":[""],"wn w":[""],"li li":["","",""],"zhu chu":[""],"chu no":[""],"n n":[""],"hn kn":[""],"dng yng":[""],nn:[""],"ru chu":[""],ji:["","","","","","","","","","","",""],"tu y":["",""],"y y":[""],"wi wi":[""],"d t":["","",""],ru:["","","","","","","","","","","","","","","","","","","","","",""],"run nn":[""],mio:["","","","","","",""],"y pi":[""],"min min":[""],"t sh":["",""],"du tu":["",""],o:["","","","","","",""],"ch zu":[""],yng:["","","","","",""],"qn shn":[""],ji:["","","","","","",""],so:[""],"zhn zhn":[""],"ji su":[""],"mng mng":[""],nio:["","","","","","","","",""],to:["","","","","","","","","","","","","","","","","","","","","","",""],bio:[""],"pio pio":["",""],xun:["","","","","","","","","","","",""],"mn mn":[""],kng:["","","","","","","","","","","","","",""],"hn nn":[""],nn:["",""],zh:["",""],"m m":[""],pi:[""],zhn:["","","","","","","","","","","",""],"xin yn jn":[""],lin:["","","","","","","","","","","","","",""],"qing hun xun":[""],dng:["","","","","",""],cn:["","","","","","",""],tio:["","","","","",""],b:["","",""],li:["","","","","","","","","","","","","",""],"qin xin":["",""],"xi hu":[""],"hun qun":[""],"l l":["",""],"zh chu":[""],kng:["",""],"m z":[""],"sn xn":["",""],"bi b":["",""],"yu ni":[""],zhun:["","",""],hi:["",""],no:[""],"chn cn":[""],b:["","","",""],ni:["",""],"nng nng":["","","","","",""],zhi:[""],"t ji":[""],sng:["","","","","","","","","",""],ru:["","",""],zhn:["","","","","",""],"m f":[""],"dng tn":[""],"wn yun":[""],chng:["",""],qn:["","","","","","",""],zi:["",""],"bo sh":[""],"ji jia jie":[""],"hung hung":[""],kun:["","","","","","",""],"s xi xi":[""],"ji zn":[""],"bng bng":[""],"jn qn":[""],"lu j":[""],"xi xi":[""],"qn qn":[""],cn:["",""],du:["","","","","","","","","","","","","","","","",""],"l lu":[""],"sh y y":[""],"jing jing qing":[""],"jing jing":["","","",""],zn:["","","","","","","","","","",""],"sh zh":["",""],xio:["","","","","","","","","","",""],"ji j":["","",""],"sho sho":[""],r:["","","","","","","","","","","","","","","","","","",""],"wng yu":[""],wng:["","","","",""],lio:["","","","","","","","","",""],"mng mng lng png":[""],g:["",""],"ku ku":[""],tu:["","","","","","","","","","","",""],yn:["","","","","","","","","","","","","","","","","","","","",""],"ch ch":[""],ko:["",""],"jn jn":[""],"wi y":[""],"nio su":[""],cng:["","","",""],dio:[""],"png bng bng":[""],lu:["","","","","","","",""],"sh zh":["",""],"xi t":[""],"ch co":[""],"tn zhn":[""],"n j":[""],"hng lng":[""],"q ki":["",""],ng:["","",""],"gng gng":["",""],k:["","","","",""],gu:["","","","","","","","",""],tio:["","","","","","","","","","","","","","","","","","","",""],"q j":[""],lng:["","","",""],p:["","","","","","","","","","",""],"b k":[""],lu:["","","","","","","","","","","","","",""],"f ni":[""],n:[""],"zh sh":["",""],qi:["","","",""],"qio jio":["",""],"xi y":[""],b:["","","","","","","","","",""],chng:["","","","","","","",""],"z cu":["",""],"lng lng":[""],"dng dng":[""],xio:["","","","",""],"p b":["",""],"zhn chn":["","",""],"wi wi":[""],"yng dng":[""],"sh di":[""],yo:["","","","","","","","","","","","","","","","","","","","","",""],"kn zhn":[""],"hn dng":[""],"qin kn":[""],"w mo":[""],"k ji":["",""],"wi wi":[""],k:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"dng tng":[""],"rng yng":["",""],"i ki":[""],"ko qio":[""],cu:["","","","","","","","",""],"qin qn":[""],"d di":[""],cn:[""],dng:["","","","","","","",""],"o o":[""],"p pi":[""],"jio qio":["",""],"ju gu":["",""],"zhn shn":["",""],"xi ji":[""],"gu x jun":[""],r:[""],"l li":["","","",""],"x gu jun":[""],"yng hng":[""],yng:["","","","","","","","","","","","","","","",""],cho:["","","","",""],cun:["","",""],chun:["","","","",""],"jng xng":[""],cho:["","","","","","","","","","","",""],qio:["","",""],gng:["","","","","","","","",""],"ch ch chi c":[""],"xing hng":[""],shui:["","",""],p:["","","",""],"tng n":[""],"m w":[""],"ti ti ti":[""],zhu:["","","","","","","",""],"jun jun":[""],shu:["","","","","","",""],"chu do":["",""],"jin jin sn":[""],"sh qi":[""],"q j":["",""],"shn qio shn":[""],"zhung chung":[""],"chn chn":[""],mi:["","","","","","","","","","","","","","",""],"gn gn":[""],"bng bng":["",""],"j j":[""],"gung n":[""],gung:["","","",""],me:[""],"dn tn":[""],"bi tng":[""],"yng yng":[""],"d de":[""],"d du":[""],"mng mng png":[""],"bng png":[""],chng:["","","","","",""],"j cu":[""],qng:["","","","","","","","","",""],"gu wi hu":[""],"jn qn":[""],ku:["","","","","","","","","","","","","","","","",""],"qing s":["",""],"yn yn":["","","","","","",""],"p pi":["",""],"nng lng":[""],"d t tu":[""],"ju zhng":[""],"m m":["","",""],cho:["","","","","","","",""],yi:[""],sho:["","","","","","","","","","","",""],"xun yun":[""],"qing qing jing":["",""],"tn dn":["",""],bi:[""],"qing jing qing":[""],"j xu":[""],tun:["",""],yu:["","","",""],"shn xin":[""],wn:["","","","","","","","","","","","","","","","","","","","","","","","","",""],"png bng":[""],"pio pio":[""],"zhu b":[""],"tu y":[""],"png fng":[""],wng:["","","","","","","","","","","","","","","","","","",""],c:["",""],"di di":[""],hui:["","","","","","","","","","",""],"w wng ji":[""],"chng zhng":[""],"d di de":[""],"cng zng":[""],"sh t":[""],"t ch":["","",""],d:["","","","","","","",""],"zh zhng":["",""],bi:["","","","","",""],"chng zhng":[""],"jio jio":["","",""],"lng lng":[""],"q j":["","","",""],"dng tng":[""],gi:["",""],rn:["","","","","","","","",""],chn:["","","","","","",""],t:["","","","","",""],"t ti tu":[""],"gn hn":["",""],"y q":[""],"ti sh":[""],"x li":[""],"yng yng":["","",""],"mn wn mn":["",""],"sng zhng":[""],"y sh":["",""],"q sh":["",""],"tn zhn dn":[""],"qin qn":["",""],hn:["","","","","","",""],ni:["","","","","","","","","",""],"kung wng":[""],"kng hng":[""],"ki x":["",""],u:["",""],"bo bo":[""],"mn mn":[""],"zu zh":[""],zn:[""],yng:["","","","","","","",""],"ku j":[""],"no ni":[""],"zhng zhng":["","","",""],"ti zhn":[""],"h g":[""],"c j z":[""],"s si":[""],"yu chu":[""],"t di":[""],"yu yo":[""],xun:["","","","","","","","","","","","","","","","","","","","","",""],"x xu":[""],"b p":[""],"x sh":[""],"nn nn":[""],"tio yo":[""],"x q x":[""],"xio jio":[""],"h ku":[""],n:["","","",""],hn:[""],"dng tng":[""],"qun zhun":[""]," w  w":["",""],tng:["","","","",""],"yun jun":[""],"qio qio":[""],"ji k":[""],"ho jio":[""],hu:["","","","","","",""],"mn mn":["",""],"y y":["",""],qun:["","","",""],"ku l":[""],"y nin":[""],"mn mn":[""],gun:["","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"kng kng":[""],"ln ln":[""],gu:["","","","","","","","","","","","",""],"yun wn":["",""],"ln ln":[""],"y x":["",""],"chu chu":[""],"hn mn":[""],"chng tng":[""],"su ru":[""],cn:["","","","","",""],cn:["","","","","","","","",""],"dn d":["",""],r:[""],"y tu":[""],"ki q":[""],"dng tng shng yng":[""],"chn xn dn":[""],"k qi":[""],nu:["","","","","","","","","","","","","","","","",""],gn:["","","","","","","","","","","","","","","","",""],"cng sng":[""],"si s s":[""],"gng gng hng":["",""],"shu s":["",""],"yo yo":[""],hung:["","","","","","","",""],zhng:["","","","",""],co:["","","",""],"x xi":[""],"co so":[""],"x ch":[""],"qi qin":[""],"co cng":[""],"o o":[""],"lin lin":["","","",""],"jn qn jn":[""],"d ch":[""],"zh zh":[""],"lu l":["",""],cng:["",""],"zh zh":["","","",""],chng:["","","","","","","","","","","","","","","","","","","","","","","","","",""],bi:["","","","","",""],"chng dng zhng":[""],"x x":[""],"du dn tn":[""],"xio jio":[""],"xin xin":[""],"lio lio":["","","",""],shng:["","","","","",""],"no no nng":[""],"jng jng":[""],"j jio":[""],"xun hun":[""],"co so so":[""],mn:["","","","",""],"mng mng mng":[""],"i y n":[""],"mng mng":["","",""],"q j j":[""],m:[""],"ln xin":[""],"yu yu":[""],"li li":["",""],rng:["","","",""],hun:["","","","","","","","","","",""],nn:["","","","","","",""],"m m":[""],"gng zhung":["",""],"zhung gng":[""],"x qu":[""],"x h":["","",""],"ji g":[""],zi:["","","","","","",""],dng:["",""],"h x":[""],chu:["","",""],"bin pin":[""],"shng jing":[""],"shn shn":[""],ci:["","","","","",""],"zh z zh":[""],"l l ci":[""],"b p":[""],"d d":[""],rng:[""],"fn f":[""],"dio d yu l":[""],"kng gng":[""],"y w":[""],"y w k":[""],"tu ch y":[""],"g ji x g":[""],dn:["",""],"so so":["",""],ro:["","",""],"x ch q":[""],"bn pn":[""],"b o":[""],"x zh":[""],"zh sn kn":[""],zho:["","",""],"kung wng zi":[""],"h g":["","",""],"b b":[""],"dn shn":[""],"n n ru n":[""],zhu:["","","","",""],pu:["",""],"zh sh zh":[""],"pu pu f":["",""],po:["","","",""],"o o ni":[""],"ln ln":["",""],"qing qing chng":[""],"zh zhi":[""],"b p":["",""],"yo to":[""],"h h qi":[""],"n n":[""],"p pi":[""],"m m m":[""],chu:["","","","",""],"ji y":[""],"f b":["","",""],zh:["","","","",""],"dn dn dn":[""],"chi c":[""],nin:["",""],"l l l l":[""],"bn pn":[""],pi:[""],ln:[""],gui:["","",""],"tu t zh":[""],"o o ni":[""],"j gu":[""],"pn pn fn":[""],"bi bi":[""],bi:["","","","","","","",""],qi:[""],"nng nng nng":[""],"z zhi":["",""],hn:["","",""],"ku gu":[""],"ji ji":[""],nn:[""],shun:["","","",""],"cn zn":[""],"z zn":["",""],ko:["","","","",""],"y ch hi":[""],"c s chu":[""],"zhui zhui y":[""],"sh sh":[""],bi:["",""],"ku gung":[""],nng:["","",""],"jio jio":["","",""],"ku k":[""],"n r":[""],"tio tio":[""],"di sh":[""],li:["",""],"y y":["",""],"w zhu":[""],"xi ji":["",""],"dng dng":["",""],"zhng zhng":["","",""],"i i":[""],"tu shu":["",""],"t t":[""],"su sh":[""],"s sh su":[""],"kng qin":["",""],"bng png":[""],"ru ru":[""],"jio k":[""],"w w":[""],tng:["","","","","","","",""],"hu ch":[""],"t sh ch":[""],"l lu":[""],"sho sho":["",""],ni:["",""],"sh sng su":[""],"y y":[""],"ju zhu":[""],"b p zh":[""],zn:["",""],lo:["","",""],sn:["","","","","","","",""],"wn wn wn y":[""],png:["","",""],sh:[""],"f f b":[""],do:[""],"lu lu w":[""],"jun qun":[""],"chn tin":[""],"nin ni":[""],"ru wi r":[""],zu:["","","","","","",""],"w xi":[""],"qng qin":[""],"pu pu":[""],qi:["",""],"pi pi":[""],"qin wn":[""],"y y":[""],"ni n y":[""],"hu x":[""],"yn shn yn":[""],"zhng dng":[""],kng:["",""],tu:["","",""],"zu zhu chu":[""],tin:["",""],kn:["","",""],p:["","","","","",""],"gu gui":[""],"dn shn":["",""],"chn xin cn shn":[""],so:["","","","","","","","","","",""],png:["","","","",""],"zhng kng":[""],"ji yu":[""],"jin jin":["",""],"p ch":[""],"si zng ci":[""],"t d d":[""],"zng sng":[""],"hung yng":[""],"zn zun":[""],"x j":[""],"k qi":[""],"chui chui chui tun zhu":[""],"d t":[""],"l l":[""],l:["","","","","","","","","","","","","","","","",""],"ji q":[""],"chng dng":[""],"di sh y":[""],"jin qin jin":[""],y:["","","","","","",""],chn:["","","","","","","","",""],"g g":["",""],"lu lu":["",""],"chu zu":[""],chui:[""],sn:["","","","","","","","","",""],"rng nng nng":[""],"png bng":[""],cu:["","","","","",""],"k ":[""],"n nu nu":[""],"l xi xin":[""],qi:["",""],"xin xin":[""],"ji zh":[""],"pn bn p":[""],bn:["","","","","","","","","","","","","","",""],"zh ni":[""],"w w w":[""],hu:["","","","","","","","","","","",""],"qing qing chng":[""],"tin shn":[""],"n nu":[""],n:[""],"sh ni":["",""],bn:["","","","","","","","","","","",""],"sh s shi":[""],"chn sn":[""],"ji li lio jio no":[""],"fng png":[""],shui:[""],"d t zh":[""],"q j ch":[""],"su sng":[""],"lin lin":[""],"gi x":[""],"h ch":[""],tng:["","","",""],"ni zh":[""],"m m":[""],"jing qing":[""],"o qio":[""],"ni ch":[""],"mn mn":[""],"chn cn":[""],"s m s":[""],"bio bio":[""],"ju ju":[""],pi:["","","",""],"pi pi":[""],"zn zn zn qin":[""],"s s":[""],hng:["","","","",""],"hng gung":[""],nin:["","","","","","","","","","","",""],"chng zhng":[""],"hu wi":[""],co:["","",""],"xio su":[""],"lio lio":[""],"cu zu":[""],"wi tu":[""],cun:["","","","","","",""],"qio yo j":[""],"zhu w":[""],"li li":[""],nng:["","","",""],"qng jng":[""],kui:["","",""],"p b":[""],"b bi":[""],"j j":[""],mng:[""],"su su":[""],xng:["","",""],c:[""],"nng nng nng":[""],"zh ji":[""],"l li":["",""],"su su":[""],"l lu yu":[""],"t zhi zh":[""],pn:["","","",""],li:["","","","","","","","","","","","","","",""],"c s":[""],"jn pi":[""],"l lu":["",""],"l li":["",""],"l lu":[""],"zn cun":[""],"xin jin":[""],"m m m":[""],"zn cun zn zun":[""],zun:[""],"l shi":[""],"l lu":[""],"gu gu":[""],"j q y":[""],fng:[""],"w mu":[""],"ch shu":[""],"g gu ":[""],"du du":["",""],"du qu":["",""],"sn sn":[""],"dn du":["",""],"q y j":[""],"xio xu":[""],"sh sh shu":["",""],"i zh":["",""],"xing xun":[""],"zhu zh":[""],"y d":[""],"l ti":[""],"fi fi":[""],"y zhng":[""],"du du":[""],"w gun":[""],"tu tio":[""],du:["","","","","","","","","","","","","","","","","","","","",""],"yn zh":[""],"chn ji":[""],"w y y":[""],"yu li":[""],"png bng":[""],"mo mo":[""],"p b":[""],"xun xun":[""],"w m":[""],zo:["","","","","","","","",""],g:[""],"gn hn":[""],"ti yng":[""],"x x":[""],"tn zhn":[""],"w w":[""],"p pi":[""],zng:["","","","","","","",""],i:["","","","","","","","",""],"hung hung":[""],xun:["","","","",""],"x ku":[""],hng:[""],shi:["",""],"yn yn":["",""],"shng chng":["","",""],"jng yng":[""],shn:["","","","","","","",""],"q d":[""],"n n yn":[""],"wng wng":[""],zn:["","","","","","","","","","","","","","","","",""],"yn yn":[""],"mn mn":[""],"d sh":[""],sh:["","","","","","","","","","","","","","","","","",""],"jin ln":[""],nun:["","",""],"bo p":[""],"x x":[""],"p bo":["",""],"q q":[""],"q q":[""],"gng gng":[""],"h h":["",""],"zng cng":["",""],"cng zng":["",""],"cn qin jin":[""],"qi h":[""],"b p":["","","",""],"yu yu":[""],"bn fn":["",""],"f f":["",""],"fi k":["",""],"q x chn":[""],"jun zu":[""],"hung mng wng":[""],"q j":[""],"tng chung":["",""],zh:["","","","","","","","",""],"zh sh sh":[""],"sh sh zh":[""],"zh sh":[""],"p p p pio":[""],"do tio m":[""],"gu qi":[""],xi:["","","",""],"chng chng":[""],z:["","","","","","","",""],"y w":[""],"gn gn":[""],"ch ch":[""],"shn sh":[""],cn:["","","","","",""],"rn r":["",""],"sho bio":[""],"d du":["",""],"g gi":[""],"y zh l du":[""],"gng gng":[""],"tio tio":["",""],"m m":[""],"s zh x":[""],"yun wn":["",""],"bi fi":[""],"sh du":[""],"ni chu":[""],"w yu":["",""],mo:["","","","","","","","","","","","","","","","","",""],"p m":[""],ng:["","",""],"fng bng":[""],"h d":[""],xn:["","","",""],"yo yo":[""]," ":[""],"zh q":[""],"cng zng":["",""],"xin zhn":[""],"ti s":[""],"gu j gu":[""],"bo f":[""],"y xi":["",""],"tu du":["","","",""],"y du l":[""],"n ch":[""],"pn bn":["",""],"yng yng yng yng":[""],"f f f":[""],"bi b b":[""],mu:[""],"sho sho":[""],zh:["","","","","","","","","",""],"yu yu":["",""],"gu j":[""],"zh zu":[""],"di zh":["",""],"zh z z":[""],"ch zh":["",""],"o o":["",""],"b f pi b bi":[""],"du zu w":[""],"b bi":[""],"zh ch":[""],"bi pi":[""],"sh fi":[""],"shn zh shi c":[""],"l yu":["",""],"q qi":["",""],"q x":["",""],"gu ku":[""],"bng bn":[""],"xio jio":[""],"jin zn":["",""],"yu y":[""],"h h":[""],gn:["",""],"zh y":[""],"g g":[""],"hng hng":[""],"gung gung":[""],"y t":["",""],sng:["","",""],"j ji":[""],"y mu":[""],"ro no":["",""],"gu hu":["",""],"chn zhn":[""],"tng yng":[""],"b po":[""],"bn fn":[""],"fng fng":["",""],"s yn":[""],"tng tng":[""],"xun jun xi":[""],"t ch":[""],"o yu":[""],kun:["","","",""],"sho so":[""],"qn chn cn":[""],"l s q":[""],"chn yn":[""],"bn bng":["","",""],"to chu do":[""],"cng sng":[""],"gn hn":[""],"d zh":[""],"pi bi pi":[""],"bng pu bi bi":[""],"d di t":[""],sn:["","","",""],"rn shn":[""],"lng lng lng":[""],"f s":[""],"zu su":[""],zu:["","","","","","","","","","","","","","","","",""],"zho zhu":[""],"chn shn":[""],"ji qi":[""],"y y":[""],"chu zhu dio":[""],"qing kng":[""],"zhu chu":[""],"bi p":[""],mn:[""],"qun jun qun":[""],"du chun":[""],"wi hu":[""],"ji ji":[""],"hn jin":[""],"shn zhn":[""],"yn y":[""],"zh ch":[""],"gu ku":[""],"j zh":[""],"k h":[""],"yu yu":[""],"sng cng":[""],"yun xun":[""],"yng yng yng":[""],pin:["","","","","","","","","",""],"di y":[""],"dn shn":[""],"cu zu":[""],"d d sh":[""],"ki ji":[""],"ru ru":[""],"l yu":[""],"wn yn":["",""],l:["","","","","","","","",""],shn:["","","","",""],"b pi":[""],"zhn nin zhn":[""],"f f b":[""],"jin jn":[""],"bng bng":[""],"sh xi":["",""],nu:["","","",""],"qin lin xin":[""],gng:["","","","",""],go:["","","","","","","","","","","","","","","",""],"din zhn zhn":[""],"kn jin":[""],"x di":[""],"j gu":[""],"rng yng":[""],"tun shun qun":[""],"q s":[""],"cu zh":[""],"yu cho":[""],"mn wn":[""],"l ch":[""],"li li":["","",""],"cho jio cho":[""],"chng tng":[""],"ji lio":[""],"m m":[""],"nio m":[""],"hng hng":["",""],xu:["","","","","","",""],"f fi":[""],rn:["","","","","","",""],"zhn jin":[""],shn:["","","","","","","",""],"tu dn":[""],"tng chng":[""],"s qi":[""],"tn din":[""],"fn fn fi":[""],"rn yn":[""],"c chu":[""],"sh qio":[""],"png b":[""],"zhi sh t":[""],"bio bio":[""],"qin lin":[""],"n m":[""],"jin kn":[""],"nu run r":[""],"j j":["",""],"hung gu g":[""],"l ch":[""],"mi mi":[""],u:["","","","","","","","","","","","","","",""],"zh zhu":[""],"ju j":[""],"hui gu":[""],"chn zhn":[""],"wi zu":[""],cng:["",""],"y y":[""],"ch q x":[""],"ki i":[""],"y yn":[""],"x ki":[""],"shu su":[""],"i i i i i    ":[""],"q y":[""],"chu x":[""],"ch chui":[""],"kn qin":[""],"kn k":[""],"chun chun":[""],"yn yn":[""],"jn qn":[""],pn:[""],"x chu":[""],"x sh":[""],"lin hn":[""],"zh ch":[""],"s sh":[""],s:[""],"wn m":[""],pio:["","","","",""],"qng jng":[""],"fu b":[""],"zh shi":[""],"y yn yn":[""],"hn mi":[""],chu:["","",""],"ku hu":["","",""],cun:["","","","","","",""],"yn yn yn":[""],"qng kng shng":[""],"yo xio xio":[""],"g g":["",""],"gun wn":[""],"d di":[""],"xn xn":[""],m:["",""],"du nu":[""],"si su":[""],lu:[""],so:["","","",""],"sh zh":[""],"d d":[""],"mng mng":[""],"yng r":[""],shu:["","","",""],"zhng chng zhng":[""],tn:[""],"fn fn":[""],"gu ji":[""],"bn p p":[""],"zhu qu":[""],"d ti":[""],pn:["","",""],"hn hn":["",""],tu:[""],"tng shng":["",""],"zh j":[""],"gn hn cn":[""],"wn mn":[""],"fng png":[""],"h hung":[""],"ni yu":[""],hng:[""],"shn chn":[""],"dn zhun":[""],"n ni":[""],"mi m":["",""],"t d":[""],"m w":[""],"hng png":[""],"sh sh":[""],"zhu z":[""],"u u":["",""],"j j":[""],"tu du":[""],"m l":[""],"y ch":[""],"xi y":[""],"b p":[""],"m b":["",""],"ch sh":[""],"yu yu o":[""],"png png":["",""],"po po":[""],"n n":["",""],"yu s":[""],"ju xu":["",""],"lng shung":["",""],"lu p":["",""],"z sh":["",""],"s x":[""],"s q z":[""],"x xin":[""],"ko ko":[""],"n yn ":[""],"li li":[""],"qi ji":[""],"qin jin":[""],"j j":["","","",""],"h x":["",""],"jn xn":["",""],"yng chng yng":[""],"lin l":[""],"fng hng":["",""],"jing jing":[""],"su ni":[""],"yng chng":[""],"tn yn":[""],"w gu":["",""],hng:["",""],"zhng zhng":["",""],"shu to":[""],shun:["",""],"kng nng":[""],"w wn yun":[""],"tu tu":[""],w:["","","","","","","","",""],"qi j":[""],"gu gun":[""],"ln ln":["","",""],"tng chng":[""],"no chu zhu":[""],"png png":[""],fi:["","","",""],"p pi":[""],"nin shn":[""],"bio h":[""],"chn zhn":[""],"hn hn":[""],qin:["","","","","","","","","",""],"wn mn":[""],"r ru lu":[""],"d du":["","",""],"jin jin":["","","",""],"min shng":["",""],"nun nun":[""],"qi w":[""],"tng tng":[""],"d t d":[""],"gng jing":[""],"hng qng":[""],tun:["",""],"hu mn x":[""],"x x":[""],pn:["","","",""],"mn hn":[""],"tun nun":[""],"qi jio":["",""],"yn yn":[""],"bn pn":[""],"zhung hn":[""],"yn gu":[""],"lin lin nin xin xin":[""],"d t":["",""],"li li":["","",""],ln:[""],m:["","","","","","","","","","","","",""],"zhn qn":[""],"n nio":[""],"ch x":["",""],"wng wng":[""],"ho xu":[""],"q x xi":[""],"xng yng":[""],"z ho":[""],"pio pio pio":[""],"cng sng":[""],"fng png":[""],"lu t":[""],"png bn":[""],"chng shung":[""],"hu ku hu":[""],"lio li":[""],"cu cu":[""],"cng zng":[""],"cng zng":[""],"p pi":[""],"dng xing":[""],"hung gung":[""],"lio lo lo":[""],"cng zng":[""],"zh zh":[""],"tn shn":[""],"t zh":[""],"sn s":[""],hi:["","","",""],"chng dng":["",""],"cn cn":[""],"png png":[""],"hng gng":["",""],"wn mn":[""],"kui hu":[""],"gu w":[""],"pn fn":[""],"j sh":[""],"hu hu":[""],"dng tng":[""],"m n":[""],"b p":[""],"cu zu":[""],"h hu":[""],"i ki k":[""],"wi du":["",""],"zn cun":["",""],"yng yng":[""],"wng wng":[""],"m mi":["",""],su:["","",""],"hui wi":[""],"zn jin":[""],"yng yng yng":[""],"rng rng":[""],shung:[""],"zhu jio z":[""],s:["","",""],"lun lun":[""],"dng tng":[""],"xn qun qun":[""],"hu bio":[""],"zh y":[""],"fn bn":[""],"jing gu":[""],"png fng":[""],qu:["","","",""],bin:["","","","","","","","","","","","","","","","",""],"zho zho":[""],"zhu ch":[""],"po po bo":[""],"po fu":[""],"shn qin shn":[""],"zh zh":[""],"jio yo":[""],qun:["","","","","","",""],"yng yng":[""],"lo lu":[""],"hu hu":[""],r:["",""],"f po":[""],"xi ch":["",""],"yn shn":[""],"hn xn":[""],ko:["","","","","","","","",""],"jun y":[""],"jn q":[""],"to do":[""],"cho j":[""],"w i":[""],"zng cng":[""],"x y":[""],"xn xn":[""],"cho zhu":[""],"xing yng":["",""],ku:["","","","",""],"hu yn xn":[""],"jio qio":[""],"qin shn shn":[""],"x y":[""],"sh sh":[""],"y zh":[""],"yng yng":[""],"n yn":[""],"yn yn":[""],"h xio":[""],xing:["","",""],"xn xn":["",""],gng:["","",""],li:[""],"cng zng":[""],"l o":[""],"sh shu":[""],"fng png":[""],"cu su":[""],tng:["","",""],"yn y":[""],"o o":[""],"hn rn":[""],"u u":[""],"hung hung":[""],"chn dn chn":[""],"jio zhu qio ju":[""],"yn yn":[""],"ti li":[""],o:[""],"yn xn":[""],"ju jio":["","","","",""],"ln ln":[""],"zhu zho":[""],"zho zhu":[""],"f f":[""],di:["","",""],zng:["","","","","","","","",""],"pin pin":[""],"bin min":[""],bng:["","",""],"yu yng":[""],"chng chng":["",""],ni:["",""],"ji l":[""],"m mu":[""],mng:[""],"g qi":[""],"yu chu":[""],"t zh":[""],bn:["","",""],"jin qin":["",""],m:["","","","",""],"mo l":[""],"b qun":[""],"zhu bo":[""],"n hn":[""],"kng gng":[""],"pi fi":[""],"fn hun":[""],kung:["","","","","","","",""],"y qun ch":[""],"xng shng":[""],"tu y":[""],k:["",""],"hun hun":[""],"h m":[""],"t sh":[""],"mng du":[""],"x sh":[""],sun:["","",""],"bi p":[""],"jin yn":["",""],"y y":[""],"y wi":[""],ci:[""],"mo mo":["",""],"chun chun":[""],"tun tun":["",""],"y ji qi":[""],"h xi g hi":[""],"bin pin":["",""],"b p":[""],"ho go":[""],"fn fn":[""],"yo xio":[""],"shu x":[""],"g li xi":[""],"nu r":[""],"no no yu":[""],rng:["","","","","","","",""],"no yu":[""],"l shui":[""],"wng wng":[""],"yng chng":[""],"mn wn":[""],"bn fn":[""],"mn yn":[""],"qing cng":["","",""],"n gn":[""],"xun xin":[""],"c c":["",""],"y ti":[""],"z j":[""],f:["","","","",""],"yn kn":[""],"hu hn":[""],"xun qing":[""],"f f":[""],"bng pn":[""],"cu s":[""],"y wi":[""],"tin tin":[""],"zhu zu":[""],"bng pi":[""],gun:["","","","","","","","","","",""],"hn hu":[""],"xi ji":[""],"chng dng yng":[""],"tin zhn":[""],"bn pin":["",""],"t sh":[""],cu:["","",""],"zo su":[""],"ju qing":[""],"l f":[""],"j z":[""],su:["","","","","","",""],"m x":[""],"qing wi wi":[""],"hun y y":[""],"b po":[""],"zh h":[""],pio:["",""],"w w":[""],"xing hng":[""],wng:["","","","",""],"shn shn":[""],ru:["","",""],yng:["","","","","",""],shui:[""],bng:["",""],"yu zh":[""],"din tin shng":[""],"tng dng":["",""],"zi z":[""],"b q":[""],"d f":[""],"c j":[""],"zi z tin":[""],"zh chu sh":[""],"fn pn":["",""],"sh y":[""],"dng dng dng":[""],"jing qing":[""],"p y sh":[""],"ji qi":[""],"y n":[""],n:["","","",""],"g y":[""],"n yo":["",""],"l li":["",""],"y xi":[""],xu:["","","","","","",""],"dn da":[""],"f bin":[""],"fi fi":["",""],"shn din":[""],"tng chng":[""],"tng tng":[""],"wi yu y":[""],"tn sh":[""],"p p":["",""],"bng png":[""],"m ln":[""],"tin din":[""],"n y ":[""],"k ":[""],"zh ch":[""],"ji xi xi":[""],"li hu":[""],"chi cu":[""],"din chn":[""],"da d":[""],"bi bi":[""],qu:[""],"dn dn":[""],"gu wi":[""],"nng nng":[""],"bi bi":[""],"b b":[""],bi:[""],"j b":[""],"de d d d":[""],"p b":[""],"go ho":[""],"go yo":[""],"l lu b":[""],"zh c":[""],"zho zhn dn":[""],"jin jin":["","","","",""],"gi g h":[""],"mng wng":[""],yun:["","",""],"tin xin":[""],"xing xing":[""],dn:["","",""],"x pn":[""],"shng xng":[""],"yn hn":[""],"min min":[""],"kn kn":[""],"yng yng yng":[""],"yo o o":[""],"j x ku":[""],"y ch":[""],"di t":[""],"bng fng":[""],"png pn":[""],"m m":["",""],"xun shn xn":[""],tio:["","","","",""],"zhe zhu zho zho":[""],"qio sho xio":[""],"cu zhui":[""],gn:["",""],"su zu":[""],"p b":["","",""],"y z go":[""],"xng xng":[""],"gu wi ku":[""],"ku j":[""],"qing hun":[""],"mn mn":["",""],"dio du":[""],"lou lu l":[""],"shn rn":[""],"lio lio":["",""],"jin xin":[""],"w m":[""],"gu ku":[""],"nng chng":[""],"hu yu":[""],"mng mng":[""],"kung gu":[""],"gun qun":[""],"mn mn":[""],"jn gun qn":[""],"jn qn gun":[""],"y x ju":[""],"jio jio":["",""],dun:[""],"sh dn":[""],"gng qing kng":[""],"hu x":[""],"pn bn fn":[""],"yn yn":["",""],"lu k":[""],"f fi":["",""],"zh zh":[""],"l l l":[""],"kung gung":[""],"g lu":[""],"shu sh":["",""],"wi wi i":[""],"qu k k":[""],"mng bng":[""],"lu lng":[""],"yng tng":[""],n:["",""],"kng kng":[""],"yn yn":[""],"zhu chu du":[""],"kng kng":[""],"zng cng":[""],"jin zhn":[""],"l li":["",""],"qu x":[""],"ln ln ln":[""],"no gng":[""],"ji y":[""],"wi wi":[""],"t d":[""],"ch ch":[""],"qio qu":[""],"s xi":[""],"li li":["","","",""],"s t":[""],"bng png":[""],"hu k g":[""],"wi ku":[""],"xi qi y":[""],"lin qin":[""],"wi i gi":[""],"l l":[""],"o qio":[""],"png png":["",""],"yn yn":[""],"li li":[""],"m m":[""],"q zh":[""],"lo lu":[""],"pn b":[""],"j sh":[""],"h qio qio":[""],"k hu":[""],"qu h":[""]," q":[""],c:["",""],"xin xn":[""],"li li li":[""],"yn yn":[""],"q zh":["",""],"bng fng":[""],"b m":[""],sun:["","","","",""],"pio pio":[""],"j zhi":[""],"shu li":[""],"jn jn":[""],"chn shn":[""],"yng shng":[""],"zh zh t":[""],"shn chn":[""],"y y u":[""],"z z":[""],"ch n":[""],"zhng zhng chng":[""],"ho mo":[""],"k k":[""],z:["",""],chng:["",""],"hu ku":["",""],"chng chn chng":["",""],"sh zh":["",""],"f p":[""],"xn z":[""],"t sh":[""],"zhn zhn":[""],"j q":["","",""],"lng lng":[""],"zu z s":[""],"x qi":["",""],"zhng zhng":[""],"zng zng":[""],"xin jin lin":[""],"z ji":[""],"j q":[""],rng:[""],"shn cn cn":[""],"mn mi":[""],"j j":[""],"xio ro":[""],"zhu b":[""],"tng zhng zhng":[""],zu:[""],"bio po":["",""],"zhu ju":[""],"cun zn":[""],"kng kng kng":[""],"y y":[""],zhi:["",""],bo:["",""],"k zh":[""],"jio lio li":[""],"w gu":[""],"tio yo":[""],"xn yn":[""],"y y":[""],"tin din yn":[""],"cho k":[""],"kun cun":["",""],"ch q":[""],"q ku":[""],"jng zhn":[""],"kn kn":[""],"zh d":[""],"l jn":[""],"zhu ru":[""],"hng hng":[""],"cn jn hn":[""],"d xi n":[""],"z zu":[""],"lng lng":["","","","",""],"zh zh":["",""],"d d":["",""],shi:["","","",""],"yn jn":[""],"lng lng":["","",""],"zh zh":[""],o:[""],"pu b f p":[""],"pi bi":[""],g:["","","",""],"ti ch":[""],"gui di":[""],"zho do":[""],"jng qng":[""],"ln ln":[""],"jn qn":[""],"sh y":["",""],"yu yo chu":[""],"xio shu qio":[""],"gng gn lng":[""],"png png":[""],"zhu hu":[""],"jin jin":[""],"d zh":[""],"zn cn cn":[""],"zhun sun zun":[""],"pio bio":[""],"gu gu":[""],"c j":[""],"m mi":[""],"shi s":[""],"sn zhun":[""],"gn gn":[""],"b b":[""],"b b":[""],shi:[""],"zhn jin":[""],"zhun zun":[""],"fn pn bin":[""],"su sh":[""],zun:["","","","","",""],n:["","",""],"sh cho":[""],"kng jng":[""],fn:["",""],c:["","","","",""],"nin zhn":[""],"c s":[""],"zhu y":[""],"shn sn":[""],"bin bin":["",""],min:["","","","","","",""],"h h h":[""],"g gu":[""],"m mi":[""],"sn shn":["",""],zo:["","","",""],"m s":[""],"ji ji":[""],"x j":["",""],"zhng zhng":[""],"ch ch":["",""],"yu yo":["",""],"hng gng":["",""],"h g":["",""],"wn wn":["",""],fu:[""],"j ji ji":[""],"p p b":["",""],"jn jn":[""],"zh z":["",""],h:[""],"f f":[""],"chu chu":[""],"li li li":[""],"b b":[""],"tin zhn":[""],"jing jing":[""],"ji ji":["","",""],"gu ku":[""],"bi m":[""],"gng hun":[""],"ji xi":[""],"qun shun":[""],"gi i":[""],"lu lo":["",""],"bng bng png":[""],"gi j":["",""],"tng tng dng":[""],"tio dio do":[""],"li li li":[""],"gi hi":[""],"ch zh":[""],"wn min mn wn":[""],"hun hun wn":[""],"qn xin":[""],"t t":[""],"yn xin":[""],"zng zng zng":[""],"chn ln":[""],"zhn zhn":[""],"qin qng zhng":[""],"qng q":[""],"ln gun":["",""],"chu cho":["",""],"tin tn chn":[""],"l l":["",""],"run run":[""],"j q":[""],"zhng chng":["",""],"mio mo":[""],"xi y":[""],hun:["","",""],"gng gng":["",""],"tu x sh":[""],"zng zng":["",""],"yn gn":[""],"gu w":[""],"yn yn wn":["",""],"bng bng":[""],"g h":["",""],"c cu su":[""],"cu shui":[""],"rng rng rng":[""],"zi zng":[""],ci:["","",""],"fng fng":[""],"su s":["",""],"yn yn":["",""],"zng zng":["",""],"zhun jun":[""],"m m":["",""],"pio pio":["",""],"fn p":[""],"bng bng":[""],"mu mi mio lio":[""],"yo yu zhu":[""],"zng zng":["",""],"j ju":[""],"chu chu":[""],"zn zn":[""],ro:["","",""],"chn chn":[""],"hu hu":["","",""],"qio so zo":[""],"jio zhu":["",""],"dn tn chn":[""],nng:[""],"p f":[""],"yo l":[""],"rng xing":[""],"l s x l":[""],"xin qin":[""],"jng jng":[""],"t t":[""],"bng bng bng":[""],"zng zng":[""],"j q":[""],"wn yn yn":[""],"fng fng":[""],"shui cu su":[""],"mi mu lio mio m":[""],"qio so":[""],fu:["","","","",""],"b ba p":["",""],"gu gui":[""],"yng xing":["",""],"mi go":[""],"y x":[""],"qing qin":[""],"qing kng":[""],"qin xin yn":[""],nu:[""],"hng gng":[""],"p b p":[""],"q y":[""],k:[""],"qio qio":[""],"zhi d":[""],"do zhu":[""],"hu q":[""],shu:[""],"run nu":[""],"r ni":[""],"zhun dun":[""],"p b":[""],"ch s":[""],"q ch":[""],"ln ln":[""],"j ji":[""],"tng tng":[""],png:["",""],"zh z":[""],"y y":[""],"yn yng":[""],"w tu zhu":[""],"r n":[""],"ti zh":[""],"d zh":[""],qi:[""],"n jin":[""],"li l":[""],co:["","","",""],"b d":[""],"xio xio":[""],"d d":[""],chi:["","",""],"hn qn hn":[""],"png pn pn":["",""],"zhn chn":[""],ng:["",""],"y y":[""],"p b b":[""],"fi b":[""],"bi bi":[""],"fi z":[""],"png png":["",""],"f f zhu":[""],"shng shng":[""],ku:["","",""],"gi hi":[""],"g g g":[""],"nng ni":[""],"gu ku":[""],"mi m":[""],"zng zng":[""],"jio ju":["",""],cu:[""],"de te":[""],"zu jun":[""],ni:["","","","","",""],"p f":[""],nio:[""],shu:[""],gu:["","",""],"l x":[""],"yn ":[""],"go go":[""],"l bio":[""],chui:[""],"zhun chun chn zhun":[""],chui:["",""],"fn pn":[""],"w h":[""],"shn dn":[""],tn:["","","","","","","","","","","",""],"b bei":[""],"l g":[""],"so so":[""],no:["","","",""],"n lun":[""],"qin xin":[""],"gung jing":[""],"gung jing":[""],"chu xi":[""],"min bin":[""],"di zh":[""],"zh jn":[""],"sh sh":[""],p:["",""],"bn b pn":[""],ku:[""],"gn gn":[""],"s shi":[""],"f b":[""],"jio qi":[""],"chi ch":[""],"sho qu":[""],"h xi":[""],"z z":[""],"hu h":[""],"tn chn":[""],"ji gi":[""],"x zh":[""],"yun yn":[""],"xn xn":[""],"ln hu":[""],"w h":[""],"gu gu":[""],"mo mo":[""],"fi f":[""],"chn yn":[""],qi:[""],"s s":[""],"tio sho":[""],"l j":[""],"k h":[""],"j q":[""],"ru r":[""],"zh nng":[""],"p b":[""],xi:[""],"zh zu":[""],"j ch":[""],ni:[""],"shng ru":[""],"qi ji":[""],"z c":[""],"qin x":[""],chi:[""],"f pi":[""],ro:["","","","",""],"yng xng":[""],"qin xn":["",""],"yn yn":[""],"h h":[""],"sh su":[""],"png fng":[""],"shn xn":[""],"wn gun gun":[""],"yu s":[""],"sho xio":["",""],"lng ling":[""],"pio f":[""],"wn wn min":[""],"sh sh":["",""],"t t":[""],"xin lin":["",""],"wn y":[""],"zu ch":[""],"l l":[""],"jn jn":[""],"ni rn":[""],"z z zi":[""],"t t":[""],"ji sh":[""],"qio zho":[""],"ti zh ch":[""],"fi fi":["",""],"qn qn jn":[""],"z j":["",""],"ln m":[""],"tin tin":[""],ti:["","",""],"lu l lo lu":[""],"zh zhu zhe":[""],"shn rn":[""],"g g":[""],"jn su":[""],"ku kui":[""],"r n":[""],"mng mng mng":[""],"yun hun":[""],"x sh":[""],"x x":[""],"m mng":[""],"su su":[""],"gi g h hi":[""],"yo zhu":[""],"dio tio d":[""],"x qi f":[""],"z j":[""],"lio l":[""],xu:[""],"hn hn":[""],"mn wn mn":[""],"p b":[""],"fn fn b":[""],"hng hng":[""],"y o":["",""],"x xio":[""],"bo b b":[""],"c z":[""],"wn lun":[""],"ko ho":[""],"yun wi":[""],"zhu chu":[""],"w mi":[""],"xio ho":[""],"y x x":[""],"ji j":[""],"dio zhu":[""],"cng zng":[""],l:[""],"ch zh":[""],"pn png":[""],"gn hn":[""],"hng jing":[""],"hu hu":[""],"xi h":[""],"m m m":[""],"fng bng":[""],"bng bng":[""],"ju qu":[""],"qn qin":[""],"gng zhng":[""],"f f":[""],"di d":[""],"gu q x":[""],"b p":[""],"sh y":[""],ti:["","","","","","",""],"g lu":[""],"mng bng":[""],"y x":[""],"h g":[""],"qi n":[""]," y":[""],"zh zh":[""],"l zh":[""],su:["",""],"yu qi":[""],"xi h":[""],"x q":[""],"b p":[""],"ni nng":[""],"h xi":[""],"gu hu":[""],"m m m":[""],"sh zh":[""],"zh di":[""],"jin chn":[""],"ma m m":[""],"mng mng":[""],"bi bi":[""],"bn fi":[""],"lo lio":[""],"yn xn":[""],"l l":[""],"xu xi":[""],"xng hng hng hng":[""],"shui cu":[""],"tu tu":[""],"lng lng":[""],"bo po po":[""],"j ji":[""],"h k":[""],"y y":["",""],"n ju":[""],"bi p":[""],"ch nu":[""],"ch q du nu":[""],"ji qi ji":[""],"b m":[""],"gu gu":[""],"li li":[""],"chng chng":[""],"ji g":[""],"do chu":[""],"shang chng":[""],"yun gn":[""],"yn n":[""],"t x":[""],"f f":[""],"ch zh":[""],"tu tn":[""],li:[""],"yo yo":[""],"qn tn":[""],"jin xin":["",""],pin:["","","","",""],"pi mi":[""],"yng yng":[""],"q q":["","",""],"jin bin":[""],"lu lun":[""],"z zu":[""],"hu xi":[""],"ji ji xi":["",""],"xu h":[""],"l l":[""],to:["",""],zhn:[""],"z z":[""],"y di":["",""],xing:["",""],"dio tio":[""],"y ch ch":[""],"lng lng":[""],"i i i i x":["",""],shu:[""],"y y":["","",""],"shu shu yu":["",""],"shu shi":["",""],"q ju":[""],"ch li":[""],"n n":[""],"dio tio":[""],"p bi":[""],"j j":[""],"z zu zh cu":[""],"ch j":[""],"ho xi":[""],"ln ln":["",""],"sh d":[""],"hu gu":[""],"x shi i":[""],"nn nn":["",""],mi:["",""],zn:["",""],"sh zh":["",""],"jun xun":[""],"y tu":[""],zhn:[""],"x h":[""],"xing yng":[""],"tio dio zhu":[""],"chn shn":[""],"m mi":[""],"mn mn":[""],"g y":[""],"hu hu hu":[""],"zh zhi":[""],"hun hun":[""],"kn kn":[""],"m h":[""],"m h ho":[""],"j lu":[""],"z zhi":["",""],"di t":[""],"b bn":[""],"ji g ji":[""],"xing mn":[""],cng:[""],"zhun zun":["",""],"wn zhun":[""],"gn gng zhung":[""],"yun yn":[""],"bn b":[""],"ji g":[""],zu:["","",""],"di t":[""],"j qi":[""],"q c":["",""],"j ji":[""],"gu hu":[""],"qu q j":[""],"tng tng":[""],"chu zhu":[""],"q c":[""],"yu t":[""],"b bo":[""],"ku w":[""],"gu ju":[""],"fng fng png":[""],"po b":[""],"q q":[""],"jin chn":[""],"po po":[""],"din di ti":[""],"j j qi":[""],b:[""],"lu l":[""],"di du du ch":[""],zhui:[""],"bng pin":[""],"tio to":[""],"sh chu":[""],"ling ling":[""],"t t":[""],ch:["","",""],"d zh":[""],"dng dng":["","",""],cng:[""],"dn cn":[""],"ju ju":[""],lio:[""],"xi s":[""],t:["","",""],"y zh g":["",""],"xn xin":[""],"fn gu":[""],"zhun zhun":[""],"zhu zhu":["",""],b:["","",""],"zhun zhun zhui":[""],"zi zi":[""],"nin zhn":[""],"bin bian":[""],"do bin":[""],"y y":["","",""],"gu guo gu":[""],"wng kung":[""],"hi hun":[""],"zh zhi":[""],"yun yun":[""],"zh l":[""],"zh wng":[""],"zhu du":[""],"sh ku":[""],tu:[""],"tng tng":[""],gung:[""],"di di":[""],"su su":[""],"t d":[""],"y wi":[""],"sh d zh":[""],c:[""],"hun hi":[""],"l ch":[""],"kng hng":[""],"n ni n":[""],"xi y y y x":[""],"gi hi":[""],"hun xn":[""],"ch x":[""],ho:[""],"l zh":[""],"xio o":[""],"du d":[""],lio:["","",""],"zn cun cu":["",""],"dng dng":[""],"c zu":[""],"f p":[""],"shi sh":[""],ning:["",""],"qi chu":[""],"p f":["",""],"chn chn":[""],"yn lin xin":[""],"ning ning":[""],"l li":[""],"l x x":[""],"lio lio":[""],"dng dng":["",""],"qio jio":[""],"y hu":[""],"hu w":[""],"r rn jin":["",""],"d di":[""],"p zho":[""],"y y":[""],"b p":["",""],"t tu":["",""],bi:[""],"bng png":[""],"h k":["",""],chng:["",""],"xing jing":[""],"y s":[""],"x hu":[""],"rn rn":[""],"shn shu":[""],"ch l":[""],"xin x":["",""],"hu xing":[""],"dio tio yo":[""],"xin ku tin gu":["","",""],"zh ni":[""],"zhng yng":[""],"tu t du":[""],"mi mng":[""],"wn jin":["",""],"tng dng":["",""],"jun jin cun":[""],"s tu":[""],"jun xun jun":[""],"w hu w":[""],"zhu chu":[""],"xng xng jng":[""],"j j":["",""],"zu ni":[""],"yun yun wn wn":[""],"gng gng":["",""],zhu:["","","","",""],:["",""],"cu ch":[""],"su s":[""],"yo z":[""],"y t g":[""],"qing chng":[""],"g l":["","",""],"b p b":[""],"go ho":[""],"z chu":[""],"xi xi":[""],"shu su":[""],"d d":["",""],"qio sn cn":[""],"l o":[""],"tng tng":[""],"jin zn":[""],"hu su ru":[""],"qing qing":["",""],"sn xin s":[""],"jin jin":["",""],"dng chng":["",""],"zun zun":[""],"s x":[""],"yo yu":[""],"tu du":[""],"zun zun":[""],"qin yn":[""],"p p":[""],"yo dio tio":[""],"tng tng":[""],"p p":[""],"tn xin":[""],"li li":[""],"ho go":[""],"tng tng":[""],"tn chn xn":[""],"hu shn":[""],"hn b":["",""],"kng kng":["",""],"xin jin jin jin":[""],"xi xi":[""],"xi k":[""],"bin gun":[""],"h g":["",""],"hng xing":[""],"s x":[""],"tng tng":[""]," yn":["",""],"hng jun xing":[""],"bn pn":[""],"d sh":["",""],"qu qu":[""],"tng tng chng":[""],"kn hn":["",""],"x s t":[""],"mn mn":[""],"qu qu":[""],"yn din":[""]," ":[""],"bi p p":[""],"yn yn":[""],"y yo sh":[""],"lng lng":[""],"du zhu":[""],"su du":[""],"gi q i":[""],"hu du":["",""],"wi ku":[""],"l di":[""],"zhu cu wi":[""],"h h":["",""],"jn jun":["",""],"nn nn nu":[""],"qu qio qio":[""],"gun hun":[""],"gu x":[""],"s x":[""],n:[""],"w mng":[""],tng:[""],"l lu":[""],mi:[""],"jng ling":[""],"g j":[""],b:[""],"yng yng":[""],"g t s":[""],"bin yng":[""],"qio sho":[""],"jun xun":[""],"shng zhng":[""],"p bng b bi":[""],la:[""],"xi di":[""],ng:[""],"mu m":[""],"b bng":[""],"mi w":[""],ru:[""],"sh xi":[""],"yn wn":[""],"dn d":["",""],du:[""],lu:[""],"bn pn":[""],yng:["","",""],mn:["",""],"jng gng":[""],"ji xi ji":[""],"k k":[""],"pn bn":[""],"chn zhn":[""],"fng fng":["",""],"bio di":[""],"b f":[""],"so su":[""],"li lio":[""],"sh s y":[""],"yng jun":[""],"zh tu":[""],"y s":[""],"zu z zh":[""],ti:["",""],"xing nng":[""],"tng xng":[""],"g le":[""],"ch zha":[""],"nng nng":[""],"yn w":[""],"zh sh":[""],"xn jn":[""],"kui ju":[""],zng:["",""],"ti di":[""],"xn xun":[""],"ling lng":[""],pin:["","","",""],"di ti":[""],"so so":[""],"g g":[""],"bi m":[""],"xio qio":[""],"bng png":[""],"b ju":[""],"b p":[""],"mo mng":[""],"ku yu":[""],"b b":["",""],"j c":[""],"b b":[""],"zh zh":["",""],"chu di":[""],"lu g":[""],"gu xi w ku":[""],"xin xin":["",""],"p b":[""],"y s":[""],"b b":[""],"gu xi":[""],"si x":[""],"nio dio":[""],"dio zho":[""],"gn hn yn":[""],"f gu":[""],"jin qin zhn":[""],"h ji":[""],"pin bin":[""],"chun zh":[""],"cng qing":[""],"sn xn":[""],"bio po":[""],"zh c":[""],"jn qn":["",""],chi:[""],"m me":[""],"m me ma":[""],"m m":[""],"dn shn":[""],"zhn yn":[""],"dn zhn":[""],"min mn mng":[""],hu:[""],nng:[""],"q j z zhi":[""],"yn kn yn":[""],"yn kn":[""],"gng w":[""],"gu jn qi":["",""],"ku w":[""],lu:[""],"u q":[""],"lu l":[""],"g g g":[""],"w gu":[""],"zh d":[""],"gng hng":[""],"yo xio":[""]},Ru=new fQ;Object.keys(mL).forEach(e=>{const t=mL[e];for(let n of t)Ru.set(n,e)});const QDe=["zh","ch","sh","z","c","s","b","p","m","f","d","t","n","l","g","k","h","j","q","x","r","y","w",""],XDe=["j","q","x"],ZDe=["un","un","un","un","uan","u","u","u","u","ue","n","n","n","n","un","","","","","u"],JDe={un:"n",un:"n",un:"n",un:"n",uan:"an",u:"",u:"",u:"",u:"",ue:"e",n:"n",n:"n",n:"n",n:"n",un:"n",:"",:"",:"",:"",u:""},eRe=["ia","ian","iang","iao","ie","iu","iong","ua","uai","uan","uang","ue","ui","uo","an","e","van","ve"],pL={:"y",:"r",:"sn",:"s",:"w",:"li",:"q",:"b",:"ji",:"sh",:"bi",:"qin",:"wn",:"y",:"dn",:"ling",:"shung",:"du",:"j",:"sh y",:"lng y",:"d y",:"y sh",:"y sh y"},gL={:"chng",:"hng",:"du",:"gng"};function tRe(){const e={:"lng y","":"lng y",:"sh y",:"y sh",:"d y",:"y sh y"};for(let t in pL)for(let n in gL){const r=`${t}${n}`,i=`${pL[t]} ${gL[n]}`;e[r]=i}return e}const yL=tRe(),nRe=Object.keys(yL).map(e=>({zh:e,pinyin:yL[e],probability:1e-12,length:go(e),priority:ga.Normal,dict:Symbol("rule")})),mQ={:{b:[4]},:{y:[4],y:[1,2,3]}},rRe={:["","","","","","",""],:["","","","","","",""]},iRe=Object.keys(mQ);function sRe(e,t,n){if(iRe.indexOf(e)===-1)return Kp(e);if(t===n&&t&&Kp(t)!==t)return z1(Kp(e));if(n&&!rRe[e].includes(n)){const r=Kp(n);if(r!==n){const i=D1(r),s=mQ[e];for(let a in s)if(s[a].indexOf(Number(i))!==-1)return a}}}function aRe(e,t){if(e===""&&(!t||!Ru.get(t)))return"lio"}function oRe(e,t){if(e==="")return!t||!Ru.get(t)?"tng":Ru.get(t).split(" ")[0]}function xL(e,t,n){return oRe(e,t)||aRe(e,t)||sRe(e,t,n)||Kp(e)}const GO={:"nn gng",:"d w",:"m q",:"s m",:"shng gun",:"u yng",:"xi hu",:"zh g",:"wn rn",:"dng fng",:"h lin",:"hung f",:"y ch",:"gng yng",:"tn ti",:"gng y",:"zng zhng",:"p yng",:"chn y",:"ti sh",:"shn t",:"gng sn",:"zhng sn",:"xun yun",:"lng h",:"zhng l",:"y wn",:"zhng sn",:"m rng",:"xin y",:"l qi",:"s t",:"s kng",:"q gun",:"s ku",:"zhng d",:"z j",:"zhun sn",:"dun m",:"w m",:"gng x",:"q dio",:"yu zhng",:"rng s",:"gng ling",:"tu b",:"ji g",:"zi f",:"g ling",:"dun gn",:"bi l",:"dng gu",:"nn mn",:"h yn",:"yng sh",:"ling qi",:"zu qi",:"dng mn",:"x mn",:"gu lng",:"gun qi",:"zho",:"qin",:"sn",:"l",:"zhu",:"w",:"zhng",:"wng",:"fng",:"chn",:"ch",:"wi",:"jing",:"shn",:"hn",:"yng",:"zh",:"qn",:"yu",:"x",:"h",:"l",:"sh",:"zhng",:"kng",:"co",:"yn",:"hu",:"jn",:"wi",:"to",:"jing",:"q",:"xi",:"zu",:"y",:"bi",:"shu",:"du",:"zhng",:"yn",:"s",:"pn",:"g",:"x",:"fn",:"png",:"lng",:"l",:"wi",:"chng",:"m",:"mio",:"fng",:"hu",:"fng",:"y",:"rn",:"yun",:"li",:"fng",:"bo",:"sh",:"tng",:"fi",:"lin",:"cn",:"xu",:"li",:"h",:"n",:"tng",:"tng",:"yn",:"lu",:"b",:"ho",:"w",:"n",:"chng",:"yu",:"y",:"sh",:"f",:"p",:"bin",:"q",:"kng",:"w",:"y",:"yun",:"b",:"g",:"mng",:"png",:"hung",:"h",:"m",:"xio",:"yn",:"yo",:"sho",:"zhn",:"wng",:"q",:"mo",:"y",:"d",:"m",:"bi",:"mng",:"zng",:"j",:"f",:"chng",:"di",:"tn",:"sng",:"mo",:"png",:"xing",:"j",:"sh",:"q",:"xing",:"zh",:"dng",:"ling",:"d",:"run",:"ln",:"mn",:"x",:"j",:"m",:"qing",:"ji",:"l",:"lu",:"wi",:"jing",:"tng",:"yn",:"gu",:"mi",:"shng",:"ln",:"dio",:"zhng",:"x",:"qi",:"lu",:"go",:"xi",:"ci",:"tin",:"fn",:"h",:"lng",:"hu",:"y",:"wn",:"zh",:"k",:"zn",:"gun",:"l",:"m",:"jng",:"fng",:"qi",:"mio",:"gn",:"xi",:"yng",:"zng",:"dng",:"xun",:"bn",:"dng",:"y",:"shn",:"hng",:"hng",:"bo",:"zh",:"zu",:"sh",:"cu",:"j",:"ni",:"gng",:"chng",:"j",:"xng",:"hu",:"pi",:"l",:"rng",:"wng",:"xn",:"yng",:"y",:"hu",:"zhn",:"q",:"ji",:"fng",:"ru",:"y",:"ch",:"jn",:"j",:"bng",:"m",:"sng",:"jng",:"dun",:"f",:"w",:"w",:"jio",:"b",:"gng",:"m",:"wi",:"shn",:"g",:"ch",:"hu",:"m",:"png",:"qun",:"x",:"bn",:"yng",:"qi",:"zhng",:"y",:"gng",:"nng",:"qi",:"lun",:"bo",:"gn",:"tu",:"l",:"rng",:"z",:"w",:"f",:"li",:"jng",:"zhn",:"sh",:"lng",:"y",:"xng",:"s",:"sho",:"go",:"l",:"j",:"b",:"yn",:"s",:"bi",:"hui",:"p",:"ti",:"cng",:"",:"su",:"xin",:"j",:"li",:"zhu",:"ln",:"t",:"mng",:"ch",:"qio",:"yn",:"y",:"x",:"ni",:"cng",:"shung",:"wn",:"shn",:"dng",:"zhi",:"tn",:"gng",:"lo",:"png",:"j",:"shn",:"f",:"d",:"rn",:"zi",:"l",:"yng",:"x",:"q",:"sng",:"gu",:"p",:"ni",:"shu",:"tng",:"bin",:"h",:"yn",:"j",:"ji",:"p",:"shng",:"nng",:"wn",:"bi",:"zhung",:"yn",:"chi",:"q",:"yn",:"chng",:"m",:"lin",:"r",:"x",:"hun",:"i",:"y",:"rng",:"xing",:"g",:"y",:"shn",:"g",:"lio",:"y",:"zhng",:"j",:"j",:"hng",:"b",:"d",:"gng",:"mn",:"hng",:"kung",:"gu",:"wn",:"ku",:"gung",:"l",:"qu",:"dng",:"u",:"sh",:"w",:"l",:"wi",:"yu",:"ku",:"lng",:"sh",:"gng",:"sh",:"ni",:"cho",:"gu",:"o",:"rng",:"lng",:"z",:"xn",:"kn",:"n",:"jin",:"ro",:"kng",:"zng",:"m",:"sh",:"ni",:"yng",:"j",:"x",:"fng",:"cho",:"gun",:"kui",:"xing",:"zh",:"hu",:"jng",:"hng",:"yu",:"zh",:"qun",:"l",:"g",:"y",:"hun",:"gng",:"mu",:"h",:"yn",:"f",:"xio",:"u",:"qn",:"pio",:"p",:"yn",:"gu",:"yo",:"gu",:"zun",:"chn",:"sh",:"sho",:"qi",:"s",:"nng",:"l",:"chui",:"xng"},lRe=Object.keys(GO).map(e=>({zh:e,pinyin:GO[e],probability:1+go(e),length:go(e),priority:ga.Surname,dict:Symbol("surname")})),vL={:"zh ge",:"chng wi",:"rn wi",:"zu wi",:"b fen",:"yo qi",:"yng gi",:"zng zhng",:"t gng",:"ju de",:"rn wu",:"n ge",:"chng wi",:"wi zh",:"lio ji",:"ch l",:"hung shang",:"zh yo",:"d ling",:"l ling",:"j h",:"gn b",:"m d",:"xng wi",:"zh jin",:"rn shi",:"sh zhng",:"sh fu",:"dio ch",:"chng xn",:"fn wi",:"zh shi",:"do dn",:"zh ling",:"hng kun",:"hng li",:"hng hu",:"hng y",:"g hng",:"zi hng",:"hng jia",:"ni hng",:"wi hng",:"tng hng",:"bn hng",:"hng w",:"yng hng",:"yn hng",:"shng hng",:"zh hng",:"zng hng",:"hng qng",:"dng hng",:"hng gu",:"hng dang",:"hng hu",:"ti hng",:"r hng",:"zhng hng",:"nng hng",:"gng hng",:"jin hng",:"g hng",:"hng ho",:"hng go",:"hng shu",:"hng wi",:"hng m",:"hng chng",:"hng j",:"hun hng",:"hng hu",:"hng bi",:"hng do",:"do heng",:"cn y",:"chng fn",:"jn gun",:"shng zhng",:"sh ling",:"yng dng",:"yun zhng",:"qing dio",:"zh nng",:"yn yu",:"y wi",:"ch y",:"b zhng",:"mng g",:"zh yu",:"sh dng",:"zh ho",:"chng zhng",:"go xng",:"b lio",:"chn ling",:"png zi",:"xin de",:"zh sh",:"sh de",:"shui lng",:"gi wi",:"b jn",:"chng fn",:"d ying",:"sho nin",:"xng q",:"ti jian",:"xi xi",:"xio zhng",:"gng xn",:"h tong",:"h do",:"chng qng",:"chng jin",:"sh de",:"shn ch",:"li j",:"j y",:"j wi",:"gun jn",:"fng f",:"tu fa",:"tu xing",:"ji zhng",:"z x",:"yo shi",:"jing lng",:"hn ling",:"gng wi",:"j li",:"d ch",:"xin zhng",:"sho n",:"l shang",:"zh p",:"nng ling",:"ch ling",:"gng yng",:"tio zhn",:"x zng",:"j de",:"zng ling",:"dng zhn",:"jing sh",:"ch bi",:"jio wi",:"zhng lo",:"di fu",:"ch y",:"dng de",:"jn ling",:"m yng",:"d qu",:"wi shu",:"pin yi",:"gng mng",:"sh tou",:"zhu zhng",:"wi zh",:"pio liang",:"po dn",:"zng z",:"ju s",:"dng zu",:"jn kui",:"rn wi",:"chng f",:"h tng",:"ch j",:"d xiong",:"d jing",:"shu jio",:"y jio",:"tun zhng",:"du zhng",:"q zhng",:"nn d",:"y tou",:"hu zhng",:"d di",:"wng ye",:"zhng ling",:"y wi",:"ji huo",:"hu shn",:"y zi",:"li ling",:"zhng d",:"min qing",:"kui j",:"gu fn",:"j nn",:"dio dng",:"yn jng",:"sho jing",:"zhng d",:"xio de",:"bin gng",:"d gng",:"rn de",:"png gu",:"nin tou",:"zhng zh",:"sn zng",:"b xu",:"chng xing",:"sho ling",:"xn si",:"du d",:"gn xin",:"h y",:"ch f",:"zhng gun",:"b ln",:"qn qi",:"shn fn",:"g bo",:"zhu shu",:"zh dn",:"k sou",:"y zi",:"wi zhng",:"gng j",:"sh zhng",:"bin ling",:"yng yu",:"xi zi",:"yu q",:"jin ji",:"d xi",:"d bn",:"z dn",:"dn yo",:"r ling",:"xu ru",:"g gn",:"rng ling",:"m hu",:"zhun dng",:"chng hu",:"k zhng",:"ch zh",:"zhu zhng",:"zho j",:"qing p",:"tng zhng",:"shu xing",:"l ma",:"zhn zhng",:"zh gun",:"chng chng",:"min de",:"zhu sh",:"d ji",:"zhn xing",:"xing mo",:"ch fn",:"wi qu",:"wi q",:"b bo",:"bi zi",:"qun zi",:"jin shi",:"lng zho",:"y hu",:"d du",:"d sh",:"chng d",:"shu d",:"d d",:"wng d",:"dng d",:"d h",:"d chng",:"jin d",:"qin d",:"g d",:"dng d",:"zhng d",:"l n",:"zi xing",:"jio ling",:"du chn",:"zng zhng",:"xing gong",:"kng bi",:"d liang",:"shu fn",:"sh tou",:"m shu",:"xng li",:"pn ch",:"sn wn",:"ch jng",:"sn zi",:"qun tou",:"d f",:"z zhng",:"g tou",:"nng k",:"gng hun",:"b ru",:"hun yun",:"chng xi",:"chng li",:"zh g",:"i ho",:"mn tou",:"jn zhng",:"shu zhng",:"chng zhng",:"s zhng",:"zhng z",:"qing jng",:"qi dng",:"tu er",:"zhn zhng",:"zh teng",:"xing ch",:"tng shui",:"zhng jing",:"mng zhng",:"mng jing",:"m tou",:"dng tan",:"d qio",:"gn hu",:"sho ye",:"shu ling",:"b j",:"wi ba",:"li de",:"ho q",:"yo shi",:"dng zu",:"chn zhu",:"y ba",:"ch zi",:"shng jing",:" xn",:"dn zi",:"yng ji",:"zh ju",:"yn zhun",:"xing zhng",:"g sh",:"zhng yu",:"yng zhng",:"dng chng",:"n xu",:"yn hu",:"chng yng",:"hu wi",:"t b",:"zun jn",:"yu du",:"ling xing",:"bi zi",:"sh de",:"sh m",:"j zhng",:"pi zhng",:"ji q",:"fn ling",:"sh c",:"d fng",:"yo he",:"ch ch",:"ling z",:"l tou",:"dio yn",:"c hou",:"chng shn",:"zhn tou",:"pn mng",:"sh zhng",:"gu hun",:"p ling",:"x m",:"din zho",:"shn wi",:"xio jing",:"zhu yn",:"ch s",:"yn w",:"g yu",:"sh gn",:"b l",:"d fng",:"wi tou",:"bn zhng",:"xng xi",:"nng yun",:"qn chi",:"wi sh",:"gu dng",:"xu jin",:"jin di",:"mn yun",:"ji shi",:"j ling",:"yn m",:"cn zhng",:"lin zhng",:"z j",:"w jing",:"wn ch",:"zh bn",:"gng qi",:"j ling",:"do zhng",:"xi lu",:"wng ba",:"qi g",:"jin g",:"y hung",:"chng ji",:"lng h",:"wi hi",:"j zi",:"chng hun",:"g da",:"yn shn",:"d s",:"du gun",:"zh shi",:"din h",:"kn shu",:"f b",:"y mn",:"jn zo",:"qi dun",:"zh tou",:"wi shng",:"ch sheng",:"qi ch",:"zhu l",:"zhu xing",:"j ch",:"tu bn",:"gn zi",:"hn hu",:"sho f",:"xng zh",:"n mn",:"gn li",:"jun q",:"shn zi",:"gng gi",:"lng lu",:"l ba",:"zi h",:"tu dng",:"wi nn",:"zhu l",:"yn zi",:"gn m",:"bi f",:"zng di",:"ji j",:"bo gung",:"q dio",:"xing j",:"jio hu",:"ju zh",:" y",:"zi zhng",:"zhng bi",:"ch chi",:"du ku",:"pi ki",:"tng zhng",:"z fn",:"w ch",:"ji dng",:"zhun j",:"g zi",:"p sh",:"gn sh",:"gn jn",:"dng ling",:"yn zi",:"hu er",:"qi zhng",:"chng fn",:"ch ",:"lu min",:"zun yn",:"di chng",:"shng dng",:"xio ling",:"zu fang",:"zho xing",:"i y",:"dio j",:"kn zhng",:"y zhng",:"fng zheng",:"b xi",:"kng x",:"gng di",:"pin ch",:"shng dio",:"sh ling",:"tn zi",:"w ling",:"kng d",:"dio d",:"sn sh",:"chung shng",:"hi shn",:"mn zi",:"chng di",:"lu ch",:"dn dio",:"lo jing",:"rn shn",:"jin dun",:"chng xin",:"ji z",:"dio yng",:"lu bo",:"f zhu",:"yng shng",:"zh jing",:"zu guo",:"j ju",:"wi zhng",:"gu ling",:"yu q",:"f h",:"qing dn",:"qio rn",:"ch fng",:"qio shng",:"q zi",:"qng dio",:"tio xn",:"di wi",:"lio ji",:"d zhng",:"ji b",:"ln de",:"zng ling",:"y zhu",:"b jing",:"yo si",:"ch j",:"gng gn",:"ch m",:"xin yu",:"jin x",:"zhng dn",:"chng yn",:"chng sh",:"yng chou",:"zh dng",:"w nng",:"bo z",:"qin tou",:"jun yn",:"fi di",:"dn do",:"gn zi",:"mn jing",:"hu tou",:"h ci",:"nun huo",:"li j",:"dio qin",:"ju jing",:"bo zng",:"sng sh",:"yu mo",:"qin f",:"gng t",:"zhung zi",:"bi bo",:"ti zi",:"sng sn",:"h h",:"k w",:"z zhun",:"gng din",:"fn xng",:"tn shui",:"s d",:"bn fn",:"lu de",:"b b",:"xing jin",:"dn b",:"hn dn",:"zhn gun",:"f h",:"nng ni",:"xi hu",:"wi lio",:"yn zho",:"chu dio",:"sh zi",:"x jun",:"bio d",:"bi niu",:"s liang",:"h ci",:"ln y",:"gi zi",:"fn wi",:"lng tng",:"yu w",:"y ling",:"mo f",:"chi qin",:"bi f",:"zhun s",:"shng yu",:"ji gng",:"gng shu",:"zh gn",:"chng ch",:"zhng xing",:"gng chi",:"li dn",:"shng de",:"tio zi",:"chng wi",:"z s",:"jng fng",:"ji g",:"din b",:"din zhng",:"zhng chung",:"lo lao",:"m hu",:"gng jia",:"j l",:"k mn",:"d ling",:"ch cu",:"sh ji",:"cn c",:"d zi",:"zh zhng",:"xing chn",:"hng yn",:"sh mng",:"x ho",:"li zhun",:"jng d",:"h ma",:"qng ji",:"dng zi",:"chn m",:"go l",:"xi ji",:"w wi",:"b jie",:"lio d",:"bin xing",:"h dn",:"qng jia",:"chng zi",:"h wn",:"hun j",:"jio hun",:"jing lng",:"chn y",:"kng qu",:"l ln",:"dn ling",:"zh zhu",:"d dio",:"b s",:"qng b",:"d dng",:"zhn b",:"so zhou",:"qi c",:"nin zhng",:"wi zhun",:"tu zi",:"ci feng",:"l yu",:"xu p",:"sn lun",:"dng ling",:"do teng",:"q sh",:"zn ji",:"chng f",:"zho w",:"dn k",:"xng w",:"rng rang",:"lin li",:"yng d",:"z zhng",:"gu zi",:"li g",:"xun yn",:"tio pi",:"q gn",:"chi y",:"kn k",:"sho r",:"yu tun",:"yng fn",:"tu hun",:"g dio",:"y dio",:"yn dio",:"yu f",:"g p",:"d din",:"chi sh",:"yn chn",:"shu xu",:"go yao",:"tn m",:"dio rn",:"sn j",:"shng tu",:"fng m",:"fng ji",:"g liang",:"sh dng",:"zhng dn",:"wng wi",:"zhng zh",:"q hng",:"m lio",:"xing sheng",:"jio zhng",:"qun xing",:"sh ling",:"chn mn",:"j y",:"ji f",:"si wi",:"jing xio",:"sh ho",:"m lu",:"p do",:"pin zi",:"qi xio",:"dn wn",:"x b",:"ku d",:"jin xi",:"qio shu",:"s dio",:"ch ju",:"bio shui",:"ch zi",:"zho xing",:"chn zh",:"du peng",:"p zi",:"d zi",:"f zi",:"gn jng",:"do sh",:"jing gun",:"ch tou",:"gu xing",:"n ji",:"lo dao",:"xin ling",:"bng x",:"chng fng",:"q yu",:"qng dn",:"b gng",:"fi zi",:"ch sh",:"cn ling",:"qng shui",:"pio mio",:"zhng jing",:"ci gn",:"sh sh",:"jun zi",:"yu shu",:"xing zi",:"png gung",:"qi w",:"kn gun",:"fng tou",:"jng gn",:"go ch",:"kng h",:"bin dn",:"j yng",:"g zi",:"gng x",:"fn ch",:"fi dn",:"wi b",:"f xng",:"j xng",:"cun dng",:"jin hu",:"qin b",:"yu zhng",:"shn ch",:"dio zi",:"xing wi",:"zhun z",:"jng l",:"k ch",:"lio sh",:"zhun you",:"dng p",:"zhu zi",:"dn zi",:"ho zhn",:"yn mi",:"zh x",:"gn lin",:"n jing",:"ji ling",:"hu chun",:"j ling",:"tio b",:"sho xio",:"zhu lu",:"zng w",:"k b",:"yo xi",:"yng chu",:"hun shu",:"m j",:"zh zhu",:"h lng",:"bo zhng",:"x zhe",:"zhng ji",:"gng zhun",:"jio kn",:"chng t",:"so xng",:"p gi",:"zhng sh",:"ch ji",:"y gn",:"zhng zh",:"yng yn",:"qi r",:"zhn jing",:"nin sho",:"sh shn",:"zh ni",:"ch sh",:"zhng fng",:"dng ling",:"fng ling",:"qing dio",:"lo sho",:"m r",:"gu g",:"jing shui",:"ch zi",:"w nang",:"zhng jn",:"k hn",:"bng zhu",:"gng xio",:"qi pin",:"chi sh",:"zh hui",:"yng zho",:"ch n",:"qi cu",:"r tou",:"y ji",:"z zhng",:"do gun",:"ju s",:"dng ling",:"p jia",:"yun fn",:"kng xin",:"ho s",:"n h",:"lng tng",:"bin si",:"h cng",:"chng h",:"lng sn",:"hng lng",:"hu zi",:"ni mng",:"sh lu",:"n ch",:"mu l",:"zh lan",:"zhng bio",:"dio dng",:"gu lu",:"chng zi",:"ji qio",:"chng wn",:"po zh",:"fn hun",:"z zhun",:"go dio",:"yn hng",:"g zhu",:"qing qi",:"bn xing",:"jio hng",:"co shui",:"q mn",:"zhu s",:"nng kn",:"xng tou",:"j n",:"ji jio",:"f j",:"mng jing",:"yu mo",:"tu li",:"n rng",:"zun tn",:"ji cng",:"lu p",:"hng do",:"yn ling",:"ji mn",:"kng er",:"g mo",:"ho k",:"zun kng",:"h nng",:"xng yng",:"fn mn",:"cng c",:"fn ch",:"chng zi",:"xio dio",:"sho yng",:"shu xing",:"rn fng",:"g bei",:"jing mn",:"m bn",:"pi j",:"wi w",:"gn tou",:"hu sun",:"li zhui",:"hng xio",:"yn xun",:"gn dio",:"fng zh",:"nn ch",:"zhu y",:"mn hng",:"j sh",:"dun f",:"shng hun",:"hun qng",:"kn h",:"zh shui",:"zu yu",:"zi k",:"zhun hng",:"yn m",:"kng g",:"p din",:"ling jing",:"hu l",:"sn mn",:"tu f",:"sng hun",:"mi m",:"li j",:"b w",:"dio l",:"sh ti",:"j zhng",:"shun s",:"pi ju",:"qi ku",:"chung ku",:"h qian",:"sh dn",:"p png",:"h d",:"ln sn",:"sh gn",:"tin kng",:"dio zun",:"yu sh",:"ling bin",:"yu xing",:"tng s",:"zhng dio",:"ji do",:"gn k",:"zh k",:"yu gng",:"hu gu",:"zho hu",:"gng zhng",:"j f",:"kng zi",:"n zh",:"zhng zho",:"shu zi",:"sng zng",:"ji di",:"n fn",:"zhng y",:"zhng sn",:"jio dng",:"jun q",:"zi yn",:"tu dn",:"zu cn",:"fn ling",:"dio hun",:"lio rn",:"li zu",:"din dng",:"hn ji",:"zhng xing",:"j shu",:"x f",:"zh gn",:"sh xing",:"hng qing",:"k hu",:"si zi",:"dn gn",:"hun xing",:"zho tou",:"s gun",:"d shui",:" ha",:"g sh",:"m b",:"ho w",:"xi ch",:"xio zhng",:"l jin",:"zhn tou",:"jio du",:"sh w",:"pn y",:"f ye",:"m fi",:"yn fn",:"h jing",:"b he",:"d ch",:"kng wi",:"p l",:"w l",:"dio hu",:"li tou",:"xin sn",:"jio jun",:"mo shi",:"gn jn",:"xin yu",:"xing gu",:"dn shn",:"zh xng",:"p ki",:"c zhng",:"f qi",:"ji j",:"sh ch",:"shng f",:"chng b",:"fng h",:"yn ling",:"sho wi",:"chng y",:"cng jng",:"hu bo",:"wi h",:"wi xing",:"h ho",:"zho m",:"tio dn",:"wn l",:"hun s",:"qing hng",:"zho sh",:"xing shn",:"tio mng",:"m feng",:"fn ni",:"gng y",:"run huo",:"jn xng",:"ho zi",:"zho y",:"bi jing",:"ci zhng",:"ji z",:"mi kng",:"ji fng",:"sh duo",:"chn huo",:"b ji",:"din ling",:"h zi",:"dio sh",:"ch shn",:"d shu",:"dn gng",:"hng mn",:"nng gn",:"jio din",:"ji zi",:"gn xio",:"hng chun",:"jio zh",:"y s",:"m zh",:"yu zh",:"go gn",:"jng zhun",:"zng sn",:"ho du",:"gun qi",:"to bn",:"m ceng",:"mu q",:"zhn l",:"m zha",:"cu he",:"li qie",:"shui d",:"ti zi",:"fn de",:"nin zhu",:"ci y",:"sn zhung",:" nu",:"xng wi",:"xng tou",:"q ling",:"dio yn",:"ch zh",:"yu yn",:"chng s",:"dng h",:"ln dio",:"xing zhng",:"mn yu",:"po zhang",:"sng f",:"xio jing",:"ling xng",:"fng b",:"ci kui",:"d gn",:"l sh",:"jio chng",:"si bi",:"sh xing",:"r m",:"xin ling",:"y s",:"lu lin",:"ling kuai",:"yo gn",:"li da",:"g g",:"gng gn",:"ji gng",:"tio du",:"kn mn",:"yu g",:"t pin",:"tio dng",:"zhn jing",:"qi jng",:"m fng",:"wi y",:"jio huo",:"m su",:"zu nng",:"mio tou",:"d zhn",:"d zng",:"ch shng",:"gu da",:"sh yn",:"sh ch",:"ti gn",:"jing xing",:"fn zi",:"sh ch",:"l yn",:"qing gn",:"fng rn",:"chu mn",:"din jing",:"hu tu",:"jng sh",:"xing lng",:"zhng lio",:"bn f",:"ji ba",:"k gn",:"kn ji",:"zhng dn",:"zhng kn",:"xi mn",:"dng gun",:"sh ling",:"gng dio",:"jin zu",:"dn pin",:"ch ch",:"pio bi",:"gng zi",:"tio ch",:"ho dng",:"zhun l",:"bng q",:"ji bn",:"i yu",:"gn do",:"k ch",:"p chi",:"zhng sh",:"tin hu",:"gng ch",:"jio yn",:"ch si",:"m pn",:"wi m",:"bn sng",:"chng h",:"d dio",:"fi fn",:"zun yng",:"ji zi",:"cho zi",:"gng sh",:"lng dang",:"p sn",:"f hun",:"zhun ln",:"hng ci",:"po tng",:"po s",:"tin y",:"h hu",:"q qio",:"tng ling",:"fng hun",:"w jio",:"mn gn",:"lng tou",:"yn ti",:"yu fng",:"xu zhng",:"gu zi",:"b dio",:"y bi",:"x chn",:"dio yu",:"mn gn",:"zng z",:"t gn",:"bin dio",:"f m",:"m zi",:"yu l",:"chn xn",:"m gn",:"chng yn",:"z xng",:"t dio",:"kn xing",:"y tou",:"xi qi",:"si shng",:"p zhng",:"tng wn",:"b xng",:"xi sh",:"tu q",:"xin dn",:"yu m",:"hn ling",:"y yu",:"ho k",:"zh xing",:"zh jun",:"z sh",:"x chung",:"fng dn",:"jin jing",:"l shu",:"xu f",:"kng dng",:"du xing",:"xin jin",:"hu jing",:"zi b",:"tio zao",:"qio p",:"b d",:"ji f",:"lio dun",:"tng dio",:"sh m",:"sh ch",:"b s",:"tio zi",:"tu m",:"w hu",:"m sh",:"dio zhun",:"j m",:"hun zhi",:"dio yn",:"fn hu",:"j u",:"dun h",:"mn li",:"lng j",:"fn ling",:"hun l",:"zhun dio",:"xng xing",:"shu xing",:"pi yu",:"gi tou",:"lin gn",:"b j",:"do b",:"ling c",:"mng ju",:"b dio",:"jio bn",:"zhng b",:"jun yng",:"sho wi",:"y zhun",:"yu p",:"qin li",:"d li",:"h ch",:"yn ",:"gn q",:"hi ling",:"jng dng",:"zhu chung",:"yu xing",:"sh j",:"gng gun",:"ln ch",:"zhng b",:"hu p",:"ji qio",:"kng ch",:"k xi",:"p chn",:"chng shng",:"yu l",:"i ho",:"zng l",:"gng jng",:"xu png",:"nng yn",:"chng du",:"dng chi",:"zhng zhun",:"bng ch",:"chung min",:"dn ju",:"b l",:"hung dang",:"so zi",:"ji sh",:"mn tu",:"mi f",:"d shu",:"zho ling",:"chung jing",:"j n",:"pn tou",:"ch sh",:"sn su",:"yng s",:"hn zhn",:"qin qing",:"w jin",:"ln zhun",:"ho jio",:"p pi",:"xing f",:"zh gng",:"dng ",:"bng ji",:"li ji",:"gng s",:"dn ji",:"zun xn",:"hung yn",:"m zho",:"bio ling",:"bi mn",:"ci du",:"ch sh",:"gun chi",:"to hun",:"chng mn",:"li fn",:"l lng",:"s xing",:"y xng",:"ju l",:"dn kng",:"zh ch",:"ji j",:"ch xng",:"hn jing",:"ho xu",:"ho ho",:"yn f",:"so b",:"f xing",:"gu gn",:"gng q",:"kng y",:"kn z",:"j b",:"jing hu",:"g zh",:"dio lng",:"f ti",:"ln bng",:"dio pi",:"zhun pn",:"gng go",:"chi gun",:"yu mn",:"jio zhng",:"chng chng",:"ji xng",:"yu tn",:"hu n",:"ch h",:"bng b",:"d kng",:"zhun qun",:"hng bo",:"hng ti",:"yn hng",:"zi hu",:"zhng j",:"gun zhng",:"xing min",:"kn tou",:"pn tou",:"y xng",:"jn yu",:"li c",:"g d",:"yn zho",:"bo sng",:"m sa",:"i du",:"pin zhu",:"chu ju",:"dio sng",:"qing jing",:"chng zu",:"f bin",:"zho m",:"zho f",:"shng fng",:"tin s",:"xing hng",:"q shu",:"bi ti",:"chng ling",:"f ci",:"ji f",:"fn jun",:"xio ling",:"jio zhu",:"l zi",:"dio diao",:"sn bng",:"go tio",:"b s",:"ji xn",:"shn dng",:"to ro",:"n chng",:"nin zi",:"m fng",:"s b",:"chng yun",:"xng qn",:"t l",:"gun ling",:"qing b",:"qing zhng",:"yn ch",:"sh do",:"di li",:"t bn",:"xin w",:"s jing",:"jn li",:"chn ji",:"f sh",:"g shn",:"tin fn",:"p ho",:"s tng",:"bi zh",:"hu shng",:"ju du",:"tng chi",:"su ch",:"sng l",:"m m",:"xu shu",:"s b",:"su co",:"qin wi",:"dio tu",:"lng jun",:"wi dio",:"z ti",:"jun f",:"chui du",:"yng xing",:"sn gung",:"g lu",:"b mng",:"lng tu",:"yn yn",:"li zhou",:"pin er",:"qin shu",:"sn t",:"ni xng",:"qing li",:"ji sng",:"fn jin",:"sho zhung",:"li kng",:"go ji",:"k xu",:"b m",:"p gu",:"m xu",:"zh sng",:"ch zi",:"hng dng",:" zi",:"ch lu",:"g zhng",:"gu ch",:"hun hn",:"l ji",:"sh zh",:"shn ling",:"tng ho",:"m ling",:"gng shng",:"f sng",:"shui zh",:"z m",:"sn ji",:"d qing",:"jio w",:"b qng",:"yn po",:"nio nu",:"co du",:"chng jn",:"n nn",:"qi zhng",:"tio dng",:"hun yun",:"j jing",:"gng g",:"m yo",:"bi xng",:"qi min",:"sn h",:"li jn",:"bi di",:"chng gn",:"nin fng",:"b zi",:"bn shu",:"yn shn",:"r jing",:"chng gung",:"jin f",:"zhng shng",:"xio zhun",:"y zhu",:"ru gun",:"hu jun",:"hng hu",:"ji k",:"gung yn",:"p m",:"du dio",:"ji ch",:"kng ",:"png dio",:"p chung",:"sng zhng",:"zu l",:"sho f",:"shu shu",:"bn tou",:"jn j",:"shui xng",:"l zi",:"bng z",:"tio su",:"pio x",:"ji qing",:"k chun",:"mi xie",:"cu ch",:"mn ji",:"sh dio",:"chng sn",:"jng chung",:"x chng",:"dio mn",:"hu tu",:"hu la",:"to shi",:"c shui",:"xing shui",:"kun zh",:"y qng",:"yn b",:"wn g",:"d d",:"dio q",:"jio chi",:"lu z",:"xing c",:"x dao",:"lu f",:"y xing",:"jn m",:"ju d",:"xi zi",:"chn jun",:"zh zheng",:"x yng",:"b lu",:"du zi",:" sho",:"f j",:"hng sho",:"jing hu",:"k sng",:"sho x",:"yn chun",:"jio yng",:"wi ch",:"jio zho",:"p zhn",:"yn sui",:"ji jn",:"su po",:"sng lun",:"xing xing",:"hu f",:"d chng",:"yn ling",:"zhng qi",:"hu qun",:"hu tng",:"png zhun",:"l qin",:"j du",:"sn j",:"g shi",:"s yn",:"p x",:"yn zh",:"lng zhn",:"sh zh",:"sho nn",:"gun yu",:"ho to",:"n xing",:"yng s",:"wn shng",:"gn r",:"g tng",:"b j",:"p ji",:"jio zhn",:"yn dng",:"q ling",:"xun dio",:"bn xing",:"gn ci",:"j gn",:"g qi",:"gu yu",:"qi k",:"b g",:"m fng",:"y y",:"ji mo",:"b j",:"chn ji",:"sh xng",:"chng ch",:"zhun y",:"zhu liang",:"b c",:"zng qng",:"d sh",:"dio rn",:"ji yun",:"jng gn",:"j ling",:"lng tou",:"shui zhn",:"pn xing",:"su yu",:"h m",:"xing t",:"xng hu",:"zo tu",:"chng hn",:"zun dng",:"cn du",:"dng shn",:"dio wn",:"gn t",:"g b",:"gng xun",:"ji shng",:"lu xin",:"qi qi",:"sn jin",:"sho qi",:"tng f",:"t ling",:"tng ku",:"j di",:"xing sh",:"yng jun",:"zhun j",:"b ti",:"cng zh",:"fi b",:"g ji",:"g l",:"gu wn",:"gui xing",:"ln ti",:"n gng",:"bo chung",:"qio ch",:"sh ji",:"tn xng",:"xing jng",:"z rn",:"zh yn",:"zhu zhng",:"zhun tou",:"p shu",:"chn huo",:"chng p",:"d ling",:"gn ji",:"gng ch",:"ji li",:"q shu",:"sh shn",:"tio hu",:" mn",:"bi lu",:"bi sn",:"ci ch",:"chung tng",:"f xing",:"gng dng",:"ho xng",:"hun yng",:"hun zu",:"ji dio",:"jun yn",:"li dn",:"xing tou",:"xu ji",:"jio yu",:"y ling",:"bi zhun",:"b ji",:"chn ji",:"f q",:"hu hu",:"kun chuo",:"lio w",:"qi hu",:"shn du",:"yng x",:"zhun ti",:"z zh",:"ci ling",:"zng x",:"chng xng",:"chu mu",:"cu zh",:"tio jng",:"dio zh",:"fng zhu",:"g du",:"h er",:"hng ling",:"hun ji",:"hn p",:"k chi",:"min h",:"sh ch",:"xng sh",:"sh jn",:"xn chi",:"y qi",:"cun mi",:"zh go",:"zun gn",:"p hu",:"bn hu",:"chng dio",:"d li",:"du lu",:"fi zhun",:"gn zhng",:"ho shng",:"hu pin",:"jio hn",:"lu gn",:"m m",:"n ho",:"pn sh",:"w nng",:"y sho",:"yu chi",:"zhn gu",:"zhn xng",:"chng shn",:"z ling",:"dio fng",:"f lng",:"fn dio",:"fng zi",:"gng f",:"g zi",:"gung gn",:"ji gn",:"j sng",:"j g",:"kn y",:"kng zhun",:"ling l",:"po lu",:"pi hun",:"p shn",:"sn j",:"sn jin",:"shn xu",:"sh gn",:"tio j",:"tu kng",:"xu b",:"jio h",:"yn gn",:"zhi ci",:"chng ji",:"zh dio",:"z jn",:"b j",:"bin nio",:"c dio",:"do gu",:"lo zhn",:"p q",:"shu bi",:"wi m",:"x b",:"xing m",:"y ti",:"zhun jn",:"bng h",:"bn xing",:"go tu",:"jin mio",:"yu ch",:"mi xing",:"bng q",:"qin dn",:"qi bin",:"qng dio",:"qn mng",:"sn bn",:"xng ch",:"sh ji",:"qin shng",:"chng yng",:"gng zhng",:"zhng d",:"zhng ci",:"zi zhng",:"ji zhng",:"kn zhng",:"zhng zh",:"zhng gu",:"zhng du",:"zhng sh",:"shu zho",:"lng zi",:"chng q",:"chng zhng",:"chng tn",:"chng z",:"chng shn",:"chng yu",:"chng lun",:"y ye",:"ni nai",:"lo ye",:"b ba",:"m ma",:"shn shen",:"ji jiu",:"g gu",:"sh shu",:"y fu",:"ji mu",:"g fu",:"ji fu",:"p po",:"gng gong",:"ji zi",:"ji jie",:"g ge",:"mi mei",:"mi fu",:"y zi",:"bo bao",:"w wa",:"hi zi",:"r zi",:"yng zi",:"sh zi",:"shn zi",:"ji zi",:"so zi",:"b zi",:"tng zi",:"zh zi",:"min zi",:"b zi",:"bi zi",:"mo zi",:"pi zi",:"zh zi",:"bin zi",:"g zi",:"fng zi",:"wn zi",:"tn zi",:"pi zi",:"h zi",:"gu zi",:"i zi",:"y zi",:"xio zi",:"yng zi",:"w zi",:"du zi",:"din zi",:"bn zi",:"zhng zi",:"r zi",:"t zi",:"pin zi",:"yun zi",:"hu zi",:"sng zi",:"zh zi",:"sh zi",:"qin zi",:"sh zi",:"png zi",:"bo zi",:"kui zi",:"ln zi",:"shng zi",:"zu ba",:"r duo",:"qi zi",:"bng b",:"kng tng",:"p pa",:"m gu",:"h lu",:"h li",:"j zi",:"h zi",:"zhu zi",:"zh zi",:"sh fu",:"y fu",:"w zi",:"bi zi",:"c wei",:"mi zi",:"du wu",:"zh lio",:"y er",:"hn tun",:"dng long",:"zhung jia",:"cng ming",:"jng zi",:"yn zi",:"pn zi",:"lio qu",:"l qi",:"x zi",:"ln zi",:"zho xi",:"zho x",:"zho q",:"ch bng",:"shng zhng",:"zng p",:"p ti",:"bin de",:"zhng fu",:"du fu",:"b gn",:"zng yng",:"xng rn",:"d zhe",:"d y",:"wn y",:"zh y",:"d zh",:"tng y",:"wi y",:"zhun y",:"dn y",:"r y",:"q y",:"h y",:"zh y",:"zhu y",:"ch y",:"yn y",:"gu y",:"ji y",:"wn y",:"lio lio",:"gng lio",:"s lio",:"y yu",:"y ho",:"y j",:"y dng",:"y g",:"yu y",:"y y",:"r y",:"sn y",:"s y",:"w y",:"li y",:"q y",:"b y",:"ji y","":"y lng",:"y lng",:"y r",:"y sn",:"y s",:"y w",:"y li",:"y q",:"y b",:"y ji",:"y yu",:"y bng",:"y lu",:"wi l",:"wi zhn",:"cng hi",:"nn wi",:"z nn",:"hun nn",:"m nn",:"d nn",:"dio nn",:"xn nn",:"lu nn",:"l nn",:"zi nn",:"nn mn",:"k nn",:"wi nn",:"f nn",:"to nn",:"b nn",:"y nn",:"z nn",:" nn",:"xn nn",:"kng nn",:"x huan",:"zho zho",:"b xng",:"y y",:"wn q",:"ni q",:"q zh",:"wi q",:"ji q",:"q jng",:"q ji",:"wi q",:"q xin",:"q f",:"ji q",:"q zh",:"q gng",:"q y",:"g lo"},cRe=Object.keys(vL).map(e=>({zh:e,pinyin:vL[e],probability:2e-8,length:2,priority:ga.Normal,dict:Symbol("dict2")})),bL={:"wi shn me",:"sh j shang",:"jin ch zhng",:"gn shn me",:"zh hu er",:"jn k nng",:"dng sh zhng",:"lio b q",:"cn mu zhng",:"cho xin z",:"hi ni wi",:"jn b zh",:"b l t",:"b zi hu",:"lu shn j",:"yu din er",:"pi j po",:"b d lio",:"m wi sng",:"yn sh ling",:"f p qi",:"sh d f",:"y l jing",:"y gn er",:"du de q",:"n hu er",:"z g er",:"w l ling",:"zn me zho",:"mng hung hung",:"ji ji r",:"xn l hu",:"f xng ling",:"xng chng chng",:"fn z ling",:"gu z jin",:"lo d nn",:"dng ni wi",:"zh me zho",:"sho ni nai",:"n d l",:"gng nin q",:"gng zu ling",:"bi d l",:"shn li hng",:"ho ho er",:"jio xing yu",:"ho y si",:"t y hn",:"mi y si",:"l f sh",:"t sh gn",:"chng q ling",:"ko de zh",:"ch xng do",:"rn xng do",:"zhng lng jing",:"zho mng dn",:"yn m dn",:"m ni h",:"lun hng hng",:"hu gng s",:"zi zhng ling",:"qio de q",:"j zhun t",:" png gng",:"jun xn ci",:"x bn zi",:"gu de q",:"hu gng sh",:"wi sheng n",:"tun tun zhun",:"d bo jio",:"rn sho dn",:"lo sh zi",:"yo gn yu",:"ji zh to",:"no hng hng",:"sn lin gun",:"zhng tu x",:"r rn zhun",:"ji g yn",:"zh shi min",:"h shi zhng",:"xn ho dn",:"gn din ch",:"qing gn zi",:"k sng bng",:"b yn i",:"w gng jn",:"mi de q",:"li h ma",:"j liang g",:"z m dn",:"ki xio chi",:"n qing rn",:"yng xing zhun",:"ju sh yu",:"shu xio hua",:"png tu hu",:"b li gng",:"y gung dn",:"sho ln qun",:"yng tn dio",:"sho xin du",:"lng zhng m",:"du zhe gn",:"mng mng ling",:"run g tou",:"p gi jun",:"hu x n",:"bi hi gu",:"hng tng tng",:"w hu c",:"d du suo",:"h ku b",:"m wi zo",:"y mo zi",:"d shu sh",:"lng wng y",:"q tu shang",:"h tu chng",:"b gn zi",:"zhn pin yi",:"d zh y",:"du dn tu",:"lu y shu",:"yn s h",:"bo de zh",:"bo t qun",:"o de h",:"s w zhng",:"jn b q",:"sh ch hi",:"lin hu lo",:"jin sh min",:"hu ch q",:"din wi ch",:"i g er",:"n zhn er",:"fi hu ling",:"d sh fu",:"zh dn tng",:"d h lu",:"n q mn",:"wi jin d",:"d shn er",:"tn de li",:"jio y zi",:"kng bo dn",:"w li du",:"dn zhu din",:"g tu er",:"kn de q",:"h tu zhng",:"d xng xing",:"jn de q",:"f xing zng",:"k lin xing",:"ch de xi",:"hn bo bo",:"no rng rng",:"sh li bo",:"h de li",:"gn xng yu",:"mn h lu",:"gu gu jio",:"x yng shn",:"ln yn do",:"l ji chng",:"jun p gi",:"gu de yng",:"fi jing jn",:"tio d ling",:"h ba gu",:"gu ji ji",:"cu li dn",:"y ji xu",:"qio zh gng",:"li ch zhng",:"hu d n",:"fn de zho",:"t g da",:"sh fng jng",:"qng ling j",:"xi d d",:"sh z er",:"d m dn",:"k jio pin",:"kn d shn",:"dng din er",:"ch de xio",:"lu h x",:"go l shn",:"zhng shng xing",:"yn xi yn",:"jn de zh",:"ch de ki",:"zu s chu",:"yng shng chng",:"sh de zho",:"sh jn er",:"qin b li",:"k d sng",:"hu de li",:"yn h h",:"sh ke lng",:"lio ju zi",:"zng hng hu",:"mn gun ch",:"qi b zi",:"hng deng deng",:"gn de j",:"dng jin er",:"lu m jio",:"j ni jn",:"fn de shng",:"dng ch b",:"bo h din",:"lng zho hui",:"h do ci",:"dng gun c",:"dn dan min",:"ch de zh",:"zhu jin er",:"zh zho er",:"zh gn tou",:"yn zho er",:"yn jun er",:"xun chun dn",:"xn p er",:"xin qi jio",:"s sh m",:"shu de li",:"shu pio er",:"shu b gn",:"sh de shng",:"sh b zho",:"sh b qng",:"sh jin er",:"shng s b",:"shn fng j",:"s y zheng",:"r j b",:"r de kui",:"qng jia gng",:"j hn sh",:"pi zh b",:"n jn er",:"n w wa",:"ni qi yun",:"n hu er",:"mn tu er",:"mi p er",:"mo jn er",:"li jin bng",:"lio wng ti",:"lo li sho",:"kn ju er",:"ko qn b",:"jun b do",:"jn j ling",:"hu b li",:"hn gu er",:"g nng nng",:"gu jn er",:"gng qi xin",:"g de zh",:"gn lng tu",:"gn de shng",:"gn jio m",:"g zh er",:"g bng cu",:"du de zh",:"du mn zi",:"dng gu gu",:"d li er",:"d zhu zi",:"d bn zi",:"cn jn er",:"c jn er",:"chui shu er",:"chng jn er",:"ch de li",:"b gng sh",:"bn tou er",:"bi f zhng",:"w wa qn",:"s jn er",:"g du er",:"gng lo b",:"d jing yn",:"y dn shu",:"p j ti",:"ti li p",:"k t lng",:"ki h hng",:"l y j",:"hu sh lio",:"y gng gng",:"y chng shn",:"fng y gng",:"xu y gng",:"gu y m",:"xng q y",:"l bi y",:"y j d",:"y yu y",:"y z m",:"y sh y",:"y c fng",:"y yng zh",:"y z ju",:"y nin j",:"y b zu",:"q qu r",:"nn wi shu",:"nn wi qng",:"xng y hng",:"bi bi de",:"gn n hng",:"gn y hng",:"q bi zhn"},uRe=Object.keys(bL).map(e=>({zh:e,pinyin:bL[e],probability:2e-8,length:3,priority:ga.Normal,dict:Symbol("dict3")})),_L={:"chng j s hn",:"s tng b d",:"y m y yng",:"qng zng go yun",:" m tu f",:"ji fng s xing",:"su zu su wi",:"m m hu h",:"h qing sh dn",:"xng go ci li",:"w nng wi l",:"b l si r",:"wi su y wi",:"k sh m r",:"mi wn mi lio",:"b wi rn zh",:"ji ji b b",:"qin p hu j",:"p tin gi d",:"zh ji lio dng",:"gng b yng qi",:"y sh d f",:"b wi w qun",:"b k shu shi",:"h zu fi wi",:"fn ho b ch",:"m m hu h",:"b z wi q",:"qio w shng x",:"lio r zh zhng",:"shn w tng ju",:"go go xng xng",:"i shng tn q",:"hn zng y x",:"ch xn j l",:"q b chng shng",:"bn y sn gng",:"sh hn lu p",:"r sh b xi",:"zhun li zhun q",:"sh y wn j",:"xing y wi mng",:"lin lin b sh",:"q zh k sh",:"shn ch gu m",:"ji ji sh sh",:"yu d fng sh",:"j l g l",:"dio bng qin jing",:"zi g zi w",:"zhun wi wi n",:"t t shi sh",:"sng j b r",:"zhung m zu yng",:"jin y yng wi",:"xing ch w j",:"tn wi gun zh",:"mn mn b l",:"x n i l",:"xin wi rn zh",:"zhng y w zho",:"wi fi zu di",:"hn h q c",:"p y bn mng",:"min wi q nn",:"y y b sh",:"dng tu shng si",:"b zhu bin j",:"d m d yng",:"xn hun zu l",:"y zu lio zh",:"z l hng jin",:"hn hn hu h",:"qi r q fn",:"p t wi xio",:"shn gng bn y",:"qin ch wn bi",:"sh b shng sh",:"j wi j yu",:"tin xun d zhun",:"yng zn ch yu",:"b li xin wi",:"cho chao no no",:"yn tu zhun xing",:"t shng t zhng",:"nng s b q",:"b xng rn sh",:"jn l r wi",:"jng mng qing gn",:"lo lao do do",:"j ji zh zh",:"gng b k m",:"qi r b sh",:"pi yu ji nn",:"x li h t",:"g yu su chng",:"d d qu qu",:"hng tng d xio",:"tng r b wn",:"do gng hu zhng",:"ni fn m xin",:"hu xin wi y",:"bi f bi zhng",:"chng jin tin r",:"fn bi wi shng",:"y lio bi lio",:"d da li li",:"xn j hu lio",:"c xn d yi",:"j p g da",:"y wi png d",:"r j yu li",:"sh shn ch d",:"tu q su ho",:"jin b rng f",:"rn mn wi hun",:"qing zhu b sh",:"wi sh y wn",:"r sh ji zhn",:"xn l yu sh",:"y y hun y",:"shn b shu sh",:"mng sh wi k",:"g z wi zhn",:"yun shng zi do",:"ji k ji nn",:"ho ho xin sheng",:"gui m gui yng",:"po tu l min",:"yu shu ho xin",:"w su b wi",:"dio h l shn",:"b b wi yng",:"ho d x gng",:"zhng sh zh d",:"chng shng b s",:"wi wi zhung gun",:"b k shng sh",:"gu sh shn chi",:"ji shn z ho",:"gn zu gn wi",:"mo s dn ki",:"zu m hun jing",:"wi sh gu zo",:"wi rn sh bio",:"yn ch yng cu",:"yu qing hu dio",:"chng do f zh",:"m ma li li",:"x x do do",:"r l b bng",:"sn bng zh jing",:"gui wn m jio",:"xing m xing yng",:"gng gu y qi",:"ki hu ji gu",:"z z x x",:"chun zng gng l",:"h bi bng zi",:"chng nin li yu",:"zhng er b jng",:"b sh ti ju",:"chng zhn q g",:"q x yn yn",:"jn zhu b sh",:"f fu ti ti",:"qing c du l",:"p li p l",:"rn ci j j",:"f rn shn xng",:"b z wi png",:"wi f b rn",:"lin pin li d",:"h tin qing d",:"lu lu d fng",:"z chu z li",:"l shn ho sh",:"y gng wi shu",:"m m cng cng",:"xu ti r n",:"zh zhu wi n",:"y tu wi jn",:"q q ch ch",:"qing ln dn y",:"lng rn f zh",:"zhun bi wi shng",:"zhun wn m jio",:"zi ji nn to",:"zhng dng fng wi",:"b z wi gui",:"nn xing nn d",:"y y y y",:"dn jn ling ju",:" y fng chng",:"x li hu l",:"fn lo hun tng",:"ho go w yun",:"l s shi shu",:"ch qing rn y",:"d chu d li",:"chng ji l y",:"z yun z y",:"f zhi li li",:"g wi jn yng",:"r t wi n",:"xi b wi l",:"y hng r shng",:"mi tu cng ying",:"tin ch d yun",:"fng jun cn yn",:"du zi du nn",:"r xi wi gn",:"hng ji l shu",:"lng bi wi jin",:"ch bin b jng",:"y chng y h",:"y nin zh ch",:"jn chn tu qio",:"d d d d",:"shu gu li li",:"ho zhng y xi",:"hng de f z",:"chun wi mi tn",:"f shng d g",:"s hi wi ji",:"lio ru zh zhng",:"d yu k wi",:"ch tu l min",:"g gu nng nng",:"chung mng j jng",:"ti rn ch zh",:"n f chng gun",:"yu j b li",:"g tou ji zi",:"y b yn tin",:"y dng din er",:"sh li yn zhun",:"chn c ln dio",:"hu zhng wi lng",:"hu sho hu lio",:"gn cu l su",:"dio er lng dng",:"gung zhng b shu",:"zhng gu d gu",:"zhng du d du",:"nn sh nn fn",:"sh xu wi mng",:"fn f yu wi",:"yn cu yng ch",:"dng du x cng",:"yn xn hu lio",:"zun ni jio jin",:"qio zhung d bn",:"gi xin gng zhng",:"h nn bng zi",:"ho ch ln zu",:"h l b wi",:"d ch fng tu",:"gng chng l d",:"pio pio liang liang",:"zh zhng zh y",:"d m h y",:"l sh chng yn",:"shui xin chu fn",:"ji chng l dun",:"kun d wi hui",:"zu bng yu b",:"y xio lio zh",:"tin xi wi gng",:"hun w h shn",:"h z wi q",:"ho z wi zh",:"fng z chu yu",:"d y png tu",:"chun wi ji hu",:"ch l p wi",:"chng co ji y",:"xio ji zi q",:"sho b gng sh",:"nn fn nn sh",:"tin zhun ji w",:"sh fi fn mng",:"sh w q shu",:"pin tng pin xn",:"ling r wi ch",:"xing lng f h",:"gng hu b li",:"zhng zhng xi hui",:"y shn x gu",:"y y zhng d",:"sng hn lu p",:"sn zu d shn",:"j j y tng",:"ho sh zh t",:"gn jng l su",:"ch jing r xing",:"nio nio nu nu",:"h li wi ba",:"ho y w lo",:"d r w dng",:"d m hu yn",:"bn shng dng dng",:"yo w h li",:"xi bng xi jing",:"shu dio g tu",:"sh din wng z",:"rn sh b xng",:"q go h gu",:"l jio b gi",:"h wi yn gu",:"h wi bio l",:"hu c b b",:"gu gun zhn jing",:"g ge d d",:"d f pin pin",:"zu wi shng c",:"yun jia du tu",:"yu x k chng",:"y ln bn zho",:"pin yn zh y",:"ki hu ji sh",:"jng nin li yu",:"hn h q c",:"gu lin xin ch",:"chng nin li yu",:"b xn s qng",:"b dng rn z",:"bng d yo yun",:"zh f wi hn",:"zh me din er",:"y xng su rn",:"xi hu zhn tou",:"w d fng sh",:"wng wn wn qi",:"sh j wi rn",:"qing nin li yu",:"pi nn ji fn",:"ch zh ti rn",:"zh l wi m",:"wi r li lun",:"tin bng tin jing",:"sh jn qi yun",:"nn qing bi dio",:"k zhng zu l",:"hu j b f",:"xi wi xing tu",:"zhng yu yu x",:"b ling wi chng",:"bi bi qi qi",:"bi jn zh jing",:"q hng b sh",:"xu z sh l",:"xin d wi kui",:"t j ho hn",:"sh b jin qn",:"shn chi gu sh",:"qio qio d d",:"png p zh x",:"mi tu m wi",:"lio lio k sh",:"hng h r jing",:"h f tng yn",:"g bn qin chng",:"dn w x f",:"d rn xin sheng",:"y mn gng sh",:"sh bi l zhun",:"sh fi d sh",:"sh b ch c",:"si wng sh m",:"r b x shn",:"qi shn t hu",:"pin yn zh z",:"po m mi xi",:"nng zh b wn",:"lng lng sn sn",:"ling t ci y",:"lin zhng sn yun",:"l bng yu hui",:"b wi y shn",:"zhun bi wi x",:"y yn hun yn",:"wi wi d gun",:"wi wi b k",:"tng yn h f",:"png b wi jin",:"m c wi shn",:"ji qing di bng",:"f shng j ji",:"dn rn ch zh",:"dn sh h jing",:"chung j tng shn",:"co zhng yng fi",:"zu sh b ji",:"y j du rn",:"su hng ji sh",:"wn y zi do",:"wn b du t",:"ti bn dng dng",:"shn t f f",:"qu ch sho chun",:"m w zn zhng",:"j rn tin xing",:"hu ji sh nn",:"gng jn ti g",:"di z bo j",:"di sn l s",:"b m s tng",:"xu jin no di",:"wi fi zu ",:"rn ci nn d",:"qng fi d y",:"qi zhng yo hi",:"hu j hu lio",:"hu d wi lo",:"ho ji tn bi",:"chng g dng k",:"zi chn zi f",:"y nn chng xing",:"y m g da",:"y ln wi h",:"yng wi zhng yng",:"yn wi xn shng",:"yn b yu zhng",:"t qing b xin",:"png tu d y",:"m b xi j",:"ling ci l yng",:"jio xu xing zhng",:"hu b dng ch",:"h yo h li",:"b z wi xn",:"b j xng j",:"png ru w rn",:"zu z nn to",:"z w chu x",:"zhun hu wi f",:"yng gun sn jn",:"y d r ch",:"xi m sh l",:"wn r b zhun",:"tin do ho hun",:"shn dn l b",:"s du chng bng",:"pin zh zh z",:"nng qu w ln",:"m m w wn",:"ling l r wi",:"l l k sh",:"ku bi zi do",:"jn z ho qi",:"ho wi rn sh",:"ho shng j ji",:"g yu su ho",:"du d ling l",:"zh tin wi sh",:"y xng chun fi",:"xn kun t pn",:"wi d b z",:"tin xi wi ji",:"sh wi wi t",:"sn zi b nn",:"m hu r gun",:"l li l l",:"jin fng ji zun",:"ji cng b li",:"j gng ho y",:"j nin li yu",:"hu d wi lo",:"gng mng gi xng",:"fng wi gu ni",:"du nn xng bng",:"b p b l",:"zu d z hu",:"zu b chng x",:"zu b ku tng",:"zu ji y shang",:"zu zh yu w",:"zu y yu yu",:"zun tu m fng",:"zun tin d dng",:"zun p ch y",:"zun hu d bng",:"zun dng m fng",:"zun bng qi hu",:"z wi f yn",:"zhu f nn sh",:"zhu rn xin bin",:"zhu dio wi p",:"zhu ch nng zhng",:"chu xn yn q",:"chu xn q xu",:"chu ni xing sh",:"chu ni sh xu",:"chu ni f zhng",:"chu mi t gu",:"chu mi gu qi",:"zhung f chng gun",:"zhung yn bo xing",:"zhun chu wi x",:"zhun chn wi x",:"zhui xing lu ji",:"zhui p f l",:"zhui b tu m",:"zh chng wn dun",:"zh jin wi l",:"zh yu q kng",:"zh yu kng x",:"zh tin wi n",:"zh yun yu r",:"zh mo l l",:"zh c b sh",:"zh w b hun",:"zh ling cn du",:"zh ling x chn",:"zh r gun x",:"zh fn zo gi",:"zhu du y s",:"zhu zhng wi hun",:"chng mng j yn",:"zhng zhu tng yn",:"zhng mo cun qi",:"zhng ho zhng w",:"zhi zh su t",:"zh ch w tu",:"zh dng b y",:"zh zo wi bi",:"zh yn wi gng",:"zh sh wi xng",:"zh shn shu m",:"zh g wi w",:"zh gn xing ch",:"zh d y bn",:"zh w q c",:"zhng shn shui xi",:"zhng gun l xi",:"zhng gun n l",:"zhng gng shui w",:"zhng dn gn kn",:"zhn tu xu ti",:"zhn sng jng bi",:"zh y s l",:"sh jin wi sh",:"zh r z zh",:"zho d s wi",:"zhng j xio r",:"zhn n wng hu",:"zhn fng wng q",:"zhn jing qin q",:"zng m tu zh",:"zng shn sh rn",:"zo yo zhng shng",:"zo zhn w yo",:"zo gu sh c",:"cun sn j w",:"cun mei c ",:"cun lng h zhng",:"cun fng j d",:"zi xio zi yn",:"zi ji wn z",:"yn shn b x",:"yn sh xi jun",:"yu zhng sh gu",:"yu lu shn hng",:"y n qi ji",:"y j wi fng",:"y nn chng xing",:"y y li li",:"y zh w dng",:"y xio xun tin",:"y sh chn f",:"y sh xio xi",:"y qing zun x",:"y du qn mu",:"y chun p d",:"y yng k g",:"y zh y xing",:"y q y qi",:"y ji wi gu",:"yu ji w hun",:"yu ji w y",:"yu gu nn tu",:"yu b yu fng",:"yu gn dng jn",:"yu yn t y",:"yng zhng jio jio",:"yng sh yn shu",:"yng yng fi jn",:"yng xn yn zho",:"yng yn yn w",:"yng tin shn sh",:"yn li shu ru",:"yn zhn shn t",:"yn d shng li",:"yn shng qi m",:"yn ch dn sh",:"yn yun wi sh",:"yn sh wi w",:"y mi y w",:"y s li lu",:"y l wng qi",:"y y wi zh",:"y yn wi hu",:"y sh jin qn",:"y shu j shu",:"y sh wi y",:"y shu wi gng",:"y shng ling dn",:"y shn wi jin",:"y qun wi y",:"y l li xng",:"y hu wi f",:"y hi wi bi",:"y gu wi tin",:"y g wi jin",:"y gng xio ju",:"y f wi jio",:"y d w x",:"y sh wng li",:"y qn zi hui",:"y d ji jin",:"y tu l dng",:"y z sh shu",:"y qng chng fi",:"y shang zh hu",:"y dn sh b",:"y hun y bo",:"y gng ho lng",:"y dio w qing",:"yo ch n sh",:"yo m xio chu",:"yng jng x ru",:"ng shu shn mi",:"yng yng s s",:"yng go mi ji",:"yng fng ji y",:"yn zho sh jn",:"yn zho ho m",:"yn sh wng zhn",:"yn jn qin jn",:"yn jn m xi",:"yn ji yu g",:"yn g zho w",:"yn di zh sh",:"yn ch wi cho",:"shn zo fi shng",:"yn g wi xun",:"yn ch ho ",:"y ling wi jin",:"chn hng du sh",:"q sh hng xi",:"dng hng ch s",:"xi ch bn hng",:"r n chng hng",:"d hng d sh",:"xn hng sh m",:"xn ch xing h",:"xu zhi li li",:"xun y g sh",:"xun sh wi y",:"xun dn chng sh",:"xun hun s cn",:"xun gu x y",:"xun qun lu xi",:"xun h gun hu",:"x q yng z",:"xi rn d d",:"xi ln yng zho",:"xing j h zh",:"xing s d j",:"xng wn zi shng",:"xng wn yn w",:"xng gun qn yun",:"xng go ci li",:"xn shu xing yng",:"xn ku xing yng",:"xi sh nng qun",:"xi jin li z",:"jio dun ling chng",:"xio yn b p",:"xio yn dn y",:"xio mng sh bo",:"xu zh ju gn",:"xu ti w shng",:"xu zh wi mn",:"xu m wi l",:"xing wng fng hui",:"xiang pei yu zhu",:"xing sh yu p",:"xing sh r dng",:"xing qi xing cu",:"xing n pi f",:"xing mn yu xing",:"xin zhng ch j",:"xin w zhu bin",:"x yn b ch",:"sh q  jio",:"x mo bin f",:"x su b f",:"w ln yn zho",:"w x wi gu",:"w f hn y",:"w dun zhun hng",:"w sh li y",:"w s xing xun",:"w hu q gu",:"w hu l zh",:"w g d f",:"w z yu ch",:"w xi zh ch",:"w shng w xi",:"w nng wi y",:"w ku bo s",:"w kng b zun",:"w jin k chng",:"w jin dng xi",:"w  b wi",:"w dng wi d",:"w ling wi do",:"w qun tu zho",:"wn w chi sh",:"wi wi tu tu",:"wi r wi su",:"wi b b xi",:"wi shn zu l",:"wi shn zh ku",:"wi rn b f",:"wi qi wi j",:"wi mn f m",:"wi hu f cu",:"wi ho chng qin",:"wi gu wi y",:"wng fng xing yng",:"wng chn pio shng",:"wng zh hun tng",:"wng gng dn gun",:"wng gu d f",:"wn gun ji s",:"wn sh dng ru",:"wn ji b bo",:"wn su ki sh",:"w m shng f",:"tn yn yn l",:"tu yun dun qin",:"tu gn ji sh",:"tun fn ju j",:"tun tu j min",:"t s yn mi",:"t tu zhng no",:"t ku yn mi",:"t b w f",:"tu zhun r q",:"tu m bi n",:"tu hn no mn",:"tu kui j lin",:"tu ch tu m",:"tng z chung y",:"tng w xing zh",:"tng w xing x",:"tng gun zi bo",:"tng wn dio w",:"tng li zhng zh",:"ti sh ki hu",:"tio gun b fn",:"tio y lio chn",:"tio yo tio li",:"tio chn lio zu",:"tin b wi y",:"tin b wi gui",:"tin xi wi lng",:"tin ti l m",:"tin nin b su",:"tn nng q qi",:"tn yn wi zhng",:"tn yn wi zhng",:"sh kng j m",:"su w yng j",:"su yn ci gn",:"sng jn l xu",:"sng yn zh ji",:"s tng b dng",:"s m cun t",:"s b ni li",:"s su zh zh",:"s n f yun",:"shu wng xi d",:"shu g qi jn",:"shn fng r h",:"shn fng chu hu",:"shu zhng zhu yn",:"shung gn du ji",:"sh m r chu",:"sh m ling chi",:"sh l lu ji",:"sh hi ln hung",:"sh bi ln hung",:"sh yn hun f",:"sh p wi p",:"sh chun wi zh",:"sh qu yu jin",:"shu z chng jin",:"shu z y ch",:"shu jio gn jng",:"shu b yng xn",:"sh shu ji wn",:"sh zh y xng",:"sh sh yng w",:"sh qng shui y",:"sh dng q chng",:"sh wi zh j",:"sh yng jing lng",:"sh wi mn tin",:"sh du w y",:"sh y yu l",:"sh yng b li",:"sh sh jn gu",:"sh x zhn cng",:"sh w dng x",:"sh wi w gng",:"sh m ji nn",:"sh sh f zhng",:"sh ch kn zhng",:"sh zh wi zhung",:"sh j lng xin",:"shng jng xin zhun",:"shng jn xin xing",:"shng tu s zhui",:"shn j du rn",:"shn w gu gun",:"shn lng sh sh",:"shn wn q sh",:"shn l qin q",:"shn g wi lng",:"shn w tng j",:"shn chu xi yun",:"sh j wi gng",:"sh dun q chng",:"sh c zhu yng",:"sh xi wi xn",:"sho chng ru xng",:"shng dng xu gui",:"shng b dng gng",:"shn z wi mu",:"shn wi shu c",:"shn shn w ",:"shn ci nn sh",:"shn yn p mi",:"shn y xin k",:"shn yn chng xng",:"shn yo y wi",:"shn li chun sh",:"shn ji zo zhu",:"sh j wi sh",:"s l dn b",:"sng yn wi y",:"sng yn b x",:"sng t chu mi",:"sng h jun sh",:"sn zhn sn bi",:"sn w ling sh",:"sn rn wi zhng",:"sn ch ling cu",:"si jng fn sh",:"s xn gng sh",:"s so yng du",:"run hng xing t",:"r w gu zhng",:"r ti zh b",:"r l qi qng",:"r chng rn y",:"r shu tu sh",:"r qi r cu",:"r dng chn ti",:"ru b g bng",:"ru qng chu ti",:"rng m kung rng",:"r zhng wi sh",:"r yu shn chn",:"r xng yu xi",:"r xu yu g",:"r xng yu sh",:"rn d b j",:"rn yn j j",:"rn m gu yng",:"rn m y d",:"r o fn bng",:"jun lo yng w",:"q y yu ji",:"q yo ro gu",:"qing xng jn xing",:"qng q y qi",:"qng xin sh q",:"qng xin h c",:"qng du jing qu",:"qng chng do d",:"qng z p t",:"qng ln hi si",:"qn shu  mi",:"qn s zh ho",:"qi zh wi ji",:"qi sh do gn",:"qi l yn xn",:"qi jn de dng",:"qio z yn lng",:"qio f q zhng",:"jing zu ni sh",:"qing zh z su",:"qing s qing hu",:"qing sh z i",:"qing sh m jio",:"qing gng jng n",:"qing gu b sh",:"qing f bin h",:"qing r hu k",:"qing d y pn",:"qin xng to qng",:"qin yng dn ji",:"qin lio bi dng",:"q xi r y",:"q yn wi sh",:"ki t jn z",:"q x l q",:"q sh xin zhu",:"q wng sh ni",:"q tin kung d",:"p tin shui t",:"p xing n d",:"p jn li xi",:"p ji wi gu",:"p g wi yun",:"png pio png zhun",:"png tin j d",:"bng shng x q",:"png j j zhng",:"pn zu b sh",:"pin y zh c",:"p f wn shn",:"png lng po fng",:"fu bi kui l",:"png mi ho f",:"pn hu zh li",:"pn chn sh gu",:"n d nn li",:"nng y chu xio",:"nng gun tio xin",:"nng fn dio zh",:"nng m dn zhung",:"nin t wi xing",:"nin y sh ho",:"nin hu chu m",:"n b y ln",:"n r b z",:"nng zh wi sh",:"nng b chn gun",:"no zh wi q",:"nn jn y tu",:"nn d h t",:"nn mn ju sh",:"nn fn bi g",:"m zh n x",:"m yun xn tn",:"m tio xn zho",:"m ling y yng",:"m tu m no",:"m gn nio q",:"mu s chui chn",:"m y d y",:"m fn sh zh",:"m lng jun qi",:"m lng wn jio",:"m mn b zho",:"m b zhu bin",:"mng zhng zh dng",:"mng h zh yng",:"mng xio d yn",:"mng w g dng",:"mio ch kn sh",:"mng xu q cho",:"min l b ci",:"m yu ji y",:"m y tu sh",:"m lin hi g",:"mn shn l jng",:"mn dn h b",:"mi dn chn xng",:"mo mng ji jio",:"mo su du jng",:"mo f do sh",:"mi wn wi shng",:"mi l zun h",:"mi d hun zh",:"mn sn yun s",:"m r hu shn",:"lu p jing h",:"lu lu nn h",:"lu co wi ku",:"lu zh gu xin",:"lun fng h mng",:"shui yu ji zhng",:"shui t tng qng",:"shui shu sh rn",:"shui t gu xn",:"shui m y j",:"shui r chng zhng",:"l jn yn xu",:"lu jn gng ln",:"lng nio jin yun",:"lng nio ch y",:"lng yu q zho",:"lng xu xun hung",:"lng dio fng j",:"li ch zh tu",:"lng yun zh q",:"lng rn png f",:"lng jng cu l",:"ln d y jing",:"li shang y chung",:"li gun hu min",:"lio w j s",:"lio shn d mng",:"lio rn w wn",:"lio b k jin",:"lio b zhng jn",:"lio f cu k",:"shn sh du sh",:"ling xio l wi",:"xing sh du l",:"ling ru zh zo",:"ling r jing hi",:"ling jn mi f",:"ling j shn fn",:"lin g chu hn",:"l y wi zh",:"l lng zh hn",:"l gung b hu",:"l wi qng mo",:"l rng wi gu",:"l shng xng jio",:"l bn jio m",:"lng mi hng yn",:"li tin do d",:"li z chng b",:"li w ji shng",:"li t zh shn",:"li t j sh",:"li lun zh wi",:"li li r zh",:"li kui j s",:"l shn l shu",:"lo yun jn tin",:"lo sh xi r",:"lo sh g zi",:"lng hun f d",:"ku qng du l",:"kung r li sh",:"kung ji m fng",:"k sh shng hu",:"ku qng sh b",:"ku jio shng fng",:"ku jio chn fng",:"ku jio fng qng",:"ku gn sh jio",:"ku f zh li",:"kng f pin pin",:"k y lio zu",:"k m wi h",:"k zh tu y",:"k tu chng zh",:"kng yn wi sh",:"ki hu ji gu",:"jn bn yn ch",:"jio ti j jn",:"ju m pn zh",:"ju tu jing no",:"ju tu ju no",:"jun nio zh hun",:"jun x r zng",:"jun ji bi do",:"j m wi shn",:"j shu xing qng",:"j sh hn zhu",:"j wi mo co",:"j shn qin jing",:"j xi shn shng",:"ji yo b wng",:"ji zhun gng chng",:"ji zhng sn hn",:"jng y l qn",:"jng d xi m",:"jng q jun sh",:"jng j zi t",:"jn sh ki si",:"jn wi shng rng",:"jn tu xio chng",:"jn tu yng j",:"jn tu ch fn",:"jn tu b zh",:"jn du jn sho",:"jn nng hun sh",:"jn j z sh",:"jn gng f q",:"jn gun xin si",:"jn w b jn",:"jn ch bi hi",:"ji y y rn",:"ji rn nn d",:"ji lng x lng",:"ji f yng kung",:"ji q o qio",:"jio no shng m",:"jio shu ling fi",:"jio l ji ch",:"jio sh ln sh",:"jio r s n",:"jio fng b s",:"xing yo zhu gui",:"jing q g y",:"jing mn yu jing",:"jing du g y",:"jin hu lng h",:"jin yng du xng",:"jin b k zhng",:"xin s bo p",:"jin q y rn",:"jin s sh m",:"jin b zhng l",:"jin xin cng ch",:"jin zu b sh",:"ji gun tin xi",:"ji f zh qn",:"ji li qin jn",:"ji j rn z",:"ji do cng rng",:"ji di rn w",:"j fng lng yu",:"j xng y qng",:"j shn l yun",:"j gng ling zu",:"j shang lin y",:"j sh xing dio",:"j b k wi",:"j shn yn j",:"j bn yu y",:"j b tng jio",:"j s li ji",:"j sh li r",:"j l wi b",:"j d li gng",:"j chn mi g",:"j pi mo m",:"hu wi f xin",:"hu f xing y",:"hu jn gng ch",:"hn yng ln yng",:"hu zhu wi du",:"hu zhng wi du",:"hu gun li chng",:"hu mng p s",:"hu chun zhun du",:"hung ch do nng",:"hung gun co l",:"hung f r ch",:"hung f chu tio",:"hun zh fn b",:"hun nin zh s",:"hun nin qu lo",:"hui shang wi k",:"hu d hu wn",:"hu xio wi ji",:"hu f wi q",:"hu ch wi fng",:"hu bu lng dng",:"h xin wi chun",:"h l h zh",:"h li h q",:"h b j x",:"hu wi x d",:"hu d zi w",:"hng jin y gn",:"hng l lio f",:"hng shng j z",:"hng bu lng dng",:"hng qing yng du",:"hng n ln shng",:"hn hi nn tin",:"h f j p",:"h s gn l",:"h h hi gn",:"h yn yu s",:"h zng lin hng",:"ho ho shng shng",:"ho yng du hn",:"ho wn z y",:"ho wi sh dun",:"ho wn ju y",:"ho shng zh d",:"ho q shng y",:"ho  b tng",:"ho dn fi s",:"ho gn bo q",:"ho f b shung",:"hn sun lu p",:"hn yng j hu",:"hn h b mng",:"gu wi y shn",:"gu sh ln cu",:"gu xun j sh",:"gung wn xin sheng",:"gung lng sn ju",:"gun shn di l",:"gun j do sh",:"gu x wi mn",:"gu jin xin wn",:"gu g xing lin",:"g wn fn zho",:"g dio dn tn",:"g dio b tn",:"g y shn rn",:"gu h q rng",:"gu x hu gun",:"gu zho j y",:"gng zh bi gn",:"gng wi chn ch",:"gng shu r xing",:"gng jin su bi",:"gng b chn y",:"gng dio m f",:"gng xng gi w",:"gng p nn sh",:"gng lng mng ho",:"gng di gn b",:"gng chng di h",:"gng chng mng dun",:"g s mng yng",:"g g b n",:"g g b t",:"g shu x yng",:"go ch m m",:"go y b yn",:"gng tu z d",:"gn wi gn zu",:"gn fn su sh",:"gn ch xi li",:"gn t sh k",:"gn mng fn y",:"gn jing m y",:"gn chng zh jing",:"f zi w ch",:"f zhi z hun",:"f wi z yn",:"f sh zhng mn",:"f wi hu sh",:"f ho lu j",:"f shu l sh",:"f shu zh s",:"p zhng z ti",:"f tu zhu fn",:"fng wi ki m",:"fng m lun ",:"fng x xi sh",:"fng yng f yn",:"fng w b ji",:"fn t b r",:"fn fng p li",:"fi fi shng shng",:"fi sh b y",:"fi jing sh q",:"fng p xi ch",:"fng lng yun gun",:"fn r b jio",:"fn bn hun yun",:"fn lo wi y",:"f ln chng zhun",:"f b dng zu",:"f yn qin jn",:"f jin t f",:"f dun xn chng",:"r sh wi n",:"r n xn chng",:"r n qng ji",:" w yng shn",:" pio zhn j",:" pio zi do",:"w zu qing ji",:" y zhng shng",:"w sh j xi",:"w j xi li",:"w b q shn",:" hng du sh",:" jn kng yn",:"  shng shng",:" jn nio yn",:"du y d jio",:"du rn su ho",:"du yn shu qing",:"du wn wi f",:"du dun gu yo",:"du ci shn g",:"dn sh w mn",:"dn j hung gun",:"du n yng j",:"dun hun gu zng",:"dun jin b sh",:"d j q ch",:"du j y shng",:"d m wi sh",:"d jun t xu",:"d jn j yun",:"d yu qin qi",:"d sh d jin",:"du zhun shn hng",:"du d lin chng",:"dng jin zhng ji",:"dng y x h",:"dng zhng kun yo",:"dng mng x yng",:"dng ln x zho",:"dng ling x sh",:"dng ji x sh",:"dng ch x zhui",:"dng chng yu r",:"dng chng y sh",:"dng tu ln ln",:"di dng b j",:"di dn bn ji",:"dio xn yn zho",:"din do y chng",:"d b nng xin",:"d m sh z",:"do q f zh",:"do x pi kng",:"do zi gn g",:"do chng su lng",:"do gu wi yn",:"to zi zh j",:"to pi m zu",:"dng chi wi n",:"dng zhu ch zhng",:"dng zhu b zhu",:"dng w sh zhng",:"dn r nng m",:"tn wn tu shu",:"dn ji w y",:"dn s pio yn",:"d p b wn",:"d mng f d",:"d ch y zi",:"d mn h lu",:"t li zhng zh",:"cu hu lio yun",:"cu k d hng",:"cn j zh li",:"cu cu ch ch",:"cu zh ho qing",:"cu gng wi ru",:"cng s ji jin",:"c f b yng",:"c chng b h",:"c bi wi bn",:"chn sh pin j",:"chn sn n f",:"chu tu t y",:"chun wi xio tn",:"chun fng shn hu",:"chun hng zhu l",:"ch ch j li",:"ch zn j xin",:"ch tng yn qu",:"ch sh xio gng",:"ch go ln shn",:"ch r w jin",:"ch mn yng zh",:"ch ch y m",:"ch ch sh t",:"ch ch jn tu",:"chu shn mn hi",:"chng gun z li",:"ch y wi hu",:"ch r yun jia",:"ch dun cn chng",:"ch cn zh gng",:"chng bi x gng",:"chng bi xng fi",:"chn shu hu n",:"chng y do qng",:"chng t zi y",:"chn t ci y",:"chn ji yu w",:"chng d du gng",:"chn yn zhng j",:"chn yn b ju",:"chn k s j",:"ch qin l yn",:"ch shn fng q",:"ch zi chun zhung",:"zho shng m g",:"zho pn m sh",:"cho jn gun g",:"chng r b h",:"chng su y wi",:"chng hng b xi",:"zhng yu zn bi",:"chng shng j r",:"zhng nin sn lo",:"chng chn b lo",:"zhng o sh fi",:"chng tng l sh",:"chn x zhn n",:"ch sn cu s",:"cng ti li xi",:"cng xin di ch",:"cng zng ni j",:"cng yng jin xi",:"cn sng dn b",:"cn fng s xi",:"cn w cu zng",:"shn chn mo yu",:"ci yu gn j",:"ci b zh shui",:"ci d nn yng",:"ci b zh qin",:"b z wi y",:"b z wi j",:"b z wi f",:"b z ch sh",:"b zhu tng r",:"b zh dng dng",:"b yu li ch",:"b xing wi mu",:"b tn wi bo",:"b lio r lio",:"b k ku du",:"b hung q ch",:"b dng b zhng",:"b ch shn me",:"b ch li sh",:"b ling fn xng",:"b t yng sh",:"b w x g",:"b hn zhng rn",:"b wn yu l",:"b kng m m",:"b p chu jn",:"b f chu su",:"b zh yn wi",:"b hi yn zh",:"bng wi jing gu",:"bng qing jing yng",:"bng du jing gung",:"bng b yu jing",:"bng ji d p",:"bn bn j j",:"bio mi zh nin",:"bio l wi jin",:"bio f din j",:"bin tn l b",:"b gi b q",:"b yn mi shu",:"b w zh sh",:"p shn di h",:"p ji zhn g",:"p ji j n",:"p h hui y",:"p f yng gun",:"bi q yo gng",:"bi chung go w",:"bi chn xng gng",:"bi b zh yn",:"bi gng fi sh",:"p y l gun",:"p si lng mn",:"bo l wn xu",:"bo h png h",:"bo wn zhi gu",:"bo f ch sh",:"bo bin y du",:"bng xin zun ln",:"bi jing fng hu",:"bi shu shui w",:"bi kng qin chung",:"bi y qng xing",:"bi shu wi lng",:"bi shu xing zh",:"b wn w yn",:"b gu jun x",:"b bn s yun",:"o b k zhng",:"o gng shu y",:"n sh ch shn",:"n shn wi l",:"n lo hui sho",:"n b dng ch",:"i rn ho sh",:"i rn gun chng",:"i fng j fng",:"i shn s hi",:" ji  wng",:" dng xing wi",:"zhu wng zh bi",:"zh ln d shu",:"zh tng zho r",:"y b jng rn",:"y jn wi li",:"y r sn xng",:"xu j y ch",:"w j li shu",:"w shng w xi",:"wi y b xn",:"sh shn wi gu",:"sh q qi jing",:"qing zu ji rn",:"q chng du ni",:"ln shn l b",:"jn tin gung yu",:"jin nn ji ju",:"ji q ji b",:"hn hn  ",:"hu g b jn",:"gu p  rn",:"g m sh xin",:"f tu zhu fn",:"fng wi zh bo",:"dng tn bi jing",:"chn hn dng xng",:"ch ch wi mng",:"b wn qing zh",:"b nn ji y",:"lio w shng j",:"yu y shu y",:"d y w r",:"shu y b r",:"j y fn sn",:"sh y sh r",:"sh y jng bi",:"dng y mo r",:"dng y qu r",:"b y r zh",:"w y xng min",:"bio l b y",:"ling yu b y",:"xn ku b y",:"yn xng b y",:"zhng lng b y",:"cn c b y",:"fn fn b y",:"hu y b y",:"b y r sn",:"bi b y y",:"yn xng bo y",:"y bi xi y",:"bi chng ji y",:"png chng ji y",:"qun bi fng y",:"qn j h y",:"bi b hu y",:"bi b sh y",:"bi w sh y",:"wn b sh y",:"wn w sh y",:"h r wi y",:"h ling wi y",:"h r wi y",:"tin xi wi y",:"xing y wi y",:"jio ru hu y",:"jio r hu y",:"jio ru hu y",:"yn xng ru y",:"sh zhng ru y",:"zhng sh ru y",:"wi jng wi y",:"zhng du fi y",:"b nng zn y",:"wn y d sh",:"y b ni zhng",:"y y gun zh",:"y y dng bi",:"bi b dng y",:"sh b dng y",:"y y jng bi",:"y y fng bi",:"y y ch wn",:"y y zh wn",:"bi l tio y",:"zhng q hu y",:"y li r q",:"y l gng jio",:"y l q ch",:"y l b sh",:"zho cho zho lu",:"q y fng yng",:"y hng b xng",:"hng hng b xng"},dRe=Object.keys(_L).map(e=>({zh:e,pinyin:_L[e],probability:2e-8,length:4,priority:ga.Normal,dict:Symbol("dict4")})),wL={:"b r gn bn do",:"b r k sh h",:"b xng r yn zhng",:"b r sh wi k",:"h l r b wi",:"k zhng mng y h",:"mng d wi d y",:"mn y sh wi tin",:"sh hu zh g ling",:"w y x wi gu",:"xin xi shu wi qing",:"hng hng ch zhung yuan",:"y d l y hi",:"yn b jin wi jng",:"zh tng do du zi"},hRe=Object.keys(wL).map(e=>({zh:e,pinyin:wL[e],probability:2e-8,length:5,priority:ga.Normal,dict:Symbol("dict5")}));function jL(e,t){return e&&(e.decimal<t.decimal||e.decimal===t.decimal&&e.probability>t.probability)?e:t}function kL(e){e.probability<1e-300&&(e.probability*=1e300,e.decimal+=1)}function fRe(e){return e.priority===ga.Custom?-(e.length*e.length*100):e.priority===ga.Surname?-(e.length*e.length*10):0}function mRe(e,t){const n=[];let r=e.length-1,i=e[r];for(let s=t-1;s>=0;s--){const a=s+1>=t?{probability:1,decimal:0,patterns:[]}:n[s+1];for(;i&&i.index+i.length-1===s;){const c=i.index,u={probability:i.probability*a.probability,decimal:a.decimal+fRe(i),patterns:a.patterns,concatPattern:i};kL(u),n[c]=jL(n[c],u),i=e[--r]}const l={probability:1e-13*a.probability,decimal:0,patterns:a.patterns};kL(l),n[s]=jL(n[s],l),n[s].concatPattern&&(n[s].patterns=n[s].patterns.concat(n[s].concatPattern),n[s].concatPattern=void 0,delete n[s+1])}return n[0].patterns.reverse()}function SL(e,t){return e&&e.count<=t.count?e:t}function pRe(e){return e.priority===ga.Custom?-(e.length*e.length*1e5):e.priority===ga.Surname?-(e.length*e.length*100):1}function gRe(e,t){const n=[];let r=e.length-1,i=e[r];for(let s=t-1;s>=0;s--){const a=s+1>=t?{count:0,patterns:[]}:n[s+1];for(;i&&i.index+i.length-1===s;){const c=i.index,u={count:pRe(i)+a.count,patterns:a.patterns,concatPattern:i};n[c]=SL(n[c],u),i=e[--r]}const l={count:1+a.count,patterns:a.patterns};n[s]=SL(n[s],l),n[s].concatPattern&&(n[s].patterns=n[s].patterns.concat(n[s].concatPattern),n[s].concatPattern=void 0,delete n[s+1])}return n[0].patterns.reverse()}function yRe(e,t){return!(t.index+t.length<=e.index||t.priority>e.priority||t.priority===e.priority&&t.length>e.length)}function xRe(e){const t=[];for(let n=e.length-1;n>=0;){const{index:r}=e[n];let i=n-1;for(;i>=0&&yRe(e[n],e[i]);)i--;(i<0||e[i].index+e[i].length<=r)&&t.push(e[n]),n=i}return t.reverse()}var NL;(function(e){e[e.ReverseMaxMatch=1]="ReverseMaxMatch",e[e.MaxProbability=2]="MaxProbability",e[e.MinTokenization=3]="MinTokenization"})(NL||(NL={}));class CL{constructor(t,n="",r=""){this.children=new Map,this.fail=null,this.patterns=[],this.parent=t,this.prefix=n,this.key=r}}class vRe{constructor(){this.dictMap=new Map,this.queues=[],this.root=new CL(null)}build(t){this.buildTrie(t),this.buildFailPointer()}buildTrie(t){for(let n of t){const r=Z0(n.zh);let i=this.root;for(let s=0;s<r.length;s++){let a=r[s];if(!i.children.has(a)){const l=new CL(i,r.slice(0,s).join(""),a);i.children.set(a,l),this.addNodeToQueues(l)}i=i.children.get(a)}this.insertPattern(i.patterns,n),n.node=i,this.addPatternToDictMap(n)}}buildFailPointer(){let t=[],n=0;for(this.queues.forEach(r=>{t=t.concat(r)}),this.queues=[];t.length>n;){let r=t[n++],i=r.parent&&r.parent.fail,s=r.key;for(;i&&!i.children.has(s);)i=i.fail;i?r.fail=i.children.get(s):r.fail=this.root}}addPatternToDictMap(t){this.dictMap.has(t.dict)||this.dictMap.set(t.dict,new Set),this.dictMap.get(t.dict).add(t)}addNodeToQueues(t){this.queues[go(t.prefix)]||(this.queues[go(t.prefix)]=[]),this.queues[go(t.prefix)].push(t)}insertPattern(t,n){for(let r=t.length-1;r>=0;r--){const i=t[r];if(n.priority===i.priority&&n.probability>=i.probability)t[r+1]=i;else if(n.priority>i.priority)t[r+1]=i;else{t[r+1]=n;return}}t[0]=n}removeDict(t){this.dictMap.has(t)&&(this.dictMap.get(t).forEach(r=>{r.node.patterns=r.node.patterns.filter(i=>i!==r)}),this.dictMap.delete(t))}match(t,n){let r=this.root,i=[];const s=Z0(t);for(let a=0;a<s.length;a++){let l=s[a];for(;r!==null&&!r.children.has(l);)r=r.fail;if(r===null)r=this.root;else{r=r.children.get(l);const c=r.patterns.find(d=>n==="off"?d.priority!==ga.Surname:n==="head"?d.length-1-a===0:!0);c&&i.push(Object.assign(Object.assign({},c),{index:a-c.length+1}));let u=r.fail;for(;u!==null;){const d=u.patterns.find(h=>n==="off"?h.priority!==ga.Surname:n==="head"?h.length-1-a===0:!0);d&&i.push(Object.assign(Object.assign({},d),{index:a-d.length+1})),u=u.fail}}}return i}search(t,n,r=2){const i=this.match(t,n);return r===1?xRe(i):r===3?gRe(i,go(t)):mRe(i,go(t))}}const bRe=[...hRe,...dRe,...uRe,...cRe,...nRe,...lRe],pQ=new vRe;pQ.build(bRe);const _Re=new fQ,wRe=()=>_Re,Kp=e=>{const t=Ru.get(e);return t?t.split(" ")[0]:e},jRe=(e,t,n,r)=>{const i=pQ.search(e,n,r);let s=0;const a=Z0(e);for(let l=0;l<a.length;){const c=i[s];if(c&&l===c.index){if(c.length===1&&c.priority<=ga.Normal){const h=a[l];let m="";m=xL(h,a[l-1],a[l+1]),t[l]={origin:h,result:m,isZh:m!==h,originPinyin:m},l++,s++;continue}const u=c.pinyin.split(" ");let d=0;for(let h=0;h<c.length;h++){const m=Z0(c.zh);t[l+h]={origin:m[h],result:u[d]||"",isZh:!0,originPinyin:u[d]||""},d++}l+=c.length,s++}else{const u=a[l];let d="";d=xL(u,a[l-1],a[l+1]),t[l]={origin:u,result:d,isZh:d!==u,originPinyin:d},l++}}return{list:t,matches:i}},z1=e=>e.replace(/(|||)/g,"a").replace(/(|||)/g,"o").replace(/(|||)/g,"e").replace(/(|||)/g,"i").replace(/(|||)/g,"u").replace(/(|||)/g,"").replace(/(n|||)/g,"n").replace(/(m||m|m)/g,"m").replace(/(|||)/g,""),gQ=(e,t="off")=>{const n=wRe();let r=Ru.get(e)?Ru.get(e).split(" "):[];if(n.get(e))r=n.get(e).split(" ");else if(t!=="off"){const i=GO[e];i&&(r=[i].concat(r.filter(s=>s!==i)))}return r},kRe=(e,t="off")=>{let n=gQ(e,t);return n.length>0?n.map(r=>({origin:e,result:r,isZh:!0,originPinyin:r})):[{origin:e,result:e,isZh:!1,originPinyin:e}]},J0=(e,t)=>{const n=e.split(" "),r=[],i=[];for(let s of n)for(let a of QDe)if(s.startsWith(a)){let l=s.slice(a.length);XDe.indexOf(a)!==-1&&ZDe.indexOf(l)!==-1&&(l=JDe[l]),r.push(a),i.push(l);break}return t==="standard"&&r.forEach((s,a)=>{(s==="y"||s==="w")&&(r[a]="")}),{final:i.join(" "),initial:r.join(" ")}},e_=e=>{const{final:t}=J0(e);let n="",r="",i="";return eRe.indexOf(z1(t))!==-1?(n=t[0],r=t[1],i=t.slice(2)):(r=t[0]||"",i=t.slice(1)||""),{head:n,body:r,tail:i}},D1=e=>{const t=/(||||||n|m|)/,n=/(||||||||)/,r=/(|||||||m|)/,i=/(|||||||m|)/,s=/(a|o|e|i|u||)/,a=/(n|m)$/,l=[];return e.split(" ").forEach(u=>{t.test(u)?l.push("1"):n.test(u)?l.push("2"):r.test(u)?l.push("3"):i.test(u)?l.push("4"):s.test(u)||a.test(u)?l.push("0"):l.push("")}),l.join(" ")},SRe=(e,t)=>{const n=z1(e).split(" "),r=D1(t).split(" "),i=[];return n.forEach((s,a)=>{i.push(`${s}${r[a]}`)}),i.join(" ")},yQ=(e,t)=>{const n=[];return e.split(" ").forEach(i=>{n.push(t?i[0]:i)}),n.join(" ")},NRe=e=>typeof e!="string"?(console.error("The first param of pinyin is error: "+e+' is not assignable to type "string".'),!1):!0;function TS(e,t){return t instanceof RegExp?t.test(e):!0}const CRe=(e,t)=>{let n=t.nonZh;if(n==="removed")return e.filter(r=>r.isZh||!TS(r.origin,t.nonZhScope));if(n==="consecutive"){for(let r=e.length-2;r>=0;r--){const i=e[r],s=e[r+1];!i.isZh&&!s.isZh&&TS(i.origin,t.nonZhScope)&&TS(s.origin,t.nonZhScope)&&(i.origin+=s.origin,i.result+=s.result,s.delete=!0)}return e.filter(r=>!r.delete)}else return e},OL=(e,t)=>go(e)===1&&t.multiple?kRe(e,t.surname):!1,ORe=(e,t)=>{switch(t.pattern){case"pinyin":break;case"num":e.forEach(n=>{n.result=n.isZh?D1(n.result):""});break;case"initial":e.forEach(n=>{n.result=n.isZh?J0(n.result,t.initialPattern).initial:""});break;case"final":e.forEach(n=>{n.result=n.isZh?J0(n.result,t.initialPattern).final:""});break;case"first":e.forEach(n=>{n.result=yQ(n.result,n.isZh)});break;case"finalHead":e.forEach(n=>{n.result=n.isZh?e_(n.result).head:""});break;case"finalBody":e.forEach(n=>{n.result=n.isZh?e_(n.result).body:""});break;case"finalTail":e.forEach(n=>{n.result=n.isZh?e_(n.result).tail:""});break}},PRe=(e,t)=>{switch(t.toneType){case"symbol":break;case"none":e.forEach(n=>{n.isZh&&(n.result=z1(n.result))});break;case"num":{e.forEach(n=>{n.isZh&&(n.result=SRe(n.result,n.originPinyin))});break}}},ERe=(e,t)=>{t.v&&e.forEach(n=>{n.isZh&&(n.result=n.result.replace(//g,typeof t.v=="string"?t.v:"v"))})},MRe=(e,t,n)=>{if(t.multiple&&go(n)===1){let r="";e=e.filter(i=>{const s=i.result!==r;return r=i.result,s})}return t.type==="array"?e.map(r=>r.result):t.type==="all"?e.map(r=>{const i=r.isZh?r.result:"",{initial:s,final:a}=J0(i,t.initialPattern),{head:l,body:c,tail:u}=e_(i);let d=[];return i!==""&&(d=[i].concat(gQ(r.origin,t.surname).filter(h=>h!==i))),{origin:r.origin,pinyin:i,initial:s,final:a,first:yQ(r.result,r.isZh),finalHead:l,finalBody:c,finalTail:u,num:Number(D1(r.originPinyin)),isZh:r.isZh,polyphonic:d,inZhRange:!!Ru.get(r.origin),result:r.result}}):e.map(r=>r.result).join(t.separator)},TRe=(e,t)=>(t===!1&&e.forEach(n=>{n.origin===""?n.result=n.originPinyin="y":n.origin===""&&(n.result=n.originPinyin="b")}),e),ARe={pattern:"pinyin",toneType:"symbol",type:"string",multiple:!1,mode:"normal",removeNonZh:!1,nonZh:"spaced",v:!1,separator:" ",toneSandhi:!0,segmentit:2};function xQ(e,t){if(t=Object.assign(Object.assign({},ARe),t||{}),!NRe(e))return e;if(e==="")return t.type==="array"||t.type==="all"?[]:"";t.surname===void 0&&(t.mode==="surname"?t.surname="all":t.surname="off"),t.type==="all"&&(t.pattern="pinyin"),t.pattern==="num"&&(t.toneType="none"),t.removeNonZh&&(t.nonZh="removed");let r=Array(go(e)),{list:i}=jRe(e,r,t.surname,t.segmentit);return i=TRe(i,t.toneSandhi),i=CRe(i,t),OL(e,t)&&(i=OL(e,t)),ORe(i,t),PRe(i,t),ERe(i,t),MRe(i,t,e)}var QO;(function(e){e[e.AllSegment=1]="AllSegment",e[e.AllArray=2]="AllArray",e[e.AllString=3]="AllString",e[e.PinyinSegment=4]="PinyinSegment",e[e.PinyinArray=5]="PinyinArray",e[e.PinyinString=6]="PinyinString",e[e.ZhSegment=7]="ZhSegment",e[e.ZhArray=8]="ZhArray",e[e.ZhString=9]="ZhString"})(QO||(QO={}));QO.AllSegment;const Rf={fetch:()=>ze.get("/server/group/fetch"),save:e=>ze.post("/server/group/save",e),drop:e=>ze.post("/server/group/drop",{id:e})},t_={fetch:()=>ze.get("/server/route/fetch"),save:e=>ze.post("/server/route/save",e),drop:e=>ze.post("/server/route/drop",{id:e})},Wl={getNodes:()=>ze.get("/server/manage/getNodes"),getOptions:()=>ze.get("/server/manage/getOptions"),save:e=>ze.post("/server/manage/save",e),update:e=>ze.post("/server/manage/update",e),drop:e=>ze.post("/server/manage/drop",{id:e}),copy:e=>ze.post("/server/manage/copy",{id:e}),sort:e=>ze.post("/server/manage/sort",e)},zRe=e=>{if(e==null)return"";const t=Number(e);return!Number.isFinite(t)||t<=0?"":String(Math.trunc(t))},DRe=e=>zRe((e==null?void 0:e.code)??(e==null?void 0:e.node_id)),PL=e=>DRe(e)||(e?String(e.id):""),RRe=e=>String(e??"").replace(/\\/g,"\\\\").replace(/"/g,'\\"'),wp=e=>`"${RRe(e)}"`,AS=e=>String(e??"").trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_.-]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""),IRe=e=>{const t=String(e??"").trim().replace(/\s+/g,"");if(!t)return{ok:!1,clause:"",kind:"empty",normalized:""};if(/^\d+$/.test(t))return{ok:!0,clause:`--dport ${t}`,kind:"single",normalized:t};if(/^\d+[:-]\d+$/.test(t)){const[n,r]=t.split(/[:-]/);if(n===r)return{ok:!0,clause:`--dport ${n}`,kind:"single",normalized:n};const i=`${n}:${r}`;return{ok:!0,clause:`--dport ${i}`,kind:"range",normalized:i}}return/^\d+(,\d+)+$/.test(t)?{ok:!0,clause:`-m multiport --dports ${t}`,kind:"multiport",normalized:t}:{ok:!1,clause:"",kind:"invalid",normalized:t}};function LRe(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),s=c6(),[a,l]=f.useState(()=>localStorage.getItem("app_name")||"Xboard"),[c,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(""),[g,y]=f.useState(!1),[x,b]=f.useState([]),[w,v]=f.useState(""),[_,j]=f.useState(()=>localStorage.getItem("xboard_v2node_api_host")??s),[k,C]=f.useState(()=>localStorage.getItem("xboard_v2node_tls_cert_url")??""),[O,P]=f.useState(()=>localStorage.getItem("xboard_v2node_tls_key_url")??""),[M,A]=f.useState(!1),[R,B]=f.useState(()=>localStorage.getItem("xboard_v2node_other_command")??""),[F,U]=f.useState({server_token:"",server_pull_interval:"60",server_push_interval:"60",device_limit_mode:"0"}),L=f.useMemo(()=>{const K={server_token:F.server_token,server_pull_interval:Number(F.server_pull_interval),server_push_interval:Number(F.server_push_interval),device_limit_mode:Number(F.device_limit_mode)};return M&&(K.v2node_other_command=R),K},[F,R,M]),D=f.useMemo(()=>JSON.stringify(L),[L]),T=f.useCallback(async()=>{var K,ne;t.current&&(window.clearTimeout(t.current),t.current=null),u(!0),p("");try{const Z=(await Kn.fetch("server")).data.data.server||{},be=Object.prototype.hasOwnProperty.call(Z,"v2node_other_command"),Ie=be?String(Z.v2node_other_command??""):localStorage.getItem("xboard_v2node_other_command")??"",re={server_token:Z.server_token??"",server_pull_interval:String(Z.server_pull_interval??"60"),server_push_interval:String(Z.server_push_interval??"60"),device_limit_mode:String(Z.device_limit_mode??"0")};A(be),B(Ie),n.current=!0,r.current=JSON.stringify(be?{server_token:re.server_token,server_pull_interval:Number(re.server_pull_interval),server_push_interval:Number(re.server_push_interval),device_limit_mode:Number(re.device_limit_mode),v2node_other_command:Ie}:{server_token:re.server_token,server_pull_interval:Number(re.server_pull_interval),server_push_interval:Number(re.server_push_interval),device_limit_mode:Number(re.device_limit_mode)}),i.current="",U(re)}catch(Ce){console.error(Ce);const Z=((ne=(K=Ce==null?void 0:Ce.response)==null?void 0:K.data)==null?void 0:ne.message)||e("common.load_failed");p(Z),Q.error(Z)}finally{u(!1)}},[e]);f.useEffect(()=>{T()},[T]);const $=f.useCallback(async()=>{var K,ne;y(!0);try{const Z=(await Wl.getNodes()).data.data||[];b(Z),v(be=>be&&Z.some(Ie=>String(Ie.id)===String(be))?be:Z.length?String(Z[0].id):"")}catch(Ce){console.error(Ce),b([]),v(""),Q.error(((ne=(K=Ce==null?void 0:Ce.response)==null?void 0:K.data)==null?void 0:ne.message)||e("common.load_failed"))}finally{y(!1)}},[e]);f.useEffect(()=>{$()},[$]),f.useEffect(()=>{const K=()=>{const ne=String(localStorage.getItem("app_name")||"").trim();l(ne||"Xboard")};return K(),window.addEventListener("xboard:site_name_changed",K),()=>{window.removeEventListener("xboard:site_name_changed",K)}},[]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_api_host",_)},[_]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_tls_cert_url",k)},[k]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_tls_key_url",O)},[O]),f.useEffect(()=>{localStorage.setItem("xboard_v2node_other_command",R)},[R]);const G=f.useCallback(async(K,ne)=>{var Z,be;t.current&&(window.clearTimeout(t.current),t.current=null);const Ce=JSON.stringify(K);h(!0),p(e("common.saving"));try{await Kn.save(K),r.current=Ce,i.current="",p(e("common.saved")),ne!=null&&ne.silentSuccess||Q.success(e("common.saved"))}catch(Ie){console.error(Ie),i.current=Ce;const re=((be=(Z=Ie==null?void 0:Ie.response)==null?void 0:Z.data)==null?void 0:be.message)||e("common.save_failed");p(re),Q.error(re)}finally{h(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(c||d)&&D!==r.current&&D!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,G(L,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[c,L,D,G,d]);const ie=f.useMemo(()=>n.current?d?{label:e("common.saving"),className:"text-muted-foreground"}:D===r.current?{label:e("common.saved"),className:"text-green-600"}:D===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[D,d,e]),X=f.useMemo(()=>x.find(K=>String(K.id)===String(w)),[x,w]),se=f.useMemo(()=>PL(X),[X]),xe=f.useMemo(()=>{const K=xQ(String(a||"").trim()||"Xboard",{toneType:"none",nonZh:"consecutive",separator:"_",v:!0});return AS(K)||"xboard"},[a]),me=f.useMemo(()=>{if(!se)return"";const K=AS((X==null?void 0:X.type)||""),ne=AS(se),Z=["v2node",K,ne,xe].filter(Boolean).join("_").replace(/_+/g,"_");return Z.length>128?Z.slice(0,128):Z},[xe,se,X==null?void 0:X.type]),De=f.useMemo(()=>_.trim()||s,[_,s]),ge=f.useMemo(()=>String(F.server_token||"").trim(),[F.server_token]),Ve=f.useMemo(()=>k.trim(),[k]),oe=f.useMemo(()=>O.trim(),[O]),Pe=f.useMemo(()=>!!(Ve&&oe),[Ve,oe]),Y=f.useMemo(()=>!!((Ve||oe)&&!Pe),[Ve,oe,Pe]),te=f.useMemo(()=>{if(!se||!ge)return"";const K=[`docker run -d --name ${me} --restart unless-stopped --network host \\`,`  -e V2NODE_API_HOST=${wp(De)} \\`,`  -e V2NODE_NODE_ID=${wp(se)} \\`,`  -e V2NODE_API_KEY=${wp(ge)} \\`,'  -e V2NODE_TIMEOUT="15" \\'];return Pe&&(K.push(`  -e V2NODE_TLS_CERT_URL=${wp(Ve)} \\`),K.push(`  -e V2NODE_TLS_KEY_URL=${wp(oe)} \\`)),K.push("  ghcr.io/studycloud111/v2node:main"),K.join(`
`)},[De,ge,me,se,Ve,Pe,oe]),Ne=f.useMemo(()=>{if(!X||X.type!=="hysteria")return"";const K=IRe(X.port),ne=Number(X.server_port);if(!K.ok||!Number.isFinite(ne)||ne<=0)return"";const Ce=Math.trunc(ne);return K.kind==="single"&&K.normalized===String(Ce)?"":["# IPv4",`IFACE="$(ip -o -4 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE" ] && IFACE="eth0"',`iptables -t nat -C PREROUTING -i "$IFACE" -p udp ${K.clause} -j REDIRECT --to-ports ${Ce} 2>/dev/null || iptables -t nat -A PREROUTING -i "$IFACE" -p udp ${K.clause} -j REDIRECT --to-ports ${Ce}`,"","# IPv6",`IFACE6="$(ip -o -6 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE6" ] && IFACE6="$IFACE"',`ip6tables -t nat -C PREROUTING -i "$IFACE6" -p udp ${K.clause} -j REDIRECT --to-ports ${Ce} 2>/dev/null || ip6tables -t nat -A PREROUTING -i "$IFACE6" -p udp ${K.clause} -j REDIRECT --to-ports ${Ce}`].join(`
`)},[X]),Te=!!(te&&!Y),V=f.useCallback(async()=>{if(!Te)return;await fl(te)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},[Te,te,e]),ue=!!String(R||"").trim(),pe=f.useCallback(async()=>{if(!ue)return;await fl(R)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},[ue,R,e]),$e=!!Ne,Qe=f.useCallback(async()=>{if(!$e)return;await fl(Ne)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},[$e,Ne,e]);return o.jsxs("div",{className:"grid gap-4",children:[o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.api_settings")}),o.jsx(ha,{children:e("system.api_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[ie&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",ie.className),children:[e("common.autosave"),": ",ie.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:T,disabled:c,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",c&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>G(L),disabled:d,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.server_token"),htmlFor:"server_token",hint:e("system.server_token_hint"),children:o.jsx(J,{id:"server_token",type:"text",value:F.server_token,onChange:K=>U(ne=>({...ne,server_token:K.target.value}))})}),o.jsx(Ge,{label:e("system.device_limit_mode"),htmlFor:"device_limit_mode",hint:e("system.device_limit_mode_hint"),children:o.jsxs(it,{value:F.device_limit_mode,onValueChange:K=>U(ne=>({...ne,device_limit_mode:K})),children:[o.jsx(et,{id:"device_limit_mode",children:o.jsx(st,{placeholder:e("system.device_limit_mode")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:e("system.device_limit_mode_0")}),o.jsx(fe,{value:"1",children:e("system.device_limit_mode_1")})]})]})}),o.jsx(Ge,{label:e("system.server_pull_interval"),htmlFor:"server_pull_interval",hint:e("system.server_pull_interval_hint"),children:o.jsx(J,{id:"server_pull_interval",value:F.server_pull_interval,onChange:K=>U(ne=>({...ne,server_pull_interval:K.target.value}))})}),o.jsx(Ge,{label:e("system.server_push_interval"),htmlFor:"server_push_interval",hint:e("system.server_push_interval_hint"),children:o.jsx(J,{id:"server_push_interval",value:F.server_push_interval,onChange:K=>U(ne=>({...ne,server_push_interval:K.target.value}))})}),m&&o.jsx("div",{className:ae("pt-4 text-sm",m===e("common.saved")?"text-green-600":m===e("common.saving")?"text-muted-foreground":"text-red-600"),children:m})]})]}),o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.v2node_docker_command")}),o.jsx(ha,{children:e("system.v2node_docker_command_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:$,disabled:g,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",g&&"animate-spin")})}),o.jsxs(W,{variant:"outline",size:"sm",onClick:V,disabled:!Te,className:"h-8",children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("common.copy")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.v2node_docker_node"),htmlFor:"v2node_node",hint:e("system.v2node_docker_node_hint"),children:o.jsxs(it,{value:w,onValueChange:K=>v(K),children:[o.jsx(et,{id:"v2node_node",children:o.jsx(st,{placeholder:e("common.please_select")})}),o.jsx(tt,{children:x.length?x.map(K=>{const ne=PL(K);return o.jsxs(fe,{value:String(K.id),children:[K.name," (ID: ",ne,")"]},K.id)}):o.jsx(fe,{value:"__empty",disabled:!0,children:e("common.command_empty")})})]})}),o.jsx(Ge,{label:e("system.v2node_docker_container_name"),htmlFor:"v2node_container_name",hint:e("system.v2node_docker_container_name_hint"),children:o.jsx(J,{id:"v2node_container_name",value:me,readOnly:!0})}),o.jsx(Ge,{label:e("system.v2node_docker_api_host"),htmlFor:"v2node_api_host",hint:e("system.v2node_docker_api_host_hint"),children:o.jsx(J,{id:"v2node_api_host",value:_,onChange:K=>j(K.target.value),placeholder:s})}),o.jsx(Ge,{label:e("system.v2node_docker_tls_cert_url"),htmlFor:"v2node_tls_cert_url",hint:e("system.v2node_docker_tls_url_hint"),children:o.jsx(J,{id:"v2node_tls_cert_url",value:k,onChange:K=>C(K.target.value),placeholder:"https://example.com/cert.pem"})}),o.jsx(Ge,{label:e("system.v2node_docker_tls_key_url"),htmlFor:"v2node_tls_key_url",hint:e("system.v2node_docker_tls_url_hint"),children:o.jsx(J,{id:"v2node_tls_key_url",value:O,onChange:K=>P(K.target.value),placeholder:"https://example.com/key.pem"})}),Y&&o.jsx("div",{className:"pt-2 text-sm text-red-600",children:e("system.v2node_docker_tls_url_invalid")}),o.jsx(Ge,{label:e("system.v2node_other_command"),htmlFor:"v2node_other_command",hint:e("system.v2node_other_command_hint"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:pe,disabled:!ue,"aria-label":e("common.copy"),children:o.jsx(oi,{className:"h-4 w-4"})})}),o.jsx(gr,{id:"v2node_other_command",value:R,onChange:K=>B(K.target.value),rows:Math.max(6,R.split(`
`).length),className:"font-mono text-xs leading-relaxed",placeholder:e("system.v2node_other_command_placeholder")})]})}),o.jsx(Ge,{label:e("system.v2node_docker_command_label"),htmlFor:"v2node_docker_cmd",hint:e("system.v2node_docker_command_hint"),children:o.jsx(gr,{id:"v2node_docker_cmd",value:te||"",readOnly:!0,rows:Math.max(8,te.split(`
`).length),className:"font-mono text-xs leading-relaxed",placeholder:ge?"":e("system.v2node_docker_missing_token")})}),(X==null?void 0:X.type)==="hysteria"?o.jsx(Ge,{label:e("system.v2node_hy_port_forward_command"),htmlFor:"v2node_hy_port_forward_command",hint:e("system.v2node_hy_port_forward_command_hint"),children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex justify-end",children:o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-8 w-8",onClick:Qe,disabled:!$e,"aria-label":e("common.copy"),children:o.jsx(oi,{className:"h-4 w-4"})})}),o.jsx(gr,{id:"v2node_hy_port_forward_command",value:Ne||"",readOnly:!0,rows:Math.max(8,Ne?Ne.split(`
`).length:0),className:"font-mono text-xs leading-relaxed",placeholder:e("system.v2node_hy_port_forward_command_placeholder")})]})}):null]})]})]})}function $Re(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState([]),[p,g]=f.useState({email_template:"default",email_host:"",email_port:"",email_username:"",email_password:"",email_encryption:"",email_from_address:"",remind_mail_enable:!1}),y=f.useMemo(()=>({email_template:p.email_template,email_host:p.email_host,email_port:p.email_port,email_username:p.email_username,email_password:p.email_password,email_encryption:p.email_encryption,email_from_address:p.email_from_address,remind_mail_enable:p.remind_mail_enable}),[p]),x=f.useMemo(()=>JSON.stringify(y),[y]),b=f.useCallback(async()=>{var j,k,C;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const[O,P]=await Promise.all([Kn.fetch("email"),Kn.getEmailTemplates().catch(()=>null)]),M=O.data.data.email||{},A={email_template:M.email_template??"default",email_host:M.email_host??"",email_port:String(M.email_port??""),email_username:M.email_username??"",email_password:M.email_password??"",email_encryption:M.email_encryption??"",email_from_address:M.email_from_address??"",remind_mail_enable:!!M.remind_mail_enable};n.current=!0,r.current=JSON.stringify({email_template:A.email_template,email_host:A.email_host,email_port:A.email_port,email_username:A.email_username,email_password:A.email_password,email_encryption:A.email_encryption,email_from_address:A.email_from_address,remind_mail_enable:A.remind_mail_enable}),i.current="",g(A),(j=P==null?void 0:P.data)!=null&&j.data&&m(P.data.data)}catch(O){console.error(O);const P=((C=(k=O==null?void 0:O.response)==null?void 0:k.data)==null?void 0:C.message)||e("common.load_failed");d(P),Q.error(P)}finally{a(!1)}},[e]);f.useEffect(()=>{b()},[b]);const w=f.useCallback(async(j,k)=>{var O,P;t.current&&(window.clearTimeout(t.current),t.current=null);const C=JSON.stringify(j);c(!0),d(e("common.saving"));try{await Kn.save(j),r.current=C,i.current="",d(e("common.saved")),k!=null&&k.silentSuccess||Q.success(e("common.saved"))}catch(M){console.error(M),i.current=C;const A=((P=(O=M==null?void 0:M.response)==null?void 0:O.data)==null?void 0:P.message)||e("common.save_failed");d(A),Q.error(A)}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&x!==r.current&&x!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,w(y,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,y,x,w,l]);const v=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:x===r.current?{label:e("common.saved"),className:"text-green-600"}:x===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[x,l,e]),_=async()=>{var j,k;c(!0),d("");try{await Kn.testSendMail(),d(e("system.test_email_sent")),Q.success(e("system.test_email_sent"))}catch(C){console.error(C);const O=((k=(j=C==null?void 0:C.response)==null?void 0:j.data)==null?void 0:k.message)||e("system.test_email_failed");d(O),Q.error(O)}finally{c(!1)}};return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.smtp_settings")}),o.jsx(ha,{children:e("system.smtp_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[v&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",v.className),children:[e("common.autosave"),": ",v.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:b,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>w(y),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.email_template"),hint:e("system.email_template_hint"),children:o.jsxs(it,{value:p.email_template,onValueChange:j=>g(k=>({...k,email_template:j})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("system.email_template")})}),o.jsxs(tt,{children:[h.map(j=>o.jsx(fe,{value:j,children:j},j)),h.length===0&&o.jsx(fe,{value:"default",children:"default"})]})]})}),o.jsx(Ge,{label:e("system.smtp_host"),htmlFor:"host",hint:e("system.smtp_host_hint"),children:o.jsx(J,{id:"host",value:p.email_host,onChange:j=>g(k=>({...k,email_host:j.target.value})),placeholder:"smtp.gmail.com"})}),o.jsx(Ge,{label:e("system.smtp_port"),htmlFor:"port",hint:e("system.smtp_port_hint"),children:o.jsx(J,{id:"port",value:p.email_port,onChange:j=>g(k=>({...k,email_port:j.target.value})),placeholder:"587"})}),o.jsx(Ge,{label:e("system.smtp_username"),htmlFor:"user",hint:e("system.smtp_username_hint"),children:o.jsx(J,{id:"user",value:p.email_username,onChange:j=>g(k=>({...k,email_username:j.target.value})),placeholder:"user@example.com"})}),o.jsx(Ge,{label:e("system.smtp_password"),htmlFor:"pass",hint:e("system.smtp_password_hint"),children:o.jsx(J,{id:"pass",type:"password",value:p.email_password,onChange:j=>g(k=>({...k,email_password:j.target.value}))})}),o.jsx(Ge,{label:e("system.encryption"),hint:e("system.encryption_hint"),children:o.jsxs(it,{value:p.email_encryption||"none",onValueChange:j=>g(k=>({...k,email_encryption:j==="none"?"":j})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:"Select encryption"})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"tls",children:"TLS"}),o.jsx(fe,{value:"ssl",children:"SSL"}),o.jsx(fe,{value:"none",children:"None"})]})]})}),o.jsx(Ge,{label:e("system.sender_address"),htmlFor:"sender",hint:e("system.sender_address_hint"),children:o.jsx(J,{id:"sender",value:p.email_from_address,onChange:j=>g(k=>({...k,email_from_address:j.target.value})),placeholder:"noreply@example.com"})}),o.jsx(Ge,{label:e("system.remind_mail_enable"),htmlFor:"remind_mail_enable",hint:e("system.remind_mail_enable_hint"),children:o.jsx(Dt,{id:"remind_mail_enable",checked:p.remind_mail_enable,onCheckedChange:j=>g(k=>({...k,remind_mail_enable:j}))})}),o.jsx(Ge,{label:e("system.test_email"),hint:e("system.test_email_hint"),children:o.jsxs(W,{variant:"outline",onClick:_,disabled:l,className:"w-fit",children:[o.jsx(mE,{className:"h-4 w-4 mr-2"}),e("system.test_email")]})}),u&&o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")||u===e("system.test_email_sent")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function XO(){return XO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XO.apply(null,arguments)}function FRe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}let ZO=[],vQ=[];(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=0,n=0;t<e.length;t++)(t%2?vQ:ZO).push(n=n+e[t])})();function BRe(e){if(e<768)return!1;for(let t=0,n=ZO.length;;){let r=t+n>>1;if(e<ZO[r])n=r;else if(e>=vQ[r])t=r+1;else return!0;if(t==n)return!1}}function EL(e){return e>=127462&&e<=127487}const ML=8205;function qRe(e,t,n=!0,r=!0){return(n?bQ:WRe)(e,t,r)}function bQ(e,t,n){if(t==e.length)return t;t&&_Q(e.charCodeAt(t))&&wQ(e.charCodeAt(t-1))&&t--;let r=zS(e,t);for(t+=TL(r);t<e.length;){let i=zS(e,t);if(r==ML||i==ML||n&&BRe(i))t+=TL(i),r=i;else if(EL(i)){let s=0,a=t-2;for(;a>=0&&EL(zS(e,a));)s++,a-=2;if(s%2==0)break;t+=2}else break}return t}function WRe(e,t,n){for(;t>0;){let r=bQ(e,t-2,n);if(r<t)return r;t--}return 0}function zS(e,t){let n=e.charCodeAt(t);if(!wQ(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return _Q(r)?(n-55296<<10)+(r-56320)+65536:n}function _Q(e){return e>=56320&&e<57344}function wQ(e){return e>=55296&&e<56320}function TL(e){return e<65536?1:2}class vn{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,n,r){[t,n]=fm(this,t,n);let i=[];return this.decompose(0,t,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Jo.from(i,this.length-(n-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,n=this.length){[t,n]=fm(this,t,n);let r=[];return this.decompose(t,n,r,0),Jo.from(r,n-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let n=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),i=new mg(this),s=new mg(t);for(let a=n,l=n;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(t=1){return new mg(this,t)}iterRange(t,n=this.length){return new jQ(this,t,n)}iterLines(t,n){let r;if(t==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(t).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new kQ(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?vn.empty:t.length<=32?new jr(t):Jo.from(jr.split(t,[]))}}class jr extends vn{constructor(t,n=URe(t)){super(),this.text=t,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(t,n,r,i){for(let s=0;;s++){let a=this.text[s],l=i+a.length;if((n?r:l)>=t)return new VRe(i,l,r,a);i=l+1,r++}}decompose(t,n,r,i){let s=t<=0&&n>=this.length?this:new jr(AL(this.text,t,n),Math.min(n,this.length)-Math.max(0,t));if(i&1){let a=r.pop(),l=n_(s.text,a.text.slice(),0,s.length);if(l.length<=32)r.push(new jr(l,a.length+s.length));else{let c=l.length>>1;r.push(new jr(l.slice(0,c)),new jr(l.slice(c)))}}else r.push(s)}replace(t,n,r){if(!(r instanceof jr))return super.replace(t,n,r);[t,n]=fm(this,t,n);let i=n_(this.text,n_(r.text,AL(this.text,0,t)),n),s=this.length+r.length-(n-t);return i.length<=32?new jr(i,s):Jo.from(jr.split(i,[]),s)}sliceString(t,n=this.length,r=`
`){[t,n]=fm(this,t,n);let i="";for(let s=0,a=0;s<=n&&a<this.text.length;a++){let l=this.text[a],c=s+l.length;s>t&&a&&(i+=r),t<c&&n>s&&(i+=l.slice(Math.max(0,t-s),n-s)),s=c+1}return i}flatten(t){for(let n of this.text)t.push(n)}scanIdentical(){return 0}static split(t,n){let r=[],i=-1;for(let s of t)r.push(s),i+=s.length+1,r.length==32&&(n.push(new jr(r,i)),r=[],i=-1);return i>-1&&n.push(new jr(r,i)),n}}class Jo extends vn{constructor(t,n){super(),this.children=t,this.length=n,this.lines=0;for(let r of t)this.lines+=r.lines}lineInner(t,n,r,i){for(let s=0;;s++){let a=this.children[s],l=i+a.length,c=r+a.lines-1;if((n?c:l)>=t)return a.lineInner(t,n,r,i);i=l+1,r=c+1}}decompose(t,n,r,i){for(let s=0,a=0;a<=n&&s<this.children.length;s++){let l=this.children[s],c=a+l.length;if(t<=c&&n>=a){let u=i&((a<=t?1:0)|(c>=n?2:0));a>=t&&c<=n&&!u?r.push(l):l.decompose(t-a,n-a,r,u)}a=c+1}}replace(t,n,r){if([t,n]=fm(this,t,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],l=s+a.length;if(t>=s&&n<=l){let c=a.replace(t-s,n-s,r),u=this.lines-a.lines+c.lines;if(c.lines<u>>4&&c.lines>u>>6){let d=this.children.slice();return d[i]=c,new Jo(d,this.length-(n-t)+r.length)}return super.replace(s,l,c)}s=l+1}return super.replace(t,n,r)}sliceString(t,n=this.length,r=`
`){[t,n]=fm(this,t,n);let i="";for(let s=0,a=0;s<this.children.length&&a<=n;s++){let l=this.children[s],c=a+l.length;a>t&&s&&(i+=r),t<c&&n>a&&(i+=l.sliceString(t-a,n-a,r)),a=c+1}return i}flatten(t){for(let n of this.children)n.flatten(t)}scanIdentical(t,n){if(!(t instanceof Jo))return 0;let r=0,[i,s,a,l]=n>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==a||s==l)return r;let c=this.children[i],u=t.children[s];if(c!=u)return r+c.scanIdentical(u,n);r+=c.length+1}}static from(t,n=t.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let p of t)r+=p.lines;if(r<32){let p=[];for(let g of t)g.flatten(p);return new jr(p,n)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,l=[],c=0,u=-1,d=[];function h(p){let g;if(p.lines>s&&p instanceof Jo)for(let y of p.children)h(y);else p.lines>a&&(c>a||!c)?(m(),l.push(p)):p instanceof jr&&c&&(g=d[d.length-1])instanceof jr&&p.lines+g.lines<=32?(c+=p.lines,u+=p.length+1,d[d.length-1]=new jr(g.text.concat(p.text),g.length+1+p.length)):(c+p.lines>i&&m(),c+=p.lines,u+=p.length+1,d.push(p))}function m(){c!=0&&(l.push(d.length==1?d[0]:Jo.from(d,u)),u=-1,c=d.length=0)}for(let p of t)h(p);return m(),l.length==1?l[0]:new Jo(l,n)}}vn.empty=new jr([""],0);function URe(e){let t=-1;for(let n of e)t+=n.length+1;return t}function n_(e,t,n=0,r=1e9){for(let i=0,s=0,a=!0;s<e.length&&i<=r;s++){let l=e[s],c=i+l.length;c>=n&&(c>r&&(l=l.slice(0,r-i)),i<n&&(l=l.slice(n-i)),a?(t[t.length-1]+=l,a=!1):t.push(l)),i=c+1}return t}function AL(e,t,n){return n_(e,[""],t,n)}class mg{constructor(t,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof jr?t.text.length:t.children.length)<<1]}nextInner(t,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1,l=i instanceof jr?i.text.length:i.children.length;if(a==(n>0?l:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(i instanceof jr){let c=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,c.length>Math.max(0,t))return this.value=t==0?c:n>0?c.slice(t):c.slice(0,c.length-t),this;t-=c.length}else{let c=i.children[a+(n<0?-1:0)];t>c.length?(t-=c.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(n>0?1:(c instanceof jr?c.text.length:c.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class jQ{constructor(t,n,r){this.value="",this.done=!1,this.cursor=new mg(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(t,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class kQ{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:n,lineBreak:r,value:i}=this.inner.next(t);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(vn.prototype[Symbol.iterator]=function(){return this.iter()},mg.prototype[Symbol.iterator]=jQ.prototype[Symbol.iterator]=kQ.prototype[Symbol.iterator]=function(){return this});class VRe{constructor(t,n,r,i){this.from=t,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function fm(e,t,n){return t=Math.max(0,Math.min(e.length,t)),[t,Math.max(t,Math.min(e.length,n))]}function Wr(e,t,n=!0,r=!0){return qRe(e,t,n,r)}function HRe(e){return e>=56320&&e<57344}function KRe(e){return e>=55296&&e<56320}function Cs(e,t){let n=e.charCodeAt(t);if(!KRe(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return HRe(r)?(n-55296<<10)+(r-56320)+65536:n}function qT(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}function el(e){return e<65536?1:2}const JO=/\r\n?|\n/;var ns=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(ns||(ns={}));class ml{constructor(t){this.sections=t}get length(){let t=0;for(let n=0;n<this.sections.length;n+=2)t+=this.sections[n];return t}get newLength(){let t=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];t+=r<0?this.sections[n]:r}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],a=this.sections[n++];a<0?(t(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(t,n=!1){e2(this,t,n)}get invertedDesc(){let t=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new ml(t)}composeDesc(t){return this.empty?t:t.empty?this:SQ(this,t)}mapDesc(t,n=!1){return t.empty?this:t2(this,t,n)}mapPos(t,n=-1,r=ns.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let l=this.sections[a++],c=this.sections[a++],u=i+l;if(c<0){if(u>t)return s+(t-i);s+=l}else{if(r!=ns.Simple&&u>=t&&(r==ns.TrackDel&&i<t&&u>t||r==ns.TrackBefore&&i<t||r==ns.TrackAfter&&u>t))return null;if(u>t||u==t&&n<0&&!l)return t==i||n<0?s:s+c;s+=c}i=u}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return s}touchesRange(t,n=t){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],a=this.sections[r++],l=i+s;if(a>=0&&i<=n&&l>=t)return i<t&&l>n?"cover":!0;i=l}return!1}toString(){let t="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];t+=(t?" ":"")+r+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ml(t)}static create(t){return new ml(t)}}class Fr extends ml{constructor(t,n){super(t),this.inserted=n}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return e2(this,(n,r,i,s,a)=>t=t.replace(i,i+(r-n),a),!1),t}mapDesc(t,n=!1){return t2(this,t,n,!0)}invert(t){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let a=n[i],l=n[i+1];if(l>=0){n[i]=l,n[i+1]=a;let c=i>>1;for(;r.length<c;)r.push(vn.empty);r.push(a?t.slice(s,s+a):vn.empty)}s+=a}return new Fr(n,r)}compose(t){return this.empty?t:t.empty?this:SQ(this,t,!0)}map(t,n=!1){return t.empty?this:t2(this,t,n,!0)}iterChanges(t,n=!1){e2(this,t,n)}get desc(){return ml.create(this.sections)}filter(t){let n=[],r=[],i=[],s=new my(this);e:for(let a=0,l=0;;){let c=a==t.length?1e9:t[a++];for(;l<c||l==c&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,c-l);Fi(i,d,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;Fi(n,d,h),h>0&&mu(r,n,s.text),s.forward(d),l+=d}let u=t[a++];for(;l<u;){if(s.done)break e;let d=Math.min(s.len,u-l);Fi(n,d,-1),Fi(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),l+=d}}return{changes:new Fr(n,r),filtered:ml.create(i)}}toJSON(){let t=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?t.push(r):i==0?t.push([r]):t.push([r].concat(this.inserted[n>>1].toJSON()))}return t}static of(t,n,r){let i=[],s=[],a=0,l=null;function c(d=!1){if(!d&&!i.length)return;a<n&&Fi(i,n-a,-1);let h=new Fr(i,s);l=l?l.compose(h.map(l)):h,i=[],s=[],a=0}function u(d){if(Array.isArray(d))for(let h of d)u(h);else if(d instanceof Fr){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);c(),l=l?l.compose(d.map(l)):d}else{let{from:h,to:m=h,insert:p}=d;if(h>m||h<0||m>n)throw new RangeError(`Invalid change range ${h} to ${m} (in doc of length ${n})`);let g=p?typeof p=="string"?vn.of(p.split(r||JO)):p:vn.empty,y=g.length;if(h==m&&y==0)return;h<a&&c(),h>a&&Fi(i,h-a,-1),Fi(i,m-h,y),mu(s,i,g),a=m}}return u(t),c(!l),l}static empty(t){return new Fr(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<t.length;i++){let s=t[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,l)=>l&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(vn.empty);r[i]=vn.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new Fr(n,r)}static createSet(t,n){return new Fr(t,n)}}function Fi(e,t,n,r=!1){if(t==0&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:i>=0&&t==0&&e[i]==0?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function mu(e,t,n){if(n.length==0)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(vn.empty);e.push(n)}}function e2(e,t,n){let r=e.inserted;for(let i=0,s=0,a=0;a<e.sections.length;){let l=e.sections[a++],c=e.sections[a++];if(c<0)i+=l,s+=l;else{let u=i,d=s,h=vn.empty;for(;u+=l,d+=c,c&&r&&(h=h.append(r[a-2>>1])),!(n||a==e.sections.length||e.sections[a+1]<0);)l=e.sections[a++],c=e.sections[a++];t(i,u,s,d,h),i=u,s=d}}}function t2(e,t,n,r=!1){let i=[],s=r?[]:null,a=new my(e),l=new my(t);for(let c=-1;;){if(a.done&&l.len||l.done&&a.len)throw new Error("Mismatched change set lengths");if(a.ins==-1&&l.ins==-1){let u=Math.min(a.len,l.len);Fi(i,u,-1),a.forward(u),l.forward(u)}else if(l.ins>=0&&(a.ins<0||c==a.i||a.off==0&&(l.len<a.len||l.len==a.len&&!n))){let u=l.len;for(Fi(i,l.ins,-1);u;){let d=Math.min(a.len,u);a.ins>=0&&c<a.i&&a.len<=d&&(Fi(i,0,a.ins),s&&mu(s,i,a.text),c=a.i),a.forward(d),u-=d}l.next()}else if(a.ins>=0){let u=0,d=a.len;for(;d;)if(l.ins==-1){let h=Math.min(d,l.len);u+=h,d-=h,l.forward(h)}else if(l.ins==0&&l.len<d)d-=l.len,l.next();else break;Fi(i,u,c<a.i?a.ins:0),s&&c<a.i&&mu(s,i,a.text),c=a.i,a.forward(a.len-d)}else{if(a.done&&l.done)return s?Fr.createSet(i,s):ml.create(i);throw new Error("Mismatched change set lengths")}}}function SQ(e,t,n=!1){let r=[],i=n?[]:null,s=new my(e),a=new my(t);for(let l=!1;;){if(s.done&&a.done)return i?Fr.createSet(r,i):ml.create(r);if(s.ins==0)Fi(r,s.len,0,l),s.next();else if(a.len==0&&!a.done)Fi(r,0,a.ins,l),i&&mu(i,r,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let c=Math.min(s.len2,a.len),u=r.length;if(s.ins==-1){let d=a.ins==-1?-1:a.off?0:a.ins;Fi(r,c,d,l),i&&d&&mu(i,r,a.text)}else a.ins==-1?(Fi(r,s.off?0:s.len,c,l),i&&mu(i,r,s.textBit(c))):(Fi(r,s.off?0:s.len,a.off?0:a.ins,l),i&&!a.off&&mu(i,r,a.text));l=(s.ins>c||a.ins>=0&&a.len>c)&&(l||r.length>u),s.forward2(c),a.forward(c)}}}}class my{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length?vn.empty:t[n]}textBit(t){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!t?vn.empty:n[r].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Md{constructor(t,n,r){this.from=t,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,n=-1){let r,i;return this.empty?r=i=t.mapPos(this.from,n):(r=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Md(r,i,this.flags)}extend(t,n=t){if(t<=this.anchor&&n>=this.anchor)return Ee.range(t,n);let r=Math.abs(t-this.anchor)>Math.abs(n-this.anchor)?t:n;return Ee.range(this.anchor,r)}eq(t,n=!1){return this.anchor==t.anchor&&this.head==t.head&&(!n||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ee.range(t.anchor,t.head)}static create(t,n,r){return new Md(t,n,r)}}class Ee{constructor(t,n){this.ranges=t,this.mainIndex=n}map(t,n=-1){return t.empty?this:Ee.create(this.ranges.map(r=>r.map(t,n)),this.mainIndex)}eq(t,n=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(t.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ee([this.main],0)}addRange(t,n=!0){return Ee.create([t].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(t,n=this.mainIndex){let r=this.ranges.slice();return r[n]=t,Ee.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ee(t.ranges.map(n=>Md.fromJSON(n)),t.main)}static single(t,n=t){return new Ee([Ee.range(t,n)],0)}static create(t,n=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<t.length;i++){let s=t[i];if(s.empty?s.from<=r:s.from<r)return Ee.normalized(t.slice(),n);r=s.to}return new Ee(t,n)}static cursor(t,n=0,r,i){return Md.create(t,t,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(t,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<t?Md.create(n,t,48|s):Md.create(t,n,(n>t?8:0)|s)}static normalized(t,n=0){let r=t[n];t.sort((i,s)=>i.from-s.from),n=t.indexOf(r);for(let i=1;i<t.length;i++){let s=t[i],a=t[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let l=a.from,c=Math.max(s.to,a.to);i<=n&&n--,t.splice(--i,2,s.anchor>s.head?Ee.range(c,l):Ee.range(l,c))}}return new Ee(t,n)}}function NQ(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let WT=0;class pt{constructor(t,n,r,i,s){this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=WT++,this.default=t([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(t={}){return new pt(t.combine||(n=>n),t.compareInput||((n,r)=>n===r),t.compare||(t.combine?(n,r)=>n===r:UT),!!t.static,t.enables)}of(t){return new r_([],this,0,t)}compute(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new r_(t,this,1,n)}computeN(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new r_(t,this,2,n)}from(t,n){return n||(n=r=>r),this.compute([t],r=>n(r.field(t)))}}function UT(e,t){return e==t||e.length==t.length&&e.every((n,r)=>n===t[r])}class r_{constructor(t,n,r,i){this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=WT++}dynamicSlot(t){var n;let r=this.value,i=this.facet.compareInput,s=this.id,a=t[s]>>1,l=this.type==2,c=!1,u=!1,d=[];for(let h of this.dependencies)h=="doc"?c=!0:h=="selection"?u=!0:((n=t[h.id])!==null&&n!==void 0?n:1)&1||d.push(t[h.id]);return{create(h){return h.values[a]=r(h),1},update(h,m){if(c&&m.docChanged||u&&(m.docChanged||m.selection)||n2(h,d)){let p=r(h);if(l?!zL(p,h.values[a],i):!i(p,h.values[a]))return h.values[a]=p,1}return 0},reconfigure:(h,m)=>{let p,g=m.config.address[s];if(g!=null){let y=tw(m,g);if(this.dependencies.every(x=>x instanceof pt?m.facet(x)===h.facet(x):x instanceof Ei?m.field(x,!1)==h.field(x,!1):!0)||(l?zL(p=r(h),y,i):i(p=r(h),y)))return h.values[a]=y,0}else p=r(h);return h.values[a]=p,1}}}}function zL(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function n2(e,t){let n=!1;for(let r of t)pg(e,r)&1&&(n=!0);return n}function YRe(e,t,n){let r=n.map(c=>e[c.id]),i=n.map(c=>c.type),s=r.filter(c=>!(c&1)),a=e[t.id]>>1;function l(c){let u=[];for(let d=0;d<r.length;d++){let h=tw(c,r[d]);if(i[d]==2)for(let m of h)u.push(m);else u.push(h)}return t.combine(u)}return{create(c){for(let u of r)pg(c,u);return c.values[a]=l(c),1},update(c,u){if(!n2(c,s))return 0;let d=l(c);return t.compare(d,c.values[a])?0:(c.values[a]=d,1)},reconfigure(c,u){let d=n2(c,r),h=u.config.facets[t.id],m=u.facet(t);if(h&&!d&&UT(n,h))return c.values[a]=m,0;let p=l(c);return t.compare(p,m)?(c.values[a]=m,0):(c.values[a]=p,1)}}}const Uv=pt.define({static:!0});class Ei{constructor(t,n,r,i,s){this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(t){let n=new Ei(WT++,t.create,t.update,t.compare||((r,i)=>r===i),t);return t.provide&&(n.provides=t.provide(n)),n}create(t){let n=t.facet(Uv).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(t)}slot(t){let n=t[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>{let s=r.facet(Uv),a=i.facet(Uv),l;return(l=s.find(c=>c.field==this))&&l!=a.find(c=>c.field==this)?(r.values[n]=l.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(t){return[this,Uv.of({field:this,create:t})]}get extension(){return this}}const vd={lowest:4,low:3,default:2,high:1,highest:0};function jp(e){return t=>new CQ(t,e)}const Nh={highest:jp(vd.highest),high:jp(vd.high),default:jp(vd.default),low:jp(vd.low),lowest:jp(vd.lowest)};class CQ{constructor(t,n){this.inner=t,this.prec=n}}class R1{of(t){return new r2(this,t)}reconfigure(t){return R1.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class r2{constructor(t,n){this.compartment=t,this.inner=n}}class ew{constructor(t,n,r,i,s,a){for(this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(t){let n=this.address[t.id];return n==null?t.default:this.staticValues[n>>1]}static resolve(t,n,r){let i=[],s=Object.create(null),a=new Map;for(let m of GRe(t,n,a))m instanceof Ei?i.push(m):(s[m.facet.id]||(s[m.facet.id]=[])).push(m);let l=Object.create(null),c=[],u=[];for(let m of i)l[m.id]=u.length<<1,u.push(p=>m.slot(p));let d=r==null?void 0:r.config.facets;for(let m in s){let p=s[m],g=p[0].facet,y=d&&d[m]||[];if(p.every(x=>x.type==0))if(l[g.id]=c.length<<1|1,UT(y,p))c.push(r.facet(g));else{let x=g.combine(p.map(b=>b.value));c.push(r&&g.compare(x,r.facet(g))?r.facet(g):x)}else{for(let x of p)x.type==0?(l[x.id]=c.length<<1|1,c.push(x.value)):(l[x.id]=u.length<<1,u.push(b=>x.dynamicSlot(b)));l[g.id]=u.length<<1,u.push(x=>YRe(x,g,p))}}let h=u.map(m=>m(l));return new ew(t,a,h,l,c,s)}}function GRe(e,t,n){let r=[[],[],[],[],[]],i=new Map;function s(a,l){let c=i.get(a);if(c!=null){if(c<=l)return;let u=r[c].indexOf(a);u>-1&&r[c].splice(u,1),a instanceof r2&&n.delete(a.compartment)}if(i.set(a,l),Array.isArray(a))for(let u of a)s(u,l);else if(a instanceof r2){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=t.get(a.compartment)||a.inner;n.set(a.compartment,u),s(u,l)}else if(a instanceof CQ)s(a.inner,a.prec);else if(a instanceof Ei)r[l].push(a),a.provides&&s(a.provides,l);else if(a instanceof r_)r[l].push(a),a.facet.extensions&&s(a.facet.extensions,vd.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,l)}}return s(e,vd.default),r.reduce((a,l)=>a.concat(l))}function pg(e,t){if(t&1)return 2;let n=t>>1,r=e.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function tw(e,t){return t&1?e.config.staticValues[t>>1]:e.values[t>>1]}const OQ=pt.define(),i2=pt.define({combine:e=>e.some(t=>t),static:!0}),PQ=pt.define({combine:e=>e.length?e[0]:void 0,static:!0}),EQ=pt.define(),MQ=pt.define(),TQ=pt.define(),AQ=pt.define({combine:e=>e.length?e[0]:!1});class Ol{constructor(t,n){this.type=t,this.value=n}static define(){return new QRe}}class QRe{of(t){return new Ol(this,t)}}class XRe{constructor(t){this.map=t}of(t){return new Gt(this,t)}}class Gt{constructor(t,n){this.type=t,this.value=n}map(t){let n=this.type.map(this.value,t);return n===void 0?void 0:n==this.value?this:new Gt(this.type,n)}is(t){return this.type==t}static define(t={}){return new XRe(t.map||(n=>n))}static mapEffects(t,n){if(!t.length)return t;let r=[];for(let i of t){let s=i.map(n);s&&r.push(s)}return r}}Gt.reconfigure=Gt.define();Gt.appendConfig=Gt.define();class Ur{constructor(t,n,r,i,s,a){this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&NQ(r,n.newLength),s.some(l=>l.type==Ur.time)||(this.annotations=s.concat(Ur.time.of(Date.now())))}static create(t,n,r,i,s,a){return new Ur(t,n,r,i,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let n of this.annotations)if(n.type==t)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let n=this.annotation(Ur.userEvent);return!!(n&&(n==t||n.length>t.length&&n.slice(0,t.length)==t&&n[t.length]=="."))}}Ur.time=Ol.define();Ur.userEvent=Ol.define();Ur.addToHistory=Ol.define();Ur.remote=Ol.define();function ZRe(e,t){let n=[];for(let r=0,i=0;;){let s,a;if(r<e.length&&(i==t.length||t[i]>=e[r]))s=e[r++],a=e[r++];else if(i<t.length)s=t[i++],a=t[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function zQ(e,t,n){var r;let i,s,a;return n?(i=t.changes,s=Fr.empty(t.changes.length),a=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),s=e.changes.mapDesc(t.changes,!0),a=e.changes.compose(i)),{changes:a,selection:t.selection?t.selection.map(s):(r=e.selection)===null||r===void 0?void 0:r.map(i),effects:Gt.mapEffects(e.effects,i).concat(Gt.mapEffects(t.effects,s)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function s2(e,t,n){let r=t.selection,i=If(t.annotations);return t.userEvent&&(i=i.concat(Ur.userEvent.of(t.userEvent))),{changes:t.changes instanceof Fr?t.changes:Fr.of(t.changes||[],n,e.facet(PQ)),selection:r&&(r instanceof Ee?r:Ee.single(r.anchor,r.head)),effects:If(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function DQ(e,t,n){let r=s2(e,t.length?t[0]:{},e.doc.length);t.length&&t[0].filter===!1&&(n=!1);for(let s=1;s<t.length;s++){t[s].filter===!1&&(n=!1);let a=!!t[s].sequential;r=zQ(r,s2(e,t[s],a?r.changes.newLength:e.doc.length),a)}let i=Ur.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return eIe(n?JRe(i):i)}function JRe(e){let t=e.startState,n=!0;for(let i of t.facet(EQ)){let s=i(e);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:ZRe(n,s))}if(n!==!0){let i,s;if(n===!1)s=e.changes.invertedDesc,i=Fr.empty(t.doc.length);else{let a=e.changes.filter(n);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}e=Ur.create(t,i,e.selection&&e.selection.map(s),Gt.mapEffects(e.effects,s),e.annotations,e.scrollIntoView)}let r=t.facet(MQ);for(let i=r.length-1;i>=0;i--){let s=r[i](e);s instanceof Ur?e=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ur?e=s[0]:e=DQ(t,If(s),!1)}return e}function eIe(e){let t=e.startState,n=t.facet(TQ),r=e;for(let i=n.length-1;i>=0;i--){let s=n[i](e);s&&Object.keys(s).length&&(r=zQ(r,s2(t,s,e.changes.newLength),!0))}return r==e?e:Ur.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}const tIe=[];function If(e){return e==null?tIe:Array.isArray(e)?e:[e]}var tr=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(tr||(tr={}));const nIe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let a2;try{a2=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function rIe(e){if(a2)return a2.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||nIe.test(n)))return!0}return!1}function iIe(e){return t=>{if(!/\S/.test(t))return tr.Space;if(rIe(t))return tr.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return tr.Word;return tr.Other}}class dn{constructor(t,n,r,i,s,a){this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)pg(this,l<<1);this.computeSlot=null}field(t,n=!0){let r=this.config.address[t.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return pg(this,r),tw(this,r)}update(...t){return DQ(this,t,!0)}applyTransaction(t){let n=this.config,{base:r,compartments:i}=n;for(let l of t.effects)l.is(R1.reconfigure)?(n&&(i=new Map,n.compartments.forEach((c,u)=>i.set(u,c)),n=null),i.set(l.value.compartment,l.value.extension)):l.is(Gt.reconfigure)?(n=null,r=l.value):l.is(Gt.appendConfig)&&(n=null,r=If(r).concat(l.value));let s;n?s=t.startState.values.slice():(n=ew.resolve(r,i,this),s=new dn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(c,u)=>u.reconfigure(c,this),null).values);let a=t.startState.facet(i2)?t.newSelection:t.newSelection.asSingle();new dn(n,t.newDoc,a,s,(l,c)=>c.update(l,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:t},range:Ee.cursor(n.from+t.length)}))}changeByRange(t){let n=this.selection,r=t(n.ranges[0]),i=this.changes(r.changes),s=[r.range],a=If(r.effects);for(let l=1;l<n.ranges.length;l++){let c=t(n.ranges[l]),u=this.changes(c.changes),d=u.map(i);for(let m=0;m<l;m++)s[m]=s[m].map(d);let h=i.mapDesc(u,!0);s.push(c.range.map(h)),i=i.compose(d),a=Gt.mapEffects(a,d).concat(Gt.mapEffects(If(c.effects),h))}return{changes:i,selection:Ee.create(s,n.mainIndex),effects:a}}changes(t=[]){return t instanceof Fr?t:Fr.of(t,this.doc.length,this.facet(dn.lineSeparator))}toText(t){return vn.of(t.split(this.facet(dn.lineSeparator)||JO))}sliceDoc(t=0,n=this.doc.length){return this.doc.sliceString(t,n,this.lineBreak)}facet(t){let n=this.config.address[t.id];return n==null?t.default:(pg(this,n),tw(this,n))}toJSON(t){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let i=t[r];i instanceof Ei&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(t[r]),this))}return n}static fromJSON(t,n={},r){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(t,s)){let a=r[s],l=t[s];i.push(a.init(c=>a.spec.fromJSON(l,c)))}}return dn.create({doc:t.doc,selection:Ee.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(t={}){let n=ew.resolve(t.extensions||[],new Map),r=t.doc instanceof vn?t.doc:vn.of((t.doc||"").split(n.staticFacet(dn.lineSeparator)||JO)),i=t.selection?t.selection instanceof Ee?t.selection:Ee.single(t.selection.anchor,t.selection.head):Ee.single(0);return NQ(i,r.length),n.staticFacet(i2)||(i=i.asSingle()),new dn(n,r,i,n.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(dn.tabSize)}get lineBreak(){return this.facet(dn.lineSeparator)||`
`}get readOnly(){return this.facet(AQ)}phrase(t,...n){for(let r of this.facet(dn.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return n.length&&(t=t.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),t}languageDataAt(t,n,r=-1){let i=[];for(let s of this.facet(OQ))for(let a of s(this,n,r))Object.prototype.hasOwnProperty.call(a,t)&&i.push(a[t]);return i}charCategorizer(t){return iIe(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:n,from:r,length:i}=this.doc.lineAt(t),s=this.charCategorizer(t),a=t-r,l=t-r;for(;a>0;){let c=Wr(n,a,!1);if(s(n.slice(c,a))!=tr.Word)break;a=c}for(;l<i;){let c=Wr(n,l);if(s(n.slice(l,c))!=tr.Word)break;l=c}return a==l?null:Ee.range(a+r,l+r)}}dn.allowMultipleSelections=i2;dn.tabSize=pt.define({combine:e=>e.length?e[0]:4});dn.lineSeparator=PQ;dn.readOnly=AQ;dn.phrases=pt.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every(i=>e[i]==t[i])}});dn.languageData=OQ;dn.changeFilter=EQ;dn.transactionFilter=MQ;dn.transactionExtender=TQ;R1.reconfigure=Gt.define();function Pl(e,t,n={}){let r={};for(let i of e)for(let s of Object.keys(i)){let a=i[s],l=r[s];if(l===void 0)r[s]=a;else if(!(l===a||a===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](l,a);else throw new Error("Config merge conflict for field "+s)}for(let i in t)r[i]===void 0&&(r[i]=t[i]);return r}class Iu{eq(t){return this==t}range(t,n=t){return o2.create(t,n,this)}}Iu.prototype.startSide=Iu.prototype.endSide=0;Iu.prototype.point=!1;Iu.prototype.mapMode=ns.TrackDel;let o2=class RQ{constructor(t,n,r){this.from=t,this.to=n,this.value=r}static create(t,n,r){return new RQ(t,n,r)}};function l2(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class VT{constructor(t,n,r,i){this.from=t,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,n,r,i=0){let s=r?this.to:this.from;for(let a=i,l=s.length;;){if(a==l)return a;let c=a+l>>1,u=s[c]-t||(r?this.value[c].endSide:this.value[c].startSide)-n;if(c==a)return u>=0?a:l;u>=0?l=c:a=c+1}}between(t,n,r,i){for(let s=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(i(this.from[s]+t,this.to[s]+t,this.value[s])===!1)return!1}map(t,n){let r=[],i=[],s=[],a=-1,l=-1;for(let c=0;c<this.value.length;c++){let u=this.value[c],d=this.from[c]+t,h=this.to[c]+t,m,p;if(d==h){let g=n.mapPos(d,u.startSide,u.mapMode);if(g==null||(m=p=g,u.startSide!=u.endSide&&(p=n.mapPos(d,u.endSide),p<m)))continue}else if(m=n.mapPos(d,u.startSide),p=n.mapPos(h,u.endSide),m>p||m==p&&u.startSide>0&&u.endSide<=0)continue;(p-m||u.endSide-u.startSide)<0||(a<0&&(a=m),u.point&&(l=Math.max(l,p-m)),r.push(u),i.push(m-a),s.push(p-a))}return{mapped:r.length?new VT(i,s,r,l):null,pos:a}}}class an{constructor(t,n,r,i){this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(t,n,r,i){return new an(t,n,r,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let n of this.chunk)t+=n.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=t,a=t.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(l2)),this.isEmpty)return n.length?an.of(n):this;let l=new IQ(this,null,-1).goto(0),c=0,u=[],d=new kc;for(;l.value||c<n.length;)if(c<n.length&&(l.from-n[c].from||l.startSide-n[c].value.startSide)>=0){let h=n[c++];d.addInner(h.from,h.to,h.value)||u.push(h)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(c==n.length||this.chunkEnd(l.chunkIndex)<n[c].from)&&(!a||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&d.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!a||i>l.to||s<l.from||a(l.from,l.to,l.value))&&(d.addInner(l.from,l.to,l.value)||u.push(o2.create(l.from,l.to,l.value))),l.next());return d.finishInner(this.nextLayer.isEmpty&&!u.length?an.empty:this.nextLayer.update({add:u,filter:a,filterFrom:i,filterTo:s}))}map(t){if(t.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let l=this.chunkPos[a],c=this.chunk[a],u=t.touchesRange(l,l+c.length);if(u===!1)i=Math.max(i,c.maxPoint),n.push(c),r.push(t.mapPos(l));else if(u===!0){let{mapped:d,pos:h}=c.map(l,t);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(h))}}let s=this.nextLayer.map(t);return n.length==0?s:new an(r,n,s||an.empty,i)}between(t,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],a=this.chunk[i];if(n>=s&&t<=s+a.length&&a.between(s,t-s,n-s,r)===!1)return}this.nextLayer.between(t,n,r)}}iter(t=0){return py.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,n=0){return py.from(t).goto(n)}static compare(t,n,r,i,s=-1){let a=t.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),c=DL(a,l,r),u=new kp(a,c,s),d=new kp(l,c,s);r.iterGaps((h,m,p)=>RL(u,h,d,m,p,i)),r.empty&&r.length==0&&RL(u,0,d,0,0,i)}static eq(t,n,r=0,i){i==null&&(i=999999999);let s=t.filter(d=>!d.isEmpty&&n.indexOf(d)<0),a=n.filter(d=>!d.isEmpty&&t.indexOf(d)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let l=DL(s,a),c=new kp(s,l,0).goto(r),u=new kp(a,l,0).goto(r);for(;;){if(c.to!=u.to||!c2(c.active,u.active)||c.point&&(!u.point||!c.point.eq(u.point)))return!1;if(c.to>i)return!0;c.next(),u.next()}}static spans(t,n,r,i,s=-1){let a=new kp(t,null,s).goto(n),l=n,c=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let d=a.activeForPoint(a.to),h=a.pointFrom<n?d.length+1:a.point.startSide<0?d.length:Math.min(d.length,c);i.point(l,u,a.point,d,h,a.pointRank),c=Math.min(a.openEnd(u),d.length)}else u>l&&(i.span(l,u,a.active,c),c=a.openEnd(u));if(a.to>r)return c+(a.point&&a.to>r?1:0);l=a.to,a.next()}}static of(t,n=!1){let r=new kc;for(let i of t instanceof o2?[t]:n?sIe(t):t)r.add(i.from,i.to,i.value);return r.finish()}static join(t){if(!t.length)return an.empty;let n=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let i=t[r];i!=an.empty;i=i.nextLayer)n=new an(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}an.empty=new an([],[],null,-1);function sIe(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(l2(t,r)>0)return e.slice().sort(l2);t=r}return e}an.empty.nextLayer=an.empty;class kc{finishChunk(t){this.chunks.push(new VT(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new kc)).add(t,n,r)}addInner(t,n,r){let i=t-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-t)),!0)}addChunk(t,n){if((t-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(t);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+t,this.lastTo=n.to[r]+t,!0}finish(){return this.finishInner(an.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let n=an.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,n}}function DL(e,t,n){let r=new Map;for(let s of e)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of t)for(let a=0;a<s.chunk.length;a++){let l=r.get(s.chunk[a]);l!=null&&(n?n.mapPos(l):l)==s.chunkPos[a]&&!(n!=null&&n.touchesRange(l,l+s.chunk[a].length))&&i.add(s.chunk[a])}return i}class IQ{constructor(t,n,r,i=0){this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,n,!1),this}gotoInner(t,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,n){(this.to-t||this.endSide-n)<0&&this.gotoInner(t,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=t+n.from[this.rangeIndex];if(this.from=r,this.to=t+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class py{constructor(t){this.heap=t}static from(t,n=null,r=-1){let i=[];for(let s=0;s<t.length;s++)for(let a=t[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new IQ(a,n,r,s));return i.length==1?i[0]:new py(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,n=-1e9){for(let r of this.heap)r.goto(t,n);for(let r=this.heap.length>>1;r>=0;r--)DS(this.heap,r);return this.next(),this}forward(t,n){for(let r of this.heap)r.forward(t,n);for(let r=this.heap.length>>1;r>=0;r--)DS(this.heap,r);(this.to-t||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),DS(this.heap,0)}}}function DS(e,t){for(let n=e[t];;){let r=(t<<1)+1;if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class kp{constructor(t,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=py.from(t,n,r)}goto(t,n=-1e9){return this.cursor.goto(t,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=n,this.openStart=-1,this.next(),this}forward(t,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(t,n)}removeActive(t){Vv(this.active,t),Vv(this.activeTo,t),Vv(this.activeRank,t),this.minActive=IL(this.active,this.activeTo)}addActive(t){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Hv(this.active,n,r),Hv(this.activeTo,n,i),Hv(this.activeRank,n,s),t&&Hv(t,n,this.cursor.from),this.minActive=IL(this.active,this.activeTo)}next(){let t=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Vv(r,i)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<t;i--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(t){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)n++;return n}}function RL(e,t,n,r,i,s){e.goto(t),n.goto(r);let a=r+i,l=r,c=r-t;for(;;){let u=e.to+c-n.to,d=u||e.endSide-n.endSide,h=d<0?e.to+c:n.to,m=Math.min(h,a);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&c2(e.activeForPoint(e.to),n.activeForPoint(n.to))||s.comparePoint(l,m,e.point,n.point):m>l&&!c2(e.active,n.active)&&s.compareRange(l,m,e.active,n.active),h>a)break;(u||e.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(h),l=h,d<=0&&e.next(),d>=0&&n.next()}}function c2(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function Vv(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function Hv(e,t,n){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function IL(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Gm(e,t,n=e.length){let r=0;for(let i=0;i<n&&i<e.length;)e.charCodeAt(i)==9?(r+=t-r%t,i++):(r++,i=Wr(e,i));return r}function u2(e,t,n,r){for(let i=0,s=0;;){if(s>=t)return i;if(i==e.length)break;s+=e.charCodeAt(i)==9?n-s%n:1,i=Wr(e,i)}return r===!0?-1:e.length}const d2="",LL=typeof Symbol>"u"?"__"+d2:Symbol.for(d2),h2=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),$L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Lu{constructor(t,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,l,c,u){let d=[],h=/^@(\w+)\b/.exec(a[0]),m=h&&h[1]=="keyframes";if(h&&l==null)return c.push(a[0]+";");for(let p in l){let g=l[p];if(/&/.test(p))s(p.split(/,\s*/).map(y=>a.map(x=>y.replace(/&/,x))).reduce((y,x)=>y.concat(x)),g,c);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+p+") should be a primitive value.");s(i(p),g,d,m)}else g!=null&&d.push(p.replace(/_.*/,"").replace(/[A-Z]/g,y=>"-"+y.toLowerCase())+": "+g+";")}(d.length||m)&&c.push((r&&!h&&!u?a.map(r):a).join(", ")+" {"+d.join(" ")+"}")}for(let a in t)s(i(a),t[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=$L[LL]||1;return $L[LL]=t+1,d2+t.toString(36)}static mount(t,n,r){let i=t[h2],s=r&&r.nonce;i?s&&i.setNonce(s):i=new aIe(t,s),i.mount(Array.isArray(n)?n:[n],t)}}let FL=new Map;class aIe{constructor(t,n){let r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let s=FL.get(r);if(s)return t[h2]=s;this.sheet=new i.CSSStyleSheet,FL.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],t[h2]=this}mount(t,n){let r=this.sheet,i=0,s=0;for(let a=0;a<t.length;a++){let l=t[a],c=this.modules.indexOf(l);if(c<s&&c>-1&&(this.modules.splice(c,1),s--,c=-1),c==-1){if(this.modules.splice(s++,0,l),r)for(let u=0;u<l.rules.length;u++)r.insertRule(l.rules[u],i++)}else{for(;s<c;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let a="";for(let c=0;c<this.modules.length;c++)a+=this.modules[c].getRules()+`
`;this.styleTag.textContent=a;let l=n.head||n;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var $u={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},gy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},oIe=typeof navigator<"u"&&/Mac/.test(navigator.platform),lIe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var wi=0;wi<10;wi++)$u[48+wi]=$u[96+wi]=String(wi);for(var wi=1;wi<=24;wi++)$u[wi+111]="F"+wi;for(var wi=65;wi<=90;wi++)$u[wi]=String.fromCharCode(wi+32),gy[wi]=String.fromCharCode(wi);for(var RS in $u)gy.hasOwnProperty(RS)||(gy[RS]=$u[RS]);function cIe(e){var t=oIe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||lIe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?gy:$u)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Cn(){var e=arguments[0];typeof e=="string"&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?e.setAttribute(r,i):i!=null&&(e[r]=i)}t++}for(;t<arguments.length;t++)LQ(e,arguments[t]);return e}function LQ(e,t){if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var n=0;n<t.length;n++)LQ(e,t[n]);else throw new RangeError("Unsupported child node: "+t)}let Ji=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},f2=typeof document<"u"?document:{documentElement:{style:{}}};const m2=/Edge\/(\d+)/.exec(Ji.userAgent),$Q=/MSIE \d/.test(Ji.userAgent),p2=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ji.userAgent),I1=!!($Q||p2||m2),BL=!I1&&/gecko\/(\d+)/i.test(Ji.userAgent),IS=!I1&&/Chrome\/(\d+)/.exec(Ji.userAgent),uIe="webkitFontSmoothing"in f2.documentElement.style,g2=!I1&&/Apple Computer/.test(Ji.vendor),qL=g2&&(/Mobile\/\w+/.test(Ji.userAgent)||Ji.maxTouchPoints>2);var mt={mac:qL||/Mac/.test(Ji.platform),windows:/Win/.test(Ji.platform),linux:/Linux|X11/.test(Ji.platform),ie:I1,ie_version:$Q?f2.documentMode||6:p2?+p2[1]:m2?+m2[1]:0,gecko:BL,gecko_version:BL?+(/Firefox\/(\d+)/.exec(Ji.userAgent)||[0,0])[1]:0,chrome:!!IS,chrome_version:IS?+IS[1]:0,ios:qL,android:/Android\b/.test(Ji.userAgent),webkit_version:uIe?+(/\bAppleWebKit\/(\d+)/.exec(Ji.userAgent)||[0,0])[1]:0,safari:g2,safari_version:g2?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Ji.userAgent)||[0,0])[1]:0,tabSize:f2.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function HT(e,t){for(let n in e)n=="class"&&t.class?t.class+=" "+e.class:n=="style"&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}const nw=Object.create(null);function KT(e,t,n){if(e==t)return!0;e||(e=nw),t||(t=nw);let r=Object.keys(e),i=Object.keys(t);if(r.length-0!=i.length-0)return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||e[s]!==t[s]))return!1;return!0}function dIe(e,t){for(let n=e.attributes.length-1;n>=0;n--){let r=e.attributes[n].name;t[r]==null&&e.removeAttribute(r)}for(let n in t){let r=t[n];n=="style"?e.style.cssText=r:e.getAttribute(n)!=r&&e.setAttribute(n,r)}}function WL(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,i=="style"?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,i=="style"?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function hIe(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class El{eq(t){return!1}updateDOM(t,n){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var Ci=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Ci||(Ci={}));class $t extends Iu{constructor(t,n,r,i){super(),this.startSide=t,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(t){return new Ix(t)}static widget(t){let n=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return n+=r&&!t.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new dh(t,n,n,r,t.widget||null,!1)}static replace(t){let n=!!t.block,r,i;if(t.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=FQ(t,n);r=(s?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new dh(t,r,i,n,t.widget||null,!0)}static line(t){return new Lx(t)}static set(t,n=!1){return an.of(t,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}$t.none=an.empty;class Ix extends $t{constructor(t){let{start:n,end:r}=FQ(t);super(n?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.attrs=t.class&&t.attributes?HT(t.attributes,{class:t.class}):t.class?{class:t.class}:t.attributes||nw}eq(t){return this==t||t instanceof Ix&&this.tagName==t.tagName&&KT(this.attrs,t.attrs)}range(t,n=t){if(t>=n)throw new RangeError("Mark decorations may not be empty");return super.range(t,n)}}Ix.prototype.point=!1;class Lx extends $t{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof Lx&&this.spec.class==t.spec.class&&KT(this.spec.attributes,t.spec.attributes)}range(t,n=t){if(n!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,n)}}Lx.prototype.mapMode=ns.TrackBefore;Lx.prototype.point=!0;class dh extends $t{constructor(t,n,r,i,s,a){super(n,r,s,t),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?ns.TrackBefore:ns.TrackAfter:ns.TrackDel}get type(){return this.startSide!=this.endSide?Ci.WidgetRange:this.startSide<=0?Ci.WidgetBefore:Ci.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof dh&&fIe(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,n=t){if(this.isReplace&&(t>n||t==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,n)}}dh.prototype.point=!0;function FQ(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return n==null&&(n=e.inclusive),r==null&&(r=e.inclusive),{start:n??t,end:r??t}}function fIe(e,t){return e==t||!!(e&&t&&e.compare(t))}function Lf(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}class yy extends Iu{constructor(t,n){super(),this.tagName=t,this.attributes=n}eq(t){return t==this||t instanceof yy&&this.tagName==t.tagName&&KT(this.attributes,t.attributes)}static create(t){return new yy(t.tagName,t.attributes||nw)}static set(t,n=!1){return an.of(t,n)}}yy.prototype.startSide=yy.prototype.endSide=-1;function xy(e){let t;return e.nodeType==11?t=e.getSelection?e:e.ownerDocument:t=e,t.getSelection()}function y2(e,t){return t?e==t||e.contains(t.nodeType!=1?t.parentNode:t):!1}function i_(e,t){if(!t.anchorNode)return!1;try{return y2(e,t.anchorNode)}catch{return!1}}function gg(e){return e.nodeType==3?by(e,0,e.nodeValue.length).getClientRects():e.nodeType==1?e.getClientRects():[]}function yg(e,t,n,r){return n?UL(e,t,n,r,-1)||UL(e,t,n,r,1):!1}function Fu(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t}function rw(e){return e.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function UL(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Sc(e))){if(e.nodeName=="DIV")return!1;let s=e.parentNode;if(!s||s.nodeType!=1)return!1;t=Fu(e)+(i<0?0:1),e=s}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.nodeType==1&&e.contentEditable=="false")return!1;t=i<0?Sc(e):0}else return!1}}function Sc(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function vy(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function mIe(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function BQ(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function pIe(e,t,n,r,i,s,a,l){let c=e.ownerDocument,u=c.defaultView||window;for(let d=e,h=!1;d&&!h;)if(d.nodeType==1){let m,p=d==c.body,g=1,y=1;if(p)m=mIe(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(h=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let w=d.getBoundingClientRect();({scaleX:g,scaleY:y}=BQ(d,w)),m={left:w.left,right:w.left+d.clientWidth*g,top:w.top,bottom:w.top+d.clientHeight*y}}let x=0,b=0;if(i=="nearest")t.top<m.top?(b=t.top-(m.top+a),n>0&&t.bottom>m.bottom+b&&(b=t.bottom-m.bottom+a)):t.bottom>m.bottom&&(b=t.bottom-m.bottom+a,n<0&&t.top-b<m.top&&(b=t.top-(m.top+a)));else{let w=t.bottom-t.top,v=m.bottom-m.top;b=(i=="center"&&w<=v?t.top+w/2-v/2:i=="start"||i=="center"&&n<0?t.top-a:t.bottom-v+a)-m.top}if(r=="nearest"?t.left<m.left?(x=t.left-(m.left+s),n>0&&t.right>m.right+x&&(x=t.right-m.right+s)):t.right>m.right&&(x=t.right-m.right+s,n<0&&t.left<m.left+x&&(x=t.left-(m.left+s))):x=(r=="center"?t.left+(t.right-t.left)/2-(m.right-m.left)/2:r=="start"==l?t.left-s:t.right-(m.right-m.left)+s)-m.left,x||b)if(p)u.scrollBy(x,b);else{let w=0,v=0;if(b){let _=d.scrollTop;d.scrollTop+=b/y,v=(d.scrollTop-_)*y}if(x){let _=d.scrollLeft;d.scrollLeft+=x/g,w=(d.scrollLeft-_)*g}t={left:t.left-w,top:t.top-v,right:t.right-w,bottom:t.bottom-v},w&&Math.abs(w-x)<1&&(r="nearest"),v&&Math.abs(v-b)<1&&(i="nearest")}if(p)break;(t.top<m.top||t.bottom>m.bottom||t.left<m.left||t.right>m.right)&&(t={left:Math.max(t.left,m.left),right:Math.min(t.right,m.right),top:Math.max(t.top,m.top),bottom:Math.min(t.bottom,m.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function gIe(e){let t=e.ownerDocument,n,r;for(let i=e.parentNode;i&&!(i==t.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class yIe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:n,focusNode:r}=t;this.set(n,Math.min(t.anchorOffset,n?Sc(n):0),r,Math.min(t.focusOffset,r?Sc(r):0))}set(t,n,r,i){this.anchorNode=t,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let xd=null;mt.safari&&mt.safari_version>=26&&(xd=!1);function qQ(e){if(e.setActive)return e.setActive();if(xd)return e.focus(xd);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(xd==null?{get preventScroll(){return xd={preventScroll:!0},!0}}:void 0),!xd){xd=!1;for(let n=0;n<t.length;){let r=t[n++],i=t[n++],s=t[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let VL;function by(e,t,n=t){let r=VL||(VL=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function $f(e,t,n,r){let i={key:t,code:t,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,e.dispatchEvent(s);let a=new KeyboardEvent("keyup",i);return a.synthetic=!0,e.dispatchEvent(a),s.defaultPrevented||a.defaultPrevented}function xIe(e){for(;e;){if(e&&(e.nodeType==9||e.nodeType==11&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function vIe(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,Sc(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Sc(n))}else{if(n==e)return!0;r=Fu(n),n=n.parentNode}}function WQ(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function UQ(e,t){for(let n=e,r=t;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Sc(n)}else if(n.parentNode&&!rw(n))r=Fu(n),n=n.parentNode;else return null}}function VQ(e,t){for(let n=e,r=t;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!rw(n))r=Fu(n)+1,n=n.parentNode;else return null}}class bo{constructor(t,n,r=!0){this.node=t,this.offset=n,this.precise=r}static before(t,n){return new bo(t.parentNode,Fu(t),n)}static after(t,n){return new bo(t.parentNode,Fu(t)+1,n)}}var Mn=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Mn||(Mn={}));const hh=Mn.LTR,YT=Mn.RTL;function HQ(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const bIe=HQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),_Ie=HQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),x2=Object.create(null),Wo=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);x2[t]=n,x2[n]=-t}function KQ(e){return e<=247?bIe[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?_Ie[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const wIe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class sc{get dir(){return this.level%2?YT:hh}constructor(t,n,r){this.from=t,this.to=n,this.level=r}side(t,n){return this.dir==n==t?this.to:this.from}forward(t,n){return t==(this.dir==n)}static find(t,n,r,i){let s=-1;for(let a=0;a<t.length;a++){let l=t[a];if(l.from<=n&&l.to>=n){if(l.level==r)return a;(s<0||(i!=0?i<0?l.from<n:l.to>n:t[s].level>l.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}function YQ(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!YQ(r.inner,i.inner))return!1}return!0}const On=[];function jIe(e,t,n,r,i){for(let s=0;s<=r.length;s++){let a=s?r[s-1].to:t,l=s<r.length?r[s].from:n,c=s?256:i;for(let u=a,d=c,h=c;u<l;u++){let m=KQ(e.charCodeAt(u));m==512?m=d:m==8&&h==4&&(m=16),On[u]=m==4?2:m,m&7&&(h=m),d=m}for(let u=a,d=c,h=c;u<l;u++){let m=On[u];if(m==128)u<l-1&&d==On[u+1]&&d&24?m=On[u]=d:On[u]=256;else if(m==64){let p=u+1;for(;p<l&&On[p]==64;)p++;let g=u&&d==8||p<n&&On[p]==8?h==1?1:8:256;for(let y=u;y<p;y++)On[y]=g;u=p-1}else m==8&&h==1&&(On[u]=1);d=m,m&7&&(h=m)}}}function kIe(e,t,n,r,i){let s=i==1?2:1;for(let a=0,l=0,c=0;a<=r.length;a++){let u=a?r[a-1].to:t,d=a<r.length?r[a].from:n;for(let h=u,m,p,g;h<d;h++)if(p=x2[m=e.charCodeAt(h)])if(p<0){for(let y=l-3;y>=0;y-=3)if(Wo[y+1]==-p){let x=Wo[y+2],b=x&2?i:x&4?x&1?s:i:0;b&&(On[h]=On[Wo[y]]=b),l=y;break}}else{if(Wo.length==189)break;Wo[l++]=h,Wo[l++]=m,Wo[l++]=c}else if((g=On[h])==2||g==1){let y=g==i;c=y?0:1;for(let x=l-3;x>=0;x-=3){let b=Wo[x+2];if(b&2)break;if(y)Wo[x+2]|=2;else{if(b&4)break;Wo[x+2]|=4}}}}}function SIe(e,t,n,r){for(let i=0,s=r;i<=n.length;i++){let a=i?n[i-1].to:e,l=i<n.length?n[i].from:t;for(let c=a;c<l;){let u=On[c];if(u==256){let d=c+1;for(;;)if(d==l){if(i==n.length)break;d=n[i++].to,l=i<n.length?n[i].from:t}else if(On[d]==256)d++;else break;let h=s==1,m=(d<t?On[d]:r)==1,p=h==m?h?1:2:r;for(let g=d,y=i,x=y?n[y-1].to:e;g>c;)g==x&&(g=n[--y].from,x=y?n[y-1].to:e),On[--g]=p;c=d}else s=u,c++}}}function v2(e,t,n,r,i,s,a){let l=r%2?2:1;if(r%2==i%2)for(let c=t,u=0;c<n;){let d=!0,h=!1;if(u==s.length||c<s[u].from){let y=On[c];y!=l&&(d=!1,h=y==16)}let m=!d&&l==1?[]:null,p=d?r:r+1,g=c;e:for(;;)if(u<s.length&&g==s[u].from){if(h)break e;let y=s[u];if(!d)for(let x=y.to,b=u+1;;){if(x==n)break e;if(b<s.length&&s[b].from==x)x=s[b++].to;else{if(On[x]==l)break e;break}}if(u++,m)m.push(y);else{y.from>c&&a.push(new sc(c,y.from,p));let x=y.direction==hh!=!(p%2);b2(e,x?r+1:r,i,y.inner,y.from,y.to,a),c=y.to}g=y.to}else{if(g==n||(d?On[g]!=l:On[g]==l))break;g++}m?v2(e,c,g,r+1,i,m,a):c<g&&a.push(new sc(c,g,p)),c=g}else for(let c=n,u=s.length;c>t;){let d=!0,h=!1;if(!u||c>s[u-1].to){let y=On[c-1];y!=l&&(d=!1,h=y==16)}let m=!d&&l==1?[]:null,p=d?r:r+1,g=c;e:for(;;)if(u&&g==s[u-1].to){if(h)break e;let y=s[--u];if(!d)for(let x=y.from,b=u;;){if(x==t)break e;if(b&&s[b-1].to==x)x=s[--b].from;else{if(On[x-1]==l)break e;break}}if(m)m.push(y);else{y.to<c&&a.push(new sc(y.to,c,p));let x=y.direction==hh!=!(p%2);b2(e,x?r+1:r,i,y.inner,y.from,y.to,a),c=y.from}g=y.from}else{if(g==t||(d?On[g-1]!=l:On[g-1]==l))break;g--}m?v2(e,g,c,r+1,i,m,a):g<c&&a.push(new sc(g,c,p)),c=g}}function b2(e,t,n,r,i,s,a){let l=t%2?2:1;jIe(e,i,s,r,l),kIe(e,i,s,r,l),SIe(i,s,r,l),v2(e,i,s,t,n,r,a)}function NIe(e,t,n){if(!e)return[new sc(0,0,t==YT?1:0)];if(t==hh&&!n.length&&!wIe.test(e))return GQ(e.length);if(n.length)for(;e.length>On.length;)On[On.length]=256;let r=[],i=t==hh?0:1;return b2(e,i,i,n,0,e.length,r),r}function GQ(e){return[new sc(0,e,0)]}let QQ="";function CIe(e,t,n,r,i){var s;let a=r.head-e.from,l=sc.find(t,a,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),c=t[l],u=c.side(i,n);if(a==u){let m=l+=i?1:-1;if(m<0||m>=t.length)return null;c=t[l=m],a=c.side(!i,n),u=c.side(i,n)}let d=Wr(e.text,a,c.forward(i,n));(d<c.from||d>c.to)&&(d=u),QQ=e.text.slice(Math.min(a,d),Math.max(a,d));let h=l==(i?t.length-1:0)?null:t[l+(i?1:-1)];return h&&d==u&&h.level+(i?0:1)<c.level?Ee.cursor(h.side(!i,n)+e.from,h.forward(i,n)?1:-1,h.level):Ee.cursor(d+e.from,c.forward(i,n)?-1:1,c.level)}function OIe(e,t,n){for(let r=t;r<n;r++){let i=KQ(e.charCodeAt(r));if(i==1)return hh;if(i==2||i==4)return YT}return hh}const XQ=pt.define(),ZQ=pt.define(),JQ=pt.define(),eX=pt.define(),_2=pt.define(),tX=pt.define(),nX=pt.define(),GT=pt.define(),QT=pt.define(),rX=pt.define({combine:e=>e.some(t=>t)}),iX=pt.define({combine:e=>e.some(t=>t)}),sX=pt.define();class Ff{constructor(t,n="nearest",r="nearest",i=5,s=5,a=!1){this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=a}map(t){return t.empty?this:new Ff(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Ff(Ee.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Kv=Gt.define({map:(e,t)=>e.map(t)}),aX=Gt.define();function zs(e,t,n){let r=e.facet(eX);r.length?r[0](t):window.onerror&&window.onerror(String(t),n,void 0,void 0,t)||(n?console.error(n+":",t):console.error(t))}const Xl=pt.define({combine:e=>e.length?e[0]:!0});let PIe=0;const bf=pt.define({combine(e){return e.filter((t,n)=>{for(let r=0;r<n;r++)if(e[r].plugin==t.plugin)return!1;return!0})}});class Sr{constructor(t,n,r,i,s){this.id=t,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(bf.of({plugin:this,arg:void 0}))}of(t){return this.baseExtensions.concat(bf.of({plugin:this,arg:t}))}static define(t,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:a}=n||{};return new Sr(PIe++,t,r,i,l=>{let c=[];return a&&c.push(_y.of(u=>{let d=u.plugin(l);return d?a(d):$t.none})),s&&c.push(s(l)),c})}static fromClass(t,n){return Sr.define((r,i)=>new t(r,i),n)}}class LS{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(t){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(zs(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(t,this.spec.arg)}catch(n){zs(t.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){zs(t.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const oX=pt.define(),XT=pt.define(),_y=pt.define(),lX=pt.define(),cX=pt.define(),$x=pt.define(),uX=pt.define();function HL(e,t){let n=e.state.facet(uX);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(e):s),i=[];return an.spans(r,t.from,t.to,{point(){},span(s,a,l,c){let u=s-t.from,d=a-t.from,h=i;for(let m=l.length-1;m>=0;m--,c--){let p=l[m].spec.bidiIsolate,g;if(p==null&&(p=OIe(t.text,u,d)),c>0&&h.length&&(g=h[h.length-1]).to==u&&g.direction==p)g.to=d,h=g.inner;else{let y={from:u,to:d,direction:p,inner:[]};h.push(y),h=y.inner}}}}),i}const dX=pt.define();function ZT(e){let t=0,n=0,r=0,i=0;for(let s of e.state.facet(dX)){let a=s(e);a&&(a.left!=null&&(t=Math.max(t,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:t,right:n,top:r,bottom:i}}const Yp=pt.define();class Aa{constructor(t,n,r,i){this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}join(t){return new Aa(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let n=t.length,r=this;for(;n>0;n--){let i=t[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),t.splice(n-1,1)}}return t.splice(n,0,r),t}static extendWithRanges(t,n){if(n.length==0)return t;let r=[];for(let i=0,s=0,a=0;;){let l=i<t.length?t[i].fromB:1e9,c=s<n.length?n[s]:1e9,u=Math.min(l,c);if(u==1e9)break;let d=u+a,h=u,m=d;for(;;)if(s<n.length&&n[s]<=h){let p=n[s+1];s+=2,h=Math.max(h,p);for(let g=i;g<t.length&&t[g].fromB<=h;g++)a=t[g].toA-t[g].toB;m=Math.max(m,p+a)}else if(i<t.length&&t[i].fromB<=h){let p=t[i++];h=Math.max(h,p.toB),m=Math.max(m,p.toA),a=p.toA-p.toB}else break;r.push(new Aa(d,m,u,h))}return r}}class iw{constructor(t,n,r){this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=Fr.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,l,c)=>i.push(new Aa(s,a,l,c))),this.changedRanges=i}static create(t,n,r){return new iw(t,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const EIe=[];class Vr{constructor(t,n,r=0){this.dom=t,this.length=n,this.flags=r,this.parent=null,t.cmTile=this}get breakAfter(){return this.flags&1}get children(){return EIe}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(t){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&dIe(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(t){this.dom=t,t.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t,n=this.posAtStart){let r=n;for(let i of this.children){if(i==t)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}covers(t){return!0}coordsIn(t,n){return null}domPosFor(t,n){let r=Fu(this.dom),i=this.length?t>0:n>0;return new bo(this.parent.dom,r+(i?1:0),t==0||t==this.length)}markDirty(t){this.flags&=-3,t&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let t=this;t;t=t.parent)if(t instanceof $1)return t;return null}static get(t){return t.cmTile}}class L1 extends Vr{constructor(t){super(t,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(t){this.children.push(t),t.parent=this}sync(t){if(this.flags&2)return;super.sync(t);let n=this.dom,r=null,i,s=(t==null?void 0:t.node)==n?t:null,a=0;for(let l of this.children){if(l.sync(t),a+=l.length+l.breakAfter,i=r?r.nextSibling:n.firstChild,s&&i!=l.dom&&(s.written=!0),l.dom.parentNode==n)for(;i&&i!=l.dom;)i=KL(i);else n.insertBefore(l.dom,i);r=l.dom}for(i=r?r.nextSibling:n.firstChild,s&&i&&(s.written=!0);i;)i=KL(i);this.length=a}}function KL(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class $1 extends L1{constructor(t,n){super(n),this.view=t}owns(t){for(;t;t=t.parent)if(t==this)return!0;return!1}isBlock(){return!0}nearest(t){for(;;){if(!t)return null;let n=Vr.get(t);if(n&&this.owns(n))return n;t=t.parentNode}}blockTiles(t){for(let n=[],r=this,i=0,s=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&s++,i=n.pop()}else{let a=r.children[i++];if(a instanceof Nu)n.push(i),r=a,i=0;else{let l=s+a.length,c=t(a,s);if(c!==void 0)return c;s=l+a.breakAfter}}}resolveBlock(t,n){let r,i=-1,s,a=-1;if(this.blockTiles((l,c)=>{let u=c+l.length;if(t>=c&&t<=u){if(l.isWidget()&&n>=-1&&n<=1){if(l.flags&32)return!0;l.flags&16&&(r=void 0)}(c<t||t==u&&(n<-1?l.length:l.covers(1)))&&(!r||!l.isWidget()&&r.isWidget())&&(r=l,i=t-c),(u>t||t==c&&(n>1?l.length:l.covers(-1)))&&(!s||!l.isWidget()&&s.isWidget())&&(s=l,a=t-c)}}),!r&&!s)throw new Error("No tile at position "+t);return r&&n<0||!s?{tile:r,offset:i}:{tile:s,offset:a}}}class Nu extends L1{constructor(t,n){super(t),this.wrapper=n}isBlock(){return!0}covers(t){return this.children.length?t<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(t,n){let r=new Nu(n||document.createElement(t.tagName),t);return n||(r.flags|=4),r}}class mm extends L1{constructor(t,n){super(t),this.attrs=n}isLine(){return!0}static start(t,n,r){let i=new mm(n||document.createElement("div"),t);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(t,n,r){let i=null,s=-1,a=null,l=-1;function c(d,h){for(let m=0,p=0;m<d.children.length&&p<=h;m++){let g=d.children[m],y=p+g.length;y>=h&&(g.isComposite()?c(g,h-p):(!a||a.isHidden&&(n>0||r&&TIe(a,g)))&&(y>h||g.flags&32)?(a=g,l=h-p):(p<h||g.flags&16&&!g.isHidden)&&(i=g,s=h-p)),p=y}}c(this,t);let u=(n<0?i:a)||i||a;return u?{tile:u,offset:u==i?s:l}:null}coordsIn(t,n){let r=this.resolveInline(t,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):MIe(this)}domIn(t,n){let r=this.resolveInline(t,n);if(r){let{tile:i,offset:s}=r;if(this.dom.contains(i.dom))return i.isText()?new bo(i.dom,Math.min(i.dom.nodeValue.length,s)):i.domPosFor(s,i.flags&16?1:i.flags&32?-1:n);let a=r.tile.parent,l=!1;for(let c of a.children){if(l)return new bo(c.dom,0);c==r.tile&&(l=!0)}}return new bo(this.dom,0)}}function MIe(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=gg(t);return n[n.length-1]||null}function TIe(e,t){let n=e.coordsIn(0,1),r=t.coordsIn(0,1);return n&&r&&r.top<n.bottom}class Ps extends L1{constructor(t,n){super(t),this.mark=n}get domAttrs(){return this.mark.attrs}static of(t,n){let r=new Ps(n||document.createElement(t.tagName),t);return n||(r.flags|=4),r}}class Td extends Vr{constructor(t,n){super(t,n.length),this.text=n}sync(t){this.flags&2||(super.sync(t),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(t,n){let r=this.dom.nodeValue.length;t>r&&(t=r);let i=t,s=t,a=0;t==0&&n<0||t==r&&n>=0?mt.chrome||mt.gecko||(t?(i--,a=1):s<r&&(s++,a=-1)):n<0?i--:s<r&&s++;let l=by(this.dom,i,s).getClientRects();if(!l.length)return null;let c=l[(a?a<0:n>=0)?0:l.length-1];return mt.safari&&!a&&c.width==0&&(c=Array.prototype.find.call(l,u=>u.width)||c),a?vy(c,a<0):c||null}static of(t,n){let r=new Td(n||document.createTextNode(t),t);return n||(r.flags|=2),r}}class pm extends Vr{constructor(t,n,r,i){super(t,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(t){return this.flags&48?!1:(this.flags&(t<0?64:128))>0}coordsIn(t,n){return this.coordsInWidget(t,n,!1)}coordsInWidget(t,n,r){let i=this.widget.coordsAt(this.dom,t,n);if(i)return i;if(r)return vy(this.dom.getBoundingClientRect(),this.length?t==0:n<=0);{let s=this.dom.getClientRects(),a=null;if(!s.length)return null;let l=this.flags&16?!0:this.flags&32?!1:t>0;for(let c=l?s.length-1:0;a=s[c],!(t>0?c==0:c==s.length-1||a.top<a.bottom);c+=l?-1:1);return vy(a,!l)}}get overrideDOMText(){if(!this.length)return vn.empty;let{root:t}=this;if(!t)return vn.empty;let n=this.posAtStart;return t.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(t,n,r,i,s){return s||(s=t.toDOM(n),t.editable||(s.contentEditable="false")),new pm(s,r,t,i)}}class sw extends Vr{constructor(t){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,t)}get isHidden(){return!1}get overrideDOMText(){return vn.empty}coordsIn(t){return this.dom.getBoundingClientRect()}}class AIe{constructor(t){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=t}advance(t,n,r){let{tile:i,index:s,beforeBreak:a,parents:l}=this;for(;t||n>0;)if(i.isComposite())if(a){if(!t)break;r&&r.break(),t--,a=!1}else if(s==i.children.length){if(!t&&!l.length)break;r&&r.leave(i),a=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++}else{let c=i.children[s],u=c.breakAfter;(n>0?c.length<=t:c.length<t)&&(!r||r.skip(c,0,c.length)!==!1||!c.isComposite)?(a=!!u,s++,t-=c.length):(l.push({tile:i,index:s}),i=c,s=0,r&&c.isComposite()&&r.enter(c))}else if(s==i.length)a=!!i.breakAfter,{tile:i,index:s}=l.pop(),s++;else if(t){let c=Math.min(t,i.length-s);r&&r.skip(i,s,s+c),t-=c,s+=c}else break;return this.tile=i,this.index=s,this.beforeBreak=a,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class zIe{constructor(t,n,r,i){this.from=t,this.to=n,this.wrapper=r,this.rank=i}}class DIe{constructor(t,n,r){this.cache=t,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(t,n,r,i){var s;this.flushBuffer();let a=this.ensureMarks(n,r),l=a.lastChild;if(l&&l.isText()&&!(l.flags&8)){this.cache.reused.set(l,2);let c=a.children[a.children.length-1]=new Td(l.dom,l.text+t);c.parent=a}else a.append(i||Td.of(t,(s=this.cache.find(Td))===null||s===void 0?void 0:s.dom));this.pos+=t.length,this.afterWidget=null}addComposition(t,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?$S(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let a=n.marks.length-1;a>=0;a--){let l=n.marks[a],c=i.lastChild;if(c instanceof Ps&&c.mark.eq(l.mark))c.dom!=l.dom&&c.setDOM($S(l.dom)),i=c;else{if(this.cache.reused.get(l)){let d=Vr.get(l.dom);d&&d.setDOM($S(l.dom))}let u=Ps.of(l.mark,l.dom);i.append(u),i=u}this.cache.reused.set(l,2)}let s=new Td(t.text,t.text.nodeValue);s.flags|=8,i.append(s)}addInlineWidget(t,n,r){let i=this.afterWidget&&t.flags&48&&(this.afterWidget.flags&48)==(t.flags&48);i||this.flushBuffer();let s=this.ensureMarks(n,r);!i&&!(t.flags&16)&&s.append(this.getBuffer(1)),s.append(t),this.pos+=t.length,this.afterWidget=t}addMark(t,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(t),this.pos+=t.length,this.afterWidget=null}addBlockWidget(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}continueWidget(t){let n=this.afterWidget||this.lastBlock;n.length+=t,this.pos+=t}addLineStart(t,n){var r;t||(t=hX);let i=mm.start(t,n||((r=this.cache.find(mm))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(t){this.getBlockPos().append(t),this.pos+=t.length,this.lastBlock=t,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(t){this.blockPosCovered()||this.addLineStart(t)}ensureLine(t){this.curLine||this.addLineStart(t)}ensureMarks(t,n){var r;let i=this.curLine;for(let s=t.length-1;s>=0;s--){let a=t[s],l;if(n>0&&(l=i.lastChild)&&l instanceof Ps&&l.mark.eq(a))i=l,n--;else{let c=Ps.of(a,(r=this.cache.find(Ps,u=>u.mark.eq(a)))===null||r===void 0?void 0:r.dom);i.append(c),i=c,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let t=this.curLine.lastChild;(!t||!YL(this.curLine,!1)||t.dom.nodeName!="BR"&&t.isWidget()&&!(mt.ios&&YL(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(FS,0,32)||new pm(FS.toDOM(),0,FS,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let t=this.wrappers.length-1;t>=0;t--)this.wrappers[t].to<this.pos&&this.wrappers.splice(t,1);for(let t=this.blockWrappers;t.value&&t.from<=this.pos;t.next())if(t.to>=this.pos){let n=new zIe(t.from,t.to,t.value,t.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var t;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof Nu&&i.wrapper.eq(r.wrapper))n=i;else{let s=Nu.of(r.wrapper,(t=this.cache.find(Nu,a=>a.wrapper.eq(r.wrapper)))===null||t===void 0?void 0:t.dom);n.append(s),n=s}}return n}blockPosCovered(){let t=this.lastBlock;return t!=null&&!t.breakAfter&&(!t.isWidget()||(t.flags&160)>0)}getBuffer(t){let n=2|(t<0?16:32),r=this.cache.find(sw,void 0,1);return r&&(r.flags=n),r||new sw(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class RIe{constructor(t){this.skipCount=0,this.text="",this.textOff=0,this.cursor=t.iter()}skip(t){this.textOff+t<=this.text.length?this.textOff+=t:(this.skipCount+=t-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(t){if(this.textOff==this.text.length){let{value:i,lineBreak:s,done:a}=this.cursor.next(this.skipCount);if(this.skipCount=0,a)throw new Error("Ran out of text content when drawing inline views");this.text=i;let l=this.textOff=Math.min(t,i.length);return s?null:i.slice(0,l)}let n=Math.min(this.text.length,this.textOff+t),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const aw=[pm,mm,Td,Ps,sw,Nu,$1];for(let e=0;e<aw.length;e++)aw[e].bucket=e;class IIe{constructor(t){this.view=t,this.buckets=aw.map(()=>[]),this.index=aw.map(()=>0),this.reused=new Map}add(t){let n=t.constructor.bucket,r=this.buckets[n];r.length<6?r.push(t):r[this.index[n]=(this.index[n]+1)%6]=t}find(t,n,r=2){let i=t.bucket,s=this.buckets[i],a=this.index[i];for(let l=s.length-1;l>=0;l--){let c=(l+a)%s.length,u=s[c];if((!n||n(u))&&!this.reused.has(u))return s.splice(c,1),c<a&&this.index[i]--,this.reused.set(u,r),u}return null}findWidget(t,n,r){let i=this.buckets[0];if(i.length)for(let s=0,a=0;;s++){if(s==i.length){if(a)return null;a=1,s=0}let l=i[s];if(!this.reused.has(l)&&(a==0?l.widget.compare(t):l.widget.constructor==t.constructor&&t.updateDOM(l.dom,this.view)))return i.splice(s,1),s<this.index[0]&&this.index[0]--,this.reused.set(l,1),l.length=n,l.flags=l.flags&-498|r,l}}reuse(t){return this.reused.set(t,1),t}maybeReuse(t,n=2){if(!this.reused.has(t))return this.reused.set(t,n),t.dom}}class LIe{constructor(t,n,r,i,s){this.view=t,this.decorations=i,this.disallowBlockEffectsFor=s,this.openWidget=!1,this.openMarks=0,this.cache=new IIe(t),this.text=new RIe(t.state.doc),this.builder=new DIe(this.cache,new $1(t,t.contentDOM),an.iter(r)),this.cache.reused.set(n,2),this.old=new AIe(n)}run(t,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,s=0,a=0;;){let l=a<t.length?t[a++]:null,c=l?l.fromA:this.old.root.length;if(c>i){let u=c-i;this.preserve(u,!a,!l),i=c,s+=u}if(!l)break;this.forward(l.fromA,l.toA),n&&l.fromA<=n.range.fromA&&l.toA>=n.range.toA?(this.emit(s,n.range.fromB),this.builder.addComposition(n,r),this.emit(n.range.toB,l.toB)):this.emit(s,l.toB),s=l.toB,i=l.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(t,n,r){let i=BIe(this.old),s=this.openMarks;this.old.advance(t,r?1:-1,{skip:(a,l,c)=>{if(a.isWidget())if(this.openWidget)this.builder.continueWidget(c-l);else{let u=c>0||l<a.length?pm.of(a.widget,this.view,c-l,a.flags&496,this.cache.maybeReuse(a)):this.cache.reuse(a);u.flags&256?(u.flags&=-2,this.builder.addBlockWidget(u)):(this.builder.ensureLine(null),this.builder.addInlineWidget(u,i,s),s=i.length)}else if(a.isText())this.builder.ensureLine(null),!l&&c==a.length?this.builder.addText(a.text,i,s,this.cache.reuse(a)):(this.cache.add(a),this.builder.addText(a.text.slice(l,c),i,s)),s=i.length;else if(a.isLine())a.flags&=-2,this.cache.reused.set(a,1),this.builder.addLine(a);else if(a instanceof sw)this.cache.add(a);else if(a instanceof Ps)this.builder.ensureLine(null),this.builder.addMark(a,i,s),this.cache.reused.set(a,1),s=i.length;else return!1;this.openWidget=!1},enter:a=>{a.isLine()?this.builder.addLineStart(a.attrs,this.cache.maybeReuse(a)):(this.cache.add(a),a instanceof Ps&&i.unshift(a.mark)),this.openWidget=!1},leave:a=>{a.isLine()?i.length&&(i.length=s=0):a instanceof Ps&&(i.shift(),s=Math.min(s,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(t)}emit(t,n){let r=null,i=this.builder,s=0,a=an.spans(this.decorations,t,n,{point:(l,c,u,d,h,m)=>{if(u instanceof dh){if(this.disallowBlockEffectsFor[m]){if(u.block)throw new RangeError("Block decorations may not be specified via plugins");if(c>this.view.state.doc.lineAt(l).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(s=d.length,h>d.length)i.continueWidget(c-l);else{let p=u.widget||(u.block?gm.block:gm.inline),g=$Ie(u),y=this.cache.findWidget(p,c-l,g)||pm.of(p,this.view,c-l,g);u.block?(u.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(y)):(i.ensureLine(r),i.addInlineWidget(y,d,h))}r=null}else r=FIe(r,u);c>l&&this.text.skip(c-l)},span:(l,c,u,d)=>{for(let h=l;h<c;){let m=this.text.next(Math.min(512,c-h));m==null?(i.addLineStartIfNotCovered(r),i.addBreak(),h++):(i.ensureLine(r),i.addText(m,u,d),h+=m.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=a>s,this.openMarks=a}forward(t,n){this.old.advance(n-t,1,{skip:(r,i,s)=>{(r.isText()||s==r.length)&&this.cache.add(r)},enter:r=>this.cache.add(r),leave:()=>{},break:()=>{}})}getCompositionContext(t){let n=[],r=null;for(let i=t.parentNode;;i=i.parentNode){let s=Vr.get(i);if(i==this.view.contentDOM)break;s instanceof Ps?n.push(s):s!=null&&s.isLine()?r=s:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new mm(i,hX):n.push(Ps.of(new Ix({tagName:i.nodeName.toLowerCase(),attributes:hIe(i)}),i))}return{line:r,marks:n}}}function YL(e,t){let n=r=>{for(let i of r.children)if((t?i.isText():i.length)||n(i))return!0;return!1};return n(e)}function $Ie(e){let t=e.isReplace?(e.startSide<0?64:0)|(e.endSide>0?128:0):e.startSide>0?32:16;return e.block&&(t|=256),t}const hX={class:"cm-line"};function FIe(e,t){let n=t.spec.attributes,r=t.spec.class;return!n&&!r||(e||(e={class:"cm-line"}),n&&HT(n,e),r&&(e.class+=" "+r)),e}function BIe(e){let t=[];for(let n=e.parents.length;n>1;n--){let r=n==e.parents.length?e.tile:e.parents[n].tile;r instanceof Ps&&t.push(r.mark)}return t}function $S(e){let t=Vr.get(e);return t&&t.setDOM(e.cloneNode()),e}class gm extends El{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}gm.inline=new gm("span");gm.block=new gm("div");const FS=new class extends El{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class GL{constructor(t){this.view=t,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=$t.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new $1(t,t.contentDOM),this.updateInner([new Aa(0,0,0,t.state.doc.length)],null)}update(t){var n;let r=t.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:d,toA:h})=>h<this.minWidthFrom||d>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!QIe(t.changes,this.hasComposition)&&!t.selectionSet&&(i=t.state.selection.main.head));let s=i>-1?WIe(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:d,to:h}=this.hasComposition;r=new Aa(d,h,t.changes.mapPos(d,-1),t.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(mt.ie||mt.chrome)&&!s&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,l=this.blockWrappers;this.updateDeco();let c=HIe(a,this.decorations,t.changes);c.length&&(r=Aa.extendWithRanges(r,c));let u=YIe(l,this.blockWrappers,t.changes);return u.length&&(r=Aa.extendWithRanges(r,u)),s&&!r.some(d=>d.fromA<=s.range.fromA&&d.toA>=s.range.toA)&&(r=s.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,s),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||t.length){let a=this.tile,l=new LIe(this.view,a,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=l.run(t,n),w2(a,l.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=mt.chrome||mt.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(s),s&&(s.written||r.selectionRange.focusNode!=s.node||!this.tile.dom.contains(s.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.tile.children)s.isWidget()&&s.widget instanceof BS&&i.push(s.dom);r.updateGaps(i)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let n of t.transactions)for(let r of n.effects)r.is(aX)&&(this.editContextFormatting=r.value)}updateSelection(t=!1,n=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,s=i==r,a=!s&&!(this.view.state.facet(Xl)||r.tabIndex>-1)&&i_(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(s||n||a))return;let l=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,u,d;if(c.empty?d=u=this.inlineDOMNearPos(c.anchor,c.assoc||1):(d=this.inlineDOMNearPos(c.head,c.head==c.from?1:-1),u=this.inlineDOMNearPos(c.anchor,c.anchor==c.from?1:-1)),mt.gecko&&c.empty&&!this.hasComposition&&qIe(u)){let m=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(m,u.node.childNodes[u.offset]||null)),u=d=new bo(m,0),l=!0}let h=this.view.observer.selectionRange;(l||!h.focusNode||(!yg(u.node,u.offset,h.anchorNode,h.anchorOffset)||!yg(d.node,d.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,c))&&(this.view.observer.ignore(()=>{mt.android&&mt.chrome&&r.contains(h.focusNode)&&GIe(h.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let m=xy(this.view.root);if(m)if(c.empty){if(mt.gecko){let p=UIe(u.node,u.offset);if(p&&p!=3){let g=(p==1?UQ:VQ)(u.node,u.offset);g&&(u=new bo(g.node,g.offset))}}m.collapse(u.node,u.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(u.node,u.offset);try{m.extend(d.node,d.offset)}catch{}}else{let p=document.createRange();c.anchor>c.head&&([u,d]=[d,u]),p.setEnd(d.node,d.offset),p.setStart(u.node,u.offset),m.removeAllRanges(),m.addRange(p)}a&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(u,d)),this.impreciseAnchor=u.precise?null:new bo(h.anchorNode,h.anchorOffset),this.impreciseHead=d.precise?null:new bo(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(t,n){return this.hasComposition&&n.empty&&yg(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,n=t.state.selection.main,r=xy(t.root),{anchorNode:i,anchorOffset:s}=t.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=this.lineAt(n.head,n.assoc);if(!a)return;let l=a.posAtStart;if(n.head==l||n.head==l+a.length)return;let c=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!c||!u||c.bottom>u.top)return;let d=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let h=t.observer.selectionRange;t.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,s)}posFromDOM(t,n){let r=this.tile.nearest(t);if(!r)return this.tile.dom.compareDocumentPosition(t)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let s;if(t==r.dom)s=r.dom.childNodes[n];else{let a=Sc(t)==0?0:n==0?-1:1;for(;;){let l=t.parentNode;if(l==r.dom)break;a==0&&l.firstChild!=l.lastChild&&(t==l.firstChild?a=-1:a=1),t=l}a<0?s=t:s=t.nextSibling}if(s==r.dom.firstChild)return i;for(;s&&!Vr.get(s);)s=s.nextSibling;if(!s)return i+r.length;for(let a=0,l=i;;a++){let c=r.children[a];if(c.dom==s)return l;l+=c.length+c.breakAfter}}else return r.isText()?t==r.dom?i+n:i+(n?r.length:0):i}domAtPos(t,n){let{tile:r,offset:i}=this.tile.resolveBlock(t,n);return r.isWidget()?r.domPosFor(t,n):r.domIn(i,n)}inlineDOMNearPos(t,n){let r,i=-1,s=!1,a,l=-1,c=!1;return this.tile.blockTiles((u,d)=>{if(u.isWidget()){if(u.flags&32&&d>=t)return!0;u.flags&16&&(s=!0)}else{let h=d+u.length;if(d<=t&&(r=u,i=t-d,s=h<t),h>=t&&!a&&(a=u,l=t-d,c=d>t),d>t&&a)return!0}}),!r&&!a?this.domAtPos(t,n):(s&&a?r=null:c&&r&&(a=null),r&&n<0||!a?r.domIn(i,n):a.domIn(l,n))}coordsAt(t,n){let{tile:r,offset:i}=this.tile.resolveBlock(t,n);return r.isWidget()?r.widget instanceof BS?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(t,n){let{tile:r}=this.tile.resolveBlock(t,n);return r.isLine()?r:null}coordsForChar(t){let{tile:n,offset:r}=this.tile.resolveBlock(t,1);if(!n.isLine())return null;function i(s,a){if(s.isComposite())for(let l of s.children){if(l.length>=a){let c=i(l,a);if(c)return c}if(a-=l.length,a<0)break}else if(s.isText()&&a<s.length){let l=Wr(s.text,a);if(l==a)return null;let c=by(s.dom,a,l).getClientRects();for(let u=0;u<c.length;u++){let d=c[u];if(u==c.length-1||d.top<d.bottom&&d.left<d.right)return d}}return null}return i(n,r)}measureVisibleLineHeights(t){let n=[],{from:r,to:i}=t,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,c=this.view.textDirection==Mn.LTR,u=0,d=(h,m,p)=>{for(let g=0;g<h.children.length&&!(m>i);g++){let y=h.children[g],x=m+y.length,b=y.dom.getBoundingClientRect(),{height:w}=b;if(p&&!g&&(u+=b.top-p.top),y instanceof Nu)x>r&&d(y,m,b);else if(m>=r&&(u>0&&n.push(-u),n.push(w+u),u=0,a)){let v=y.dom.lastChild,_=v?gg(v):[];if(_.length){let j=_[_.length-1],k=c?j.right-b.left:b.right-j.left;k>l&&(l=k,this.minWidth=s,this.minWidthFrom=m,this.minWidthTo=x)}}p&&g==h.children.length-1&&(u+=p.bottom-b.bottom),m=x+y.breakAfter}};return d(this.tile,0,null),n}textDirectionAt(t){let{tile:n}=this.tile.resolveBlock(t,1);return getComputedStyle(n.dom).direction=="rtl"?Mn.RTL:Mn.LTR}measureTextSize(){let t=this.tile.blockTiles(a=>{if(a.isLine()&&a.children.length&&a.length<=20){let l=0,c;for(let u of a.children){if(!u.isText()||/[^ -~]/.test(u.text))return;let d=gg(u.dom);if(d.length!=1)return;l+=d[0].width,c=d[0].height}if(l)return{lineHeight:a.dom.getBoundingClientRect().height,charWidth:l/a.length,textHeight:c}}});if(t)return t;let n=document.createElement("div"),r,i,s;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let a=gg(n.firstChild)[0];r=n.getBoundingClientRect().height,i=a&&a.width?a.width/27:7,s=a&&a.height?a.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:s}}computeBlockGapDeco(){let t=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],a=s?s.from-1:this.view.state.doc.length;if(a>r){let l=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;t.push($t.replace({widget:new BS(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return $t.set(t)}updateDeco(){let t=1,n=this.view.state.facet(_y).map(s=>(this.dynamicDecorationMap[t++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(cX).map((s,a)=>{let l=typeof s=="function";return l&&(r=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[t++]=r,n.push(an.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;this.blockWrappers=this.view.state.facet(lX).map(s=>typeof s=="function"?s(this.view):s)}scrollIntoView(t){if(t.isSnapshot){let u=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=u.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}for(let u of this.view.state.facet(sX))try{if(u(this.view,t.range,t))return!0}catch(d){zs(this.view.state,d,"scroll handler")}let{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=ZT(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:l,offsetHeight:c}=this.view.scrollDOM;pIe(this.view.scrollDOM,a,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,l),-l),Math.max(Math.min(t.yMargin,c),-c),this.view.textDirection==Mn.LTR)}lineHasWidget(t){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(t,1).tile)}destroy(){w2(this.tile)}}function w2(e,t){let n=t==null?void 0:t.get(e);if(n!=1){n==null&&e.destroy();for(let r of e.children)w2(r,t)}}function qIe(e){return e.node.nodeType==1&&e.node.firstChild&&(e.offset==0||e.node.childNodes[e.offset-1].contentEditable=="false")&&(e.offset==e.node.childNodes.length||e.node.childNodes[e.offset].contentEditable=="false")}function fX(e,t){let n=e.observer.selectionRange;if(!n.focusNode)return null;let r=UQ(n.focusNode,n.focusOffset),i=VQ(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let l=Vr.get(i.node);if(!l||l.isText()&&l.text!=i.node.nodeValue)s=i;else if(e.docView.lastCompositionAfterCursor){let c=Vr.get(r.node);!c||c.isText()&&c.text!=r.node.nodeValue||(s=i)}}if(e.docView.lastCompositionAfterCursor=s!=r,!s)return null;let a=t-s.offset;return{from:a,to:a+s.node.nodeValue.length,node:s.node}}function WIe(e,t,n){let r=fX(e,n);if(!r)return null;let{node:i,from:s,to:a}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||e.state.doc.sliceString(r.from,r.to)!=l)return null;let c=t.invertedDesc;return{range:new Aa(c.mapPos(s),c.mapPos(a),s,a),text:i}}function UIe(e,t){return e.nodeType!=1?0:(t&&e.childNodes[t-1].contentEditable=="false"?1:0)|(t<e.childNodes.length&&e.childNodes[t].contentEditable=="false"?2:0)}let VIe=class{constructor(){this.changes=[]}compareRange(t,n){Lf(t,n,this.changes)}comparePoint(t,n){Lf(t,n,this.changes)}boundChange(t){Lf(t,t,this.changes)}};function HIe(e,t,n){let r=new VIe;return an.compare(e,t,n,r),r.changes}class KIe{constructor(){this.changes=[]}compareRange(t,n){Lf(t,n,this.changes)}comparePoint(){}boundChange(t){Lf(t,t,this.changes)}}function YIe(e,t,n){let r=new KIe;return an.compare(e,t,n,r),r.changes}function GIe(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function QIe(e,t){let n=!1;return t&&e.iterChangedRanges((r,i)=>{r<t.to&&i>t.from&&(n=!0)}),n}class BS extends El{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function XIe(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),s=t-i.from;if(i.length==0)return Ee.cursor(t);s==0?n=1:s==i.length&&(n=-1);let a=s,l=s;n<0?a=Wr(i.text,s,!1):l=Wr(i.text,s);let c=r(i.text.slice(a,l));for(;a>0;){let u=Wr(i.text,a,!1);if(r(i.text.slice(u,a))!=c)break;a=u}for(;l<i.length;){let u=Wr(i.text,l);if(r(i.text.slice(l,u))!=c)break;l=u}return Ee.range(a+i.from,l+i.from)}function ZIe(e,t,n,r,i){let s=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>e.defaultLineHeight*1.5){let l=e.viewState.heightOracle.textHeight,c=Math.floor((i-n.top-(e.defaultLineHeight-l)*.5)/l);s+=c*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(n.from,n.to);return n.from+u2(a,s,e.state.tabSize)}function j2(e,t,n){let r=e.lineBlockAt(t);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>t)break;if(!(s.to<t)){if(s.from<t&&s.to>t)return s;(!i||s.type==Ci.Text&&(i.type!=s.type||(n<0?s.from<t:s.to>t)))&&(i=s)}}return i||r}return r}function JIe(e,t,n,r){let i=j2(e,t.head,t.assoc||-1),s=!r||i.type!=Ci.Text||!(e.lineWrapping||i.widgetLineBreaks)?null:e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head);if(s){let a=e.dom.getBoundingClientRect(),l=e.textDirectionAt(i.from),c=e.posAtCoords({x:n==(l==Mn.LTR)?a.right-1:a.left+1,y:(s.top+s.bottom)/2});if(c!=null)return Ee.cursor(c,n?-1:1)}return Ee.cursor(n?i.to:i.from,n?-1:1)}function QL(e,t,n,r){let i=e.state.doc.lineAt(t.head),s=e.bidiSpans(i),a=e.textDirectionAt(i.from);for(let l=t,c=null;;){let u=CIe(i,s,a,l,n),d=QQ;if(!u){if(i.number==(n?e.state.doc.lines:1))return l;d=`
`,i=e.state.doc.line(i.number+(n?1:-1)),s=e.bidiSpans(i),u=e.visualLineSide(i,!n)}if(c){if(!c(d))return l}else{if(!r)return u;c=r(d)}l=u}}function e4e(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return s=>{let a=r(s);return i==tr.Space&&(i=a),i==a}}function t4e(e,t,n,r){let i=t.head,s=n?1:-1;if(i==(n?e.state.doc.length:0))return Ee.cursor(i,t.assoc);let a=t.goalColumn,l,c=e.contentDOM.getBoundingClientRect(),u=e.coordsAtPos(i,t.assoc||-1),d=e.documentTop;if(u)a==null&&(a=u.left-c.left),l=s<0?u.top:u.bottom;else{let p=e.viewState.lineBlockAt(i);a==null&&(a=Math.min(c.right-c.left,e.defaultCharacterWidth*(i-p.from))),l=(s<0?p.top:p.bottom)+d}let h=c.left+a,m=r??e.viewState.heightOracle.textHeight>>1;for(let p=0;;p+=10){let g=l+(m+p)*s,y=k2(e,{x:h,y:g},!1,s);return Ee.cursor(y.pos,y.assoc,void 0,a)}}function xg(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,(s,a,l)=>{if(t>s&&t<a){let c=r||n||(t-s<a-t?-1:1);t=c<0?s:a,r=c}});if(!r)return t}}function mX(e,t){let n=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],s=null;if(i.empty){let a=xg(e,i.from,0);a!=i.from&&(s=Ee.cursor(a,-1))}else{let a=xg(e,i.from,-1),l=xg(e,i.to,1);(a!=i.from||l!=i.to)&&(s=Ee.range(i.from==i.anchor?a:l,i.from==i.head?a:l))}s&&(n||(n=t.ranges.slice()),n[r]=s)}return n?Ee.create(n,t.mainIndex):t}function qS(e,t,n){let r=xg(e.state.facet($x).map(i=>i(e)),n.from,t.head>n.from?-1:1);return r==n.from?n:Ee.cursor(r,r<n.from?1:-1)}class tl{constructor(t,n){this.pos=t,this.assoc=n}}function k2(e,t,n,r){let i=e.contentDOM.getBoundingClientRect(),s=i.top+e.viewState.paddingTop,{x:a,y:l}=t,c=l-s,u;for(;;){if(c<0)return new tl(0,1);if(c>e.viewState.docHeight)return new tl(e.state.doc.length,-1);if(u=e.elementAtHeight(c),r==null)break;if(u.type==Ci.Text){let m=e.docView.coordsAt(r<0?u.from:u.to,r);if(m&&(r<0?m.top<=c+s:m.bottom>=c+s))break}let h=e.viewState.heightOracle.textHeight/2;c=r>0?u.bottom+h:u.top-h}if(e.viewport.from>=u.to||e.viewport.to<=u.from){if(n)return null;if(u.type==Ci.Text){let h=ZIe(e,i,u,a,l);return new tl(h,h==u.from?1:-1)}}if(u.type!=Ci.Text)return c<(u.top+u.bottom)/2?new tl(u.from,1):new tl(u.to,-1);let d=e.docView.lineAt(u.from,2);return(!d||d.length!=u.length)&&(d=e.docView.lineAt(u.from,-2)),pX(e,d,u.from,a,l)}function pX(e,t,n,r,i){let s=-1,a=null,l=1e9,c=1e9,u=i,d=i,h=(m,p)=>{for(let g=0;g<m.length;g++){let y=m[g];if(y.top==y.bottom)continue;let x=y.left>r?y.left-r:y.right<r?r-y.right:0,b=y.top>i?y.top-i:y.bottom<i?i-y.bottom:0;y.top<=d&&y.bottom>=u&&(u=Math.min(y.top,u),d=Math.max(y.bottom,d),b=0),(s<0||(b-c||x-l)<0)&&(s>=0&&c&&l<x&&a.top<=d-2&&a.bottom>=u+2?c=0:(s=p,l=x,c=b,a=y))}};if(t.isText()){for(let p=0;p<t.length;){let g=Wr(t.text,p);if(h(by(t.dom,p,g).getClientRects(),p),!l&&!c)break;p=g}return r>(a.left+a.right)/2==(XL(e,s+n)==Mn.LTR)?new tl(n+Wr(t.text,s),-1):new tl(n+s,1)}else{if(!t.length)return new tl(n,1);for(let y=0;y<t.children.length;y++){let x=t.children[y];if(x.flags&48)continue;let b=(x.dom.nodeType==1?x.dom:by(x.dom,0,x.length)).getClientRects();if(h(b,y),!l&&!c)break}let m=t.children[s],p=t.posBefore(m,n);return m.isComposite()||m.isText()?pX(e,m,p,Math.max(a.left,Math.min(a.right,r)),i):r>(a.left+a.right)/2==(XL(e,s+n)==Mn.LTR)?new tl(p+m.length,-1):new tl(p,1)}}function XL(e,t){let n=e.state.doc.lineAt(t);return e.bidiSpans(n)[sc.find(e.bidiSpans(n),t-n.from,-1,1)].dir}const Gp="";class n4e{constructor(t,n){this.points=t,this.text="",this.lineSeparator=n.facet(dn.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Gp}readRange(t,n){if(!t)return this;let r=t.parentNode;for(let i=t;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let a=Vr.get(i),l=i.nextSibling;if(l==n){a!=null&&a.breakAfter&&!l&&this.lineBreak();break}let c=Vr.get(l);(a&&c?a.breakAfter:(a?a.breakAfter:rw(i))||rw(l)&&(i.nodeName!="BR"||a!=null&&a.isWidget())&&this.text.length>s)&&!i4e(l,n)&&this.lineBreak(),i=l}return this.findPointBefore(r,n),this}readTextNode(t){let n=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,l;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(l=i.exec(n))&&(s=l.index,a=l[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let c of this.points)c.node==t&&c.pos>this.text.length&&(c.pos-=a-1);r=s+a}}readNode(t){let n=Vr.get(t),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(t,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,n){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(t,n){for(let r of this.points)(t.nodeType==3?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+(r4e(t,r.node,r.offset)?n:0))}}function r4e(e,t,n){for(;;){if(!t||n<Sc(t))return!1;if(t==e)return!0;n=Fu(t)+1,t=t.parentNode}}function i4e(e,t){let n;for(;!(e==t||!e);e=e.nextSibling){let r=Vr.get(e);if(!(r!=null&&r.isWidget()))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i!=null&&i.length)return!1}return!0}class ZL{constructor(t,n){this.node=t,this.offset=n,this.pos=-1}}class s4e{constructor(t,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:a}=t.docView;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=gX(t.docView.tile,n,r,0))){let l=s||a?[]:o4e(t),c=new n4e(l,t.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=l4e(l,this.bounds.from)}else{let l=t.observer.selectionRange,c=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!y2(t.contentDOM,l.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(l.focusNode,l.focusOffset),u=a&&a.node==l.anchorNode&&a.offset==l.anchorOffset||!y2(t.contentDOM,l.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(l.anchorNode,l.anchorOffset),d=t.viewport;if((mt.ios||mt.chrome)&&t.state.selection.main.empty&&c!=u&&(d.from>0||d.to<t.state.doc.length)){let h=Math.min(c,u),m=Math.max(c,u),p=d.from-h,g=d.to-m;(p==0||p==1||h==0)&&(g==0||g==-1||m==t.state.doc.length)&&(c=0,u=t.state.doc.length)}t.inputState.composing>-1&&t.state.selection.ranges.length>1?this.newSel=t.state.selection.replaceRange(Ee.range(u,c)):this.newSel=Ee.single(u,c)}}}function gX(e,t,n,r){if(e.isComposite()){let i=-1,s=-1,a=-1,l=-1;for(let c=0,u=r,d=r;c<e.children.length;c++){let h=e.children[c],m=u+h.length;if(u<t&&m>n)return gX(h,t,n,u);if(m>=t&&i==-1&&(i=c,s=u),u>n&&h.dom.parentNode==e.dom){a=c,l=d;break}d=m,u=m+h.breakAfter}return{from:s,to:l<0?r+e.length:l,startDOM:(i?e.children[i-1].dom.nextSibling:null)||e.dom.firstChild,endDOM:a<e.children.length&&a>=0?e.children[a].dom:null}}else return e.isText()?{from:r,to:r+e.length,startDOM:e.dom,endDOM:e.dom.nextSibling}:null}function yX(e,t){let n,{newSel:r}=t,i=e.state.selection.main,s=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:a,to:l}=t.bounds,c=i.from,u=null;(s===8||mt.android&&t.text.length<l-a)&&(c=i.to,u="end");let d=xX(e.state.doc.sliceString(a,l,Gp),t.text,c-a,u);d&&(mt.chrome&&s==13&&d.toB==d.from+2&&t.text.slice(d.from,d.toB)==Gp+Gp&&d.toB--,n={from:a+d.from,to:a+d.toA,insert:vn.of(t.text.slice(d.from,d.toB).split(Gp))})}else r&&(!e.hasFocus&&e.state.facet(Xl)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:(mt.mac||mt.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&e.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ee.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:vn.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:e.state.doc.lineAt(i.from).to<i.to&&e.docView.lineHasWidget(i.to)&&e.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:e.state.toText(e.inputState.insertingText)}:mt.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&e.lineWrapping&&(r&&(r=Ee.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:vn.of([" "])}),n)return JT(e,n,r,s);if(r&&!r.main.eq(i)){let a=!1,l="select";return e.inputState.lastSelectionTime>Date.now()-50&&(e.inputState.lastSelectionOrigin=="select"&&(a=!0),l=e.inputState.lastSelectionOrigin,l=="select.pointer"&&(r=mX(e.state.facet($x).map(c=>c(e)),r))),e.dispatch({selection:r,scrollIntoView:a,userEvent:l}),!0}else return!1}function JT(e,t,n,r=-1){if(mt.ios&&e.inputState.flushIOSKey(t))return!0;let i=e.state.selection.main;if(mt.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&e.state.sliceDoc(t.from,i.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&$f(e.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&t.insert.length==0||r==8&&t.insert.length<t.to-t.from&&t.to>i.head)&&$f(e.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&$f(e.contentDOM,"Delete",46)))return!0;let s=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a,l=()=>a||(a=a4e(e,t,n));return e.state.facet(tX).some(c=>c(e,t.from,t.to,s,l))||e.dispatch(l()),!0}function a4e(e,t,n){let r,i=e.state,s=i.selection.main,a=-1;if(t.from==t.to&&t.from<s.from||t.from>s.to){let c=t.from<s.from?-1:1,u=c<0?s.from:s.to,d=xg(i.facet($x).map(h=>h(e)),u,c);t.from==d&&(a=d)}if(a>-1)r={changes:t,selection:Ee.cursor(t.from+t.insert.length,-1)};else if(t.from>=s.from&&t.to<=s.to&&t.to-t.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let c=s.from<t.from?i.sliceDoc(s.from,t.from):"",u=s.to>t.to?i.sliceDoc(t.to,s.to):"";r=i.replaceSelection(e.state.toText(c+t.insert.sliceString(0,void 0,e.state.lineBreak)+u))}else{let c=i.changes(t),u=n&&n.main.to<=c.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(e.inputState.composing>=0||e.inputState.compositionPendingChange)&&t.to<=s.to+10&&t.to>=s.to-10){let d=e.state.sliceDoc(t.from,t.to),h,m=n&&fX(e,n.main.head);if(m){let g=t.insert.length-(t.to-t.from);h={from:m.from,to:m.to-g}}else h=e.state.doc.lineAt(s.head);let p=s.to-t.to;r=i.changeByRange(g=>{if(g.from==s.from&&g.to==s.to)return{changes:c,range:u||g.map(c)};let y=g.to-p,x=y-d.length;if(e.state.sliceDoc(x,y)!=d||y>=h.from&&x<=h.to)return{range:g};let b=i.changes({from:x,to:y,insert:t.insert}),w=g.to-s.to;return{changes:b,range:u?Ee.range(Math.max(0,u.anchor+w),Math.max(0,u.head+w)):g.map(b)}})}else r={changes:c,selection:u&&i.selection.replaceRange(u)}}let l="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,l+=".compose",e.inputState.compositionFirstChange&&(l+=".start",e.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:l,scrollIntoView:!0})}function xX(e,t,n,r){let i=Math.min(e.length,t.length),s=0;for(;s<i&&e.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==i&&e.length==t.length)return null;let a=e.length,l=t.length;for(;a>0&&l>0&&e.charCodeAt(a-1)==t.charCodeAt(l-1);)a--,l--;if(r=="end"){let c=Math.max(0,s-Math.min(a,l));n-=a+c-s}if(a<s&&e.length<t.length){let c=n<=s&&n>=a?s-n:0;s-=c,l=s+(l-a),a=s}else if(l<s){let c=n<=s&&n>=l?s-n:0;s-=c,a=s+(a-l),l=s}return{from:s,toA:a,toB:l}}function o4e(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=e.observer.selectionRange;return n&&(t.push(new ZL(n,r)),(i!=n||s!=r)&&t.push(new ZL(i,s))),t}function l4e(e,t){if(e.length==0)return null;let n=e[0].pos,r=e.length==2?e[1].pos:n;return n>-1&&r>-1?Ee.single(n+t,r+t):null}class c4e{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,mt.safari&&t.contentDOM.addEventListener("input",()=>null),mt.gecko&&k4e(t.contentDOM.ownerDocument)}handleEvent(t){!y4e(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(t.type,t)):this.runHandlers(t.type,t))}runHandlers(t,n){let r=this.handlers[t];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(t){let n=u4e(t),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let a=!n[s].handlers.length,l=r[s];l&&a!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:a})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&bX.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),mt.android&&mt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return mt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((n=vX.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||d4e.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=n||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(t){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString())?!1:(this.pendingIOSKey=void 0,$f(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(t){return!/^key/.test(t.type)||t.synthetic?!1:this.composing>0?!0:mt.safari&&!mt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function JL(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(i){zs(n.state,i)}}}function u4e(e){let t=Object.create(null);function n(r){return t[r]||(t[r]={observers:[],handlers:[]})}for(let r of e){let i=r.spec,s=i&&i.plugin.domEventHandlers,a=i&&i.plugin.domEventObservers;if(s)for(let l in s){let c=s[l];c&&n(l).handlers.push(JL(r.value,c))}if(a)for(let l in a){let c=a[l];c&&n(l).observers.push(JL(r.value,c))}}for(let r in Eo)n(r).handlers.push(Eo[r]);for(let r in Qa)n(r).observers.push(Qa[r]);return t}const vX=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],d4e="dthko",bX=[16,17,18,20,91,92,224,225],Yv=6;function Gv(e){return Math.max(0,e)*.7+8}function h4e(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}class f4e{constructor(t,n,r,i){this.view=t,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=gIe(t.contentDOM),this.atoms=t.state.facet($x).map(a=>a(t));let s=t.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(dn.allowMultipleSelections)&&m4e(t,n),this.dragging=g4e(t,n)&&jX(n)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&h4e(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let n=0,r=0,i=0,s=0,a=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=ZT(this.view);t.clientX-c.left<=i+Yv?n=-Gv(i-t.clientX):t.clientX+c.right>=a-Yv&&(n=Gv(t.clientX-a)),t.clientY-c.top<=s+Yv?r=-Gv(s-t.clientY):t.clientY+c.bottom>=l-Yv&&(r=Gv(t.clientY-l)),this.setScrollSpeed(n,r)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,n){this.scrollSpeed={x:t,y:n},t||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:n}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(t||n)&&this.view.win.scrollBy(t,n),this.dragging===!1&&this.select(this.lastEvent)}select(t){let{view:n}=this,r=mX(this.atoms,this.style.get(t,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function m4e(e,t){let n=e.state.facet(XQ);return n.length?n[0](t):mt.mac?t.metaKey:t.ctrlKey}function p4e(e,t){let n=e.state.facet(ZQ);return n.length?n[0](t):mt.mac?!t.altKey:!t.ctrlKey}function g4e(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=xy(e.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=t.clientX&&a.right>=t.clientX&&a.top<=t.clientY&&a.bottom>=t.clientY)return!0}return!1}function y4e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target,r;n!=e.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Vr.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(t))return!1;return!0}const Eo=Object.create(null),Qa=Object.create(null),_X=mt.ie&&mt.ie_version<15||mt.ios&&mt.webkit_version<604;function x4e(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{e.focus(),n.remove(),wX(e,n.value)},50)}function F1(e,t,n){for(let r of e.facet(t))n=r(n,e);return n}function wX(e,t){t=F1(e.state,GT,t);let{state:n}=e,r,i=1,s=n.toText(t),a=s.lines==n.selection.ranges.length;if(S2!=null&&n.selection.ranges.every(c=>c.empty)&&S2==s.toString()){let c=-1;r=n.changeByRange(u=>{let d=n.doc.lineAt(u.from);if(d.from==c)return{range:u};c=d.from;let h=n.toText((a?s.line(i++).text:t)+n.lineBreak);return{changes:{from:d.from,insert:h},range:Ee.cursor(u.from+h.length)}})}else a?r=n.changeByRange(c=>{let u=s.line(i++);return{changes:{from:c.from,to:c.to,insert:u.text},range:Ee.cursor(c.from+u.length)}}):r=n.replaceSelection(s);e.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Qa.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft};Eo.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),t.keyCode==27&&e.inputState.tabFocusMode!=0&&(e.inputState.tabFocusMode=Date.now()+2e3),!1);Qa.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")};Qa.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")};Eo.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(JQ))if(n=r(e,t),n)break;if(!n&&t.button==0&&(n=b4e(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new f4e(e,t,n,r)),r&&e.observer.ignore(()=>{qQ(e.contentDOM);let s=e.root.activeElement;s&&!s.contains(e.contentDOM)&&s.blur()});let i=e.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}else e.inputState.setSelectionOrigin("select.pointer");return!1};function e$(e,t,n,r){if(r==1)return Ee.cursor(t,n);if(r==2)return XIe(e.state,t,n);{let i=e.docView.lineAt(t,n),s=e.state.doc.lineAt(i?i.posAtEnd:t),a=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<e.state.doc.length&&l==s.to&&l++,Ee.range(a,l)}}const v4e=mt.ie&&mt.ie_version<=11;let t$=null,n$=0,r$=0;function jX(e){if(!v4e)return e.detail;let t=t$,n=r$;return t$=e,r$=Date.now(),n$=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(n$+1)%3:1}function b4e(e,t){let n=e.posAndSideAtCoords({x:t.clientX,y:t.clientY},!1),r=jX(t),i=e.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,a,l){let c=e.posAndSideAtCoords({x:s.clientX,y:s.clientY},!1),u,d=e$(e,c.pos,c.assoc,r);if(n.pos!=c.pos&&!a){let h=e$(e,n.pos,n.assoc,r),m=Math.min(h.from,d.from),p=Math.max(h.to,d.to);d=m<d.from?Ee.range(m,p):Ee.range(p,m)}return a?i.replaceRange(i.main.extend(d.from,d.to)):l&&r==1&&i.ranges.length>1&&(u=_4e(i,c.pos))?u:l?i.addRange(d):Ee.create([d])}}}function _4e(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:i}=e.ranges[n];if(r<=t&&i>=t)return Ee.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}Eo.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let i=e.docView.tile.nearest(t.target);if(i&&i.isWidget()){let s=i.posAtStart,a=s+i.length;(s>=n.to||a<=n.from)&&(n=Ee.range(s,a))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",F1(e.state,QT,e.state.sliceDoc(n.from,n.to))),t.dataTransfer.effectAllowed="copyMove"),!1};Eo.dragend=e=>(e.inputState.draggedContent=null,!1);function i$(e,t,n,r){if(n=F1(e.state,GT,n),!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:s}=e.inputState,a=r&&s&&p4e(e,t)?{from:s.from,to:s.to}:null,l={from:i,insert:n},c=e.state.changes(a?[a,l]:l);e.focus(),e.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),e.inputState.draggedContent=null}Eo.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&i$(e,t,r.filter(a=>a!=null).join(e.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[a]=l.result),s()},l.readAsText(n[a])}return!0}else{let r=t.dataTransfer.getData("Text");if(r)return i$(e,t,r,!0),!0}return!1};Eo.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=_X?null:t.clipboardData;return n?(wX(e,n.getData("text/plain")||n.getData("text/uri-list")),!0):(x4e(e),!1)};function w4e(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),e.focus()},50)}function j4e(e){let t=[],n=[],r=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),n.push(i));if(!t.length){let i=-1;for(let{from:s}of e.selection.ranges){let a=e.doc.lineAt(s);a.number>i&&(t.push(a.text),n.push({from:a.from,to:Math.min(e.doc.length,a.to+1)})),i=a.number}r=!0}return{text:F1(e,QT,t.join(e.lineBreak)),ranges:n,linewise:r}}let S2=null;Eo.copy=Eo.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=j4e(e.state);if(!n&&!i)return!1;S2=i?n:null,t.type=="cut"&&!e.state.readOnly&&e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=_X?null:t.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(w4e(e,n),!1)};const kX=Ol.define();function SX(e,t){let n=[];for(let r of e.facet(nX)){let i=r(e,t);i&&n.push(i)}return n.length?e.update({effects:n,annotations:kX.of(!0)}):null}function NX(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=SX(e.state,t);n?e.dispatch(n):e.update([])}},10)}Qa.focus=e=>{e.inputState.lastFocusTime=Date.now(),!e.scrollDOM.scrollTop&&(e.inputState.lastScrollTop||e.inputState.lastScrollLeft)&&(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),NX(e)};Qa.blur=e=>{e.observer.clearSelectionRange(),NX(e)};Qa.compositionstart=Qa.compositionupdate=e=>{e.observer.editContext||(e.inputState.compositionFirstChange==null&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))};Qa.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,mt.chrome&&mt.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50))};Qa.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()};Eo.beforeinput=(e,t)=>{var n,r;if((t.inputType=="insertText"||t.inputType=="insertCompositionText")&&(e.inputState.insertingText=t.data,e.inputState.insertingTextAt=Date.now()),t.inputType=="insertReplacementText"&&e.observer.editContext){let s=(n=t.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),a=t.getTargetRanges();if(s&&a.length){let l=a[0],c=e.posAtDOM(l.startContainer,l.startOffset),u=e.posAtDOM(l.endContainer,l.endOffset);return JT(e,{from:c,to:u,insert:e.state.toText(s)},null),!0}}let i;if(mt.chrome&&mt.android&&(i=vX.find(s=>s.inputType==t.inputType))&&(e.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>s+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return mt.ios&&t.inputType=="deleteContentForward"&&e.observer.flushSoon(),mt.safari&&t.inputType=="insertText"&&e.inputState.composing>=0&&setTimeout(()=>Qa.compositionend(e,t),20),!1};const s$=new Set;function k4e(e){s$.has(e)||(s$.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}const a$=["pre-wrap","normal","pre-line","break-spaces"];let ym=!1;function o$(){ym=!1}class S4e{constructor(t){this.lineWrapping=t,this.doc=vn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return a$.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let n=!1;for(let r=0;r<t.length;r++){let i=t[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(t,n,r,i,s,a){let l=a$.indexOf(t)>-1,c=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,c){this.heightSamples={};for(let u=0;u<a.length;u++){let d=a[u];d<0?u++:this.heightSamples[Math.floor(d*10)]=!0}}return c}}class N4e{constructor(t,n){this.from=t,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class yo{constructor(t,n,r,i,s){this.from=t,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Ci.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof dh?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new yo(this.from,this.length+t.length,this.top,this.height+t.height,n)}}var $n=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}($n||($n={}));const s_=.001;class os{constructor(t,n,r=2){this.length=t,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>s_&&(ym=!0),this.height=t)}replace(t,n,r){return os.of(r)}decomposeLeft(t,n){n.push(this)}decomposeRight(t,n){n.push(this)}applyChanges(t,n,r,i){let s=this,a=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:c,toA:u,fromB:d,toB:h}=i[l],m=s.lineAt(c,$n.ByPosNoHeight,r.setDoc(n),0,0),p=m.to>=u?m:s.lineAt(u,$n.ByPosNoHeight,r,0,0);for(h+=p.to-u,u=p.to;l>0&&m.from<=i[l-1].toA;)c=i[l-1].fromA,d=i[l-1].fromB,l--,c<m.from&&(m=s.lineAt(c,$n.ByPosNoHeight,r,0,0));d+=m.from-c,c=m.from;let g=eA.build(r.setDoc(a),t,d,h);s=ow(s,s.replace(c,u,g))}return s.updateHeight(r,0)}static empty(){return new ta(0,0,0)}static of(t){if(t.length==1)return t[0];let n=0,r=t.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let l=t[n-1];l.break?t.splice(--n,1,l.left,null,l.right):t.splice(--n,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(s>i*2){let l=t[r];l.break?t.splice(r,1,l.left,null,l.right):t.splice(r,1,l.left,l.right),r+=2+l.break,s-=l.size}else break;else if(i<s){let l=t[n++];l&&(i+=l.size)}else{let l=t[--r];l&&(s+=l.size)}let a=0;return t[n-1]==null?(a=1,n--):t[n]==null&&(a=1,r++),new O4e(os.of(t.slice(0,n)),a,os.of(t.slice(r)))}}function ow(e,t){return e==t?e:(e.constructor!=t.constructor&&(ym=!0),t)}os.prototype.size=1;const C4e=$t.replace({});class CX extends os{constructor(t,n,r){super(t,n),this.deco=r,this.spaceAbove=0}mainBlock(t,n){return new yo(n,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(t,n,r,i){return this.spaceAbove&&t<r+this.spaceAbove?new yo(i,0,r,this.spaceAbove,C4e):this.mainBlock(r,i)}lineAt(t,n,r,i,s){let a=this.mainBlock(i,s);return this.spaceAbove?this.blockAt(0,r,i,s).join(a):a}forEachLine(t,n,r,i,s,a){t<=s+this.length&&n>=s&&a(this.lineAt(0,$n.ByPos,r,i,s))}setMeasuredHeight(t){let n=t.heights[t.index++];n<0?(this.spaceAbove=-n,n=t.heights[t.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ta extends CX{constructor(t,n,r){super(t,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(t,n){return new yo(n,this.length,t+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(t,n,r){let i=r[0];return r.length==1&&(i instanceof ta||i instanceof bi&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof bi?i=new ta(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):os.of(r)}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bi extends os{constructor(t){super(t,0)}heightMetrics(t,n){let r=t.doc.lineAt(n).number,i=t.doc.lineAt(n+this.length).number,s=i-r+1,a,l=0;if(t.lineWrapping){let c=Math.min(this.height,t.lineHeight*s);a=c/s,this.length>s+1&&(l=(this.height-c)/(this.length-s-1))}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:l}}blockAt(t,n,r,i){let{firstLine:s,lastLine:a,perLine:l,perChar:c}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+(t<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length)),d=n.doc.lineAt(u),h=l+d.length*c,m=Math.max(r,t-h/2);return new yo(d.from,d.length,m,h,0)}else{let u=Math.max(0,Math.min(a-s,Math.floor((t-r)/l))),{from:d,length:h}=n.doc.line(s+u);return new yo(d,h,r+l*u,l,0)}}lineAt(t,n,r,i,s){if(n==$n.ByHeight)return this.blockAt(t,r,i,s);if(n==$n.ByPosNoHeight){let{from:p,to:g}=r.doc.lineAt(t);return new yo(p,g-p,0,0,0)}let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s),u=r.doc.lineAt(t),d=l+u.length*c,h=u.number-a,m=i+l*h+c*(u.from-s-h);return new yo(u.from,u.length,Math.max(i,Math.min(m,i+this.height-d)),d,0)}forEachLine(t,n,r,i,s,a){t=Math.max(t,s),n=Math.min(n,s+this.length);let{firstLine:l,perLine:c,perChar:u}=this.heightMetrics(r,s);for(let d=t,h=i;d<=n;){let m=r.doc.lineAt(d);if(d==t){let g=m.number-l;h+=c*g+u*(t-s-g)}let p=c+u*m.length;a(new yo(m.from,m.length,h,p,0)),h+=p,d=m.to+1}}replace(t,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof bi?r[r.length-1]=new bi(s.length+i):r.push(null,new bi(i-1))}if(t>0){let s=r[0];s instanceof bi?r[0]=new bi(t+s.length):r.unshift(new bi(t-1),null)}return os.of(r)}decomposeLeft(t,n){n.push(new bi(t-1),null)}decomposeRight(t,n){n.push(null,new bi(this.length-t-1))}updateHeight(t,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],l=Math.max(n,i.from),c=-1;for(i.from>n&&a.push(new bi(i.from-n-1).updateHeight(t,n));l<=s&&i.more;){let d=t.doc.lineAt(l).length;a.length&&a.push(null);let h=i.heights[i.index++],m=0;h<0&&(m=-h,h=i.heights[i.index++]),c==-1?c=h:Math.abs(h-c)>=s_&&(c=-2);let p=new ta(d,h,m);p.outdated=!1,a.push(p),l+=d+1}l<=s&&a.push(null,new bi(s-l).updateHeight(t,l));let u=os.of(a);return(c<0||Math.abs(u.height-this.height)>=s_||Math.abs(c-this.heightMetrics(t,n).perLine)>=s_)&&(ym=!0),ow(this,u)}else(r||this.outdated)&&(this.setHeight(t.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class O4e extends os{constructor(t,n,r){super(t.length+n+r.length,t.height+r.height,n|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}get break(){return this.flags&1}blockAt(t,n,r,i){let s=r+this.left.height;return t<s?this.left.blockAt(t,n,r,i):this.right.blockAt(t,n,s,i+this.left.length+this.break)}lineAt(t,n,r,i,s){let a=i+this.left.height,l=s+this.left.length+this.break,c=n==$n.ByHeight?t<a:t<l,u=c?this.left.lineAt(t,n,r,i,s):this.right.lineAt(t,n,r,a,l);if(this.break||(c?u.to<l:u.from>l))return u;let d=n==$n.ByPosNoHeight?$n.ByPosNoHeight:$n.ByPos;return c?u.join(this.right.lineAt(l,d,r,a,l)):this.left.lineAt(l,d,r,i,s).join(u)}forEachLine(t,n,r,i,s,a){let l=i+this.left.height,c=s+this.left.length+this.break;if(this.break)t<c&&this.left.forEachLine(t,n,r,i,s,a),n>=c&&this.right.forEachLine(t,n,r,l,c,a);else{let u=this.lineAt(c,$n.ByPos,r,i,s);t<u.from&&this.left.forEachLine(t,u.from-1,r,i,s,a),u.to>=t&&u.from<=n&&a(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,l,c,a)}}replace(t,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(t,n,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,n-i,r));let s=[];t>0&&this.decomposeLeft(t,s);let a=s.length;for(let l of r)s.push(l);if(t>0&&l$(s,a-1),n<this.length){let l=s.length;this.decomposeRight(n,s),l$(s,l)}return os.of(s)}decomposeLeft(t,n){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,n);n.push(this.left),this.break&&(r++,t>=r&&n.push(null)),t>r&&this.right.decomposeLeft(t-r,n)}decomposeRight(t,n){let r=this.left.length,i=r+this.break;if(t>=i)return this.right.decomposeRight(t-i,n);t<r&&this.left.decomposeRight(t,n),this.break&&t<i&&n.push(null),n.push(this.right)}balanced(t,n){return t.size>2*n.size||n.size>2*t.size?os.of(this.break?[t,null,n]:[t,n]):(this.left=ow(this.left,t),this.right=ow(this.right,n),this.setHeight(t.height+n.height),this.outdated=t.outdated||n.outdated,this.size=t.size+n.size,this.length=t.length+this.break+n.length,this)}updateHeight(t,n=0,r=!1,i){let{left:s,right:a}=this,l=n+s.length+this.break,c=null;return i&&i.from<=n+s.length&&i.more?c=s=s.updateHeight(t,n,r,i):s.updateHeight(t,n,r),i&&i.from<=l+a.length&&i.more?c=a=a.updateHeight(t,l,r,i):a.updateHeight(t,l,r),c?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function l$(e,t){let n,r;e[t]==null&&(n=e[t-1])instanceof bi&&(r=e[t+1])instanceof bi&&e.splice(t-1,3,new bi(n.length+1+r.length))}const P4e=5;class eA{constructor(t,n){this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ta?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ta(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(t,n,r){if(t<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-t;r.block?this.addBlock(new CX(a,i,r)):(a||s||i>=P4e)&&this.addLineDeco(i,s,a)}else n>t&&this.span(t,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new ta(this.pos-t,-1,0)),this.writtenTo=this.pos}blankContent(t,n){let r=new bi(n-t);return this.oracle.doc.lineAt(t).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof ta)return t;let n=new ta(0,-1,0);return this.nodes.push(n),n}addBlock(t){this.enterLine();let n=t.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,n&&n.endSide>0&&(this.covering=t)}addLineDeco(t,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(t){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ta)&&!this.isCovered?this.nodes.push(new ta(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=t;for(let i of this.nodes)i instanceof ta&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(t,n,r,i){let s=new eA(r,t);return an.spans(n,r,i,s,0),s.finish(r)}}function E4e(e,t,n){let r=new M4e;return an.compare(e,t,n,r,0),r.changes}class M4e{constructor(){this.changes=[]}compareRange(){}comparePoint(t,n,r,i){(t<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Lf(t,n,this.changes,5)}}function T4e(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),l=Math.max(0,n.top),c=Math.min(i.innerHeight,n.bottom);for(let u=e.parentNode;u&&u!=r.body;)if(u.nodeType==1){let d=u,h=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&h.overflow!="visible"){let m=d.getBoundingClientRect();s=Math.max(s,m.left),a=Math.min(a,m.right),l=Math.max(l,m.top),c=Math.min(u==e.parentNode?i.innerHeight:c,m.bottom)}u=h.position=="absolute"||h.position=="fixed"?d.offsetParent:d.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,a)-n.left,top:l-(n.top+t),bottom:Math.max(l,c)-(n.top+t)}}function A4e(e){let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView||window;return t.left<n.innerWidth&&t.right>0&&t.top<n.innerHeight&&t.bottom>0}function z4e(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class WS{constructor(t,n,r,i){this.from=t,this.to=n,this.size=r,this.displaySize=i}static same(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(t,n){return $t.replace({widget:new D4e(this.displaySize*(n?t.scaleY:t.scaleX),n)}).range(this.from,this.to)}}class D4e extends El{constructor(t,n){super(),this.size=t,this.vertical=n}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class c${constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=u$,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Mn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=t.facet(XT).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new S4e(n),this.stateDeco=t.facet(_y).filter(r=>typeof r!="function"),this.heightMap=os.empty().applyChanges(this.stateDeco,vn.empty,this.heightOracle.setDoc(t.doc),[new Aa(0,0,0,t.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=$t.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!t.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);t.push(new Qv(s,a))}}return this.viewports=t.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?u$:new tA(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Qp(t,this.scaler))})}update(t,n=null){this.state=t.state;let r=this.stateDeco;this.stateDeco=this.state.facet(_y).filter(d=>typeof d!="function");let i=t.changedRanges,s=Aa.extendWithRanges(i,E4e(r,this.stateDeco,t?t.changes:Fr.empty(this.state.doc.length))),a=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);o$(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=a||ym)&&(t.flags|=2),l?(this.scrollAnchorPos=t.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=a);let c=s.length?this.mapViewport(this.viewport,t.changes):this.viewport;(n&&(n.range.head<c.from||n.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,n));let u=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,t.flags|=this.updateForViewport(),(u||!t.changes.empty||t.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(t.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(iX)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let n=t.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Mn.RTL:Mn.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),l=n.getBoundingClientRect(),c=a||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,d=0;if(l.width&&l.height){let{scaleX:_,scaleY:j}=BQ(n,l);(_>.005&&Math.abs(this.scaleX-_)>.005||j>.005&&Math.abs(this.scaleY-j)>.005)&&(this.scaleX=_,this.scaleY=j,u|=16,a=c=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,m=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=m)&&(this.paddingTop=h,this.paddingBottom=m,u|=18),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=t.scrollDOM.clientWidth,u|=16);let p=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=p&&(this.scrollAnchorHeight=-1,this.scrollTop=p),this.scrolledToBottom=WQ(t.scrollDOM);let g=(this.printing?z4e:T4e)(n,this.paddingTop),y=g.top-this.pixelViewport.top,x=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(c=!0)),!this.inView&&!this.scrollTarget&&!A4e(t.dom))return 0;let w=l.width;if((this.contentDOMWidth!=w||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=t.scrollDOM.clientHeight,u|=16),c){let _=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(_)&&(a=!0),a||i.lineWrapping&&Math.abs(w-this.contentDOMWidth)>i.charWidth){let{lineHeight:j,charWidth:k,textHeight:C}=t.docView.measureTextSize();a=j>0&&i.refresh(s,j,k,C,Math.max(5,w/k),_),a&&(t.docView.minWidth=0,u|=16)}y>0&&x>0?d=Math.max(y,x):y<0&&x<0&&(d=Math.min(y,x)),o$();for(let j of this.viewports){let k=j.from==this.viewport.from?_:t.docView.measureVisibleLineHeights(j);this.heightMap=(a?os.empty().applyChanges(this.stateDeco,vn.empty,this.heightOracle,[new Aa(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new N4e(j.from,k))}ym&&(u|=2)}let v=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),u|=this.updateForViewport()),(u&2||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,t)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,n){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:l}=this,c=new Qv(i.lineAt(a-r*1e3,$n.ByHeight,s,0,0).from,i.lineAt(l+(1-r)*1e3,$n.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<c.from||u>c.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(u,$n.ByPos,s,0,0),m;n.y=="center"?m=(h.top+h.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&u<c.from?m=h.top:m=h.bottom-d,c=new Qv(i.lineAt(m-1e3/2,$n.ByHeight,s,0,0).from,i.lineAt(m+d+1e3/2,$n.ByHeight,s,0,0).to)}}return c}mapViewport(t,n){let r=n.mapPos(t.from,-1),i=n.mapPos(t.to,1);return new Qv(this.heightMap.lineAt(r,$n.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,$n.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,$n.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,$n.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:l}=this;return(t==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=l+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&s<l+2*1e3}mapLineGaps(t,n){if(!t.length||n.empty)return t;let r=[];for(let i of t)n.touchesRange(i.from,i.to)||r.push(new WS(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(t,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=Mn.LTR&&!r)return[];let l=[],c=(d,h,m,p)=>{if(h-d<s)return;let g=this.state.selection.main,y=[g.from];g.empty||y.push(g.to);for(let b of y)if(b>d&&b<h){c(d,b-10,m,p),c(b+10,h,m,p);return}let x=I4e(t,b=>b.from>=m.from&&b.to<=m.to&&Math.abs(b.from-d)<s&&Math.abs(b.to-h)<s&&!y.some(w=>b.from<w&&b.to>w));if(!x){if(h<m.to&&n&&r&&n.visibleRanges.some(v=>v.from<=h&&v.to>=h)){let v=n.moveToLineBoundary(Ee.cursor(h),!1,!0).head;v>d&&(h=v)}let b=this.gapSize(m,d,h,p),w=r||b<2e6?b:2e6;x=new WS(d,h,b,w)}l.push(x)},u=d=>{if(d.length<a||d.type!=Ci.Text)return;let h=R4e(d.from,d.to,this.stateDeco);if(h.total<a)return;let m=this.scrollTarget?this.scrollTarget.range.head:null,p,g;if(r){let y=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,b;if(m!=null){let w=Zv(h,m),v=((this.visibleBottom-this.visibleTop)/2+y)/d.height;x=w-v,b=w+v}else x=(this.visibleTop-d.top-y)/d.height,b=(this.visibleBottom-d.top+y)/d.height;p=Xv(h,x),g=Xv(h,b)}else{let y=h.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,b=0;if(y>2e6)for(let k of t)k.from>=d.from&&k.from<d.to&&k.size!=k.displaySize&&k.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=k.size-k.displaySize);let w=this.pixelViewport.left+b,v=this.pixelViewport.right+b,_,j;if(m!=null){let k=Zv(h,m),C=((v-w)/2+x)/y;_=k-C,j=k+C}else _=(w-x)/y,j=(v+x)/y;p=Xv(h,_),g=Xv(h,j)}p>d.from&&c(d.from,p,d,h),g<d.to&&c(g,d.to,d,h)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(u):u(d);return l}gapSize(t,n,r,i){let s=Zv(i,r)-Zv(i,n);return this.heightOracle.lineWrapping?t.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(t){WS.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=$t.set(t.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(t){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];an.spans(n,this.viewport.from,this.viewport.to,{span(s,a){r.push({from:s,to:a})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let a=this.visibleRanges[s],l=r[s];(a.from!=l.from||a.to!=l.to)&&(i|=4,t&&t.mapPos(a.from,-1)==l.from&&t.mapPos(a.to,1)==l.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(n=>n.from<=t&&n.to>=t)||Qp(this.heightMap.lineAt(t,$n.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=t&&n.bottom>=t)||Qp(this.heightMap.lineAt(this.scaler.fromDOM(t),$n.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let n=this.lineBlockAtHeight(t+8);return n.from>=this.viewport.from||this.viewportLines[0].top-t>200?n:this.viewportLines[0]}elementAtHeight(t){return Qp(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Qv{constructor(t,n){this.from=t,this.to=n}}function R4e(e,t,n){let r=[],i=e,s=0;return an.spans(n,e,t,{span(){},point(a,l){a>i&&(r.push({from:i,to:a}),s+=a-i),i=l}},20),i<t&&(r.push({from:i,to:t}),s+=t-i),{total:s,ranges:r}}function Xv({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let i=0;;i++){let{from:s,to:a}=t[i],l=a-s;if(r<=l)return s+r;r-=l}}function Zv(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}function I4e(e,t){for(let n of e)if(t(n))return n}const u$={toDOM(e){return e},fromDOM(e){return e},scale:1,eq(e){return e==this}};class tA{constructor(t,n,r){let i=0,s=0,a=0;this.viewports=r.map(({from:l,to:c})=>{let u=n.lineAt(l,$n.ByPos,t,0,0).top,d=n.lineAt(c,$n.ByPos,t,0,0).bottom;return i+=d-u,{from:l,to:c,top:u,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let l of this.viewports)l.domTop=a+(l.top-s)*this.scale,a=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(t){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||t<s.top)return i+(t-r)*this.scale;if(t<=s.bottom)return s.domTop+(t-s.top);r=s.bottom,i=s.domBottom}}fromDOM(t){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||t<s.domTop)return r+(t-i)/this.scale;if(t<=s.domBottom)return s.top+(t-s.domTop);r=s.bottom,i=s.domBottom}}eq(t){return t instanceof tA?this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((n,r)=>n.from==t.viewports[r].from&&n.to==t.viewports[r].to):!1}}function Qp(e,t){if(t.scale==1)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new yo(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map(i=>Qp(i,t)):e._content)}const Jv=pt.define({combine:e=>e.join(" ")}),N2=pt.define({combine:e=>e.indexOf(!0)>-1}),C2=Lu.newName(),OX=Lu.newName(),PX=Lu.newName(),EX={"&light":"."+OX,"&dark":"."+PX};function O2(e,t,n){return new Lu(t,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return e;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):e+" "+r}})}const L4e=O2("."+C2,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},EX),$4e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},US=mt.ie&&mt.ie_version<=11;class F4e{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new yIe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(mt.ie&&mt.ie_version<=11||mt.ios&&t.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&mt.android&&t.constructor.EDIT_CONTEXT!==!1&&!(mt.chrome&&mt.chrome_version<126)&&(this.editContext=new q4e(t),t.state.facet(Xl)&&(t.contentDOM.editContext=this.editContext.editContext)),US&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type=="change"||!t.type)&&!t.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((n,r)=>n!=t[r]))){this.gapIntersection.disconnect();for(let n of t)this.gapIntersection.observe(n);this.gaps=t}}onSelectionChange(t){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Xl)?r.root.activeElement!=this.dom:!i_(this.dom,i))return;let s=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(s&&s.isWidget()&&s.widget.ignoreEvent(t)){n||(this.selectionChanged=!1);return}(mt.ie&&mt.ie_version<=11||mt.android&&mt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&yg(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,n=xy(t.root);if(!n)return!1;let r=mt.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&B4e(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=i_(this.dom,r);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&vIe(this.dom,r)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,n){this.selectionRange.set(t.node,t.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:n||(n=this.scrollTargets.slice(0,t)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(t<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,t)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,$4e),US&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),US&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&$f(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of t){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:t,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&i_(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new s4e(this.view,t,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=yX(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let n=this.view.docView.tile.nearest(t.target);if(!n||n.isWidget())return null;if(n.markDirty(t.type=="attributes"),t.type=="childList"){let r=d$(n,t.previousSibling||t.target.previousSibling,-1),i=d$(n,t.nextSibling||t.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Xl)!=t.state.facet(Xl)&&(t.view.contentDOM.editContext=t.state.facet(Xl)?this.editContext.editContext:null))}destroy(){var t,n,r;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function d$(e,t,n){for(;t;){let r=Vr.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function h$(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor,1);return yg(a.node,a.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function B4e(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return h$(e,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",r,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",r,!0),n?h$(e,n):null}class q4e{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(t.state);let n=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=r=>{let i=t.state.selection.main,{anchor:s,head:a}=i,l=this.toEditorPos(r.updateRangeStart),c=this.toEditorPos(r.updateRangeEnd);t.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:l,drifted:!1});let u=c-l>r.text.length;l==this.from&&s<this.from?l=s:c==this.to&&s>this.to&&(c=s);let d=xX(t.state.sliceDoc(l,c),r.text,(u?i.from:i.to)-l,u?"end":null);if(!d){let m=Ee.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));m.main.eq(i)||t.dispatch({selection:m,userEvent:"select"});return}let h={from:d.from+l,to:d.toA+l,insert:vn.of(r.text.slice(d.from,d.toB).split(`
`))};if((mt.mac||mt.android)&&h.from==a-1&&/^\. ?$/.test(r.text)&&t.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:l,to:c,insert:vn.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!t.state.readOnly){let m=this.to-this.from+(h.to-h.from+h.insert.length);JT(t,h,Ee.single(this.toEditorPos(r.selectionStart,m),this.toEditorPos(r.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)),h.from<h.to&&!h.insert.length&&t.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let a=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);a<l;a++){let c=t.coordsForChar(a);s=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let a=s.underlineStyle,l=s.underlineThickness;if(!/none/i.test(a)&&!/none/i.test(l)){let c=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(c<u){let d=`text-decoration: underline ${/^[a-z]/.test(a)?a+" ":a=="Dashed"?"dashed ":a=="Squiggle"?"wavy ":""}${/thin/i.test(l)?1:2}px`;i.push($t.mark({attributes:{style:d}}).range(c,u))}}}t.dispatch({effects:aX.of($t.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(t.inputState.composing=-1,t.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(t.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=xy(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let n=0,r=!1,i=this.pendingContextChange;return t.changes.iterChanges((s,a,l,c,u)=>{if(r)return;let d=u.length-(a-s);if(i&&a>=i.to)if(i.from==s&&i.to==a&&i.insert.eq(u)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(t.state);if(s+=n,a+=n,a<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||a>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(a),u.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(t.state),!r}update(t){let n=this.pendingContextChange,r=t.startState.selection.main;this.composing&&(this.composing.drifted||!t.changes.touchesRange(r.from,r.to)&&t.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=t.changes.mapPos(this.composing.editorBase)):!this.applyEdits(t)||!this.rangeIsValid(t.state)?(this.pendingContextChange=null,this.reset(t.state)):(t.docChanged||t.selectionSet||n)&&this.setSelection(t.state),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:n}=t.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(t.doc.length,n+1e4)}reset(t){this.resetRange(t),this.editContext.updateText(0,this.editContext.text.length,t.doc.sliceString(this.from,this.to)),this.setSelection(t)}revertPending(t){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),t.doc.sliceString(n.from,n.to))}setSelection(t){let{main:n}=t.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(t){let{head:n}=t.selection.main;return!(this.from>0&&n-this.from<500||this.to<t.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(t,n=this.to-this.from){t=Math.min(t,n);let r=this.composing;return r&&r.drifted?r.editorBase+(t-r.contextBase):t+this.from}toContextPos(t){let n=this.composing;return n&&n.drifted?n.contextBase+(t-n.editorBase):t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class ct{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:r}=t;this.dispatchTransactions=t.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=t.root||xIe(t.parent)||document,this.viewState=new c$(t.state||dn.create(t)),t.scrollTo&&t.scrollTo.is(Kv)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(bf).map(i=>new LS(i));for(let i of this.plugins)i.update(this);this.observer=new F4e(this),this.inputState=new c4e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new GL(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let n=t.length==1&&t[0]instanceof Ur?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(n,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let m of t){if(m.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=m.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,l=0,c=null;t.some(m=>m.annotation(kX))?(this.inputState.notifiedFocused=a,l=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,c=SX(s,a),c||(l=1));let u=this.observer.delayedAndroidKey,d=null;if(u?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(dn.phrases)!=this.state.facet(dn.phrases))return this.setState(s);i=iw.create(this,s,t),i.flags|=l;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let m of t){if(h&&(h=h.map(m.changes)),m.scrollIntoView){let{main:p}=m.state.selection;h=new Ff(p.empty?p:Ee.cursor(p.head,p.head>p.anchor?-1:1))}for(let p of m.effects)p.is(Kv)&&(h=p.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=lw.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Yp)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some(m=>m.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Jv)!=i.state.facet(Jv)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let m of this.state.facet(_2))try{m(i)}catch(p){zs(this.state,p,"update listener")}(c||d)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),d&&!yX(this,d)&&u.force&&$f(this.contentDOM,u.key,u.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new c$(t),this.plugins=t.facet(bf).map(r=>new LS(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new GL(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(t){let n=t.startState.facet(bf),r=t.state.facet(bf);if(n!=r){let i=[];for(let s of r){let a=n.indexOf(s);if(a<0)i.push(new LS(s));else{let l=this.plugins[a];l.mustUpdate=t,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=t&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let n=t.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){zs(this.state,r,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(a<0)if(WQ(r))s=-1,a=this.viewState.heightMap.height;else{let p=this.viewState.scrollAnchorAt(i);s=p.from,a=p.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];c&4||([this.measureRequests,u]=[u,this.measureRequests]);let d=u.map(p=>{try{return p.read(this)}catch(g){return zs(this.state,g),f$}}),h=iw.create(this,this.state,[]),m=!1;h.flags|=c,n?n.flags|=c:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),m=this.docView.update(h),m&&this.docViewUpdate());for(let p=0;p<u.length;p++)if(d[p]!=f$)try{let g=u[p];g.write&&g.write(d[p],this)}catch(g){zs(this.state,g)}if(m&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-a;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let l of this.state.facet(_2))l(n)}get themeClasses(){return C2+" "+(this.state.facet(N2)?PX:OX)+" "+this.state.facet(Jv)}updateAttrs(){let t=m$(this,oX,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Xl)?"true":"false",class:"cm-content",style:`${mt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),m$(this,XT,n);let r=this.observer.ignore(()=>{let i=WL(this.contentDOM,this.contentAttrs,n),s=WL(this.dom,this.editorAttrs,t);return i||s});return this.editorAttrs=t,this.contentAttrs=n,r}showAnnouncements(t){let n=!0;for(let r of t)for(let i of r.effects)if(i.is(ct.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Yp);let t=this.state.facet(ct.cspNonce);Lu.mount(this.root,this.styleModules.concat(L4e).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===t.key){this.measureRequests[n]=t;return}}this.measureRequests.push(t)}}plugin(t){let n=this.pluginMap.get(t);return(n===void 0||n&&n.plugin!=t)&&this.pluginMap.set(t,n=this.plugins.find(r=>r.plugin==t)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,n,r){return qS(this,t,QL(this,t,n,r))}moveByGroup(t,n){return qS(this,t,QL(this,t,n,r=>e4e(this,t.head,r)))}visualLineSide(t,n){let r=this.bidiSpans(t),i=this.textDirectionAt(t.from),s=r[n?r.length-1:0];return Ee.cursor(s.side(n,i)+t.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(t,n,r=!0){return JIe(this,t,n,r)}moveVertically(t,n,r){return qS(this,t,t4e(this,t,n,r))}domAtPos(t,n=1){return this.docView.domAtPos(t,n)}posAtDOM(t,n=0){return this.docView.posFromDOM(t,n)}posAtCoords(t,n=!0){this.readMeasured();let r=k2(this,t,n);return r&&r.pos}posAndSideAtCoords(t,n=!0){return this.readMeasured(),k2(this,t,n)}coordsAtPos(t,n=1){this.readMeasured();let r=this.docView.coordsAt(t,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(t),s=this.bidiSpans(i),a=s[sc.find(s,t-i.from,-1,n)];return vy(r,a.dir==Mn.LTR==n>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(rX)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>W4e)return GQ(t.length);let n=this.textDirectionAt(t.from),r;for(let s of this.bidiCache)if(s.from==t.from&&s.dir==n&&(s.fresh||YQ(s.isolates,r=HL(this,t))))return s.order;r||(r=HL(this,t));let i=NIe(t.text,n,r);return this.bidiCache.push(new lw(t.from,t.to,n,r,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||mt.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{qQ(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,n={}){return Kv.of(new Ff(typeof t=="number"?Ee.cursor(t):t,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(t);return Kv.of(new Ff(Ee.cursor(r.from),"start","start",r.top-t,n,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return Sr.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return Sr.define(()=>({}),{eventObservers:t})}static theme(t,n){let r=Lu.newName(),i=[Jv.of(r),Yp.of(O2(`.${r}`,t))];return n&&n.dark&&i.push(N2.of(!0)),i}static baseTheme(t){return Nh.lowest(Yp.of(O2("."+C2,t,EX)))}static findFromDOM(t){var n;let r=t.querySelector(".cm-content"),i=r&&Vr.get(r)||Vr.get(t);return((n=i==null?void 0:i.root)===null||n===void 0?void 0:n.view)||null}}ct.styleModule=Yp;ct.inputHandler=tX;ct.clipboardInputFilter=GT;ct.clipboardOutputFilter=QT;ct.scrollHandler=sX;ct.focusChangeEffect=nX;ct.perLineTextDirection=rX;ct.exceptionSink=eX;ct.updateListener=_2;ct.editable=Xl;ct.mouseSelectionStyle=JQ;ct.dragMovesSelection=ZQ;ct.clickAddsSelectionRange=XQ;ct.decorations=_y;ct.blockWrappers=lX;ct.outerDecorations=cX;ct.atomicRanges=$x;ct.bidiIsolatedRanges=uX;ct.scrollMargins=dX;ct.darkTheme=N2;ct.cspNonce=pt.define({combine:e=>e.length?e[0]:""});ct.contentAttributes=XT;ct.editorAttributes=oX;ct.lineWrapping=ct.contentAttributes.of({class:"cm-lineWrapping"});ct.announce=Gt.define();const W4e=4096,f$={};class lw{constructor(t,n,r,i,s,a){this.from=t,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=a}static update(t,n){if(n.empty&&!t.some(s=>s.fresh))return t;let r=[],i=t.length?t[t.length-1].dir:Mn.LTR;for(let s=Math.max(0,t.length-10);s<t.length;s++){let a=t[s];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new lw(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function m$(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let s=r[i],a=typeof s=="function"?s(e):s;a&&HT(a,n)}return n}const U4e=mt.mac?"mac":mt.windows?"win":mt.linux?"linux":"key";function V4e(e,t){const n=e.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,a,l;for(let c=0;c<n.length-1;++c){const u=n[c];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))t=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),l&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function eb(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n!==!1&&t.shiftKey&&(e="Shift-"+e),e}const H4e=Nh.default(ct.domEventHandlers({keydown(e,t){return TX(MX(t.state),e,t,"editor")}})),B1=pt.define({enables:H4e}),p$=new WeakMap;function MX(e){let t=e.facet(B1),n=p$.get(t);return n||p$.set(t,n=G4e(t.reduce((r,i)=>r.concat(i),[]))),n}function K4e(e,t,n){return TX(MX(e.state),t,e,n)}let uu=null;const Y4e=4e3;function G4e(e,t=U4e){let n=Object.create(null),r=Object.create(null),i=(a,l)=>{let c=r[a];if(c==null)r[a]=l;else if(c!=l)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,l,c,u,d)=>{var h,m;let p=n[a]||(n[a]=Object.create(null)),g=l.split(/ (?!$)/).map(b=>V4e(b,t));for(let b=1;b<g.length;b++){let w=g.slice(0,b).join(" ");i(w,!0),p[w]||(p[w]={preventDefault:!0,stopPropagation:!1,run:[v=>{let _=uu={view:v,prefix:w,scope:a};return setTimeout(()=>{uu==_&&(uu=null)},Y4e),!0}]})}let y=g.join(" ");i(y,!1);let x=p[y]||(p[y]={preventDefault:!1,stopPropagation:!1,run:((m=(h=p._any)===null||h===void 0?void 0:h.run)===null||m===void 0?void 0:m.slice())||[]});c&&x.run.push(c),u&&(x.preventDefault=!0),d&&(x.stopPropagation=!0)};for(let a of e){let l=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of l){let d=n[u]||(n[u]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=a;for(let m in d)d[m].run.push(p=>h(p,P2))}let c=a[t]||a.key;if(c)for(let u of l)s(u,c,a.run,a.preventDefault,a.stopPropagation),a.shift&&s(u,"Shift-"+c,a.shift,a.preventDefault,a.stopPropagation)}return n}let P2=null;function TX(e,t,n,r){P2=t;let i=cIe(t),s=Cs(i,0),a=el(s)==i.length&&i!=" ",l="",c=!1,u=!1,d=!1;uu&&uu.view==n&&uu.scope==r&&(l=uu.prefix+" ",bX.indexOf(t.keyCode)<0&&(u=!0,uu=null));let h=new Set,m=x=>{if(x){for(let b of x.run)if(!h.has(b)&&(h.add(b),b(n)))return x.stopPropagation&&(d=!0),!0;x.preventDefault&&(x.stopPropagation&&(d=!0),u=!0)}return!1},p=e[r],g,y;return p&&(m(p[l+eb(i,t,!a)])?c=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(mt.windows&&t.ctrlKey&&t.altKey)&&!(mt.mac&&t.altKey&&!(t.ctrlKey||t.metaKey))&&(g=$u[t.keyCode])&&g!=i?(m(p[l+eb(g,t,!0)])||t.shiftKey&&(y=gy[t.keyCode])!=i&&y!=g&&m(p[l+eb(y,t,!1)]))&&(c=!0):a&&t.shiftKey&&m(p[l+eb(i,t,!0)])&&(c=!0),!c&&m(p._any)&&(c=!0)),u&&(c=!0),c&&d&&t.stopPropagation(),P2=null,c}class Fx{constructor(t,n,r,i,s){this.className=t,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,n){return n.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,n,r){if(r.empty){let i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=AX(t);return[new Fx(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Q4e(t,n,r)}}function AX(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Mn.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function g$(e,t,n,r){let i=e.coordsAtPos(t,n*2);if(!i)return r;let s=e.dom.getBoundingClientRect(),a=(i.top+i.bottom)/2,l=e.posAtCoords({x:s.left+1,y:a}),c=e.posAtCoords({x:s.right-1,y:a});return l==null||c==null?r:{from:Math.max(r.from,Math.min(l,c)),to:Math.min(r.to,Math.max(l,c))}}function Q4e(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),s=e.textDirection==Mn.LTR,a=e.contentDOM,l=a.getBoundingClientRect(),c=AX(e),u=a.querySelector(".cm-line"),d=u&&window.getComputedStyle(u),h=l.left+(d?parseInt(d.paddingLeft)+Math.min(0,parseInt(d.textIndent)):0),m=l.right-(d?parseInt(d.paddingRight):0),p=j2(e,r,1),g=j2(e,i,-1),y=p.type==Ci.Text?p:null,x=g.type==Ci.Text?g:null;if(y&&(e.lineWrapping||p.widgetLineBreaks)&&(y=g$(e,r,1,y)),x&&(e.lineWrapping||g.widgetLineBreaks)&&(x=g$(e,i,-1,x)),y&&x&&y.from==x.from&&y.to==x.to)return w(v(n.from,n.to,y));{let j=y?v(n.from,null,y):_(p,!1),k=x?v(null,n.to,x):_(g,!0),C=[];return(y||p).to<(x||g).from-(y&&x?1:0)||p.widgetLineBreaks>1&&j.bottom+e.defaultLineHeight/2<k.top?C.push(b(h,j.bottom,m,k.top)):j.bottom<k.top&&e.elementAtHeight((j.bottom+k.top)/2).type==Ci.Text&&(j.bottom=k.top=(j.bottom+k.top)/2),w(j).concat(C).concat(w(k))}function b(j,k,C,O){return new Fx(t,j-c.left,k-c.top,C-j,O-k)}function w({top:j,bottom:k,horizontal:C}){let O=[];for(let P=0;P<C.length;P+=2)O.push(b(C[P],j,C[P+1],k));return O}function v(j,k,C){let O=1e9,P=-1e9,M=[];function A(F,U,L,D,T){let $=e.coordsAtPos(F,F==C.to?-2:2),G=e.coordsAtPos(L,L==C.from?2:-2);!$||!G||(O=Math.min($.top,G.top,O),P=Math.max($.bottom,G.bottom,P),T==Mn.LTR?M.push(s&&U?h:$.left,s&&D?m:G.right):M.push(!s&&D?h:G.left,!s&&U?m:$.right))}let R=j??C.from,B=k??C.to;for(let F of e.visibleRanges)if(F.to>R&&F.from<B)for(let U=Math.max(F.from,R),L=Math.min(F.to,B);;){let D=e.state.doc.lineAt(U);for(let T of e.bidiSpans(D)){let $=T.from+D.from,G=T.to+D.from;if($>=L)break;G>U&&A(Math.max($,U),j==null&&$<=R,Math.min(G,L),k==null&&G>=B,T.dir)}if(U=D.to+1,U>=L)break}return M.length==0&&A(R,j==null,B,k==null,e.textDirection),{top:O,bottom:P,horizontal:M}}function _(j,k){let C=l.top+(k?j.top:j.bottom);return{top:C,bottom:C,horizontal:[]}}}function X4e(e,t){return e.constructor==t.constructor&&e.eq(t)}class Z4e{constructor(t,n){this.view=t,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}update(t){t.startState.facet(a_)!=t.state.facet(a_)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let n=0,r=t.facet(a_);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:n}=this.view;(t!=this.scaleX||n!=this.scaleY)&&(this.scaleX=t,this.scaleY=n,this.dom.style.transform=`scale(${1/t}, ${1/n})`)}draw(t){if(t.length!=this.drawn.length||t.some((n,r)=>!X4e(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of t)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=t,mt.safari&&mt.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const a_=pt.define();function zX(e){return[Sr.define(t=>new Z4e(t,e)),a_.of(e)]}const wy=pt.define({combine(e){return Pl(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,n)=>Math.min(t,n),drawRangeCursor:(t,n)=>t||n})}});function J4e(e={}){return[wy.of(e),e3e,t3e,n3e,iX.of(!0)]}function DX(e){return e.startState.facet(wy)!=e.state.facet(wy)}const e3e=zX({above:!0,markers(e){let{state:t}=e,n=t.facet(wy),r=[];for(let i of t.selection.ranges){let s=i==t.selection.main;if(i.empty||n.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:Ee.cursor(i.head,i.head>i.anchor?-1:1);for(let c of Fx.forRange(e,a,l))r.push(c)}}return r},update(e,t){e.transactions.some(r=>r.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=DX(e);return n&&y$(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){y$(t.state,e)},class:"cm-cursorLayer"});function y$(e,t){t.style.animationDuration=e.facet(wy).cursorBlinkRate+"ms"}const t3e=zX({above:!1,markers(e){return e.state.selection.ranges.map(t=>t.empty?[]:Fx.forRange(e,"cm-selectionBackground",t)).reduce((t,n)=>t.concat(n))},update(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||DX(e)},class:"cm-selectionLayer"}),n3e=Nh.highest(ct.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),RX=Gt.define({map(e,t){return e==null?null:t.mapPos(e)}}),Xp=Ei.define({create(){return null},update(e,t){return e!=null&&(e=t.changes.mapPos(e)),t.effects.reduce((n,r)=>r.is(RX)?r.value:n,e)}}),r3e=Sr.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(Xp);n==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Xp)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(Xp),n=t!=null&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(Xp)!=e&&this.view.dispatch({effects:RX.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){(e.target==this.view.contentDOM||!this.view.contentDOM.contains(e.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function i3e(){return[Xp,r3e]}function x$(e,t,n,r,i){t.lastIndex=0;for(let s=e.iterRange(n,r),a=n,l;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;l=t.exec(s.value);)i(a+l.index,l)}function s3e(e,t){let n=e.visibleRanges;if(n.length==1&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),s=Math.min(e.state.doc.lineAt(s).to,s+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class a3e{constructor(t){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:a=1e3}=t;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(l,c,u,d)=>i(d,u,u+l[0].length,l,c);else if(typeof r=="function")this.addMatch=(l,c,u,d)=>{let h=r(l,c,u);h&&d(u,u+l[0].length,h)};else if(r)this.addMatch=(l,c,u,d)=>d(u,u+l[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(t){let n=new kc,r=n.add.bind(n);for(let{from:i,to:s}of s3e(t,this.maxLength))x$(t.state.doc,this.regexp,i,s,(a,l)=>this.addMatch(l,t,a,r));return n.finish()}updateDeco(t,n){let r=1e9,i=-1;return t.docChanged&&t.changes.iterChanges((s,a,l,c)=>{c>=t.view.viewport.from&&l<=t.view.viewport.to&&(r=Math.min(l,r),i=Math.max(c,i))}),t.viewportMoved||i-r>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,n.map(t.changes),r,i):n}updateRange(t,n,r,i){for(let s of t.visibleRanges){let a=Math.max(s.from,r),l=Math.min(s.to,i);if(l>=a){let c=t.state.doc.lineAt(a),u=c.to<l?t.state.doc.lineAt(l):c,d=Math.max(s.from,c.from),h=Math.min(s.to,u.to);if(this.boundary){for(;a>c.from;a--)if(this.boundary.test(c.text[a-1-c.from])){d=a;break}for(;l<u.to;l++)if(this.boundary.test(u.text[l-u.from])){h=l;break}}let m=[],p,g=(y,x,b)=>m.push(b.range(y,x));if(c==u)for(this.regexp.lastIndex=d-c.from;(p=this.regexp.exec(c.text))&&p.index<h-c.from;)this.addMatch(p,t,p.index+c.from,g);else x$(t.state.doc,this.regexp,d,h,(y,x)=>this.addMatch(x,t,y,g));n=n.update({filterFrom:d,filterTo:h,filter:(y,x)=>y<d||x>h,add:m})}}return n}}const E2=/x/.unicode!=null?"gu":"g",o3e=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,E2),l3e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let VS=null;function c3e(){var e;if(VS==null&&typeof document<"u"&&document.body){let t=document.body.style;VS=((e=t.tabSize)!==null&&e!==void 0?e:t.MozTabSize)!=null}return VS||!1}const o_=pt.define({combine(e){let t=Pl(e,{render:null,specialChars:o3e,addSpecialChars:null});return(t.replaceTabs=!c3e())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,E2)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,E2)),t}});function u3e(e={}){return[o_.of(e),d3e()]}let v$=null;function d3e(){return v$||(v$=Sr.fromClass(class{constructor(e){this.view=e,this.decorations=$t.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(o_)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new a3e({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,s=Cs(t[0],0);if(s==9){let a=i.lineAt(r),l=n.state.tabSize,c=Gm(a.text,l,r-a.from);return $t.replace({widget:new p3e((l-c%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=$t.replace({widget:new m3e(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(o_);e.startState.facet(o_)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))}const h3e="";function f3e(e){return e>=32?h3e:e==10?"":String.fromCharCode(9216+e)}class m3e extends El{constructor(t,n){super(),this.options=t,this.code=n}eq(t){return t.code==this.code}toDOM(t){let n=f3e(this.code),r=t.state.phrase("Control character")+" "+(l3e[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class p3e extends El{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function g3e(){return x3e}const y3e=$t.line({class:"cm-activeLine"}),x3e=Sr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(y3e.range(i.from)),t=i.from)}return $t.set(n)}},{decorations:e=>e.decorations});class v3e extends El{constructor(t){super(),this.content=t}toDOM(t){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(t):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(t){let n=t.firstChild?gg(t.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(t.parentNode),i=vy(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function b3e(e){let t=Sr.fromClass(class{constructor(n){this.view=n,this.placeholder=e?$t.set([$t.widget({widget:new v3e(e),side:1}).range(0)]):$t.none}get decorations(){return this.view.state.doc.length?$t.none:this.placeholder}},{decorations:n=>n.decorations});return typeof e=="string"?[t,ct.contentAttributes.of({"aria-placeholder":e})]:t}const M2=2e3;function _3e(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),s=[];if(t.off>M2||n.off>M2||t.col<0||n.col<0){let a=Math.min(t.off,n.off),l=Math.max(t.off,n.off);for(let c=r;c<=i;c++){let u=e.doc.line(c);u.length<=l&&s.push(Ee.range(u.from+a,u.to+l))}}else{let a=Math.min(t.col,n.col),l=Math.max(t.col,n.col);for(let c=r;c<=i;c++){let u=e.doc.line(c),d=u2(u.text,a,e.tabSize,!0);if(d<0)s.push(Ee.cursor(u.to));else{let h=u2(u.text,l,e.tabSize);s.push(Ee.range(u.from+d,u.from+h))}}}return s}function w3e(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}function b$(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,s=i>M2?-1:i==r.length?w3e(e,t.clientX):Gm(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function j3e(e,t){let n=b$(e,t),r=e.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(s);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,s,a){let l=b$(e,i);if(!l)return r;let c=_3e(e.state,n,l);return c.length?a?Ee.create(c.concat(r.ranges)):Ee.create(c):r}}:null}function k3e(e){let t=n=>n.altKey&&n.button==0;return ct.mouseSelectionStyle.of((n,r)=>t(r)?j3e(n,r):null)}const S3e={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},N3e={style:"cursor: crosshair"};function C3e(e={}){let[t,n]=S3e[e.key||"Alt"],r=Sr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==t||n(i))},keyup(i){(i.keyCode==t||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,ct.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?N3e:null})]}const tb="-10000px";class IX{constructor(t,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=t.state.facet(n),this.tooltips=this.input.filter(a=>a);let s=null;this.tooltipViews=this.tooltips.map(a=>s=r(a,s))}update(t,n){var r;let i=t.state.facet(this.facet),s=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(t);return!1}let a=[],l=n?[]:null;for(let c=0;c<s.length;c++){let u=s[c],d=-1;if(u){for(let h=0;h<this.tooltips.length;h++){let m=this.tooltips[h];m&&m.create==u.create&&(d=h)}if(d<0)a[c]=this.createTooltipView(u,c?a[c-1]:null),l&&(l[c]=!!u.above);else{let h=a[c]=this.tooltipViews[d];l&&(l[c]=n[d]),h.update&&h.update(t)}}}for(let c of this.tooltipViews)a.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return n&&(l.forEach((c,u)=>n[u]=c),n.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=a,!0}}function O3e(e){let t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const HS=pt.define({combine:e=>{var t,n,r;return{position:mt.ios?"absolute":((t=e.find(i=>i.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((n=e.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=e.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||O3e}}}),_$=new WeakMap,nA=Sr.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(HS);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new IX(e,rA,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(HS);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e,t){let n=e.create(this.view),r=t?t.dom:null;if(n.dom.classList.add("cm-tooltip"),e.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=tb,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(e=r.destroy)===null||e===void 0||e.call(r);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=1,t=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(mt.safari){let a=s.getBoundingClientRect();n=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}else n=!!s.offsetParent&&s.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(e=s.width/this.parent.offsetWidth,t=s.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=ZT(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,a)=>{let l=this.manager.tooltipViews[a];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(HS).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:n}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=e,a=[];for(let l=0;l<this.manager.tooltips.length;l++){let c=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:d}=u,h=e.pos[l],m=e.size[l];if(!h||c.clip!==!1&&(h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1)){d.style.top=tb;continue}let p=c.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,g=p?7:0,y=m.right-m.left,x=(t=_$.get(u))!==null&&t!==void 0?t:m.bottom-m.top,b=u.offset||E3e,w=this.view.textDirection==Mn.LTR,v=m.width>r.right-r.left?w?r.left:r.right-m.width:w?Math.max(r.left,Math.min(h.left-(p?14:0)+b.x,r.right-y)):Math.min(Math.max(r.left,h.left-y+(p?14:0)-b.x),r.right-y),_=this.above[l];!c.strictSide&&(_?h.top-x-g-b.y<r.top:h.bottom+x+g+b.y>r.bottom)&&_==r.bottom-h.bottom>h.top-r.top&&(_=this.above[l]=!_);let j=(_?h.top-r.top:r.bottom-h.bottom)-g;if(j<x&&u.resize!==!1){if(j<this.view.defaultLineHeight){d.style.top=tb;continue}_$.set(u,x),d.style.height=(x=j)/s+"px"}else d.style.height&&(d.style.height="");let k=_?h.top-x-g-b.y:h.bottom+g+b.y,C=v+y;if(u.overlap!==!0)for(let O of a)O.left<C&&O.right>v&&O.top<k+x&&O.bottom>k&&(k=_?O.top-x-2-g:O.bottom+g+2);if(this.position=="absolute"?(d.style.top=(k-e.parent.top)/s+"px",w$(d,(v-e.parent.left)/i)):(d.style.top=k/s+"px",w$(d,v/i)),p){let O=h.left+(w?b.x:-b.x)-(v+14-7);p.style.left=O/i+"px"}u.overlap!==!0&&a.push({left:v,top:k,right:C,bottom:k+x}),d.classList.toggle("cm-tooltip-above",_),d.classList.toggle("cm-tooltip-below",!_),u.positioned&&u.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=tb}},{eventObservers:{scroll(){this.maybeMeasure()}}});function w$(e,t){let n=parseInt(e.style.left,10);(isNaN(n)||Math.abs(t-n)>1)&&(e.style.left=t+"px")}const P3e=ct.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),E3e={x:0,y:0},rA=pt.define({enables:[nA,P3e]}),cw=pt.define({combine:e=>e.reduce((t,n)=>t.concat(n),[])});class q1{static create(t){return new q1(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new IX(t,cw,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(t,n){let r=t.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(t){for(let n of this.manager.tooltipViews)n.mount&&n.mount(t);this.mounted=!0}positioned(t){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let n of this.manager.tooltipViews)(t=n.destroy)===null||t===void 0||t.call(n)}passProp(t){let n;for(let r of this.manager.tooltipViews){let i=r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const M3e=rA.compute([cw],e=>{let t=e.facet(cw);return t.length===0?null:{pos:Math.min(...t.map(n=>n.pos)),end:Math.max(...t.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:q1.create,above:t[0].above,arrow:t.some(n=>n.arrow)}});class T3e{constructor(t,n,r,i,s){this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:n}=this,r=t.docView.tile.nearest(n.target);if(!r)return;let i,s=1;if(r.isWidget())i=r.posAtStart;else{if(i=t.posAtCoords(n),i==null)return;let l=t.coordsAtPos(i);if(!l||n.y<l.top||n.y>l.bottom||n.x<l.left-t.defaultCharacterWidth||n.x>l.right+t.defaultCharacterWidth)return;let c=t.bidiSpans(t.state.doc.lineAt(i)).find(d=>d.from<=i&&d.to>=i),u=c&&c.dir==Mn.RTL?-1:1;s=n.x<l.left?-u:u}let a=this.source(t,i,s);if(a!=null&&a.then){let l=this.pending={pos:i};a.then(c=>{this.pending==l&&(this.pending=null,c&&!(Array.isArray(c)&&!c.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>zs(t.state,c,"hover tooltip"))}else a&&!(Array.isArray(a)&&!a.length)&&t.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])})}get tooltip(){let t=this.view.plugin(nA),n=t?t.manager.tooltips.findIndex(r=>r.create==q1.create):-1;return n>-1?t.manager.tooltipViews[n]:null}mousemove(t){var n,r;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!A3e(s.dom,t)||this.pending){let{pos:a}=i[0]||this.pending,l=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:a;(a==l?this.view.posAtCoords(this.lastMove)!=a:!z3e(this.view,a,l,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(t.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let n=r=>{t.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const nb=4;function A3e(e,t){let{left:n,right:r,top:i,bottom:s}=e.getBoundingClientRect(),a;if(a=e.querySelector(".cm-tooltip-arrow")){let l=a.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return t.clientX>=n-nb&&t.clientX<=r+nb&&t.clientY>=i-nb&&t.clientY<=s+nb}function z3e(e,t,n,r,i,s){let a=e.scrollDOM.getBoundingClientRect(),l=e.documentTop+e.documentPadding.top+e.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,l)<i)return!1;let c=e.posAtCoords({x:r,y:i},!1);return c>=t&&c<=n}function D3e(e,t={}){let n=Gt.define(),r=Ei.define({create(){return[]},update(i,s){if(i.length&&(t.hideOnChange&&(s.docChanged||s.selection)?i=[]:t.hideOn&&(i=i.filter(a=>!t.hideOn(s,a))),s.docChanged)){let a=[];for(let l of i){let c=s.changes.mapPos(l.pos,-1,ns.TrackDel);if(c!=null){let u=Object.assign(Object.create(null),l);u.pos=c,u.end!=null&&(u.end=s.changes.mapPos(u.end)),a.push(u)}}i=a}for(let a of s.effects)a.is(n)&&(i=a.value),a.is(R3e)&&(i=[]);return i},provide:i=>cw.from(i)});return{active:r,extension:[r,Sr.define(i=>new T3e(i,e,r,n,t.hoverTime||300)),M3e]}}function LX(e,t){let n=e.plugin(nA);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const R3e=Gt.define(),j$=pt.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function jy(e,t){let n=e.plugin($X),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const $X=Sr.fromClass(class{constructor(e){this.input=e.state.facet(ky),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(e));let t=e.state.facet(j$);this.top=new rb(e,!0,t.topContainer),this.bottom=new rb(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(e){let t=e.state.facet(j$);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new rb(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new rb(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(ky);if(n!=this.input){let r=n.filter(c=>c),i=[],s=[],a=[],l=[];for(let c of r){let u=this.specs.indexOf(c),d;u<0?(d=c(e.view),l.push(d)):(d=this.panels[u],d.update&&d.update(e)),i.push(d),(d.top?s:a).push(d)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(a);for(let c of l)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>ct.scrollMargins.of(t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class rb{constructor(t,n,r){this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let n of this.panels)n.destroy&&t.indexOf(n)<0&&n.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let t=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;t!=n.dom;)t=k$(t);t=t.nextSibling}else this.dom.insertBefore(n.dom,t);for(;t;)t=k$(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function k$(e){let t=e.nextSibling;return e.remove(),t}const ky=pt.define({enables:$X});class Nc extends Iu{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}Nc.prototype.elementClass="";Nc.prototype.toDOM=void 0;Nc.prototype.mapMode=ns.TrackBefore;Nc.prototype.startSide=Nc.prototype.endSide=-1;Nc.prototype.point=!0;const l_=pt.define(),I3e=pt.define(),L3e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>an.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},vg=pt.define();function $3e(e){return[FX(),vg.of({...L3e,...e})]}const S$=pt.define({combine:e=>e.some(t=>t)});function FX(e){return[F3e]}const F3e=Sr.fromClass(class{constructor(e){this.view=e,this.domAfter=null,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(vg).map(t=>new C$(e,t)),this.fixed=!e.state.facet(S$);for(let t of this.gutters)t.config.side=="after"?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(e.geometryChanged){let t=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=t,this.domAfter&&(this.domAfter.style.minHeight=t)}this.view.state.facet(S$)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=an.iter(this.view.state.facet(l_),this.view.viewport.from),r=[],i=this.gutters.map(s=>new B3e(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let a=!0;for(let l of s.type)if(l.type==Ci.Text&&a){T2(n,r,l.from);for(let c of i)c.line(this.view,l,r);a=!1}else if(l.widget)for(let c of i)c.widget(this.view,l)}else if(s.type==Ci.Text){T2(n,r,s.from);for(let a of i)a.line(this.view,s,r)}else if(s.widget)for(let a of i)a.widget(this.view,s);for(let s of i)s.finish();e&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(e){let t=e.startState.facet(vg),n=e.state.facet(vg),r=e.docChanged||e.heightChanged||e.viewportChanged||!an.eq(e.startState.facet(l_),e.state.facet(l_),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let i of this.gutters)i.update(e)&&(r=!0);else{r=!0;let i=[];for(let s of n){let a=t.indexOf(s);a<0?i.push(new C$(this.view,s)):(this.gutters[a].update(e),i.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:e=>ct.scrollMargins.of(t=>{let n=t.plugin(e);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*t.scaleX,i=n.domAfter?n.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==Mn.LTR?{left:r,right:i}:{right:r,left:i}})});function N$(e){return Array.isArray(e)?e:[e]}function T2(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class B3e{constructor(t,n,r){this.gutter=t,this.height=r,this.i=0,this.cursor=an.iter(t.markers,n.from)}addElement(t,n,r){let{gutter:i}=this,s=(n.top-this.height)/t.scaleY,a=n.height/t.scaleY;if(this.i==i.elements.length){let l=new BX(t,a,s,r);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(t,a,s,r);this.height=n.bottom,this.i++}line(t,n,r){let i=[];T2(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(t,n,i);s&&i.unshift(s);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(t,n,i)}widget(t,n){let r=this.gutter.config.widgetMarker(t,n.widget,n),i=r?[r]:null;for(let s of t.state.facet(I3e)){let a=s(t,n.widget,n);a&&(i||(i=[])).push(a)}i&&this.addElement(t,n,i)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let n=t.elements.pop();t.dom.removeChild(n.dom),n.destroy()}}}class C${constructor(t,n){this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let c=s.getBoundingClientRect();a=(c.top+c.bottom)/2}else a=i.clientY;let l=t.lineBlockAtHeight(a-t.documentTop);n.domEventHandlers[r](t,l,i)&&i.preventDefault()});this.markers=N$(n.markers(t)),n.initialSpacer&&(this.spacer=new BX(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let n=this.markers;if(this.markers=N$(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],t);i!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[i])}let r=t.view.viewport;return!an.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class BX{constructor(t,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}update(t,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),q3e(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,a=0;;){let l=a,c=s<n.length?n[s++]:null,u=!1;if(c){let d=c.elementClass;d&&(r+=" "+d);for(let h=a;h<this.markers.length;h++)if(this.markers[h].compare(c)){l=h,u=!0;break}}else l=this.markers.length;for(;a<l;){let d=this.markers[a++];if(d.toDOM){d.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!c)break;c.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(c.toDOM(t),i)),u&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function q3e(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}const W3e=pt.define(),U3e=pt.define(),_f=pt.define({combine(e){return Pl(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,n){let r=Object.assign({},t);for(let i in n){let s=r[i],a=n[i];r[i]=s?(l,c,u)=>s(l,c,u)||a(l,c,u):a}return r}})}});class KS extends Nc{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function YS(e,t){return e.state.facet(_f).formatNumber(t,e.state)}const V3e=vg.compute([_f],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(W3e)},lineMarker(t,n,r){return r.some(i=>i.toDOM)?null:new KS(YS(t,t.state.doc.lineAt(n.from).number))},widgetMarker:(t,n,r)=>{for(let i of t.state.facet(U3e)){let s=i(t,n,r);if(s)return s}return null},lineMarkerChange:t=>t.startState.facet(_f)!=t.state.facet(_f),initialSpacer(t){return new KS(YS(t,O$(t.state.doc.lines)))},updateSpacer(t,n){let r=YS(n.view,O$(n.view.state.doc.lines));return r==t.number?t:new KS(r)},domEventHandlers:e.facet(_f).domEventHandlers,side:"before"}));function qX(e={}){return[_f.of(e),FX(),V3e]}function O$(e){let t=9;for(;t<e;)t=t*10+9;return t}const H3e=new class extends Nc{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},K3e=l_.compute(["selection"],e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(H3e.range(i)))}return an.of(t)});function WX(){return K3e}const UX=1024;let Y3e=0;class GS{constructor(t,n){this.from=t,this.to=n}}class tn{constructor(t={}){this.id=Y3e++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=t.combine||null}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=fs.match(t)),n=>{let r=t(n);return r===void 0?null:[this,r]}}}tn.closedBy=new tn({deserialize:e=>e.split(" ")});tn.openedBy=new tn({deserialize:e=>e.split(" ")});tn.group=new tn({deserialize:e=>e.split(" ")});tn.isolate=new tn({deserialize:e=>{if(e&&e!="rtl"&&e!="ltr"&&e!="auto")throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}});tn.contextHash=new tn({perNode:!0});tn.lookAhead=new tn({perNode:!0});tn.mounted=new tn({perNode:!0});class uw{constructor(t,n,r){this.tree=t,this.overlay=n,this.parser=r}static get(t){return t&&t.props&&t.props[tn.mounted.id]}}const G3e=Object.create(null);class fs{constructor(t,n,r,i=0){this.name=t,this.props=n,this.id=r,this.flags=i}static define(t){let n=t.props&&t.props.length?Object.create(null):G3e,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new fs(t.name||"",n,t.id,r);if(t.props){for(let s of t.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let n=this.prop(tn.group);return n?n.indexOf(t)>-1:!1}return this.id==t}static match(t){let n=Object.create(null);for(let r in t)for(let i of r.split(" "))n[i]=t[r];return r=>{for(let i=r.prop(tn.group),s=-1;s<(i?i.length:0);s++){let a=n[s<0?r.name:i[s]];if(a)return a}}}}fs.none=new fs("",Object.create(null),0,8);class W1{constructor(t){this.types=t;for(let n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let n=[];for(let r of this.types){let i=null;for(let s of t){let a=s(r);if(a){i||(i=Object.assign({},r.props));let l=a[1],c=a[0];c.combine&&c.id in i&&(l=c.combine(i[c.id],l)),i[c.id]=l}}n.push(i?new fs(r.name,i,r.id,r.flags):r)}return new W1(n)}}const ib=new WeakMap,P$=new WeakMap;var ai;(function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"})(ai||(ai={}));class Tn{constructor(t,n,r,i,s){if(this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,l]of s)this.props[typeof a=="number"?a:a.id]=l}}toString(){let t=uw.get(this);if(t&&!t.overlay)return t.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(t=0){return new z2(this.topNode,t)}cursorAt(t,n=0,r=0){let i=ib.get(this)||this.topNode,s=new z2(i);return s.moveTo(t,n),ib.set(this,s._tree),s}get topNode(){return new Fa(this,0,0,null)}resolve(t,n=0){let r=Sy(ib.get(this)||this.topNode,t,n,!1);return ib.set(this,r),r}resolveInner(t,n=0){let r=Sy(P$.get(this)||this.topNode,t,n,!0);return P$.set(this,r),r}resolveStack(t,n=0){return Z3e(this,t,n)}iterate(t){let{enter:n,leave:r,from:i=0,to:s=this.length}=t,a=t.mode||0,l=(a&ai.IncludeAnonymous)>0;for(let c=this.cursor(a|ai.IncludeAnonymous);;){let u=!1;if(c.from<=s&&c.to>=i&&(!l&&c.type.isAnonymous||n(c)!==!1)){if(c.firstChild())continue;u=!0}for(;u&&r&&(l||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;u=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let n in this.props)t.push([+n,this.props[n]]);return t}balance(t={}){return this.children.length<=8?this:aA(fs.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Tn(this.type,n,r,i,this.propValues),t.makeTree||((n,r,i)=>new Tn(fs.none,n,r,i)))}static build(t){return J3e(t)}}Tn.empty=new Tn(fs.none,[],[],0);class iA{constructor(t,n){this.buffer=t,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new iA(this.buffer,this.index)}}class Bu{constructor(t,n,r){this.buffer=t,this.length=n,this.set=r}get type(){return fs.none}toString(){let t=[];for(let n=0;n<this.buffer.length;)t.push(this.childString(n)),n=this.buffer[n+3];return t.join(",")}childString(t){let n=this.buffer[t],r=this.buffer[t+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),t+=4,r==t)return s;let a=[];for(;t<r;)a.push(this.childString(t)),t=this.buffer[t+3];return s+"("+a.join(",")+")"}findChild(t,n,r,i,s){let{buffer:a}=this,l=-1;for(let c=t;c!=n&&!(VX(s,i,a[c+1],a[c+2])&&(l=c,r>0));c=a[c+3]);return l}slice(t,n,r){let i=this.buffer,s=new Uint16Array(n-t),a=0;for(let l=t,c=0;l<n;){s[c++]=i[l++],s[c++]=i[l++]-r;let u=s[c++]=i[l++]-r;s[c++]=i[l++]-t,a=Math.max(a,u)}return new Bu(s,a,this.set)}}function VX(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function Sy(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let a=!r&&e instanceof Fa&&e.index<0?null:e.parent;if(!a)return e;e=a}let s=r?0:ai.IgnoreOverlays;if(r)for(let a=e,l=a.parent;l;a=l,l=a.parent)a instanceof Fa&&a.index<0&&((i=l.enter(t,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(e=l);for(;;){let a=e.enter(t,n,s);if(!a)return e;e=a}}class HX{cursor(t=0){return new z2(this,t)}getChild(t,n=null,r=null){let i=E$(this,t,n,r);return i.length?i[0]:null}getChildren(t,n=null,r=null){return E$(this,t,n,r)}resolve(t,n=0){return Sy(this,t,n,!1)}resolveInner(t,n=0){return Sy(this,t,n,!0)}matchContext(t){return A2(this.parent,t)}enterUnfinishedNodesBefore(t){let n=this.childBefore(t),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Fa extends HX{constructor(t,n,r,i){super(),this._tree=t,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,n,r,i,s=0){for(let a=this;;){for(let{children:l,positions:c}=a._tree,u=n>0?l.length:-1;t!=u;t+=n){let d=l[t],h=c[t]+a.from;if(VX(i,r,h,h+d.length)){if(d instanceof Bu){if(s&ai.ExcludeBuffers)continue;let m=d.findChild(0,d.buffer.length,n,r-h,i);if(m>-1)return new pu(new Q3e(a,d,t,h),null,m)}else if(s&ai.IncludeAnonymous||!d.type.isAnonymous||sA(d)){let m;if(!(s&ai.IgnoreMounts)&&(m=uw.get(d))&&!m.overlay)return new Fa(m.tree,h,t,a);let p=new Fa(d,h,t,a);return s&ai.IncludeAnonymous||!p.type.isAnonymous?p:p.nextChild(n<0?d.children.length-1:0,n,r,i)}}}if(s&ai.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?t=a.index+n:t=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}prop(t){return this._tree.prop(t)}enter(t,n,r=0){let i;if(!(r&ai.IgnoreOverlays)&&(i=uw.get(this._tree))&&i.overlay){let s=t-this.from;for(let{from:a,to:l}of i.overlay)if((n>0?a<=s:a<s)&&(n<0?l>=s:l>s))return new Fa(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,n,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function E$(e,t,n,r){let i=e.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let a=!1;!a;)if(a=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(t)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function A2(e,t,n=t.length-1){for(let r=e;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class Q3e{constructor(t,n,r,i){this.parent=t,this.buffer=n,this.index=r,this.start=i}}class pu extends HX{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,n,r){super(),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return s<0?null:new pu(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}prop(t){return this.type.prop(t)}enter(t,n,r=0){if(r&ai.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return s<0?null:new pu(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new pu(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new pu(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let a=r.buffer[this.index+1];t.push(r.slice(i,s,a)),n.push(0)}return new Tn(this.type,t,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function KX(e){if(!e.length)return null;let t=0,n=e[0];for(let s=1;s<e.length;s++){let a=e[s];(a.from>n.from||a.to<n.to)&&(n=a,t=s)}let r=n instanceof Fa&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new X3e(i,n)}class X3e{constructor(t,n){this.heads=t,this.node=n}get next(){return KX(this.heads)}}function Z3e(e,t,n){let r=e.resolveInner(t,n),i=null;for(let s=r instanceof Fa?r:r.context.parent;s;s=s.parent)if(s.index<0){let a=s.parent;(i||(i=[r])).push(a.resolve(t,n)),s=a}else{let a=uw.get(s.tree);if(a&&a.overlay&&a.overlay[0].from<=t&&a.overlay[a.overlay.length-1].to>=t){let l=new Fa(a.tree,a.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(Sy(l,t,n,!1))}}return i?KX(i):r}class z2{get name(){return this.type.name}constructor(t,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Fa)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,n){this.index=t;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[t]],this.from=r+i.buffer[t+1],this.to=r+i.buffer[t+2],!0}yield(t){return t?t instanceof Fa?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,n,r=this.mode){return this.buffer?r&ai.ExcludeBuffers?!1:this.enterChild(1,t,n):this.yield(this._tree.enter(t,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ai.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&ai.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(t<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let n,r,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+t,a=t<0?-1:r._tree.children.length;s!=a;s+=t){let l=r._tree.children[s];if(this.mode&ai.IncludeAnonymous||l instanceof Bu||!l.type.isAnonymous||sA(l))return!1}return!0}move(t,n){if(n&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,n=0){for(;(this.from==this.to||(n<1?this.from>=t:this.from>t)||(n>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,n););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,n=null,r=0;if(t&&t.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=t;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new pu(this.buffer,n,this.stack[i]);return this.bufferNode=new pu(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(t){if(!this.buffer)return A2(this.node.parent,t);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=t.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return A2(this._tree,t,i);let a=r[n.buffer[this.stack[s]]];if(!a.isAnonymous){if(t[i]&&t[i]!=a.name)return!1;i--}}return!0}}function sA(e){return e.children.some(t=>t instanceof Bu||!t.type.isAnonymous||sA(t))}function J3e(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=UX,reused:s=[],minRepeatType:a=r.types.length}=e,l=Array.isArray(n)?new iA(n,n.length):n,c=r.types,u=0,d=0;function h(j,k,C,O,P,M){let{id:A,start:R,end:B,size:F}=l,U=d,L=u;if(F<0)if(l.next(),F==-1){let ie=s[A];C.push(ie),O.push(R-j);return}else if(F==-3){u=A;return}else if(F==-4){d=A;return}else throw new RangeError(`Unrecognized record size: ${F}`);let D=c[A],T,$,G=R-j;if(B-R<=i&&($=x(l.pos-k,P))){let ie=new Uint16Array($.size-$.skip),X=l.pos-$.size,se=ie.length;for(;l.pos>X;)se=b($.start,ie,se);T=new Bu(ie,B-$.start,r),G=$.start-j}else{let ie=l.pos-F;l.next();let X=[],se=[],xe=A>=a?A:-1,me=0,De=B;for(;l.pos>ie;)xe>=0&&l.id==xe&&l.size>=0?(l.end<=De-i&&(g(X,se,R,me,l.end,De,xe,U,L),me=X.length,De=l.end),l.next()):M>2500?m(R,ie,X,se):h(R,ie,X,se,xe,M+1);if(xe>=0&&me>0&&me<X.length&&g(X,se,R,me,R,De,xe,U,L),X.reverse(),se.reverse(),xe>-1&&me>0){let ge=p(D,L);T=aA(D,X,se,0,X.length,0,B-R,ge,ge)}else T=y(D,X,se,B-R,U-B,L)}C.push(T),O.push(G)}function m(j,k,C,O){let P=[],M=0,A=-1;for(;l.pos>k;){let{id:R,start:B,end:F,size:U}=l;if(U>4)l.next();else{if(A>-1&&B<A)break;A<0&&(A=F-i),P.push(R,B,F),M++,l.next()}}if(M){let R=new Uint16Array(M*4),B=P[P.length-2];for(let F=P.length-3,U=0;F>=0;F-=3)R[U++]=P[F],R[U++]=P[F+1]-B,R[U++]=P[F+2]-B,R[U++]=U;C.push(new Bu(R,P[2]-B,r)),O.push(B-j)}}function p(j,k){return(C,O,P)=>{let M=0,A=C.length-1,R,B;if(A>=0&&(R=C[A])instanceof Tn){if(!A&&R.type==j&&R.length==P)return R;(B=R.prop(tn.lookAhead))&&(M=O[A]+R.length+B)}return y(j,C,O,P,M,k)}}function g(j,k,C,O,P,M,A,R,B){let F=[],U=[];for(;j.length>O;)F.push(j.pop()),U.push(k.pop()+C-P);j.push(y(r.types[A],F,U,M-P,R-M,B)),k.push(P-C)}function y(j,k,C,O,P,M,A){if(M){let R=[tn.contextHash,M];A=A?[R].concat(A):[R]}if(P>25){let R=[tn.lookAhead,P];A=A?[R].concat(A):[R]}return new Tn(j,k,C,O,A)}function x(j,k){let C=l.fork(),O=0,P=0,M=0,A=C.end-i,R={size:0,start:0,skip:0};e:for(let B=C.pos-j;C.pos>B;){let F=C.size;if(C.id==k&&F>=0){R.size=O,R.start=P,R.skip=M,M+=4,O+=4,C.next();continue}let U=C.pos-F;if(F<0||U<B||C.start<A)break;let L=C.id>=a?4:0,D=C.start;for(C.next();C.pos>U;){if(C.size<0)if(C.size==-3||C.size==-4)L+=4;else break e;else C.id>=a&&(L+=4);C.next()}P=D,O+=F,M+=L}return(k<0||O==j)&&(R.size=O,R.start=P,R.skip=M),R.size>4?R:void 0}function b(j,k,C){let{id:O,start:P,end:M,size:A}=l;if(l.next(),A>=0&&O<a){let R=C;if(A>4){let B=l.pos-(A-4);for(;l.pos>B;)C=b(j,k,C)}k[--C]=R,k[--C]=M-j,k[--C]=P-j,k[--C]=O}else A==-3?u=O:A==-4&&(d=O);return C}let w=[],v=[];for(;l.pos>0;)h(e.start||0,e.bufferStart||0,w,v,-1,0);let _=(t=e.length)!==null&&t!==void 0?t:w.length?v[0]+w[0].length:0;return new Tn(c[e.topID],w.reverse(),v.reverse(),_)}const M$=new WeakMap;function c_(e,t){if(!e.isAnonymous||t instanceof Bu||t.type!=e)return 1;let n=M$.get(t);if(n==null){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Tn)){n=1;break}n+=c_(e,r)}M$.set(t,n)}return n}function aA(e,t,n,r,i,s,a,l,c){let u=0;for(let g=r;g<i;g++)u+=c_(e,t[g]);let d=Math.ceil(u*1.5/8),h=[],m=[];function p(g,y,x,b,w){for(let v=x;v<b;){let _=v,j=y[v],k=c_(e,g[v]);for(v++;v<b;v++){let C=c_(e,g[v]);if(k+C>=d)break;k+=C}if(v==_+1){if(k>d){let C=g[_];p(C.children,C.positions,0,C.children.length,y[_]+w);continue}h.push(g[_])}else{let C=y[v-1]+g[v-1].length-j;h.push(aA(e,g,y,_,v,j,C,null,c))}m.push(j+w-s)}}return p(t,n,r,i,0),(l||c)(h,m,a)}class Vd{constructor(t,n,r,i,s=!1,a=!1){this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,n=[],r=!1){let i=[new Vd(0,t.length,t,0,!1,r)];for(let s of n)s.to>t.length&&i.push(s);return i}static applyChanges(t,n,r=128){if(!n.length)return t;let i=[],s=1,a=t.length?t[0]:null;for(let l=0,c=0,u=0;;l++){let d=l<n.length?n[l]:null,h=d?d.fromA:1e9;if(h-c>=r)for(;a&&a.from<h;){let m=a;if(c>=m.from||h<=m.to||u){let p=Math.max(m.from,c)-u,g=Math.min(m.to,h)-u;m=p>=g?null:new Vd(p,g,m.tree,m.offset+u,l>0,!!d)}if(m&&i.push(m),a.to>h)break;a=s<t.length?t[s++]:null}if(!d)break;c=d.toA,u=d.toA-d.toB}return i}}class oA{startParse(t,n,r){return typeof t=="string"&&(t=new eLe(t)),r=r?r.length?r.map(i=>new GS(i.from,i.to)):[new GS(0,0)]:[new GS(0,t.length)],this.createParse(t,n||[],r)}parse(t,n,r){let i=this.startParse(t,n,r);for(;;){let s=i.advance();if(s)return s}}}class eLe{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,n){return this.string.slice(t,n)}}new tn({perNode:!0});let tLe=0,Kl=class D2{constructor(t,n,r,i){this.name=t,this.set=n,this.base=r,this.modified=i,this.id=tLe++}toString(){let{name:t}=this;for(let n of this.modified)n.name&&(t=`${n.name}(${t})`);return t}static define(t,n){let r=typeof t=="string"?t:"?";if(t instanceof D2&&(n=t),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new D2(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(t){let n=new dw(t);return r=>r.modified.indexOf(n)>-1?r:dw.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}},nLe=0;class dw{constructor(t){this.name=t,this.instances=[],this.id=nLe++}static get(t,n){if(!n.length)return t;let r=n[0].instances.find(l=>l.base==t&&rLe(n,l.modified));if(r)return r;let i=[],s=new Kl(t.name,i,t,n);for(let l of n)l.instances.push(s);let a=iLe(n);for(let l of t.set)if(!l.modified.length)for(let c of a)i.push(dw.get(l,c));return s}}function rLe(e,t){return e.length==t.length&&e.every((n,r)=>n==t[r])}function iLe(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((n,r)=>r.length-n.length)}function lA(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],a=2,l=i;for(let h=0;;){if(l=="..."&&h>0&&h+3==i.length){a=1;break}let m=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!m)throw new RangeError("Invalid path: "+i);if(s.push(m[0]=="*"?"":m[0][0]=='"'?JSON.parse(m[0]):m[0]),h+=m[0].length,h==i.length)break;let p=i[h++];if(h==i.length&&p=="!"){a=0;break}if(p!="/")throw new RangeError("Invalid path: "+i);l=i.slice(h)}let c=s.length-1,u=s[c];if(!u)throw new RangeError("Invalid path: "+i);let d=new Ny(r,a,c>0?s.slice(0,c):null);t[u]=d.sort(t[u])}}return YX.add(t)}const YX=new tn({combine(e,t){let n,r,i;for(;e||t;){if(!e||t&&e.depth>=t.depth?(i=t,t=t.next):(i=e,e=e.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let s=new Ny(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class Ny{constructor(t,n,r,i){this.tags=t,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}Ny.empty=new Ny([],2,null);function GX(e,t){let n=Object.create(null);for(let s of e)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let a of s.tag)n[a.id]=s.class;let{scope:r,all:i=null}=t||{};return{style:s=>{let a=i;for(let l of s)for(let c of l.set){let u=n[c.id];if(u){a=a?a+" "+u:u;break}}return a},scope:r}}function sLe(e,t){let n=null;for(let r of e){let i=r.style(t);i&&(n=n?n+" "+i:i)}return n}function aLe(e,t,n,r=0,i=e.length){let s=new oLe(r,Array.isArray(t)?t:[t],n);s.highlightRange(e.cursor(),r,i,"",s.highlighters),s.flush(i)}class oLe{constructor(t,n,r){this.at=t,this.highlighters=n,this.span=r,this.class=""}startSpan(t,n){n!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=n)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,n,r,i,s){let{type:a,from:l,to:c}=t;if(l>=r||c<=n)return;a.isTop&&(s=this.highlighters.filter(p=>!p.scope||p.scope(a)));let u=i,d=lLe(t)||Ny.empty,h=sLe(s,d.tags);if(h&&(u&&(u+=" "),u+=h,d.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,l),u),d.opaque)return;let m=t.tree&&t.tree.prop(tn.mounted);if(m&&m.overlay){let p=t.node.enter(m.overlay[0].from+l,1),g=this.highlighters.filter(x=>!x.scope||x.scope(m.tree.type)),y=t.firstChild();for(let x=0,b=l;;x++){let w=x<m.overlay.length?m.overlay[x]:null,v=w?w.from+l:c,_=Math.max(n,b),j=Math.min(r,v);if(_<j&&y)for(;t.from<j&&(this.highlightRange(t,_,j,i,s),this.startSpan(Math.min(j,t.to),u),!(t.to>=v||!t.nextSibling())););if(!w||v>r)break;b=w.to+l,b>n&&(this.highlightRange(p.cursor(),Math.max(n,w.from+l),Math.min(r,b),"",g),this.startSpan(Math.min(r,b),u))}y&&t.parent()}else if(t.firstChild()){m&&(i="");do if(!(t.to<=n)){if(t.from>=r)break;this.highlightRange(t,n,r,i,s),this.startSpan(Math.min(r,t.to),u)}while(t.nextSibling());t.parent()}}}function lLe(e){let t=e.type.prop(YX);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const at=Kl.define,sb=at(),su=at(),T$=at(su),A$=at(su),au=at(),ab=at(au),QS=at(au),Ko=at(),id=at(Ko),Uo=at(),Vo=at(),R2=at(),Sp=at(R2),ob=at(),_e={comment:sb,lineComment:at(sb),blockComment:at(sb),docComment:at(sb),name:su,variableName:at(su),typeName:T$,tagName:at(T$),propertyName:A$,attributeName:at(A$),className:at(su),labelName:at(su),namespace:at(su),macroName:at(su),literal:au,string:ab,docString:at(ab),character:at(ab),attributeValue:at(ab),number:QS,integer:at(QS),float:at(QS),bool:at(au),regexp:at(au),escape:at(au),color:at(au),url:at(au),keyword:Uo,self:at(Uo),null:at(Uo),atom:at(Uo),unit:at(Uo),modifier:at(Uo),operatorKeyword:at(Uo),controlKeyword:at(Uo),definitionKeyword:at(Uo),moduleKeyword:at(Uo),operator:Vo,derefOperator:at(Vo),arithmeticOperator:at(Vo),logicOperator:at(Vo),bitwiseOperator:at(Vo),compareOperator:at(Vo),updateOperator:at(Vo),definitionOperator:at(Vo),typeOperator:at(Vo),controlOperator:at(Vo),punctuation:R2,separator:at(R2),bracket:Sp,angleBracket:at(Sp),squareBracket:at(Sp),paren:at(Sp),brace:at(Sp),content:Ko,heading:id,heading1:at(id),heading2:at(id),heading3:at(id),heading4:at(id),heading5:at(id),heading6:at(id),contentSeparator:at(Ko),list:at(Ko),quote:at(Ko),emphasis:at(Ko),strong:at(Ko),link:at(Ko),monospace:at(Ko),strikethrough:at(Ko),inserted:at(),deleted:at(),changed:at(),invalid:at(),meta:ob,documentMeta:at(ob),annotation:at(ob),processingInstruction:at(ob),definition:Kl.defineModifier("definition"),constant:Kl.defineModifier("constant"),function:Kl.defineModifier("function"),standard:Kl.defineModifier("standard"),local:Kl.defineModifier("local"),special:Kl.defineModifier("special")};for(let e in _e){let t=_e[e];t instanceof Kl&&(t.name=e)}GX([{tag:_e.link,class:"tok-link"},{tag:_e.heading,class:"tok-heading"},{tag:_e.emphasis,class:"tok-emphasis"},{tag:_e.strong,class:"tok-strong"},{tag:_e.keyword,class:"tok-keyword"},{tag:_e.atom,class:"tok-atom"},{tag:_e.bool,class:"tok-bool"},{tag:_e.url,class:"tok-url"},{tag:_e.labelName,class:"tok-labelName"},{tag:_e.inserted,class:"tok-inserted"},{tag:_e.deleted,class:"tok-deleted"},{tag:_e.literal,class:"tok-literal"},{tag:_e.string,class:"tok-string"},{tag:_e.number,class:"tok-number"},{tag:[_e.regexp,_e.escape,_e.special(_e.string)],class:"tok-string2"},{tag:_e.variableName,class:"tok-variableName"},{tag:_e.local(_e.variableName),class:"tok-variableName tok-local"},{tag:_e.definition(_e.variableName),class:"tok-variableName tok-definition"},{tag:_e.special(_e.variableName),class:"tok-variableName2"},{tag:_e.definition(_e.propertyName),class:"tok-propertyName tok-definition"},{tag:_e.typeName,class:"tok-typeName"},{tag:_e.namespace,class:"tok-namespace"},{tag:_e.className,class:"tok-className"},{tag:_e.macroName,class:"tok-macroName"},{tag:_e.propertyName,class:"tok-propertyName"},{tag:_e.operator,class:"tok-operator"},{tag:_e.comment,class:"tok-comment"},{tag:_e.meta,class:"tok-meta"},{tag:_e.invalid,class:"tok-invalid"},{tag:_e.punctuation,class:"tok-punctuation"}]);var XS;const Ad=new tn;function QX(e){return pt.define({combine:e?t=>t.concat(e):void 0})}const cLe=new tn;class za{constructor(t,n,r=[],i=""){this.data=t,this.name=i,dn.prototype.hasOwnProperty("tree")||Object.defineProperty(dn.prototype,"tree",{get(){return Vi(this)}}),this.parser=n,this.extension=[qu.of(this),dn.languageData.of((s,a,l)=>{let c=z$(s,a,l),u=c.type.prop(Ad);if(!u)return[];let d=s.facet(u),h=c.type.prop(cLe);if(h){let m=c.resolve(a-c.from,l);for(let p of h)if(p.test(m,s)){let g=s.facet(p.facet);return p.type=="replace"?g:g.concat(d)}}return d})].concat(r)}isActiveAt(t,n,r=-1){return z$(t,n,r).type.prop(Ad)==this.data}findRegions(t){let n=t.facet(qu);if((n==null?void 0:n.data)==this.data)return[{from:0,to:t.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,a)=>{if(s.prop(Ad)==this.data){r.push({from:a,to:a+s.length});return}let l=s.prop(tn.mounted);if(l){if(l.tree.prop(Ad)==this.data){if(l.overlay)for(let c of l.overlay)r.push({from:c.from+a,to:c.to+a});else r.push({from:a,to:a+s.length});return}else if(l.overlay){let c=r.length;if(i(l.tree,l.overlay[0].from+a),r.length>c)return}}for(let c=0;c<s.children.length;c++){let u=s.children[c];u instanceof Tn&&i(u,s.positions[c]+a)}};return i(Vi(t),0),r}get allowsNesting(){return!0}}za.setState=Gt.define();function z$(e,t,n){let r=e.facet(qu),i=Vi(e).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(t,n,ai.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Cy extends za{constructor(t,n,r){super(t,n,[],r),this.parser=n}static define(t){let n=QX(t.languageData);return new Cy(n,t.parser.configure({props:[Ad.add(r=>r.isTop?n:void 0)]}),t.name)}configure(t,n){return new Cy(this.data,this.parser.configure(t),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Vi(e){let t=e.field(za.state,!1);return t?t.tree:Tn.empty}class uLe{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,n){let r=this.cursorPos-this.string.length;return t<r||n>=this.cursorPos?this.doc.sliceString(t,n):this.string.slice(t-r,n-r)}}let Np=null;class xm{constructor(t,n,r=[],i,s,a,l,c){this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=l,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(t,n,r){return new xm(t,n,[],Tn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new uLe(this.state.doc),this.fragments)}work(t,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Tn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof t=="number"){let i=Date.now()+t;t=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Vd.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,n;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=t,this.tree=n,this.fragments=this.withoutTempSkipped(Vd.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let n=Np;Np=this;try{return t()}finally{Np=n}}withoutTempSkipped(t){for(let n;n=this.tempSkipped.pop();)t=D$(t,n.from,n.to);return t}changes(t,n){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:l}=this;if(this.takeTree(),!t.empty){let c=[];if(t.iterChangedRanges((u,d,h,m)=>c.push({fromA:u,toA:d,fromB:h,toB:m})),r=Vd.applyChanges(r,c),i=Tn.empty,s=0,a={from:t.mapPos(a.from,-1),to:t.mapPos(a.to,1)},this.skipped.length){l=[];for(let u of this.skipped){let d=t.mapPos(u.from,1),h=t.mapPos(u.to,-1);d<h&&l.push({from:d,to:h})}}}return new xm(this.parser,n,r,i,s,a,l,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<t.to&&s>t.from&&(this.fragments=D$(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,n){this.skipped.push({from:t,to:n})}static getSkippingParser(t){return new class extends oA{createParse(n,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let c=Np;if(c){for(let u of i)c.tempSkipped.push(u);t&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,t]):t)}return this.parsedPos=a,new Tn(fs.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let n=this.fragments;return this.treeLen>=t&&n.length&&n[0].from==0&&n[0].to>=t}static get(){return Np}}function D$(e,t,n){return Vd.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class vm{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new vm(n)}static init(t){let n=Math.min(3e3,t.doc.length),r=xm.create(t.facet(qu).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new vm(r)}}za.state=Ei.define({create:vm.init,update(e,t){for(let n of t.effects)if(n.is(za.setState))return n.value;return t.startState.facet(qu)!=t.state.facet(qu)?vm.init(t.state):e.apply(t)}});let XX=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(XX=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const ZS=typeof navigator<"u"&&(!((XS=navigator.scheduling)===null||XS===void 0)&&XS.isInputPending)?()=>navigator.scheduling.isInputPending():null,dLe=Sr.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let n=this.view.state.field(za.state).context;(n.updateViewport(t.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:t}=this.view,n=t.field(za.state);(n.tree!=n.context.tree||!n.context.isDone(t.doc.length))&&(this.working=XX(this.work))}work(t){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(za.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,t&&!ZS?Math.max(25,t.timeRemaining()-5):1e9),l=s.context.treeLen<i&&r.doc.length>i+1e3,c=s.context.work(()=>ZS&&ZS()||Date.now()>a,i+(l?0:1e5));this.chunkBudget-=Date.now()-n,(c||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:za.setState.of(new vm(s.context))})),this.chunkBudget>0&&!(c&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(n=>zs(this.view.state,n)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),qu=pt.define({combine(e){return e.length?e[0]:null},enables:e=>[za.state,dLe,ct.contentAttributes.compute([e],t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}})]});class ZX{constructor(t,n=[]){this.language=t,this.support=n,this.extension=[t,n]}}const hLe=pt.define(),U1=pt.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(n=>n!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function fh(e){let t=e.facet(U1);return t.charCodeAt(0)==9?e.tabSize*t.length:t.length}function Oy(e,t){let n="",r=e.tabSize,i=e.facet(U1)[0];if(i=="	"){for(;t>=r;)n+="	",t-=r;i=" "}for(let s=0;s<t;s++)n+=i;return n}function cA(e,t){e instanceof dn&&(e=new V1(e));for(let r of e.state.facet(hLe)){let i=r(e,t);if(i!==void 0)return i}let n=Vi(e.state);return n.length>=t?fLe(e,n,t):null}class V1{constructor(t,n={}){this.state=t,this.options=n,this.unit=fh(t)}lineAt(t,n=1){let r=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==t?{text:"",from:t}:(n<0?i<t:i<=t)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(t,n=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(t,n);return r.slice(t-i,Math.min(r.length,t+100-i))}column(t,n=1){let{text:r,from:i}=this.lineAt(t,n),s=this.countColumn(r,t-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(r,r.search(/\S|$/))),s}countColumn(t,n=t.length){return Gm(t,this.state.tabSize,n)}lineIndent(t,n=1){let{text:r,from:i}=this.lineAt(t,n),s=this.options.overrideIndentation;if(s){let a=s(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const H1=new tn;function fLe(e,t,n){let r=t.resolveStack(n),i=t.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let a=i;a&&!(a.from<r.node.from||a.to>r.node.to||a.from==r.node.from&&a.type==r.node.type);a=a.parent)s.push(a);for(let a=s.length-1;a>=0;a--)r={node:s[a],next:r}}return JX(r,e,n)}function JX(e,t,n){for(let r=e;r;r=r.next){let i=pLe(r.node);if(i)return i(uA.create(t,n,r))}return 0}function mLe(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}function pLe(e){let t=e.type.prop(H1);if(t)return t;let n=e.firstChild,r;if(n&&(r=n.type.prop(tn.closedBy))){let i=e.lastChild,s=i&&r.indexOf(i.name)>-1;return a=>eZ(a,!0,1,void 0,s&&!mLe(a)?i.from:void 0)}return e.parent==null?gLe:null}function gLe(){return 0}class uA extends V1{constructor(t,n,r){super(t.state,t.options),this.base=t,this.pos=n,this.context=r}get node(){return this.context.node}static create(t,n,r){return new uA(t,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let n=this.state.doc.lineAt(t.from);for(;;){let r=t.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(yLe(r,t))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return JX(this.context.next,this.base,this.pos)}}function yLe(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function xLe(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,s=e.state.doc.lineAt(n.from),a=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=n.to;;){let c=t.childAfter(l);if(!c||c==r)return null;if(!c.type.isSkipped){if(c.from>=a)return null;let u=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+u}}l=c.to}}function R$({closing:e,align:t=!0,units:n=1}){return r=>eZ(r,t,n,e)}function eZ(e,t,n,r,i){let s=e.textAfter,a=s.match(/^\s*/)[0].length,l=r&&s.slice(a,a+r.length)==r||i==e.pos+a,c=t?xLe(e):null;return c?l?e.column(c.from):e.column(c.to):e.baseIndent+(l?0:e.unit*n)}function I$({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const vLe=200;function bLe(){return dn.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+vLe)return e;let s=n.sliceString(i.from,r);if(!t.some(u=>u.test(s)))return e;let{state:a}=e,l=-1,c=[];for(let{head:u}of a.selection.ranges){let d=a.doc.lineAt(u);if(d.from==l)continue;l=d.from;let h=cA(a,d.from);if(h==null)continue;let m=/^\s*/.exec(d.text)[0],p=Oy(a,h);m!=p&&c.push({from:d.from,to:d.from+m.length,insert:p})}return c.length?[e,{changes:c,sequential:!0}]:e})}const _Le=pt.define(),dA=new tn;function tZ(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function wLe(e,t,n){let r=Vi(e);if(r.length<n)return null;let i=r.resolveStack(n,1),s=null;for(let a=i;a;a=a.next){let l=a.node;if(l.to<=n||l.from>n)continue;if(s&&l.from<t)break;let c=l.type.prop(dA);if(c&&(l.to<r.length-50||r.length==e.doc.length||!jLe(l))){let u=c(l,e);u&&u.from<=n&&u.from>=t&&u.to>n&&(s=u)}}return s}function jLe(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function hw(e,t,n){for(let r of e.facet(_Le)){let i=r(e,t,n);if(i)return i}return wLe(e,t,n)}function nZ(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const K1=Gt.define({map:nZ}),Bx=Gt.define({map:nZ});function rZ(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some(r=>r.from<=n&&r.to>=n)||t.push(e.lineBlockAt(n));return t}const mh=Ei.define({create(){return $t.none},update(e,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((n,r)=>e=L$(e,n,r)),e=e.map(t.changes);for(let n of t.effects)if(n.is(K1)&&!kLe(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(aZ),i=r?$t.replace({widget:new MLe(r(t.state,n.value))}):$$;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Bx)&&(e=e.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return t.selection&&(e=L$(e,t.selection.main.head)),e},provide:e=>ct.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");t.push($$.range(r,i))}return $t.set(t,!0)}});function L$(e,t,n=t){let r=!1;return e.between(t,n,(i,s)=>{i<n&&s>t&&(r=!0)}),r?e.update({filterFrom:t,filterTo:n,filter:(i,s)=>i>=n||s<=t}):e}function fw(e,t,n){var r;let i=null;return(r=e.field(mh,!1))===null||r===void 0||r.between(t,n,(s,a)=>{(!i||i.from>s)&&(i={from:s,to:a})}),i}function kLe(e,t,n){let r=!1;return e.between(t,t,(i,s)=>{i==t&&s==n&&(r=!0)}),r}function iZ(e,t){return e.field(mh,!1)?t:t.concat(Gt.appendConfig.of(oZ()))}const SLe=e=>{for(let t of rZ(e)){let n=hw(e.state,t.from,t.to);if(n)return e.dispatch({effects:iZ(e.state,[K1.of(n),sZ(e,n)])}),!0}return!1},NLe=e=>{if(!e.state.field(mh,!1))return!1;let t=[];for(let n of rZ(e)){let r=fw(e.state,n.from,n.to);r&&t.push(Bx.of(r),sZ(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function sZ(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return ct.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${i}.`)}const CLe=e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),s=hw(t,i.from,i.to);s&&n.push(K1.of(s)),r=(s?e.lineBlockAt(s.to):i).to+1}return n.length&&e.dispatch({effects:iZ(e.state,n)}),!!n.length},OLe=e=>{let t=e.state.field(mh,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(r,i)=>{n.push(Bx.of({from:r,to:i}))}),e.dispatch({effects:n}),!0},PLe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:SLe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:NLe},{key:"Ctrl-Alt-[",run:CLe},{key:"Ctrl-Alt-]",run:OLe}],ELe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},aZ=pt.define({combine(e){return Pl(e,ELe)}});function oZ(e){return[mh,zLe]}function lZ(e,t){let{state:n}=e,r=n.facet(aZ),i=a=>{let l=e.lineBlockAt(e.posAtDOM(a.target)),c=fw(e.state,l.from,l.to);c&&e.dispatch({effects:Bx.of(c)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",n.phrase("folded code")),s.title=n.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const $$=$t.replace({widget:new class extends El{toDOM(e){return lZ(e,null)}}});class MLe extends El{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return lZ(t,this.value)}}const TLe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class JS extends Nc{constructor(t,n){super(),this.config=t,this.open=n}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=t.state.phrase(this.open?"Fold line":"Unfold line"),n}}function ALe(e={}){let t={...TLe,...e},n=new JS(t,!0),r=new JS(t,!1),i=Sr.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(qu)!=a.state.facet(qu)||a.startState.field(mh,!1)!=a.state.field(mh,!1)||Vi(a.startState)!=Vi(a.state)||t.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let l=new kc;for(let c of a.viewportLineBlocks){let u=fw(a.state,c.from,c.to)?r:hw(a.state,c.from,c.to)?n:null;u&&l.add(c.from,c.from,u)}return l.finish()}}),{domEventHandlers:s}=t;return[i,$3e({class:"cm-foldGutter",markers(a){var l;return((l=a.plugin(i))===null||l===void 0?void 0:l.markers)||an.empty},initialSpacer(){return new JS(t,!1)},domEventHandlers:{...s,click:(a,l,c)=>{if(s.click&&s.click(a,l,c))return!0;let u=fw(a.state,l.from,l.to);if(u)return a.dispatch({effects:Bx.of(u)}),!0;let d=hw(a.state,l.from,l.to);return d?(a.dispatch({effects:K1.of(d)}),!0):!1}}}),oZ()]}const zLe=ct.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class qx{constructor(t,n){this.specs=t;let r;function i(l){let c=Lu.newName();return(r||(r=Object.create(null)))["."+c]=l,c}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof za?l=>l.prop(Ad)==a.data:a?l=>l==a:void 0,this.style=GX(t.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=r?new Lu(r):null,this.themeType=n.themeType}static define(t,n){return new qx(t,n||{})}}const I2=pt.define(),cZ=pt.define({combine(e){return e.length?[e[0]]:null}});function eN(e){let t=e.facet(I2);return t.length?t:e.facet(cZ)}function uZ(e,t){let n=[RLe],r;return e instanceof qx&&(e.module&&n.push(ct.styleModule.of(e.module)),r=e.themeType),t!=null&&t.fallback?n.push(cZ.of(e)):r?n.push(I2.computeN([ct.darkTheme],i=>i.facet(ct.darkTheme)==(r=="dark")?[e]:[])):n.push(I2.of(e)),n}class DLe{constructor(t){this.markCache=Object.create(null),this.tree=Vi(t.state),this.decorations=this.buildDeco(t,eN(t.state)),this.decoratedTo=t.viewport.to}update(t){let n=Vi(t.state),r=eN(t.state),i=r!=eN(t.startState),{viewport:s}=t.view,a=t.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&a>=s.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=a):(n!=this.tree||t.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(t.view,r),this.decoratedTo=s.to)}buildDeco(t,n){if(!n||!this.tree.length)return $t.none;let r=new kc;for(let{from:i,to:s}of t.visibleRanges)aLe(this.tree,n,(a,l,c)=>{r.add(a,l,this.markCache[c]||(this.markCache[c]=$t.mark({class:c})))},i,s);return r.finish()}}const RLe=Nh.high(Sr.fromClass(DLe,{decorations:e=>e.decorations})),ILe=qx.define([{tag:_e.meta,color:"#404740"},{tag:_e.link,textDecoration:"underline"},{tag:_e.heading,textDecoration:"underline",fontWeight:"bold"},{tag:_e.emphasis,fontStyle:"italic"},{tag:_e.strong,fontWeight:"bold"},{tag:_e.strikethrough,textDecoration:"line-through"},{tag:_e.keyword,color:"#708"},{tag:[_e.atom,_e.bool,_e.url,_e.contentSeparator,_e.labelName],color:"#219"},{tag:[_e.literal,_e.inserted],color:"#164"},{tag:[_e.string,_e.deleted],color:"#a11"},{tag:[_e.regexp,_e.escape,_e.special(_e.string)],color:"#e40"},{tag:_e.definition(_e.variableName),color:"#00f"},{tag:_e.local(_e.variableName),color:"#30a"},{tag:[_e.typeName,_e.namespace],color:"#085"},{tag:_e.className,color:"#167"},{tag:[_e.special(_e.variableName),_e.macroName],color:"#256"},{tag:_e.definition(_e.propertyName),color:"#00c"},{tag:_e.comment,color:"#940"},{tag:_e.invalid,color:"#f00"}]),LLe=ct.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),dZ=1e4,hZ="()[]{}",fZ=pt.define({combine(e){return Pl(e,{afterCursor:!0,brackets:hZ,maxScanDistance:dZ,renderMatch:BLe})}}),$Le=$t.mark({class:"cm-matchingBracket"}),FLe=$t.mark({class:"cm-nonmatchingBracket"});function BLe(e){let t=[],n=e.matched?$Le:FLe;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const qLe=Ei.define({create(){return $t.none},update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(fZ);for(let i of t.state.selection.ranges){if(!i.empty)continue;let s=ol(t.state,i.head,-1,r)||i.head>0&&ol(t.state,i.head-1,1,r)||r.afterCursor&&(ol(t.state,i.head,1,r)||i.head<t.state.doc.length&&ol(t.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,t.state)))}return $t.set(n,!0)},provide:e=>ct.decorations.from(e)}),WLe=[qLe,LLe];function ULe(e={}){return[fZ.of(e),WLe]}const VLe=new tn;function L2(e,t,n){let r=e.prop(t<0?tn.openedBy:tn.closedBy);if(r)return r;if(e.name.length==1){let i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function $2(e){let t=e.type.prop(VLe);return t?t(e.node):e}function ol(e,t,n,r={}){let i=r.maxScanDistance||dZ,s=r.brackets||hZ,a=Vi(e),l=a.resolveInner(t,n);for(let c=l;c;c=c.parent){let u=L2(c.type,n,s);if(u&&c.from<c.to){let d=$2(c);if(d&&(n>0?t>=d.from&&t<d.to:t>d.from&&t<=d.to))return HLe(e,t,n,c,d,u,s)}}return KLe(e,t,n,a,l.type,i,s)}function HLe(e,t,n,r,i,s,a){let l=r.parent,c={from:i.from,to:i.to},u=0,d=l==null?void 0:l.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(u==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let h=$2(d);return{start:c,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(L2(d.type,n,a))u++;else if(L2(d.type,-n,a)){if(u==0){let h=$2(d);return{start:c,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}u--}}while(n<0?d.prevSibling():d.nextSibling());return{start:c,matched:!1}}function KLe(e,t,n,r,i,s,a){let l=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),c=a.indexOf(l);if(c<0||c%2==0!=n>0)return null;let u={from:n<0?t-1:t,to:n>0?t+1:t},d=e.doc.iterRange(t,n>0?e.doc.length:0),h=0;for(let m=0;!d.next().done&&m<=s;){let p=d.value;n<0&&(m+=p.length);let g=t+m*n;for(let y=n>0?0:p.length-1,x=n>0?p.length:-1;y!=x;y+=n){let b=a.indexOf(p[y]);if(!(b<0||r.resolveInner(g+y,1).type!=i))if(b%2==0==n>0)h++;else{if(h==1)return{start:u,end:{from:g+y,to:g+y+1},matched:b>>1==c>>1};h--}}n>0&&(m+=p.length)}return d.done?{start:u,matched:!1}:null}function F$(e,t,n,r=0,i=0){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));let s=i;for(let a=r;a<t;a++)e.charCodeAt(a)==9?s+=n-s%n:s++;return s}class mZ{constructor(t,n,r,i){this.string=t,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let n=this.string.charAt(this.pos),r;if(typeof t=="string"?r=n==t:r=n&&(t instanceof RegExp?t.test(n):t(n)),r)return++this.pos,n}eatWhile(t){let n=this.pos;for(;this.eat(t););return this.pos>n}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F$(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var t;return(t=this.overrideIndent)!==null&&t!==void 0?t:F$(this.string,null,this.tabSize)}match(t,n,r){if(typeof t=="string"){let i=a=>r?a.toLowerCase():a,s=this.string.substr(this.pos,t.length);return i(s)==i(t)?(n!==!1&&(this.pos+=t.length),!0):null}else{let i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function YLe(e){return{name:e.name||"",token:e.token,blankLine:e.blankLine||(()=>{}),startState:e.startState||(()=>!0),copyState:e.copyState||GLe,indent:e.indent||(()=>null),languageData:e.languageData||{},tokenTable:e.tokenTable||mA,mergeTokens:e.mergeTokens!==!1}}function GLe(e){if(typeof e!="object")return e;let t={};for(let n in e){let r=e[n];t[n]=r instanceof Array?r.slice():r}return t}const B$=new WeakMap;class hA extends za{constructor(t){let n=QX(t.languageData),r=YLe(t),i,s=new class extends oA{createParse(a,l,c){return new XLe(i,a,l,c)}};super(n,s,[],t.name),this.topNode=e$e(n,this),i=this,this.streamParser=r,this.stateAfter=new tn({perNode:!0}),this.tokenTable=t.tokenTable?new xZ(r.tokenTable):JLe}static define(t){return new hA(t)}getIndent(t){let n,{overrideIndentation:r}=t.options;r&&(n=B$.get(t.state),n!=null&&n<t.pos-1e4&&(n=void 0));let i=fA(this,t.node.tree,t.node.from,t.node.from,n??t.pos),s,a;if(i?(a=i.state,s=i.pos+1):(a=this.streamParser.startState(t.unit),s=t.node.from),t.pos-s>1e4)return null;for(;s<t.pos;){let c=t.state.doc.lineAt(s),u=Math.min(t.pos,c.to);if(c.length){let d=r?r(c.from):-1,h=new mZ(c.text,t.state.tabSize,t.unit,d<0?void 0:d);for(;h.pos<u-c.from;)gZ(this.streamParser.token,h,a)}else this.streamParser.blankLine(a,t.unit);if(u==t.pos)break;s=c.to+1}let l=t.lineAt(t.pos);return r&&n==null&&B$.set(t.state,l.from),this.streamParser.indent(a,/^\s*(.*)/.exec(l.text)[1],t)}get allowsNesting(){return!1}}function fA(e,t,n,r,i){let s=n>=r&&n+t.length<=i&&t.prop(e.stateAfter);if(s)return{state:e.streamParser.copyState(s),pos:n+t.length};for(let a=t.children.length-1;a>=0;a--){let l=t.children[a],c=n+t.positions[a],u=l instanceof Tn&&c<i&&fA(e,l,c,r,i);if(u)return u}return null}function pZ(e,t,n,r,i){if(i&&n<=0&&r>=t.length)return t;!i&&n==0&&t.type==e.topNode&&(i=!0);for(let s=t.children.length-1;s>=0;s--){let a=t.positions[s],l=t.children[s],c;if(a<r&&l instanceof Tn){if(!(c=pZ(e,l,n-a,r-a,i)))break;return i?new Tn(t.type,t.children.slice(0,s).concat(c),t.positions.slice(0,s+1),a+c.length):c}}return null}function QLe(e,t,n,r,i){for(let s of t){let a=s.from+(s.openStart?25:0),l=s.to-(s.openEnd?25:0),c=a<=n&&l>n&&fA(e,s.tree,0-s.offset,n,l),u;if(c&&c.pos<=r&&(u=pZ(e,s.tree,n+s.offset,c.pos+s.offset,!1)))return{state:c.state,tree:u}}return{state:e.streamParser.startState(i?fh(i):4),tree:Tn.empty}}let XLe=class{constructor(t,n,r,i){this.lang=t,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let s=xm.get(),a=i[0].from,{state:l,tree:c}=QLe(t,r,a,this.to,s==null?void 0:s.state);this.state=l,this.parsedPos=this.chunkStart=a+c.length;for(let u=0;u<c.children.length;u++)this.chunks.push(c.children[u]),this.chunkPos.push(c.positions[u]);s&&this.parsedPos<s.viewport.from-1e5&&i.some(u=>u.from<=s.viewport.from&&u.to>=s.viewport.from)&&(this.state=this.lang.streamParser.startState(fh(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let t=xm.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(t&&(r=Math.min(r,t.viewport.to));this.parsedPos<r;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let n=this.input.chunk(t);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return t+n.length<=this.to?n:n.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,n=this.lineAfter(t),r=t+n.length;for(let i=this.rangeIndex;;){let s=this.ranges[i].to;if(s>=r||(n=n.slice(0,s-(r-n.length)),i++,i==this.ranges.length))break;let a=this.ranges[i].from,l=this.lineAfter(a);n+=l,r=a+l.length}return{line:n,end:r}}skipGapsTo(t,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,s=t+n;if(r>0?i>s:i>=s)break;let a=this.ranges[++this.rangeIndex].from;n+=a-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,n,r,i){let s=4;if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let l=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,s+=this.chunk.length-l}let a=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&s==4&&a>=0&&this.chunk[a]==t&&this.chunk[a+2]==n?this.chunk[a+2]=r:this.chunk.push(t,n,r,s),i}parseLine(t){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:s}=this.lang,a=new mZ(n,t?t.state.tabSize:4,t?fh(t.state):2);if(a.eol())s.blankLine(this.state,a.indentUnit);else for(;!a.eol();){let l=gZ(s.token,a,this.state);if(l&&(i=this.emitToken(this.lang.tokenTable.resolve(l),this.parsedPos+a.start,this.parsedPos+a.pos,i)),a.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=Tn.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:ZLe,topID:0,maxBufferLength:512,reused:this.chunkReused});t=new Tn(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tn(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function gZ(e,t,n){t.start=t.pos;for(let r=0;r<10;r++){let i=e(t,n);if(t.pos>t.start)return i}throw new Error("Stream parser failed to advance stream.")}const mA=Object.create(null),Py=[fs.none],ZLe=new W1(Py),q$=[],W$=Object.create(null),yZ=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])yZ[e]=vZ(mA,t);class xZ{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),yZ)}resolve(t){return t?this.table[t]||(this.table[t]=vZ(this.extra,t)):0}}const JLe=new xZ(mA);function tN(e,t){q$.indexOf(e)>-1||(q$.push(e),console.warn(t))}function vZ(e,t){let n=[];for(let l of t.split(" ")){let c=[];for(let u of l.split(".")){let d=e[u]||_e[u];d?typeof d=="function"?c.length?c=c.map(d):tN(u,`Modifier ${u} used at start of tag`):c.length?tN(u,`Tag ${u} used as modifier`):c=Array.isArray(d)?d:[d]:tN(u,`Unknown highlighting tag ${u}`)}for(let u of c)n.push(u)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+n.map(l=>l.id),s=W$[i];if(s)return s.id;let a=W$[i]=fs.define({id:Py.length,name:r,props:[lA({[r]:n})]});return Py.push(a),a.id}function e$e(e,t){let n=fs.define({id:Py.length,name:"Document",props:[Ad.add(()=>e),H1.add(()=>r=>t.getIndent(r))],top:!0});return Py.push(n),n}Mn.RTL,Mn.LTR;const t$e=e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=gA(e.state,n.from);return r.line?n$e(e):r.block?i$e(e):!1};function pA(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return i?(r(n.update(i)),!0):!1}}const n$e=pA(o$e,0),r$e=pA(bZ,0),i$e=pA((e,t)=>bZ(e,t,a$e(t)),0);function gA(e,t){let n=e.languageDataAt("commentTokens",t,1);return n.length?n[0]:{}}const Cp=50;function s$e(e,{open:t,close:n},r,i){let s=e.sliceDoc(r-Cp,r),a=e.sliceDoc(i,i+Cp),l=/\s*$/.exec(s)[0].length,c=/^\s*/.exec(a)[0].length,u=s.length-l;if(s.slice(u-t.length,u)==t&&a.slice(c,c+n.length)==n)return{open:{pos:r-l,margin:l&&1},close:{pos:i+c,margin:c&&1}};let d,h;i-r<=2*Cp?d=h=e.sliceDoc(r,i):(d=e.sliceDoc(r,r+Cp),h=e.sliceDoc(i-Cp,i));let m=/^\s*/.exec(d)[0].length,p=/\s*$/.exec(h)[0].length,g=h.length-p-n.length;return d.slice(m,m+t.length)==t&&h.slice(g,g+n.length)==n?{open:{pos:r+m+t.length,margin:/\s/.test(d.charAt(m+t.length))?1:0},close:{pos:i-p-n.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function a$e(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:e.doc.lineAt(n.to-1));let s=t.length-1;s>=0&&t[s].to>r.from?t[s].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}function bZ(e,t,n=t.selection.ranges){let r=n.map(s=>gA(t,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,a)=>s$e(t,r[a],s.from,s.to));if(e!=2&&!i.every(s=>s))return{changes:t.changes(n.map((s,a)=>i[a]?[]:[{from:s.from,insert:r[a].open+" "},{from:s.to,insert:" "+r[a].close}]))};if(e!=1&&i.some(s=>s)){let s=[];for(let a=0,l;a<i.length;a++)if(l=i[a]){let c=r[a],{open:u,close:d}=l;s.push({from:u.pos-c.open.length,to:u.pos+u.margin},{from:d.pos-d.margin,to:d.pos+c.close.length})}return{changes:s}}return null}function o$e(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:s,to:a}of n){let l=r.length,c=1e9,u=gA(t,s).line;if(u){for(let d=s;d<=a;){let h=t.doc.lineAt(d);if(h.from>i&&(s==a||a>h.from)){i=h.from;let m=/^\s*/.exec(h.text)[0].length,p=m==h.length,g=h.text.slice(m,m+u.length)==u?m:-1;m<h.text.length&&m<c&&(c=m),r.push({line:h,comment:g,token:u,indent:m,empty:p,single:!1})}d=h.to+1}if(c<1e9)for(let d=l;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=c);r.length==l+1&&(r[l].single=!0)}}if(e!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:c,indent:u,empty:d,single:h}of r)(h||!d)&&s.push({from:l.from+u,insert:c+" "});let a=t.changes(s);return{changes:a,selection:t.selection.map(a,1)}}else if(e!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:l,token:c}of r)if(l>=0){let u=a.from+l,d=u+c.length;a.text[d-a.from]==" "&&d++,s.push({from:u,to:d})}return{changes:s}}return null}const F2=Ol.define(),l$e=Ol.define(),c$e=pt.define(),_Z=pt.define({combine(e){return Pl(e,{minDepth:100,newGroupDelay:500,joinToEvent:(t,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,n)=>(r,i)=>t(r,i)||n(r,i)})}}),wZ=Ei.define({create(){return ll.empty},update(e,t){let n=t.state.facet(_Z),r=t.annotation(F2);if(r){let c=Ds.fromTransaction(t,r.selection),u=r.side,d=u==0?e.undone:e.done;return c?d=mw(d,d.length,n.minDepth,c):d=SZ(d,t.startState.selection),new ll(u==0?r.rest:d,u==0?d:r.rest)}let i=t.annotation(l$e);if((i=="full"||i=="before")&&(e=e.isolate()),t.annotation(Ur.addToHistory)===!1)return t.changes.empty?e:e.addMapping(t.changes.desc);let s=Ds.fromTransaction(t),a=t.annotation(Ur.time),l=t.annotation(Ur.userEvent);return s?e=e.addChanges(s,a,l,n,t):t.selection&&(e=e.addSelection(t.startState.selection,a,l,n.newGroupDelay)),(i=="full"||i=="after")&&(e=e.isolate()),e},toJSON(e){return{done:e.done.map(t=>t.toJSON()),undone:e.undone.map(t=>t.toJSON())}},fromJSON(e){return new ll(e.done.map(Ds.fromJSON),e.undone.map(Ds.fromJSON))}});function u$e(e={}){return[wZ,_Z.of(e),ct.domEventHandlers({beforeinput(t,n){let r=t.inputType=="historyUndo"?jZ:t.inputType=="historyRedo"?B2:null;return r?(t.preventDefault(),r(n)):!1}})]}function Y1(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(wZ,!1);if(!i)return!1;let s=i.pop(e,n,t);return s?(r(s),!0):!1}}const jZ=Y1(0,!1),B2=Y1(1,!1),d$e=Y1(0,!0),h$e=Y1(1,!0);class Ds{constructor(t,n,r,i,s){this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(t){return new Ds(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,n,r;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(t){return new Ds(t.changes&&Fr.fromJSON(t.changes),[],t.mapped&&ml.fromJSON(t.mapped),t.startSelection&&Ee.fromJSON(t.startSelection),t.selectionsAfter.map(Ee.fromJSON))}static fromTransaction(t,n){let r=Da;for(let i of t.startState.facet(c$e)){let s=i(t);s.length&&(r=r.concat(s))}return!r.length&&t.changes.empty?null:new Ds(t.changes.invert(t.startState.doc),r,void 0,n||t.startState.selection,Da)}static selection(t){return new Ds(void 0,Da,void 0,void 0,t)}}function mw(e,t,n,r){let i=t+1>n+20?t-n-1:0,s=e.slice(i,t);return s.push(r),s}function f$e(e,t){let n=[],r=!1;return e.iterChangedRanges((i,s)=>n.push(i,s)),t.iterChangedRanges((i,s,a,l)=>{for(let c=0;c<n.length;){let u=n[c++],d=n[c++];l>=u&&a<=d&&(r=!0)}}),r}function m$e(e,t){return e.ranges.length==t.ranges.length&&e.ranges.filter((n,r)=>n.empty!=t.ranges[r].empty).length===0}function kZ(e,t){return e.length?t.length?e.concat(t):e:t}const Da=[],p$e=200;function SZ(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-p$e));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),mw(e,e.length-1,1e9,n.setSelAfter(r)))}else return[Ds.selection([t])]}function g$e(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function nN(e,t){if(!e.length)return e;let n=e.length,r=Da;for(;n;){let i=y$e(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=e.slice(0,n);return s[n-1]=i,s}else t=i.mapped,n--,r=i.selectionsAfter}return r.length?[Ds.selection(r)]:Da}function y$e(e,t,n){let r=kZ(e.selectionsAfter.length?e.selectionsAfter.map(l=>l.map(t)):Da,n);if(!e.changes)return Ds.selection(r);let i=e.changes.map(t),s=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(s):s;return new Ds(i,Gt.mapEffects(e.effects,t),a,e.startSelection.map(s),r)}const x$e=/^(input\.type|delete)($|\.)/;class ll{constructor(t,n,r=0,i=void 0){this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ll(this.done,this.undone):this}addChanges(t,n,r,i,s){let a=this.done,l=a[a.length-1];return l&&l.changes&&!l.changes.empty&&t.changes&&(!r||x$e.test(r))&&(!l.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,f$e(l.changes,t.changes))||r=="input.type.compose")?a=mw(a,a.length-1,i.minDepth,new Ds(t.changes.compose(l.changes),kZ(Gt.mapEffects(t.effects,l.changes),l.effects),l.mapped,l.startSelection,Da)):a=mw(a,a.length,i.minDepth,t),new ll(a,Da,n,r)}addSelection(t,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Da;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&m$e(s[s.length-1],t)?this:new ll(SZ(this.done,t),this.undone,n,r)}addMapping(t){return new ll(nN(this.done,t),nN(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,n,r){let i=t==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],a=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:F2.of({side:t,rest:g$e(i),selection:a}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?Da:i.slice(0,i.length-1);return s.mapped&&(l=nN(l,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:F2.of({side:t,rest:l,selection:a}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}ll.empty=new ll(Da,Da);const v$e=[{key:"Mod-z",run:jZ,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:B2,preventDefault:!0},{linux:"Ctrl-Shift-z",run:B2,preventDefault:!0},{key:"Mod-u",run:d$e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:h$e,preventDefault:!0}];function Qm(e,t){return Ee.create(e.ranges.map(t),e.mainIndex)}function Do(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function Ro({state:e,dispatch:t},n){let r=Qm(e.selection,n);return r.eq(e.selection,!0)?!1:(t(Do(e,r)),!0)}function G1(e,t){return Ee.cursor(t?e.to:e.from)}function NZ(e,t){return Ro(e,n=>n.empty?e.moveByChar(n,t):G1(n,t))}function Ki(e){return e.textDirectionAt(e.state.selection.main.head)==Mn.LTR}const CZ=e=>NZ(e,!Ki(e)),OZ=e=>NZ(e,Ki(e));function PZ(e,t){return Ro(e,n=>n.empty?e.moveByGroup(n,t):G1(n,t))}const b$e=e=>PZ(e,!Ki(e)),_$e=e=>PZ(e,Ki(e));function w$e(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Q1(e,t,n){let r=Vi(e).resolveInner(t.head),i=n?tn.closedBy:tn.openedBy;for(let c=t.head;;){let u=n?r.childAfter(c):r.childBefore(c);if(!u)break;w$e(e,u,i)?r=u:c=n?u.to:u.from}let s=r.type.prop(i),a,l;return s&&(a=n?ol(e,r.from,1):ol(e,r.to,-1))&&a.matched?l=n?a.end.to:a.end.from:l=n?r.to:r.from,Ee.cursor(l,n?-1:1)}const j$e=e=>Ro(e,t=>Q1(e.state,t,!Ki(e))),k$e=e=>Ro(e,t=>Q1(e.state,t,Ki(e)));function EZ(e,t){return Ro(e,n=>{if(!n.empty)return G1(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)})}const MZ=e=>EZ(e,!1),TZ=e=>EZ(e,!0);function AZ(e){let t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,r=0,i;if(t){for(let s of e.state.facet(ct.scrollMargins)){let a=s(e);a!=null&&a.top&&(n=Math.max(a==null?void 0:a.top,n)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}i=e.scrollDOM.clientHeight-n-r}else i=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:t,height:Math.max(e.defaultLineHeight,i-5)}}function zZ(e,t){let n=AZ(e),{state:r}=e,i=Qm(r.selection,a=>a.empty?e.moveVertically(a,t,n.height):G1(a,t));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let a=e.coordsAtPos(r.selection.main.head),l=e.scrollDOM.getBoundingClientRect(),c=l.top+n.marginTop,u=l.bottom-n.marginBottom;a&&a.top>c&&a.bottom<u&&(s=ct.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-c}))}return e.dispatch(Do(r,i),{effects:s}),!0}const U$=e=>zZ(e,!1),q2=e=>zZ(e,!0);function Xu(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&t.head!=r.from+s&&(i=Ee.cursor(r.from+s))}return i}const S$e=e=>Ro(e,t=>Xu(e,t,!0)),N$e=e=>Ro(e,t=>Xu(e,t,!1)),C$e=e=>Ro(e,t=>Xu(e,t,!Ki(e))),O$e=e=>Ro(e,t=>Xu(e,t,Ki(e))),P$e=e=>Ro(e,t=>Ee.cursor(e.lineBlockAt(t.head).from,1)),E$e=e=>Ro(e,t=>Ee.cursor(e.lineBlockAt(t.head).to,-1));function M$e(e,t,n){let r=!1,i=Qm(e.selection,s=>{let a=ol(e,s.head,-1)||ol(e,s.head,1)||s.head>0&&ol(e,s.head-1,1)||s.head<e.doc.length&&ol(e,s.head+1,-1);if(!a||!a.end)return s;r=!0;let l=a.start.from==s.head?a.end.to:a.end.from;return Ee.cursor(l)});return r?(t(Do(e,i)),!0):!1}const T$e=({state:e,dispatch:t})=>M$e(e,t);function ro(e,t){let n=Qm(e.state.selection,r=>{let i=t(r);return Ee.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(e.state.selection)?!1:(e.dispatch(Do(e.state,n)),!0)}function DZ(e,t){return ro(e,n=>e.moveByChar(n,t))}const RZ=e=>DZ(e,!Ki(e)),IZ=e=>DZ(e,Ki(e));function LZ(e,t){return ro(e,n=>e.moveByGroup(n,t))}const A$e=e=>LZ(e,!Ki(e)),z$e=e=>LZ(e,Ki(e)),D$e=e=>ro(e,t=>Q1(e.state,t,!Ki(e))),R$e=e=>ro(e,t=>Q1(e.state,t,Ki(e)));function $Z(e,t){return ro(e,n=>e.moveVertically(n,t))}const FZ=e=>$Z(e,!1),BZ=e=>$Z(e,!0);function qZ(e,t){return ro(e,n=>e.moveVertically(n,t,AZ(e).height))}const V$=e=>qZ(e,!1),H$=e=>qZ(e,!0),I$e=e=>ro(e,t=>Xu(e,t,!0)),L$e=e=>ro(e,t=>Xu(e,t,!1)),$$e=e=>ro(e,t=>Xu(e,t,!Ki(e))),F$e=e=>ro(e,t=>Xu(e,t,Ki(e))),B$e=e=>ro(e,t=>Ee.cursor(e.lineBlockAt(t.head).from)),q$e=e=>ro(e,t=>Ee.cursor(e.lineBlockAt(t.head).to)),K$=({state:e,dispatch:t})=>(t(Do(e,{anchor:0})),!0),Y$=({state:e,dispatch:t})=>(t(Do(e,{anchor:e.doc.length})),!0),G$=({state:e,dispatch:t})=>(t(Do(e,{anchor:e.selection.main.anchor,head:0})),!0),Q$=({state:e,dispatch:t})=>(t(Do(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),W$e=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0),U$e=({state:e,dispatch:t})=>{let n=X1(e).map(({from:r,to:i})=>Ee.range(r,Math.min(i+1,e.doc.length)));return t(e.update({selection:Ee.create(n),userEvent:"select"})),!0},V$e=({state:e,dispatch:t})=>{let n=Qm(e.selection,r=>{let i=Vi(e),s=i.resolveStack(r.from,1);if(r.empty){let a=i.resolveStack(r.from,-1);a.node.from>=s.node.from&&a.node.to<=s.node.to&&(s=a)}for(let a=s;a;a=a.next){let{node:l}=a;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&a.next)return Ee.range(l.to,l.from)}return r});return n.eq(e.selection)?!1:(t(Do(e,n)),!0)};function WZ(e,t){let{state:n}=e,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let a=n.doc.lineAt(s.head);if(t?a.to<e.state.doc.length:a.from>0)for(let l=s;;){let c=e.moveVertically(l,t);if(c.head<a.from||c.head>a.to){i.some(u=>u.head==c.head)||i.push(c);break}else{if(c.head==l.head)break;l=c}}}return i.length==r.ranges.length?!1:(e.dispatch(Do(n,Ee.create(i,i.length-1))),!0)}const H$e=e=>WZ(e,!1),K$e=e=>WZ(e,!0),Y$e=({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Ee.create([n.main]):n.main.empty||(r=Ee.create([Ee.cursor(n.main.head)])),r?(t(Do(e,r)),!0):!1};function Wx(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,i=r.changeByRange(s=>{let{from:a,to:l}=s;if(a==l){let c=t(s);c<a?(n="delete.backward",c=lb(e,c,!1)):c>a&&(n="delete.forward",c=lb(e,c,!0)),a=Math.min(a,c),l=Math.max(l,c)}else a=lb(e,a,!1),l=lb(e,l,!0);return a==l?{range:s}:{changes:{from:a,to:l},range:Ee.cursor(a,a<s.head?-1:1)}});return i.changes.empty?!1:(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?ct.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function lb(e,t,n){if(e instanceof ct)for(let r of e.state.facet(ct.atomicRanges).map(i=>i(e)))r.between(t,t,(i,s)=>{i<t&&s>t&&(t=n?s:i)});return t}const UZ=(e,t,n)=>Wx(e,r=>{let i=r.from,{state:s}=e,a=s.doc.lineAt(i),l,c;if(n&&!t&&i>a.from&&i<a.from+200&&!/[^ \t]/.test(l=a.text.slice(0,i-a.from))){if(l[l.length-1]=="	")return i-1;let u=Gm(l,s.tabSize),d=u%fh(s)||fh(s);for(let h=0;h<d&&l[l.length-1-h]==" ";h++)i--;c=i}else c=Wr(a.text,i-a.from,t,t)+a.from,c==i&&a.number!=(t?s.doc.lines:1)?c+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(a.text.slice(c-a.from,i-a.from))&&(c=Wr(a.text,c-a.from,!1,!1)+a.from);return c}),W2=e=>UZ(e,!1,!0),VZ=e=>UZ(e,!0,!1),HZ=(e,t)=>Wx(e,n=>{let r=n.head,{state:i}=e,s=i.doc.lineAt(r),a=i.charCategorizer(r);for(let l=null;;){if(r==(t?s.to:s.from)){r==n.head&&s.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let c=Wr(s.text,r-s.from,t)+s.from,u=s.text.slice(Math.min(r,c)-s.from,Math.max(r,c)-s.from),d=a(u);if(l!=null&&d!=l)break;(u!=" "||r!=n.head)&&(l=d),r=c}return r}),KZ=e=>HZ(e,!1),G$e=e=>HZ(e,!0),Q$e=e=>Wx(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),X$e=e=>Wx(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}),Z$e=e=>Wx(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),J$e=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:vn.of(["",""])},range:Ee.cursor(r.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},eFe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{if(!r.empty||r.from==0||r.from==e.doc.length)return{range:r};let i=r.from,s=e.doc.lineAt(i),a=i==s.from?i-1:Wr(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:Wr(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:l,insert:e.doc.slice(i,l).append(e.doc.slice(a,i))},range:Ee.cursor(l)}});return n.changes.empty?!1:(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function X1(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),s=e.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=e.doc.lineAt(r.to-1)),n>=i.number){let a=t[t.length-1];a.to=s.to,a.ranges.push(r)}else t.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return t}function YZ(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let s of X1(e)){if(n?s.to==e.doc.length:s.from==0)continue;let a=e.doc.lineAt(n?s.to+1:s.from-1),l=a.length+1;if(n){r.push({from:s.to,to:a.to},{from:s.from,insert:a.text+e.lineBreak});for(let c of s.ranges)i.push(Ee.range(Math.min(e.doc.length,c.anchor+l),Math.min(e.doc.length,c.head+l)))}else{r.push({from:a.from,to:s.from},{from:s.to,insert:e.lineBreak+a.text});for(let c of s.ranges)i.push(Ee.range(c.anchor-l,c.head-l))}}return r.length?(t(e.update({changes:r,scrollIntoView:!0,selection:Ee.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0):!1}const tFe=({state:e,dispatch:t})=>YZ(e,t,!1),nFe=({state:e,dispatch:t})=>YZ(e,t,!0);function GZ(e,t,n){if(e.readOnly)return!1;let r=[];for(let s of X1(e))n?r.push({from:s.from,insert:e.doc.slice(s.from,s.to)+e.lineBreak}):r.push({from:s.to,insert:e.lineBreak+e.doc.slice(s.from,s.to)});let i=e.changes(r);return t(e.update({changes:i,selection:e.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const rFe=({state:e,dispatch:t})=>GZ(e,t,!1),iFe=({state:e,dispatch:t})=>GZ(e,t,!0),sFe=e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(X1(t).map(({from:i,to:s})=>(i>0?i--:s<t.doc.length&&s++,{from:i,to:s}))),r=Qm(t.selection,i=>{let s;if(e.lineWrapping){let a=e.lineBlockAt(i.head),l=e.coordsAtPos(i.head,i.assoc||1);l&&(s=a.bottom+e.documentTop-l.bottom+e.defaultLineHeight/2)}return e.moveVertically(i,!0,s)}).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function aFe(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n=Vi(e).resolveInner(t),r=n.childBefore(t),i=n.childAfter(t),s;return r&&i&&r.to<=t&&i.from>=t&&(s=r.type.prop(tn.closedBy))&&s.indexOf(i.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const X$=QZ(!1),oFe=QZ(!0);function QZ(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>{let{from:s,to:a}=i,l=t.doc.lineAt(s),c=!e&&s==a&&aFe(t,s);e&&(s=a=(a<=l.to?l:t.doc.lineAt(a)).to);let u=new V1(t,{simulateBreak:s,simulateDoubleBreak:!!c}),d=cA(u,s);for(d==null&&(d=Gm(/^\s*/.exec(t.doc.lineAt(s).text)[0],t.tabSize));a<l.to&&/\s/.test(l.text[a-l.from]);)a++;c?{from:s,to:a}=c:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let h=["",Oy(t,d)];return c&&h.push(Oy(t,u.lineIndent(l.from,-1))),{changes:{from:s,to:a,insert:vn.of(h)},range:Ee.cursor(s+1+h[1].length)}});return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function yA(e,t){let n=-1;return e.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let l=e.doc.lineAt(a);l.number>n&&(r.empty||r.to>l.from)&&(t(l,i,r),n=l.number),a=l.to+1}let s=e.changes(i);return{changes:i,range:Ee.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const lFe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new V1(e,{overrideIndentation:s=>{let a=n[s];return a??-1}}),i=yA(e,(s,a,l)=>{let c=cA(r,s.from);if(c==null)return;/\S/.test(s.text)||(c=0);let u=/^\s*/.exec(s.text)[0],d=Oy(e,c);(u!=d||l.from<s.from+u.length)&&(n[s.from]=c,a.push({from:s.from,to:s.from+u.length,insert:d}))});return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0},XZ=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(yA(e,(n,r)=>{r.push({from:n.from,insert:e.facet(U1)})}),{userEvent:"input.indent"})),!0),ZZ=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(yA(e,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Gm(i,e.tabSize),a=0,l=Oy(e,Math.max(0,s-fh(e)));for(;a<i.length&&a<l.length&&i.charCodeAt(a)==l.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:l.slice(a)})}),{userEvent:"delete.dedent"})),!0),cFe=e=>(e.setTabFocusMode(),!0),uFe=[{key:"Ctrl-b",run:CZ,shift:RZ,preventDefault:!0},{key:"Ctrl-f",run:OZ,shift:IZ},{key:"Ctrl-p",run:MZ,shift:FZ},{key:"Ctrl-n",run:TZ,shift:BZ},{key:"Ctrl-a",run:P$e,shift:B$e},{key:"Ctrl-e",run:E$e,shift:q$e},{key:"Ctrl-d",run:VZ},{key:"Ctrl-h",run:W2},{key:"Ctrl-k",run:Q$e},{key:"Ctrl-Alt-h",run:KZ},{key:"Ctrl-o",run:J$e},{key:"Ctrl-t",run:eFe},{key:"Ctrl-v",run:q2}],dFe=[{key:"ArrowLeft",run:CZ,shift:RZ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:b$e,shift:A$e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:C$e,shift:$$e,preventDefault:!0},{key:"ArrowRight",run:OZ,shift:IZ,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:_$e,shift:z$e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:O$e,shift:F$e,preventDefault:!0},{key:"ArrowUp",run:MZ,shift:FZ,preventDefault:!0},{mac:"Cmd-ArrowUp",run:K$,shift:G$},{mac:"Ctrl-ArrowUp",run:U$,shift:V$},{key:"ArrowDown",run:TZ,shift:BZ,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Y$,shift:Q$},{mac:"Ctrl-ArrowDown",run:q2,shift:H$},{key:"PageUp",run:U$,shift:V$},{key:"PageDown",run:q2,shift:H$},{key:"Home",run:N$e,shift:L$e,preventDefault:!0},{key:"Mod-Home",run:K$,shift:G$},{key:"End",run:S$e,shift:I$e,preventDefault:!0},{key:"Mod-End",run:Y$,shift:Q$},{key:"Enter",run:X$,shift:X$},{key:"Mod-a",run:W$e},{key:"Backspace",run:W2,shift:W2,preventDefault:!0},{key:"Delete",run:VZ,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:KZ,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:G$e,preventDefault:!0},{mac:"Mod-Backspace",run:X$e,preventDefault:!0},{mac:"Mod-Delete",run:Z$e,preventDefault:!0}].concat(uFe.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),hFe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:j$e,shift:D$e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:k$e,shift:R$e},{key:"Alt-ArrowUp",run:tFe},{key:"Shift-Alt-ArrowUp",run:rFe},{key:"Alt-ArrowDown",run:nFe},{key:"Shift-Alt-ArrowDown",run:iFe},{key:"Mod-Alt-ArrowUp",run:H$e},{key:"Mod-Alt-ArrowDown",run:K$e},{key:"Escape",run:Y$e},{key:"Mod-Enter",run:oFe},{key:"Alt-l",mac:"Ctrl-l",run:U$e},{key:"Mod-i",run:V$e,preventDefault:!0},{key:"Mod-[",run:ZZ},{key:"Mod-]",run:XZ},{key:"Mod-Alt-\\",run:lFe},{key:"Shift-Mod-k",run:sFe},{key:"Shift-Mod-\\",run:T$e},{key:"Mod-/",run:t$e},{key:"Alt-A",run:r$e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:cFe}].concat(dFe),fFe={key:"Tab",run:XZ,shift:ZZ},Z$=typeof String.prototype.normalize=="function"?e=>e.normalize("NFKD"):e=>e;class bm{constructor(t,n,r=0,i=t.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=s?l=>s(Z$(l)):Z$,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Cs(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let n=qT(t),r=this.bufferStart+this.bufferPos;this.bufferPos+=el(t);let i=this.normalize(n);if(i.length)for(let s=0,a=r;;s++){let l=i.charCodeAt(s),c=this.match(l,a,this.bufferPos+this.bufferStart);if(s==i.length-1){if(c)return this.value=c,this;break}a==r&&s<n.length&&n.charCodeAt(s)==l&&a++}}}match(t,n,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let a=this.matches[s],l=!1;this.query.charCodeAt(a)==t&&(a==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(bm.prototype[Symbol.iterator]=function(){return this});const JZ={from:-1,to:-1,match:/.*/.exec("")},xA="gm"+(/x/.unicode==null?"":"u");class eJ{constructor(t,n,r,i=0,s=t.length){if(this.text=t,this.to=s,this.curLine="",this.done=!1,this.value=JZ,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new tJ(t,n,r,i,s);this.re=new RegExp(n,xA+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=t.iter();let a=t.lineAt(i);this.curLineStart=a.from,this.matchPos=pw(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=pw(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const rN=new WeakMap;class Bf{constructor(t,n){this.from=t,this.text=n}get to(){return this.from+this.text.length}static get(t,n,r){let i=rN.get(t);if(!i||i.from>=r||i.to<=n){let l=new Bf(n,t.sliceString(n,r));return rN.set(t,l),l}if(i.from==n&&i.to==r)return i;let{text:s,from:a}=i;return a>n&&(s=t.sliceString(n,a)+s,a=n),i.to<r&&(s+=t.sliceString(i.to,r)),rN.set(t,new Bf(a,s)),new Bf(n,s.slice(n-a,r-a))}}class tJ{constructor(t,n,r,i,s){this.text=t,this.to=s,this.done=!1,this.value=JZ,this.matchPos=pw(t,i),this.re=new RegExp(n,xA+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Bf.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==t&&(this.re.lastIndex=t+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=pw(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Bf.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(eJ.prototype[Symbol.iterator]=tJ.prototype[Symbol.iterator]=function(){return this});function mFe(e){try{return new RegExp(e,xA),!0}catch{return!1}}function pw(e,t){if(t>=e.length)return t;let n=e.lineAt(t),r;for(;t<n.to&&(r=n.text.charCodeAt(t-n.from))>=56320&&r<57344;)t++;return t}function U2(e){let t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=Cn("input",{class:"cm-textfield",name:"line",value:t}),r=Cn("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),e.dispatch({effects:bg.of(!1)}),e.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},Cn("label",e.state.phrase("Go to line"),": ",n)," ",Cn("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),Cn("button",{name:"close",onclick:()=>{e.dispatch({effects:bg.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!s)return;let{state:a}=e,l=a.doc.lineAt(a.selection.main.head),[,c,u,d,h]=s,m=d?+d.slice(1):0,p=u?+u:l.number;if(u&&h){let x=p/100;c&&(x=x*(c=="-"?-1:1)+l.number/a.doc.lines),p=Math.round(a.doc.lines*x)}else u&&c&&(p=p*(c=="-"?-1:1)+l.number);let g=a.doc.line(Math.max(1,Math.min(a.doc.lines,p))),y=Ee.cursor(g.from+Math.max(0,Math.min(m,g.length)));e.dispatch({effects:[bg.of(!1),ct.scrollIntoView(y.from,{y:"center"})],selection:y}),e.focus()}return{dom:r}}const bg=Gt.define(),J$=Ei.define({create(){return!0},update(e,t){for(let n of t.effects)n.is(bg)&&(e=n.value);return e},provide:e=>ky.from(e,t=>t?U2:null)}),pFe=e=>{let t=jy(e,U2);if(!t){let n=[bg.of(!0)];e.state.field(J$,!1)==null&&n.push(Gt.appendConfig.of([J$,gFe])),e.dispatch({effects:n}),t=jy(e,U2)}return t&&t.dom.querySelector("input").select(),!0},gFe=ct.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),yFe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},xFe=pt.define({combine(e){return Pl(e,yFe,{highlightWordAroundCursor:(t,n)=>t||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function vFe(e){return[kFe,jFe]}const bFe=$t.mark({class:"cm-selectionMatch"}),_Fe=$t.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function eF(e,t,n,r){return(n==0||e(t.sliceDoc(n-1,n))!=tr.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=tr.Word)}function wFe(e,t,n,r){return e(t.sliceDoc(n,n+1))==tr.Word&&e(t.sliceDoc(r-1,r))==tr.Word}const jFe=Sr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(xFe),{state:n}=e,r=n.selection;if(r.ranges.length>1)return $t.none;let i=r.main,s,a=null;if(i.empty){if(!t.highlightWordAroundCursor)return $t.none;let c=n.wordAt(i.head);if(!c)return $t.none;a=n.charCategorizer(i.head),s=n.sliceDoc(c.from,c.to)}else{let c=i.to-i.from;if(c<t.minSelectionLength||c>200)return $t.none;if(t.wholeWords){if(s=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(eF(a,n,i.from,i.to)&&wFe(a,n,i.from,i.to)))return $t.none}else if(s=n.sliceDoc(i.from,i.to),!s)return $t.none}let l=[];for(let c of e.visibleRanges){let u=new bm(n.doc,s,c.from,c.to);for(;!u.next().done;){let{from:d,to:h}=u.value;if((!a||eF(a,n,d,h))&&(i.empty&&d<=i.from&&h>=i.to?l.push(_Fe.range(d,h)):(d>=i.to||h<=i.from)&&l.push(bFe.range(d,h)),l.length>t.maxMatches))return $t.none}}return $t.set(l)}},{decorations:e=>e.decorations}),kFe=ct.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),SFe=({state:e,dispatch:t})=>{let{selection:n}=e,r=Ee.create(n.ranges.map(i=>e.wordAt(i.head)||Ee.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(t(e.update({selection:r})),!0)};function NFe(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let a=!1,l=new bm(e.doc,t,r[r.length-1].to);;)if(l.next(),l.done){if(a)return null;l=new bm(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(c=>c.from==l.value.from))continue;if(s){let c=e.wordAt(l.value.from);if(!c||c.from!=l.value.from||c.to!=l.value.to)continue}return l.value}}const CFe=({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(s=>s.from===s.to))return SFe({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(s=>e.sliceDoc(s.from,s.to)!=r))return!1;let i=NFe(e,r);return i?(t(e.update({selection:e.selection.addRange(Ee.range(i.from,i.to),!1),effects:ct.scrollIntoView(i.to)})),!0):!1},Xm=pt.define({combine(e){return Pl(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new $Fe(t),scrollToMatch:t=>ct.scrollIntoView(t)})}});class nJ{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||mFe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new MFe(this):new PFe(this)}getCursor(t,n=0,r){let i=t.doc?t:dn.create({doc:t});return r==null&&(r=i.doc.length),this.regexp?nf(this,i,n,r):tf(this,i,n,r)}}class rJ{constructor(t){this.spec=t}}function tf(e,t,n,r){return new bm(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:i=>i.toLowerCase(),e.wholeWord?OFe(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function OFe(e,t){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=e.sliceString(s,Math.min(e.length,r+2))),(t(gw(i,n-s))!=tr.Word||t(yw(i,n-s))!=tr.Word)&&(t(yw(i,r-s))!=tr.Word||t(gw(i,r-s))!=tr.Word))}class PFe extends rJ{constructor(t){super(t)}nextMatch(t,n,r){let i=tf(this.spec,t,r,t.doc.length).nextOverlapping();if(i.done){let s=Math.min(t.doc.length,n+this.spec.unquoted.length);i=tf(this.spec,t,0,s).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(t,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),a=tf(this.spec,t,s,i),l=null;for(;!a.nextOverlapping().done;)l=a.value;if(l)return l;if(s==n)return null;i-=1e4}}prevMatch(t,n,r){let i=this.prevMatchInRange(t,0,n);return i||(i=this.prevMatchInRange(t,Math.max(0,r-this.spec.unquoted.length),t.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,n){let r=tf(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let s=tf(this.spec,t,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,t.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function nf(e,t,n,r){return new eJ(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?EFe(t.charCategorizer(t.selection.main.head)):void 0},n,r)}function gw(e,t){return e.slice(Wr(e,t,!1),t)}function yw(e,t){return e.slice(t,Wr(e,t))}function EFe(e){return(t,n,r)=>!r[0].length||(e(gw(r.input,r.index))!=tr.Word||e(yw(r.input,r.index))!=tr.Word)&&(e(yw(r.input,r.index+r[0].length))!=tr.Word||e(gw(r.input,r.index+r[0].length))!=tr.Word)}class MFe extends rJ{nextMatch(t,n,r){let i=nf(this.spec,t,r,t.doc.length).next();return i.done&&(i=nf(this.spec,t,0,n).next()),i.done?null:i.value}prevMatchInRange(t,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),a=nf(this.spec,t,s,r),l=null;for(;!a.next().done;)l=a.value;if(l&&(s==n||l.from>s+10))return l;if(s==n)return null}}prevMatch(t,n,r){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return t.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<t.match.length)return t.match[s]+r.slice(i)}return n})}matchAll(t,n){let r=nf(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let s=nf(this.spec,t,Math.max(0,n-250),Math.min(r+250,t.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Ey=Gt.define(),vA=Gt.define(),Cu=Ei.define({create(e){return new iN(V2(e).create(),null)},update(e,t){for(let n of t.effects)n.is(Ey)?e=new iN(n.value.create(),e.panel):n.is(vA)&&(e=new iN(e.query,n.value?bA:null));return e},provide:e=>ky.from(e,t=>t.panel)});class iN{constructor(t,n){this.query=t,this.panel=n}}const TFe=$t.mark({class:"cm-searchMatch"}),AFe=$t.mark({class:"cm-searchMatch cm-searchMatch-selected"}),zFe=Sr.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(Cu))}update(e){let t=e.state.field(Cu);(t!=e.startState.field(Cu)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return $t.none;let{view:n}=this,r=new kc;for(let i=0,s=n.visibleRanges,a=s.length;i<a;i++){let{from:l,to:c}=s[i];for(;i<a-1&&c>s[i+1].from-2*250;)c=s[++i].to;e.highlight(n.state,l,c,(u,d)=>{let h=n.state.selection.ranges.some(m=>m.from==u&&m.to==d);r.add(u,d,h?AFe:TFe)})}return r.finish()}},{decorations:e=>e.decorations});function Ux(e){return t=>{let n=t.state.field(Cu,!1);return n&&n.query.spec.valid?e(t,n):aJ(t)}}const xw=Ux((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let i=Ee.single(r.from,r.to),s=e.state.facet(Xm);return e.dispatch({selection:i,effects:[_A(e,r),s.scrollToMatch(i.main,e)],userEvent:"select.search"}),sJ(e),!0}),vw=Ux((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,i=t.prevMatch(n,r,r);if(!i)return!1;let s=Ee.single(i.from,i.to),a=e.state.facet(Xm);return e.dispatch({selection:s,effects:[_A(e,i),a.scrollToMatch(s.main,e)],userEvent:"select.search"}),sJ(e),!0}),DFe=Ux((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!n||!n.length?!1:(e.dispatch({selection:Ee.create(n.map(r=>Ee.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),RFe=({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],a=0;for(let l=new bm(e.doc,e.sliceDoc(r,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==r&&(a=s.length),s.push(Ee.range(l.value.from,l.value.to))}return t(e.update({selection:Ee.create(s,a),userEvent:"select.search.matches"})),!0},tF=Ux((e,{query:t})=>{let{state:n}=e,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=t.nextMatch(n,r,r);if(!s)return!1;let a=s,l=[],c,u,d=[];a.from==r&&a.to==i&&(u=n.toText(t.getReplacement(a)),l.push({from:a.from,to:a.to,insert:u}),a=t.nextMatch(n,a.from,a.to),d.push(ct.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let h=e.state.changes(l);return a&&(c=Ee.single(a.from,a.to).map(h),d.push(_A(e,a)),d.push(n.facet(Xm).scrollToMatch(c.main,e))),e.dispatch({changes:h,selection:c,effects:d,userEvent:"input.replace"}),!0}),IFe=Ux((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(i=>{let{from:s,to:a}=i;return{from:s,to:a,insert:t.getReplacement(i)}});if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:ct.announce.of(r),userEvent:"input.replace.all"}),!0});function bA(e){return e.state.facet(Xm).createPanel(e)}function V2(e,t){var n,r,i,s,a;let l=e.selection.main,c=l.empty||l.to>l.from+100?"":e.sliceDoc(l.from,l.to);if(t&&!c)return t;let u=e.facet(Xm);return new nJ({search:((n=t==null?void 0:t.literal)!==null&&n!==void 0?n:u.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=t==null?void 0:t.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=t==null?void 0:t.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=t==null?void 0:t.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(a=t==null?void 0:t.wholeWord)!==null&&a!==void 0?a:u.wholeWord})}function iJ(e){let t=jy(e,bA);return t&&t.dom.querySelector("[main-field]")}function sJ(e){let t=iJ(e);t&&t==e.root.activeElement&&t.select()}const aJ=e=>{let t=e.state.field(Cu,!1);if(t&&t.panel){let n=iJ(e);if(n&&n!=e.root.activeElement){let r=V2(e.state,t.query.spec);r.valid&&e.dispatch({effects:Ey.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[vA.of(!0),t?Ey.of(V2(e.state,t.query.spec)):Gt.appendConfig.of(BFe)]});return!0},oJ=e=>{let t=e.state.field(Cu,!1);if(!t||!t.panel)return!1;let n=jy(e,bA);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:vA.of(!1)}),!0},LFe=[{key:"Mod-f",run:aJ,scope:"editor search-panel"},{key:"F3",run:xw,shift:vw,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:xw,shift:vw,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:oJ,scope:"editor search-panel"},{key:"Mod-Shift-l",run:RFe},{key:"Mod-Alt-g",run:pFe},{key:"Mod-d",run:CFe,preventDefault:!0}];class $Fe{constructor(t){this.view=t;let n=this.query=t.state.field(Cu).query.spec;this.commit=this.commit.bind(this),this.searchField=Cn("input",{value:n.search,placeholder:Gs(t,"Find"),"aria-label":Gs(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Cn("input",{value:n.replace,placeholder:Gs(t,"Replace"),"aria-label":Gs(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Cn("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=Cn("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=Cn("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,a){return Cn("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.dom=Cn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>xw(t),[Gs(t,"next")]),r("prev",()=>vw(t),[Gs(t,"previous")]),r("select",()=>DFe(t),[Gs(t,"all")]),Cn("label",null,[this.caseField,Gs(t,"match case")]),Cn("label",null,[this.reField,Gs(t,"regexp")]),Cn("label",null,[this.wordField,Gs(t,"by word")]),...t.state.readOnly?[]:[Cn("br"),this.replaceField,r("replace",()=>tF(t),[Gs(t,"replace")]),r("replaceAll",()=>IFe(t),[Gs(t,"replace all")])],Cn("button",{name:"close",onclick:()=>oJ(t),"aria-label":Gs(t,"close"),type:"button"},[""])])}commit(){let t=new nJ({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:Ey.of(t)}))}keydown(t){K4e(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?vw:xw)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),tF(this.view))}update(t){for(let n of t.transactions)for(let r of n.effects)r.is(Ey)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Xm).top}}function Gs(e,t){return e.state.phrase(t)}const cb=30,ub=/[\s\.,:;?!]/;function _A(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,s=Math.max(r.from,t-cb),a=Math.min(i,n+cb),l=e.state.sliceDoc(s,a);if(s!=r.from){for(let c=0;c<cb;c++)if(!ub.test(l[c+1])&&ub.test(l[c])){l=l.slice(c);break}}if(a!=i){for(let c=l.length-1;c>l.length-cb;c--)if(!ub.test(l[c-1])&&ub.test(l[c])){l=l.slice(0,c);break}}return ct.announce.of(`${e.state.phrase("current match")}. ${l} ${e.state.phrase("on line")} ${r.number}.`)}const FFe=ct.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),BFe=[Cu,Nh.low(zFe),FFe];class lJ{constructor(t,n,r,i){this.state=t,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let n=Vi(this.state).resolveInner(this.pos,-1);for(;n&&t.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(t){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(cJ(t,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(t,n,r){t=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function nF(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function qFe(e){let t=Object.create(null),n=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=nF(t)+nF(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function WFe(e){let t=e.map(i=>typeof i=="string"?{label:i}:i),[n,r]=t.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:qFe(t);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:t,validFor:n}:null}}class rF{constructor(t,n,r,i){this.completion=t,this.source=n,this.match=r,this.score=i}}function Hd(e){return e.selection.main.from}function cJ(e,t){var n;let{source:r}=e,i=t&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?e:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=e.flags)!==null&&n!==void 0?n:e.ignoreCase?"i":"")}const uJ=Ol.define();function UFe(e,t,n,r){let{main:i}=e.selection,s=n-i.from,a=r-i.from;return{...e.changeByRange(l=>{if(l!=i&&n!=r&&e.sliceDoc(l.from+s,l.from+a)!=e.sliceDoc(n,r))return{range:l};let c=e.toText(t);return{changes:{from:l.from+s,to:r==i.from?l.to:l.from+a,insert:c},range:Ee.cursor(l.from+s+c.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const iF=new WeakMap;function VFe(e){if(!Array.isArray(e))return e;let t=iF.get(e);return t||iF.set(e,t=WFe(e)),t}const bw=Gt.define(),My=Gt.define();class HFe{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<t.length;){let r=Cs(t,n),i=el(r);this.chars.push(r);let s=t.slice(n,n+i),a=s.toUpperCase();this.folded.push(Cs(a==s?s.toLowerCase():a,0)),n+=i}this.astral=t.length!=this.chars.length}ret(t,n){return this.score=t,this.matched=n,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:a}=this;if(n.length==1){let w=Cs(t,0),v=el(w),_=v==t.length?0:-100;if(w!=n[0])if(w==r[0])_+=-200;else return null;return this.ret(_,[0,v])}let l=t.indexOf(this.pattern);if(l==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=n.length,u=0;if(l<0){for(let w=0,v=Math.min(t.length,200);w<v&&u<c;){let _=Cs(t,w);(_==n[u]||_==r[u])&&(i[u++]=w),w+=el(_)}if(u<c)return null}let d=0,h=0,m=!1,p=0,g=-1,y=-1,x=/[a-z]/.test(t),b=!0;for(let w=0,v=Math.min(t.length,200),_=0;w<v&&h<c;){let j=Cs(t,w);l<0&&(d<c&&j==n[d]&&(s[d++]=w),p<c&&(j==n[p]||j==r[p]?(p==0&&(g=w),y=w+1,p++):p=0));let k,C=j<255?j>=48&&j<=57||j>=97&&j<=122?2:j>=65&&j<=90?1:0:(k=qT(j))!=k.toLowerCase()?1:k!=k.toUpperCase()?2:0;(!w||C==1&&x||_==0&&C!=0)&&(n[h]==j||r[h]==j&&(m=!0)?a[h++]=w:a.length&&(b=!1)),_=C,w+=el(j)}return h==c&&a[0]==0&&b?this.result(-100+(m?-200:0),a,t):p==c&&g==0?this.ret(-200-t.length+(y==t.length?0:-100),[0,y]):l>-1?this.ret(-700-t.length,[l,l+this.pattern.length]):p==c?this.ret(-900-t.length,[g,y]):h==c?this.result(-100+(m?-200:0)+-700+(b?0:-1100),a,t):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,t)}result(t,n,r){let i=[],s=0;for(let a of n){let l=a+(this.astral?el(Cs(r,a)):1);s&&i[s-1]==a?i[s-1]=l:(i[s++]=a,i[s++]=l)}return this.ret(t-r.length,i)}}class KFe{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let n=t.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(t.length==this.pattern.length?0:-100),this)}}const li=pt.define({combine(e){return Pl(e,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:YFe,filterStrict:!1,compareCompletions:(t,n)=>(t.sortText||t.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,n)=>t&&n,closeOnBlur:(t,n)=>t&&n,icons:(t,n)=>t&&n,tooltipClass:(t,n)=>r=>sF(t(r),n(r)),optionClass:(t,n)=>r=>sF(t(r),n(r)),addToOptions:(t,n)=>t.concat(n),filterStrict:(t,n)=>t||n})}});function sF(e,t){return e?t?e+" "+t:e:t}function YFe(e,t,n,r,i,s){let a=e.textDirection==Mn.RTL,l=a,c=!1,u="top",d,h,m=t.left-i.left,p=i.right-t.right,g=r.right-r.left,y=r.bottom-r.top;if(l&&m<Math.min(g,p)?l=!1:!l&&p<Math.min(g,m)&&(l=!0),g<=(l?m:p))d=Math.max(i.top,Math.min(n.top,i.bottom-y))-t.top,h=Math.min(400,l?m:p);else{c=!0,h=Math.min(400,(a?t.right:i.right-t.left)-30);let w=i.bottom-t.bottom;w>=y||w>t.top?d=n.bottom-t.top:(u="bottom",d=t.bottom-n.top)}let x=(t.bottom-t.top)/s.offsetHeight,b=(t.right-t.left)/s.offsetWidth;return{style:`${u}: ${d/x}px; max-width: ${h/b}px`,class:"cm-completionInfo-"+(c?a?"left-narrow":"right-narrow":l?"left":"right")}}function GFe(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),t.push({render(n,r,i,s){let a=document.createElement("span");a.className="cm-completionLabel";let l=n.displayLabel||n.label,c=0;for(let u=0;u<s.length;){let d=s[u++],h=s[u++];d>c&&a.appendChild(document.createTextNode(l.slice(c,d)));let m=a.appendChild(document.createElement("span"));m.appendChild(document.createTextNode(l.slice(d,h))),m.className="cm-completionMatchedText",c=h}return c<l.length&&a.appendChild(document.createTextNode(l.slice(c))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),t.sort((n,r)=>n.position-r.position).map(n=>n.render)}function sN(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let i=Math.floor(t/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class QFe{constructor(t,n,r){this.view=t,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=t.state.field(n),{options:s,selected:a}=i.open,l=t.state.facet(li);this.optionContent=GFe(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=sN(s.length,a,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",c=>{let{options:u}=t.state.field(n).open;for(let d=c.target,h;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(h=/-(\d+)$/.exec(d.id))&&+h[1]<u.length){this.applyCompletion(t,u[+h[1]]),c.preventDefault();return}}),this.dom.addEventListener("focusout",c=>{let u=t.state.field(this.stateField,!1);u&&u.tooltip&&t.state.facet(li).closeOnBlur&&c.relatedTarget!=t.contentDOM&&t.dispatch({effects:My.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(t,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var n;let r=t.state.field(this.stateField),i=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),r!=i){let{options:s,selected:a,disabled:l}=r.open;(!i.open||i.open.options!=s)&&(this.range=sN(s.length,a,t.state.facet(li).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),l!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(t){let n=this.tooltipClass(t);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),n=t.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=sN(n.options.length,n.selected,this.view.state.facet(li).maxRenderedOptions),this.showOptions(n.options,t.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:s}=i;if(!s)return;let a=typeof s=="string"?document.createTextNode(s):s(i);if(!a)return;"then"in a?a.then(l=>{l&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(l,i)}).catch(l=>zs(this.view.state,l,"completion info")):(this.addInfoPane(a,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(t,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),t.nodeType!=null)r.appendChild(t),this.infoDestroy=null;else{let{dom:i,destroy:s}=t;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==t?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&ZFe(this.list,n),n}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=t.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:a.clientWidth,bottom:a.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(li).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",a=>{a.target==i&&a.preventDefault()});let s=null;for(let a=r.from;a<r.to;a++){let{completion:l,match:c}=t[a],{section:u}=l;if(u){let m=typeof u=="string"?u:u.name;if(m!=s&&(a>r.from||r.from==0))if(s=m,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let p=i.appendChild(document.createElement("completion-section"));p.textContent=m}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+a,d.setAttribute("role","option");let h=this.optionClass(l);h&&(d.className=h);for(let m of this.optionContent){let p=m(l,this.view.state,this.view,c);p&&d.appendChild(p)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function XFe(e,t){return n=>new QFe(n,e,t)}function ZFe(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}function aF(e){return(e.boost||0)*100+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}function JFe(e,t){let n=[],r=null,i=null,s=d=>{n.push(d);let{section:h}=d.completion;if(h){r||(r=[]);let m=typeof h=="string"?h:h.name;r.some(p=>p.name==m)||r.push(typeof h=="string"?{name:m}:h)}},a=t.facet(li);for(let d of e)if(d.hasResult()){let h=d.result.getMatch;if(d.result.filter===!1)for(let m of d.result.options)s(new rF(m,d.source,h?h(m):[],1e9-n.length));else{let m=t.sliceDoc(d.from,d.to),p,g=a.filterStrict?new KFe(m):new HFe(m);for(let y of d.result.options)if(p=g.match(y.label)){let x=y.displayLabel?h?h(y,p.matched):[]:p.matched,b=p.score+(y.boost||0);if(s(new rF(y,d.source,x,b)),typeof y.section=="object"&&y.section.rank==="dynamic"){let{name:w}=y.section;i||(i=Object.create(null)),i[w]=Math.max(b,i[w]||-1e9)}}}}if(r){let d=Object.create(null),h=0,m=(p,g)=>(p.rank==="dynamic"&&g.rank==="dynamic"?i[g.name]-i[p.name]:0)||(typeof p.rank=="number"?p.rank:1e9)-(typeof g.rank=="number"?g.rank:1e9)||(p.name<g.name?-1:1);for(let p of r.sort(m))h-=1e5,d[p.name]=h;for(let p of n){let{section:g}=p.completion;g&&(p.score+=d[typeof g=="string"?g:g.name])}}let l=[],c=null,u=a.compareCompletions;for(let d of n.sort((h,m)=>m.score-h.score||u(h.completion,m.completion))){let h=d.completion;!c||c.label!=h.label||c.detail!=h.detail||c.type!=null&&h.type!=null&&c.type!=h.type||c.apply!=h.apply||c.boost!=h.boost?l.push(d):aF(d.completion)>aF(c)&&(l[l.length-1]=d),c=d.completion}return l}class wf{constructor(t,n,r,i,s,a){this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(t,n){return t==this.selected||t>=this.options.length?this:new wf(this.options,oF(n,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,n,r,i,s,a){if(i&&!a&&t.some(u=>u.isPending))return i.setDisabled();let l=JFe(t,n);if(!l.length)return i&&t.some(u=>u.isPending)?i.setDisabled():null;let c=n.facet(li).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let u=i.options[i.selected].completion;for(let d=0;d<l.length;d++)if(l[d].completion==u){c=d;break}}return new wf(l,oF(r,c),{pos:t.reduce((u,d)=>d.hasResult()?Math.min(u,d.from):u,1e8),create:sBe,above:s.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(t){return new wf(this.options,this.attrs,{...this.tooltip,pos:t.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new wf(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class _w{constructor(t,n,r){this.active=t,this.id=n,this.open=r}static start(){return new _w(rBe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:n}=t,r=n.facet(li),s=(r.override||n.languageDataAt("autocomplete",Hd(n)).map(VFe)).map(c=>(this.active.find(d=>d.source==c)||new Ra(c,this.active.some(d=>d.state!=0)?1:0)).update(t,r));s.length==this.active.length&&s.every((c,u)=>c==this.active[u])&&(s=this.active);let a=this.open,l=t.effects.some(c=>c.is(wA));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||s.some(c=>c.hasResult()&&t.changes.touchesRange(c.from,c.to))||!eBe(s,this.active)||l?a=wf.build(s,n,this.id,a,r,l):a&&a.disabled&&!s.some(c=>c.isPending)&&(a=null),!a&&s.every(c=>!c.isPending)&&s.some(c=>c.hasResult())&&(s=s.map(c=>c.hasResult()?new Ra(c.source,0):c));for(let c of t.effects)c.is(hJ)&&(a=a&&a.setSelected(c.value,this.id));return s==this.active&&a==this.open?this:new _w(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?tBe:nBe}}function eBe(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult();)n++;for(;r<t.length&&!t[r].hasResult();)r++;let i=n==e.length,s=r==t.length;if(i||s)return i==s;if(e[n++].result!=t[r++].result)return!1}}const tBe={"aria-autocomplete":"list"},nBe={};function oF(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const rBe=[];function dJ(e,t){if(e.isUserEvent("input.complete")){let r=e.annotation(uJ);if(r&&t.activateOnCompletion(r))return 12}let n=e.isUserEvent("input.type");return n&&t.activateOnTyping?5:n?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}class Ra{constructor(t,n,r=!1){this.source=t,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(t,n){let r=dJ(t,n),i=this;(r&8||r&16&&this.touches(t))&&(i=new Ra(i.source,0)),r&4&&i.state==0&&(i=new Ra(this.source,1)),i=i.updateFor(t,r);for(let s of t.effects)if(s.is(bw))i=new Ra(i.source,1,s.value);else if(s.is(My))i=new Ra(i.source,0);else if(s.is(wA))for(let a of s.value)a.source==i.source&&(i=a);return i}updateFor(t,n){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(Hd(t.state))}}class qf extends Ra{constructor(t,n,r,i,s,a){super(t,3,n),this.limit=r,this.result=i,this.from=s,this.to=a}hasResult(){return!0}updateFor(t,n){var r;if(!(n&3))return this.map(t.changes);let i=this.result;i.map&&!t.changes.empty&&(i=i.map(i,t.changes));let s=t.changes.mapPos(this.from),a=t.changes.mapPos(this.to,1),l=Hd(t.state);if(l>a||!i||n&2&&(Hd(t.startState)==this.from||l<this.limit))return new Ra(this.source,n&4?1:0);let c=t.changes.mapPos(this.limit);return iBe(i.validFor,t.state,s,a)?new qf(this.source,this.explicit,c,i,s,a):i.update&&(i=i.update(i,s,a,new lJ(t.state,l,!1)))?new qf(this.source,this.explicit,c,i,i.from,(r=i.to)!==null&&r!==void 0?r:Hd(t.state)):new Ra(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new qf(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Ra(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}function iBe(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return typeof e=="function"?e(i,n,r,t):cJ(e,!0).test(i)}const wA=Gt.define({map(e,t){return e.map(n=>n.map(t))}}),hJ=Gt.define(),Os=Ei.define({create(){return _w.start()},update(e,t){return e.update(t)},provide:e=>[rA.from(e,t=>t.tooltip),ct.contentAttributes.from(e,t=>t.attrs)]});function jA(e,t){const n=t.completion.apply||t.completion.label;let r=e.state.field(Os).active.find(i=>i.source==t.source);return r instanceof qf?(typeof n=="string"?e.dispatch({...UFe(e.state,n,r.from,r.to),annotations:uJ.of(t.completion)}):n(e,t.completion,r.from,r.to),!0):!1}const sBe=XFe(Os,jA);function db(e,t="option"){return n=>{let r=n.state.field(Os,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(li).interactionDelay)return!1;let i=1,s;t=="page"&&(s=LX(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,l=r.open.selected>-1?r.open.selected+i*(e?1:-1):e?0:a-1;return l<0?l=t=="page"?0:a-1:l>=a&&(l=t=="page"?a-1:0),n.dispatch({effects:hJ.of(l)}),!0}}const aBe=e=>{let t=e.state.field(Os,!1);return e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(li).interactionDelay?!1:jA(e,t.open.options[t.open.selected])},aN=e=>e.state.field(Os,!1)?(e.dispatch({effects:bw.of(!0)}),!0):!1,oBe=e=>{let t=e.state.field(Os,!1);return!t||!t.active.some(n=>n.state!=0)?!1:(e.dispatch({effects:My.of(null)}),!0)};class lBe{constructor(t,n){this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const cBe=50,uBe=1e3,dBe=Sr.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(Os).active)t.isPending&&this.startQuery(t)}update(e){let t=e.state.field(Os),n=e.state.facet(li);if(!e.selectionSet&&!e.docChanged&&e.startState.field(Os)==t)return;let r=e.transactions.some(s=>{let a=dJ(s,n);return a&8||(s.selection||s.docChanged)&&!(a&3)});for(let s=0;s<this.running.length;s++){let a=this.running[s];if(r||a.context.abortOnDocChange&&e.docChanged||a.updates.length+e.transactions.length>cBe&&Date.now()-a.time>uBe){for(let l of a.context.abortListeners)try{l()}catch(c){zs(this.view.state,c)}a.context.abortListeners=null,this.running.splice(s--,1)}else a.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(s=>s.effects.some(a=>a.is(bw)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(s=>s.isPending&&!this.running.some(a=>a.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of e.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(Os);for(let n of t.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(li).updateSyncTime))}startQuery(e){let{state:t}=this.view,n=Hd(t),r=new lJ(t,n,e.explicit,this.view),i=new lBe(e,r);this.running.push(i),Promise.resolve(e.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:My.of(null)}),zs(this.view.state,s)})}scheduleAccept(){this.running.every(e=>e.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(li).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(li),r=this.view.state.field(Os);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=Hd(s.updates.length?s.updates[0].startState:this.view.state),c=Math.min(l,s.done.from+(s.active.explicit?0:1)),u=new qf(s.active.source,s.active.explicit,c,s.done,s.done.from,(e=s.done.to)!==null&&e!==void 0?e:l);for(let d of s.updates)u=u.update(d,n);if(u.hasResult()){t.push(u);continue}}let a=r.active.find(l=>l.source==s.active.source);if(a&&a.isPending)if(s.done==null){let l=new Ra(s.active.source,0);for(let c of s.updates)l=l.update(c,n);l.isPending||t.push(l)}else this.startQuery(a)}(t.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:wA.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(Os,!1);if(t&&t.tooltip&&this.view.state.facet(li).closeOnBlur){let n=t.open&&LX(this.view,t.open.tooltip);(!n||!n.dom.contains(e.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:My.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:bw.of(!1)}),20),this.composing=0}}}),hBe=typeof navigator=="object"&&/Win/.test(navigator.platform),fBe=Nh.highest(ct.domEventHandlers({keydown(e,t){let n=t.state.field(Os,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||e.key.length>1||e.ctrlKey&&!(hBe&&e.altKey)||e.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(a=>a.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(e.key)>-1&&jA(t,r),!1}})),mBe=ct.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ty={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},zd=Gt.define({map(e,t){let n=t.mapPos(e,-1,ns.TrackAfter);return n??void 0}}),kA=new class extends Iu{};kA.startSide=1;kA.endSide=-1;const fJ=Ei.define({create(){return an.empty},update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of t.effects)n.is(zd)&&(e=e.update({add:[kA.range(n.value,n.value+1)]}));return e}});function pBe(){return[yBe,fJ]}const oN="()[]{}<>";function mJ(e){for(let t=0;t<oN.length;t+=2)if(oN.charCodeAt(t)==e)return oN.charAt(t+1);return qT(e<128?e:e+1)}function pJ(e,t){return e.languageDataAt("closeBrackets",t)[0]||Ty}const gBe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),yBe=ct.inputHandler.of((e,t,n,r)=>{if((gBe?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||r.length==2&&el(Cs(r,0))==1||t!=i.from||n!=i.to)return!1;let s=bBe(e.state,r);return s?(e.dispatch(s),!0):!1}),xBe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=pJ(e,e.selection.main.head).brackets||Ty.brackets,i=null,s=e.changeByRange(a=>{if(a.empty){let l=_Be(e.doc,a.head);for(let c of r)if(c==l&&Z1(e.doc,a.head)==mJ(Cs(c,0)))return{changes:{from:a.head-c.length,to:a.head+c.length},range:Ee.cursor(a.head-c.length)}}return{range:i=a}});return i||t(e.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},vBe=[{key:"Backspace",run:xBe}];function bBe(e,t){let n=pJ(e,e.selection.main.head),r=n.brackets||Ty.brackets;for(let i of r){let s=mJ(Cs(i,0));if(t==i)return s==i?kBe(e,i,r.indexOf(i+i+i)>-1,n):wBe(e,i,s,n.before||Ty.before);if(t==s&&gJ(e,e.selection.main.from))return jBe(e,i,s)}return null}function gJ(e,t){let n=!1;return e.field(fJ).between(0,e.doc.length,r=>{r==t&&(n=!0)}),n}function Z1(e,t){let n=e.sliceString(t,t+2);return n.slice(0,el(Cs(n,0)))}function _Be(e,t){let n=e.sliceString(t-2,t);return el(Cs(n,0))==n.length?n:n.slice(1)}function wBe(e,t,n,r){let i=null,s=e.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:n,from:a.to}],effects:zd.of(a.to+t.length),range:Ee.range(a.anchor+t.length,a.head+t.length)};let l=Z1(e.doc,a.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:t+n,from:a.head},effects:zd.of(a.head+t.length),range:Ee.cursor(a.head+t.length)}:{range:i=a}});return i?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function jBe(e,t,n){let r=null,i=e.changeByRange(s=>s.empty&&Z1(e.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:Ee.cursor(s.head+n.length)}:r={range:s});return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function kBe(e,t,n,r){let i=r.stringPrefixes||Ty.stringPrefixes,s=null,a=e.changeByRange(l=>{if(!l.empty)return{changes:[{insert:t,from:l.from},{insert:t,from:l.to}],effects:zd.of(l.to+t.length),range:Ee.range(l.anchor+t.length,l.head+t.length)};let c=l.head,u=Z1(e.doc,c),d;if(u==t){if(lF(e,c))return{changes:{insert:t+t,from:c},effects:zd.of(c+t.length),range:Ee.cursor(c+t.length)};if(gJ(e,c)){let m=n&&e.sliceDoc(c,c+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:c,to:c+m.length,insert:m},range:Ee.cursor(c+m.length)}}}else{if(n&&e.sliceDoc(c-2*t.length,c)==t+t&&(d=cF(e,c-2*t.length,i))>-1&&lF(e,d))return{changes:{insert:t+t+t+t,from:c},effects:zd.of(c+t.length),range:Ee.cursor(c+t.length)};if(e.charCategorizer(c)(u)!=tr.Word&&cF(e,c,i)>-1&&!SBe(e,c,t,i))return{changes:{insert:t+t,from:c},effects:zd.of(c+t.length),range:Ee.cursor(c+t.length)}}return{range:s=l}});return s?null:e.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function lF(e,t){let n=Vi(e).resolveInner(t+1);return n.parent&&n.from==t}function SBe(e,t,n,r){let i=Vi(e).resolveInner(t,-1),s=r.reduce((a,l)=>Math.max(a,l.length),0);for(let a=0;a<5;a++){let l=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),c=l.indexOf(n);if(!c||c>-1&&r.indexOf(l.slice(0,c))>-1){let d=i.firstChild;for(;d&&d.from==i.from&&d.to-d.from>n.length+c;){if(e.sliceDoc(d.to-n.length,d.to)==n)return!1;d=d.firstChild}return!0}let u=i.to==t&&i.parent;if(!u)break;i=u}return!1}function cF(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=tr.Word)return t;for(let i of n){let s=t-i.length;if(e.sliceDoc(s,t)==i&&r(e.sliceDoc(s-1,s))!=tr.Word)return s}return-1}function NBe(e={}){return[fBe,Os,li.of(e),dBe,CBe,mBe]}const yJ=[{key:"Ctrl-Space",run:aN},{mac:"Alt-`",run:aN},{mac:"Alt-i",run:aN},{key:"Escape",run:oBe},{key:"ArrowDown",run:db(!0)},{key:"ArrowUp",run:db(!1)},{key:"PageDown",run:db(!0,"page")},{key:"PageUp",run:db(!1,"page")},{key:"Enter",run:aBe}],CBe=Nh.highest(B1.computeN([li],e=>e.facet(li).defaultKeymap?[yJ]:[]));class uF{constructor(t,n,r){this.from=t,this.to=n,this.diagnostic=r}}class bd{constructor(t,n,r){this.diagnostics=t,this.panel=n,this.selected=r}static init(t,n,r){let i=r.facet(Ay).markerFilter;i&&(t=i(t,r));let s=t.slice().sort((p,g)=>p.from-g.from||p.to-g.to),a=new kc,l=[],c=0,u=r.doc.iter(),d=0,h=r.doc.length;for(let p=0;;){let g=p==s.length?null:s[p];if(!g&&!l.length)break;let y,x;if(l.length)y=c,x=l.reduce((v,_)=>Math.min(v,_.to),g&&g.from>y?g.from:1e8);else{if(y=g.from,y>h)break;x=g.to,l.push(g),p++}for(;p<s.length;){let v=s[p];if(v.from==y&&(v.to>v.from||v.to==y))l.push(v),p++,x=Math.min(v.to,x);else{x=Math.min(v.from,x);break}}x=Math.min(x,h);let b=!1;if(l.some(v=>v.from==y&&(v.to==x||x==h))&&(b=y==x,!b&&x-y<10)){let v=y-(d+u.value.length);v>0&&(u.next(v),d=y);for(let _=y;;){if(_>=x){b=!0;break}if(!u.lineBreak&&d+u.value.length>_)break;_=d+u.value.length,d+=u.value.length,u.next()}}let w=FBe(l);if(b)a.add(y,y,$t.widget({widget:new RBe(w),diagnostics:l.slice()}));else{let v=l.reduce((_,j)=>j.markClass?_+" "+j.markClass:_,"");a.add(y,x,$t.mark({class:"cm-lintRange cm-lintRange-"+w+v,diagnostics:l.slice(),inclusiveEnd:l.some(_=>_.to>x)}))}if(c=x,c==h)break;for(let v=0;v<l.length;v++)l[v].to<=c&&l.splice(v--,1)}let m=a.finish();return new bd(m,n,_m(m))}}function _m(e,t=null,n=0){let r=null;return e.between(n,1e9,(i,s,{spec:a})=>{if(!(t&&a.diagnostics.indexOf(t)<0))if(!r)r=new uF(i,s,t||a.diagnostics[0]);else{if(a.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new uF(r.from,s,r.diagnostic)}}),r}function OBe(e,t){let n=t.pos,r=t.end||n,i=e.state.facet(Ay).hideOn(e,n,r);if(i!=null)return i;let s=e.startState.doc.lineAt(t.pos);return!!(e.effects.some(a=>a.is(xJ))||e.changes.touchesRange(s.from,Math.max(s.to,r)))}function PBe(e,t){return e.field(oa,!1)?t:t.concat(Gt.appendConfig.of(BBe))}const xJ=Gt.define(),SA=Gt.define(),vJ=Gt.define(),oa=Ei.define({create(){return new bd($t.none,null,null)},update(e,t){if(t.docChanged&&e.diagnostics.size){let n=e.diagnostics.map(t.changes),r=null,i=e.panel;if(e.selected){let s=t.changes.mapPos(e.selected.from,1);r=_m(n,e.selected.diagnostic,s)||_m(n,null,s)}!n.size&&i&&t.state.facet(Ay).autoPanel&&(i=null),e=new bd(n,i,r)}for(let n of t.effects)if(n.is(xJ)){let r=t.state.facet(Ay).autoPanel?n.value.length?zy.open:null:e.panel;e=bd.init(n.value,r,t.state)}else n.is(SA)?e=new bd(e.diagnostics,n.value?zy.open:null,e.selected):n.is(vJ)&&(e=new bd(e.diagnostics,e.panel,n.value));return e},provide:e=>[ky.from(e,t=>t.panel),ct.decorations.from(e,t=>t.diagnostics)]}),EBe=$t.mark({class:"cm-lintRange cm-lintRange-active"});function MBe(e,t,n){let{diagnostics:r}=e.state.field(oa),i,s=-1,a=-1;r.between(t-(n<0?1:0),t+(n>0?1:0),(c,u,{spec:d})=>{if(t>=c&&t<=u&&(c==u||(t>c||n>0)&&(t<u||n<0)))return i=d.diagnostics,s=c,a=u,!1});let l=e.state.facet(Ay).tooltipFilter;return i&&l&&(i=l(i,e.state)),i?{pos:s,end:a,above:e.state.doc.lineAt(s).to<a,create(){return{dom:TBe(e,i)}}}:null}function TBe(e,t){return Cn("ul",{class:"cm-tooltip-lint"},t.map(n=>_J(e,n,!1)))}const ABe=e=>{let t=e.state.field(oa,!1);(!t||!t.panel)&&e.dispatch({effects:PBe(e.state,[SA.of(!0)])});let n=jy(e,zy.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},dF=e=>{let t=e.state.field(oa,!1);return!t||!t.panel?!1:(e.dispatch({effects:SA.of(!1)}),!0)},zBe=e=>{let t=e.state.field(oa,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},DBe=[{key:"Mod-Shift-m",run:ABe,preventDefault:!0},{key:"F8",run:zBe}],Ay=pt.define({combine(e){return{sources:e.map(t=>t.source).filter(t=>t!=null),...Pl(e.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:hF,tooltipFilter:hF,needsRefresh:(t,n)=>t?n?r=>t(r)||n(r):t:n,hideOn:(t,n)=>t?n?(r,i,s)=>t(r,i,s)||n(r,i,s):t:n,autoPanel:(t,n)=>t||n})}}});function hF(e,t){return e?t?(n,r)=>t(e(n,r),r):e:t}function bJ(e){let t=[];if(e)e:for(let{name:n}of e){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!t.some(s=>s.toLowerCase()==i.toLowerCase())){t.push(i);continue e}}t.push("")}return t}function _J(e,t,n){var r;let i=n?bJ(t.actions):[];return Cn("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Cn("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),(r=t.actions)===null||r===void 0?void 0:r.map((s,a)=>{let l=!1,c=p=>{if(p.preventDefault(),l)return;l=!0;let g=_m(e.state.field(oa).diagnostics,t);g&&s.apply(e,g.from,g.to)},{name:u}=s,d=i[a]?u.indexOf(i[a]):-1,h=d<0?u:[u.slice(0,d),Cn("u",u.slice(d,d+1)),u.slice(d+1)],m=s.markClass?" "+s.markClass:"";return Cn("button",{type:"button",class:"cm-diagnosticAction"+m,onclick:c,onmousedown:c,"aria-label":` Action: ${u}${d<0?"":` (access key "${i[a]})"`}.`},h)}),t.source&&Cn("div",{class:"cm-diagnosticSource"},t.source))}class RBe extends El{constructor(t){super(),this.sev=t}eq(t){return t.sev==this.sev}toDOM(){return Cn("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class fF{constructor(t,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=_J(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class zy{constructor(t){this.view=t,this.items=[];let n=i=>{if(i.keyCode==27)dF(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=bJ(s.actions);for(let l=0;l<a.length;l++)if(a[l].toUpperCase().charCodeAt(0)==i.keyCode){let c=_m(this.view.state.field(oa).diagnostics,s);c&&s.actions[l].apply(t,c.from,c.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=Cn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=Cn("div",{class:"cm-panel-lint"},this.list,Cn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>dF(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(oa).selected;if(!t)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==t.diagnostic)return n;return-1}update(){let{diagnostics:t,selected:n}=this.view.state.field(oa),r=0,i=!1,s=null,a=new Set;for(t.between(0,this.view.state.doc.length,(l,c,{spec:u})=>{for(let d of u.diagnostics){if(a.has(d))continue;a.add(d);let h=-1,m;for(let p=r;p<this.items.length;p++)if(this.items[p].diagnostic==d){h=p;break}h<0?(m=new fF(this.view,d),this.items.splice(r,0,m),i=!0):(m=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),n&&m.diagnostic==n.diagnostic?m.dom.hasAttribute("aria-selected")||(m.dom.setAttribute("aria-selected","true"),s=m):m.dom.hasAttribute("aria-selected")&&m.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new fF(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:c})=>{let u=c.height/this.list.offsetHeight;l.top<c.top?this.list.scrollTop-=(c.top-l.top)/u:l.bottom>c.bottom&&(this.list.scrollTop+=(l.bottom-c.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function n(){let r=t;t=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;t!=r.dom;)n();t=r.dom.nextSibling}else this.list.insertBefore(r.dom,t);for(;t;)n()}moveSelection(t){if(this.selectedIndex<0)return;let n=this.view.state.field(oa),r=_m(n.diagnostics,this.items[t].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:vJ.of(r)})}static open(t){return new zy(t)}}function IBe(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function hb(e){return IBe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const LBe=ct.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:hb("#d11")},".cm-lintRange-warning":{backgroundImage:hb("orange")},".cm-lintRange-info":{backgroundImage:hb("#999")},".cm-lintRange-hint":{backgroundImage:hb("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function $Be(e){return e=="error"?4:e=="warning"?3:e=="info"?2:1}function FBe(e){let t="hint",n=1;for(let r of e){let i=$Be(r.severity);i>n&&(n=i,t=r.severity)}return t}const BBe=[oa,ct.decorations.compute([oa],e=>{let{selected:t,panel:n}=e.field(oa);return!t||!n||t.from==t.to?$t.none:$t.set([EBe.range(t.from,t.to)])}),D3e(MBe,{hideOn:OBe}),LBe];var mF=function(t){t===void 0&&(t={});var{crosshairCursor:n=!1}=t,r=[];t.closeBracketsKeymap!==!1&&(r=r.concat(vBe)),t.defaultKeymap!==!1&&(r=r.concat(hFe)),t.searchKeymap!==!1&&(r=r.concat(LFe)),t.historyKeymap!==!1&&(r=r.concat(v$e)),t.foldKeymap!==!1&&(r=r.concat(PLe)),t.completionKeymap!==!1&&(r=r.concat(yJ)),t.lintKeymap!==!1&&(r=r.concat(DBe));var i=[];return t.lineNumbers!==!1&&i.push(qX()),t.highlightActiveLineGutter!==!1&&i.push(WX()),t.highlightSpecialChars!==!1&&i.push(u3e()),t.history!==!1&&i.push(u$e()),t.foldGutter!==!1&&i.push(ALe()),t.drawSelection!==!1&&i.push(J4e()),t.dropCursor!==!1&&i.push(i3e()),t.allowMultipleSelections!==!1&&i.push(dn.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&i.push(bLe()),t.syntaxHighlighting!==!1&&i.push(uZ(ILe,{fallback:!0})),t.bracketMatching!==!1&&i.push(ULe()),t.closeBrackets!==!1&&i.push(pBe()),t.autocompletion!==!1&&i.push(NBe()),t.rectangularSelection!==!1&&i.push(k3e()),n!==!1&&i.push(C3e()),t.highlightActiveLine!==!1&&i.push(g3e()),t.highlightSelectionMatches!==!1&&i.push(vFe()),t.tabSize&&typeof t.tabSize=="number"&&i.push(U1.of(" ".repeat(t.tabSize))),i.concat([B1.of(r.flat())]).filter(Boolean)};const qBe="#e5c07b",pF="#e06c75",WBe="#56b6c2",UBe="#ffffff",u_="#abb2bf",H2="#7d8799",VBe="#61afef",HBe="#98c379",gF="#d19a66",KBe="#c678dd",YBe="#21252b",yF="#2c313a",xF="#282c34",lN="#353a42",GBe="#3E4451",vF="#528bff",QBe=ct.theme({"&":{color:u_,backgroundColor:xF},".cm-content":{caretColor:vF},".cm-cursor, .cm-dropCursor":{borderLeftColor:vF},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:GBe},".cm-panels":{backgroundColor:YBe,color:u_},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:xF,color:H2,border:"none"},".cm-activeLineGutter":{backgroundColor:yF},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:lN},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:lN,borderBottomColor:lN},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:yF,color:u_}}},{dark:!0}),XBe=qx.define([{tag:_e.keyword,color:KBe},{tag:[_e.name,_e.deleted,_e.character,_e.propertyName,_e.macroName],color:pF},{tag:[_e.function(_e.variableName),_e.labelName],color:VBe},{tag:[_e.color,_e.constant(_e.name),_e.standard(_e.name)],color:gF},{tag:[_e.definition(_e.name),_e.separator],color:u_},{tag:[_e.typeName,_e.className,_e.number,_e.changed,_e.annotation,_e.modifier,_e.self,_e.namespace],color:qBe},{tag:[_e.operator,_e.operatorKeyword,_e.url,_e.escape,_e.regexp,_e.link,_e.special(_e.string)],color:WBe},{tag:[_e.meta,_e.comment],color:H2},{tag:_e.strong,fontWeight:"bold"},{tag:_e.emphasis,fontStyle:"italic"},{tag:_e.strikethrough,textDecoration:"line-through"},{tag:_e.link,color:H2,textDecoration:"underline"},{tag:_e.heading,fontWeight:"bold",color:pF},{tag:[_e.atom,_e.bool,_e.special(_e.variableName)],color:gF},{tag:[_e.processingInstruction,_e.string,_e.inserted],color:HBe},{tag:_e.invalid,color:UBe}]),wJ=[QBe,uZ(XBe)];var ZBe=ct.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),JBe=function(t){t===void 0&&(t={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:s="light",placeholder:a="",basicSetup:l=!0}=t,c=[];switch(n&&c.unshift(B1.of([fFe])),l&&(typeof l=="boolean"?c.unshift(mF()):c.unshift(mF(l))),a&&c.unshift(b3e(a)),s){case"light":c.push(ZBe);break;case"dark":c.push(wJ);break;case"none":break;default:c.push(s);break}return r===!1&&c.push(ct.editable.of(!1)),i&&c.push(dn.readOnly.of(!0)),[...c]},e5e=e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to)),selectedText:e.state.selection.ranges.some(t=>!t.empty)});class t5e{constructor(t,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(t)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var t=this.callbacks.slice();this.callbacks.length=0,t.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class bF{constructor(){this.interval=null,this.latches=new Set}add(t){this.latches.add(t),this.start()}remove(t){this.latches.delete(t),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(t=>{t.tick(),t.isDone&&this.remove(t)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var cN=null,n5e=()=>typeof window>"u"?new bF:(cN||(cN=new bF),cN),_F=Ol.define(),r5e=200,i5e=[];function s5e(e){var{value:t,selection:n,onChange:r,onStatistics:i,onCreateEditor:s,onUpdate:a,extensions:l=i5e,autoFocus:c,theme:u="light",height:d=null,minHeight:h=null,maxHeight:m=null,width:p=null,minWidth:g=null,maxWidth:y=null,placeholder:x="",editable:b=!0,readOnly:w=!1,indentWithTab:v=!0,basicSetup:_=!0,root:j,initialState:k}=e,[C,O]=f.useState(),[P,M]=f.useState(),[A,R]=f.useState(),B=f.useState(()=>({current:null}))[0],F=f.useState(()=>({current:null}))[0],U=ct.theme({"&":{height:d,minHeight:h,maxHeight:m,width:p,minWidth:g,maxWidth:y},"& .cm-scroller":{height:"100% !important"}}),L=ct.updateListener.of($=>{if($.docChanged&&typeof r=="function"&&!$.transactions.some(X=>X.annotation(_F))){B.current?B.current.reset():(B.current=new t5e(()=>{if(F.current){var X=F.current;F.current=null,X()}B.current=null},r5e),n5e().add(B.current));var G=$.state.doc,ie=G.toString();r(ie,$)}i&&i(e5e($))}),D=JBe({theme:u,editable:b,readOnly:w,placeholder:x,indentWithTab:v,basicSetup:_}),T=[L,U,...D];return a&&typeof a=="function"&&T.push(ct.updateListener.of(a)),T=T.concat(l),f.useLayoutEffect(()=>{if(C&&!A){var $={doc:t,selection:n,extensions:T},G=k?dn.fromJSON(k.json,$,k.fields):dn.create($);if(R(G),!P){var ie=new ct({state:G,parent:C,root:j});M(ie),s&&s(ie,G)}}return()=>{P&&(R(void 0),M(void 0))}},[C,A]),f.useEffect(()=>{e.container&&O(e.container)},[e.container]),f.useEffect(()=>()=>{P&&(P.destroy(),M(void 0)),B.current&&(B.current.cancel(),B.current=null)},[P]),f.useEffect(()=>{c&&P&&P.focus()},[c,P]),f.useEffect(()=>{P&&P.dispatch({effects:Gt.reconfigure.of(T)})},[u,l,d,h,m,p,g,y,x,b,w,v,_,r,a]),f.useEffect(()=>{if(t!==void 0){var $=P?P.state.doc.toString():"";if(P&&t!==$){var G=B.current&&!B.current.isDone,ie=()=>{P&&t!==P.state.doc.toString()&&P.dispatch({changes:{from:0,to:P.state.doc.toString().length,insert:t||""},annotations:[_F.of(!0)]})};G?F.current=ie:ie()}}},[t,P]),{state:A,setState:R,view:P,setView:M,container:C,setContainer:O}}var a5e=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],jJ=f.forwardRef((e,t)=>{var{className:n,value:r="",selection:i,extensions:s=[],onChange:a,onStatistics:l,onCreateEditor:c,onUpdate:u,autoFocus:d,theme:h="light",height:m,minHeight:p,maxHeight:g,width:y,minWidth:x,maxWidth:b,basicSetup:w,placeholder:v,indentWithTab:_,editable:j,readOnly:k,root:C,initialState:O}=e,P=FRe(e,a5e),M=f.useRef(null),{state:A,view:R,container:B,setContainer:F}=s5e({root:C,value:r,autoFocus:d,theme:h,height:m,minHeight:p,maxHeight:g,width:y,minWidth:x,maxWidth:b,basicSetup:w,placeholder:v,indentWithTab:_,editable:j,readOnly:k,selection:i,onChange:a,onStatistics:l,onCreateEditor:c,onUpdate:u,extensions:s,initialState:O});f.useImperativeHandle(t,()=>({editor:M.current,state:A,view:R}),[M,B,A,R]);var U=f.useCallback(D=>{M.current=D,F(D)},[F]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var L=typeof h=="string"?"cm-theme-"+h:"cm-theme";return o.jsx("div",XO({ref:U,className:""+L+(n?" "+n:"")},P))});jJ.displayName="CodeMirror";var wF={};class ww{constructor(t,n,r,i,s,a,l,c,u,d=0,h){this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=a,this.buffer=l,this.bufferBase=c,this.curContext=u,this.lookAhead=d,this.parent=h}toString(){return`[${this.stack.filter((t,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,n,r=0){let i=t.parser.context;return new ww(t,[],n,r,r,0,[],0,i?new jF(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var n;let r=t>>19,i=t&65535,{parser:s}=this.p,a=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),l=s.dynamicPrecedence(i);if(l&&(this.score+=l),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,a?8:4,!0),this.reduceContext(i,this.reducePos);return}let c=this.stack.length-(r-1)*3-(t&262144?6:0),u=c?this.stack[c-2]:this.p.ranges[0].from,d=this.reducePos-u;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=d));let h=c?this.stack[c-1]:0,m=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||t&131072){let p=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,p,m+4,!0)}if(t&262144)this.state=this.stack[c];else{let p=this.stack[c-3];this.state=s.getGoto(p,i,!0)}for(;this.stack.length>c;)this.stack.pop();this.reduceContext(i,u)}storeNode(t,n,r,i=4,s=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,l=this.buffer.length;if(l==0&&a.parent&&(l=a.bufferBase-a.parent.bufferBase,a=a.parent),l>0&&a.buffer[l-4]==0&&a.buffer[l-1]>-1){if(n==r)return;if(a.buffer[l-2]>=n){a.buffer[l-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(t,n,r,i);else{let a=this.buffer.length;if(a>0&&(this.buffer[a-4]!=0||this.buffer[a-1]<0)){let l=!1;for(let c=a;c>0&&this.buffer[c-2]>r;c-=4)if(this.buffer[c-1]>=0){l=!0;break}if(l)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4)}this.buffer[a]=t,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(t,n,r,i){if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=t,{parser:a}=this.p;(i>this.pos||n<=a.maxNode)&&(this.pos=i,a.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,i,4)}}apply(t,n,r,i){t&65536?this.reduce(t):this.shift(t,n,r,i)}useNode(t,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,n=t.buffer.length;for(;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;let r=t.buffer.slice(n),i=t.bufferBase+n;for(;t&&i==t.bufferBase;)t=t.parent;return new ww(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,n){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(t){for(let n=new o5e(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,t);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,a;s<n.length;s+=2)(a=n[s+1])!=this.state&&this.p.parser.hasAction(a,t)&&i.push(n[s],a);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let a=n[s+1];i.some((l,c)=>c&1&&l==a)||i.push(n[s],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:t}=this.p,n=t.stateSlot(this.state,5);if(!(n&65536))return!1;if(!t.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||t.getGoto(this.stack[s],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:t}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),t.allActions(i,a=>{if(!(a&393216))if(a&65536){let l=(a>>19)-s;if(l>1){let c=a&65535,u=this.stack.length-l*3;if(u>=0&&t.getGoto(this.stack[u],c,!1)>=0)return l<<19|65536|c}}else{let l=r(a,s+1);if(l!=null)return l}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=t.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(n)))}reduceContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(n)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let n=new jF(this.curContext.tracker,t);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(t){return t<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=t,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class jF{constructor(t,n){this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0}}class o5e{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let n=t&65535,r=t>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class jw{constructor(t,n,r){this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,n=t.bufferBase+t.buffer.length){return new jw(t,n,n-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new jw(this.stack,this.pos,this.index)}}function fb(e,t=Uint16Array){if(typeof e!="string")return e;let n=null;for(let r=0,i=0;r<e.length;){let s=0;for(;;){let a=e.charCodeAt(r++),l=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let c=a-32;if(c>=46&&(c-=46,l=!0),s+=c,l)break;s*=46}n?n[i++]=s:n=new t(s)}return n}class d_{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const kF=new d_;class l5e{constructor(t,n){this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=kF,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(t,n){let r=this.range,i=this.rangeIndex,s=this.pos+t;for(;s<r.from;){if(!i)return null;let a=this.ranges[--i];s-=r.from-a.to,r=a}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];s+=a.from-r.to,r=a}return s}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let n of this.ranges)if(n.to>t)return Math.max(t,n.from);return this.end}peek(t){let n=this.chunkOff+t,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+t,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(t,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,l=this.range;for(;l.to<=r;)l=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(t,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,n){this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),n=this.pos+t.length;this.chunk=n>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,n){if(n?(this.token=n,n.start=t,n.lookAhead=t+1,n.value=n.extended=-1):this.token=kF,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,n){if(t>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,n-this.chunkPos);if(t>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,n-this.chunk2Pos);if(t>=this.range.from&&n<=this.range.to)return this.input.read(t,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>t&&(r+=this.input.read(Math.max(i.from,t),Math.min(i.to,n)))}return r}}class Wf{constructor(t,n){this.data=t,this.id=n}token(t,n){let{parser:r}=n.p;c5e(this.data,t,n,this.id,r.data,r.tokenPrecTable)}}Wf.prototype.contextual=Wf.prototype.fallback=Wf.prototype.extend=!1;Wf.prototype.fallback=Wf.prototype.extend=!1;class J1{constructor(t,n={}){this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function c5e(e,t,n,r,i,s){let a=0,l=1<<r,{dialect:c}=n.p.parser;e:for(;l&e[a];){let u=e[a+1];for(let p=a+3;p<u;p+=2)if((e[p+1]&l)>0){let g=e[p];if(c.allows(g)&&(t.token.value==-1||t.token.value==g||u5e(g,t.token.value,i,s))){t.acceptToken(g);break}}let d=t.next,h=0,m=e[a+2];if(t.next<0&&m>h&&e[u+m*3-3]==65535){a=e[u+m*3-1];continue e}for(;h<m;){let p=h+m>>1,g=u+p+(p<<1),y=e[g],x=e[g+1]||65536;if(d<y)m=p;else if(d>=x)h=p+1;else{a=e[g+2],t.advance();continue e}}break}}function SF(e,t,n){for(let r=t,i;(i=e[r])!=65535;r++)if(i==n)return r-t;return-1}function u5e(e,t,n,r){let i=SF(n,r,t);return i<0||SF(n,r,e)<i}const Qs=typeof process<"u"&&wF&&/\bparse\b/.test(wF.LOG);let uN=null;function NF(e,t,n){let r=e.cursor(ai.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}class d5e{constructor(t,n){this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?NF(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?NF(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],a=this.start[n]+r.positions[i];if(a>t)return this.nextStart=a,null;if(s instanceof Tn){if(a==t){if(a<this.safeFrom)return null;let l=a+s.length;if(l<=this.safeTo){let c=s.prop(tn.lookAhead);if(!c||l+c<this.fragment.to)return s}}this.index[n]++,a+s.length>=Math.max(this.safeFrom,t)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+s.length}}}class h5e{constructor(t,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(r=>new d_)}getActions(t){let n=0,r=null,{parser:i}=t.p,{tokenizers:s}=i,a=i.stateSlot(t.state,3),l=t.curContext?t.curContext.hash:0,c=0;for(let u=0;u<s.length;u++){if(!(1<<u&a))continue;let d=s[u],h=this.tokens[u];if(!(r&&!d.fallback)&&((d.contextual||h.start!=t.pos||h.mask!=a||h.context!=l)&&(this.updateCachedToken(h,d,t),h.mask=a,h.context=l),h.lookAhead>h.end+25&&(c=Math.max(h.lookAhead,c)),h.value!=0)){let m=n;if(h.extended>-1&&(n=this.addActions(t,h.extended,h.end,n)),n=this.addActions(t,h.value,h.end,n),!d.extend&&(r=h,n>m))break}}for(;this.actions.length>n;)this.actions.pop();return c&&t.setLookAhead(c),!r&&t.pos==this.stream.end&&(r=new d_,r.value=t.p.parser.eofTerm,r.start=r.end=t.pos,n=this.addActions(t,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let n=new d_,{pos:r,p:i}=t;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(t,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,t),r),t.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==t.value){let l=s.specializers[a](this.stream.read(t.start,t.end),r);if(l>=0&&r.p.parser.dialect.allows(l>>1)){l&1?t.extended=l>>1:t.value=l>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==t)return i;return this.actions[i++]=t,this.actions[i++]=n,this.actions[i++]=r,i}addActions(t,n,r,i){let{state:s}=t,{parser:a}=t.p,{data:l}=a;for(let c=0;c<2;c++)for(let u=a.stateSlot(s,c?2:1);;u+=3){if(l[u]==65535)if(l[u+1]==1)u=Yl(l,u+2);else{i==0&&l[u+1]==2&&(i=this.putAction(Yl(l,u+2),n,r,i));break}l[u]==n&&(i=this.putAction(Yl(l,u+1),n,r,i))}return i}}class f5e{constructor(t,n,r,i){this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new l5e(n,i),this.tokens=new h5e(t,this.stream),this.topTerm=t.top[1];let{from:s}=i[0];this.stacks=[ww.start(this,t.top[0],s)],this.fragments=r.length&&this.stream.end-s>t.bufferLength*4?new d5e(r,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&t.length==1){let[a]=t;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<t.length;a++){let l=t[a];for(;;){if(this.tokens.mainToken=null,l.pos>n)r.push(l);else{if(this.advanceStack(l,r,t))continue;{i||(i=[],s=[]),i.push(l);let c=this.tokens.getMainToken(l);s.push(c.value,c.end)}}break}}if(!r.length){let a=i&&g5e(i);if(a)return Qs&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw Qs&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(a)return Qs&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((l,c)=>c.score-l.score);r.length>a;)r.pop();r.some(l=>l.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let l=r[a];for(let c=a+1;c<r.length;c++){let u=r[c];if(l.sameState(u)||l.buffer.length>500&&u.buffer.length>500)if((l.score-u.score||l.buffer.length-u.buffer.length)>0)r.splice(c--,1);else{r.splice(a--,1);continue e}}}r.length>12&&(r.sort((a,l)=>l.score-a.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,n,r){let i=t.pos,{parser:s}=this,a=Qs?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let u=t.curContext&&t.curContext.tracker.strict,d=u?t.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let m=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(t.state,h.type.id):-1;if(m>-1&&h.length&&(!u||(h.prop(tn.contextHash)||0)==d))return t.useNode(h,m),Qs&&console.log(a+this.stackID(t)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Tn)||h.children.length==0||h.positions[0]>0)break;let p=h.children[0];if(p instanceof Tn&&h.positions[0]==0)h=p;else break}}let l=s.stateSlot(t.state,4);if(l>0)return t.reduce(l),Qs&&console.log(a+this.stackID(t)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let c=this.tokens.getActions(t);for(let u=0;u<c.length;){let d=c[u++],h=c[u++],m=c[u++],p=u==c.length||!r,g=p?t:t.split(),y=this.tokens.mainToken;if(g.apply(d,h,y?y.start:g.pos,m),Qs&&console.log(a+this.stackID(g)+` (via ${d&65536?`reduce of ${s.getName(d&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${g==t?"":", split"})`),p)return!0;g.pos>i?n.push(g):r.push(g)}return!1}advanceFully(t,n){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return CF(t,n),!0}}runRecovery(t,n,r){let i=null,s=!1;for(let a=0;a<t.length;a++){let l=t[a],c=n[a<<1],u=n[(a<<1)+1],d=Qs?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),Qs&&console.log(d+this.stackID(l)+" (restarted)"),this.advanceFully(l,r))))continue;let h=l.split(),m=d;for(let p=0;p<10&&h.forceReduce()&&(Qs&&console.log(m+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));p++)Qs&&(m=this.stackID(h)+" -> ");for(let p of l.recoverByInsert(c))Qs&&console.log(d+this.stackID(p)+" (via recover-insert)"),this.advanceFully(p,r);this.stream.end>l.pos?(u==l.pos&&(u++,c=0),l.recoverByDelete(c,u),Qs&&console.log(d+this.stackID(l)+` (via recover-delete ${this.parser.getName(c)})`),CF(l,r)):(!i||i.score<l.score)&&(i=l)}return i}stackToTree(t){return t.close(),Tn.build({buffer:jw.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let n=(uN||(uN=new WeakMap)).get(t);return n||uN.set(t,n=String.fromCodePoint(this.nextStackID++)),n+t}}function CF(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e)){t[n].score<e.score&&(t[n]=e);return}}t.push(e)}class m5e{constructor(t,n,r){this.source=t,this.flags=n,this.disabled=r}allows(t){return!this.disabled||this.disabled[t]==0}}const dN=e=>e;class p5e{constructor(t){this.start=t.start,this.shift=t.shift||dN,this.reduce=t.reduce||dN,this.reuse=t.reuse||dN,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class Dy extends oA{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let n=t.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let l=0;l<t.repeatNodeCount;l++)n.push("");let r=Object.keys(t.topRules).map(l=>t.topRules[l][1]),i=[];for(let l=0;l<n.length;l++)i.push([]);function s(l,c,u){i[l].push([c,c.deserialize(String(u))])}if(t.nodeProps)for(let l of t.nodeProps){let c=l[0];typeof c=="string"&&(c=tn[c]);for(let u=1;u<l.length;){let d=l[u++];if(d>=0)s(d,c,l[u++]);else{let h=l[u+-d];for(let m=-d;m>0;m--)s(l[u++],c,h);u++}}}this.nodeSet=new W1(n.map((l,c)=>fs.define({name:c>=this.minRepeatTerm?void 0:l,id:c,props:i[c],top:r.indexOf(c)>-1,error:c==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(c)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=UX;let a=fb(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(OF),this.states=fb(t.states,Uint32Array),this.data=fb(t.stateData),this.goto=fb(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(l=>typeof l=="number"?new Wf(a,l):l),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,n,r){let i=new f5e(this,t,n,r);for(let s of this.wrappers)i=s(i,t,n,r);return i}getGoto(t,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let a=i[s++],l=a&1,c=i[s++];if(l&&r)return c;for(let u=s+(a>>1);s<u;s++)if(i[s]==t)return c;if(l)return-1}}hasAction(t,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(t,i?2:1),a;;s+=3){if((a=r[s])==65535)if(r[s+1]==1)a=r[s=Yl(r,s+2)];else{if(r[s+1]==2)return Yl(r,s+2);break}if(a==n||a==0)return Yl(r,s+1)}return 0}stateSlot(t,n){return this.states[t*6+n]}stateFlag(t,n){return(this.stateSlot(t,0)&n)>0}validAction(t,n){return!!this.allActions(t,r=>r==n?!0:null)}allActions(t,n){let r=this.stateSlot(t,4),i=r?n(r):void 0;for(let s=this.stateSlot(t,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Yl(this.data,s+2);else break;i=n(Yl(this.data,s+1))}return i}nextStates(t){let n=[];for(let r=this.stateSlot(t,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Yl(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,a)=>a&1&&s==i)||n.push(this.data[r],i)}}return n}configure(t){let n=Object.assign(Object.create(Dy.prototype),this);if(t.props&&(n.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw new RangeError(`Invalid top rule name ${t.top}`);n.top=r}return t.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=t.tokenizers.find(s=>s.from==r);return i?i.to:r})),t.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=t.specializers.find(l=>l.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=OF(a),a})),t.contextTracker&&(n.context=t.contextTracker),t.dialect&&(n.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(n.strict=t.strict),t.wrap&&(n.wrappers=n.wrappers.concat(t.wrap)),t.bufferLength!=null&&(n.bufferLength=t.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let n=this.dynamicPrecedences;return n==null?0:n[t]||0}parseDialect(t){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(t)for(let s of t.split(" ")){let a=n.indexOf(s);a>=0&&(r[a]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let a=this.dialects[n[s]],l;(l=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[l]=1;return new m5e(t,r,i)}static deserialize(t){return new Dy(t)}}function Yl(e,t){return e[t]|e[t+1]<<16}function g5e(e){let t=null;for(let n of e){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}function OF(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const y5e=lA({String:_e.string,Number:_e.number,"True False":_e.bool,PropertyName:_e.propertyName,Null:_e.null,", :":_e.separator,"[ ]":_e.squareBracket,"{ }":_e.brace}),x5e=Dy.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[y5e],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),v5e=Cy.define({name:"json",parser:x5e.configure({props:[H1.add({Object:I$({except:/^\s*\}/}),Array:I$({except:/^\s*\]/})}),dA.add({"Object Array":tZ})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function b5e(){return new ZX(v5e)}const rf=63,PF=64,_5e=1,w5e=2,kJ=3,j5e=4,SJ=5,k5e=6,S5e=7,NJ=65,N5e=66,C5e=8,O5e=9,P5e=10,E5e=11,M5e=12,CJ=13,T5e=19,A5e=20,z5e=29,D5e=33,R5e=34,I5e=47,L5e=0,NA=1,K2=2,Ry=3,Y2=4;class _d{constructor(t,n,r){this.parent=t,this.depth=n,this.type=r,this.hash=(t?t.hash+t.hash<<8:0)+n+(n<<4)+r}}_d.top=new _d(null,-1,L5e);function _g(e,t){for(let n=0,r=t-e.pos-1;;r--,n++){let i=e.peek(r);if(Cc(i)||i==-1)return n}}function G2(e){return e==32||e==9}function Cc(e){return e==10||e==13}function OJ(e){return G2(e)||Cc(e)}function Dd(e){return e<0||OJ(e)}const $5e=new p5e({start:_d.top,reduce(e,t){return e.type==Ry&&(t==A5e||t==R5e)?e.parent:e},shift(e,t,n,r){if(t==kJ)return new _d(e,_g(r,r.pos),NA);if(t==NJ||t==SJ)return new _d(e,_g(r,r.pos),K2);if(t==rf)return e.parent;if(t==T5e||t==D5e)return new _d(e,0,Ry);if(t==CJ&&e.type==Y2)return e.parent;if(t==I5e){let i=/[1-9]/.exec(r.read(r.pos,n.pos));if(i)return new _d(e,e.depth+ +i[0],Y2)}return e},hash(e){return e.hash}});function wm(e,t,n=0){return e.peek(n)==t&&e.peek(n+1)==t&&e.peek(n+2)==t&&Dd(e.peek(n+3))}const F5e=new J1((e,t)=>{if(e.next==-1&&t.canShift(PF))return e.acceptToken(PF);let n=e.peek(-1);if((Cc(n)||n<0)&&t.context.type!=Ry){if(wm(e,45))if(t.canShift(rf))e.acceptToken(rf);else return e.acceptToken(_5e,3);if(wm(e,46))if(t.canShift(rf))e.acceptToken(rf);else return e.acceptToken(w5e,3);let r=0;for(;e.next==32;)r++,e.advance();(r<t.context.depth||r==t.context.depth&&t.context.type==NA&&(e.next!=45||!Dd(e.peek(1))))&&e.next!=-1&&!Cc(e.next)&&e.next!=35&&e.acceptToken(rf,-r)}},{contextual:!0}),B5e=new J1((e,t)=>{if(t.context.type==Ry){e.next==63&&(e.advance(),Dd(e.next)&&e.acceptToken(S5e));return}if(e.next==45)e.advance(),Dd(e.next)&&e.acceptToken(t.context.type==NA&&t.context.depth==_g(e,e.pos-1)?j5e:kJ);else if(e.next==63)e.advance(),Dd(e.next)&&e.acceptToken(t.context.type==K2&&t.context.depth==_g(e,e.pos-1)?k5e:SJ);else{let n=e.pos;for(;;)if(G2(e.next)){if(e.pos==n)return;e.advance()}else if(e.next==33)PJ(e);else if(e.next==38)Q2(e);else if(e.next==42){Q2(e);break}else if(e.next==39||e.next==34){if(CA(e,!0))break;return}else if(e.next==91||e.next==123){if(!W5e(e))return;break}else{EJ(e,!0,!1,0);break}for(;G2(e.next);)e.advance();if(e.next==58){if(e.pos==n&&t.canShift(z5e))return;let r=e.peek(1);Dd(r)&&e.acceptTokenTo(t.context.type==K2&&t.context.depth==_g(e,n)?N5e:NJ,n)}}},{contextual:!0});function q5e(e){return e>32&&e<127&&e!=34&&e!=37&&e!=44&&e!=60&&e!=62&&e!=92&&e!=94&&e!=96&&e!=123&&e!=124&&e!=125}function EF(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function MF(e,t){return e.next==37?(e.advance(),EF(e.next)&&e.advance(),EF(e.next)&&e.advance(),!0):q5e(e.next)||t&&e.next==44?(e.advance(),!0):!1}function PJ(e){if(e.advance(),e.next==60){for(e.advance();;)if(!MF(e,!0)){e.next==62&&e.advance();break}}else for(;MF(e,!1););}function Q2(e){for(e.advance();!Dd(e.next)&&kw(e.tag)!="f";)e.advance()}function CA(e,t){let n=e.next,r=!1,i=e.pos;for(e.advance();;){let s=e.next;if(s<0)break;if(e.advance(),s==n)if(s==39)if(e.next==39)e.advance();else break;else break;else if(s==92&&n==34)e.next>=0&&e.advance();else if(Cc(s)){if(t)return!1;r=!0}else if(t&&e.pos>=i+1024)return!1}return!r}function W5e(e){for(let t=[],n=e.pos+1024;;)if(e.next==91||e.next==123)t.push(e.next),e.advance();else if(e.next==39||e.next==34){if(!CA(e,!0))return!1}else if(e.next==93||e.next==125){if(t[t.length-1]!=e.next-2)return!1;if(t.pop(),e.advance(),!t.length)return!0}else{if(e.next<0||e.pos>n||Cc(e.next))return!1;e.advance()}}const U5e="iiisiiissisfissssssssssssisssiiissssssssssssssssssssssssssfsfssissssssssssssssssssssssssssfif";function kw(e){return e<33?"u":e>125?"s":U5e[e-33]}function hN(e,t){let n=kw(e);return n!="u"&&!(t&&n=="f")}function EJ(e,t,n,r){if(kw(e.next)=="s"||(e.next==63||e.next==58||e.next==45)&&hN(e.peek(1),n))e.advance();else return!1;let i=e.pos;for(;;){let s=e.next,a=0,l=r+1;for(;OJ(s);){if(Cc(s)){if(t)return!1;l=0}else l++;s=e.peek(++a)}if(!(s>=0&&(s==58?hN(e.peek(a+1),n):s==35?e.peek(a-1)!=32:hN(s,n)))||!n&&l<=r||l==0&&!n&&(wm(e,45,a)||wm(e,46,a)))break;if(t&&kw(s)=="f")return!1;for(let u=a;u>=0;u--)e.advance();if(t&&e.pos>i+1024)return!1}return!0}const V5e=new J1((e,t)=>{if(e.next==33)PJ(e),e.acceptToken(M5e);else if(e.next==38||e.next==42){let n=e.next==38?P5e:E5e;Q2(e),e.acceptToken(n)}else e.next==39||e.next==34?(CA(e,!1),e.acceptToken(O5e)):EJ(e,!1,t.context.type==Ry,t.context.depth)&&e.acceptToken(C5e)}),H5e=new J1((e,t)=>{let n=t.context.type==Y2?t.context.depth:-1,r=e.pos;e:for(;;){let i=0,s=e.next;for(;s==32;)s=e.peek(++i);if(!i&&(wm(e,45,i)||wm(e,46,i))||!Cc(s)&&(n<0&&(n=Math.max(t.context.depth+1,i)),i<n))break;for(;;){if(e.next<0)break e;let a=Cc(e.next);if(e.advance(),a)continue e;r=e.pos}}e.acceptTokenTo(CJ,r)}),K5e=lA({DirectiveName:_e.keyword,DirectiveContent:_e.attributeValue,"DirectiveEnd DocEnd":_e.meta,QuotedLiteral:_e.string,BlockLiteralHeader:_e.special(_e.string),BlockLiteralContent:_e.content,Literal:_e.content,"Key/Literal Key/QuotedLiteral":_e.definition(_e.propertyName),"Anchor Alias":_e.labelName,Tag:_e.typeName,Comment:_e.lineComment,": , -":_e.separator,"?":_e.punctuation,"[ ]":_e.squareBracket,"{ }":_e.brace}),Y5e=Dy.deserialize({version:14,states:"5lQ!ZQgOOO#PQfO'#CpO#uQfO'#DOOOQR'#Dv'#DvO$qQgO'#DRO%gQdO'#DUO%nQgO'#DUO&ROaO'#D[OOQR'#Du'#DuO&{QgO'#D^O'rQgO'#D`OOQR'#Dt'#DtO(iOqO'#DbOOQP'#Dj'#DjO(zQaO'#CmO)YQgO'#CmOOQP'#Cm'#CmQ)jQaOOQ)uQgOOQ]QgOOO*PQdO'#CrO*nQdO'#CtOOQO'#Dw'#DwO+]Q`O'#CxO+hQdO'#CwO+rQ`O'#CwOOQO'#Cv'#CvO+wQdO'#CvOOQO'#Cq'#CqO,UQ`O,59[O,^QfO,59[OOQR,59[,59[OOQO'#Cx'#CxO,eQ`O'#DPO,pQdO'#DPOOQO'#Dx'#DxO,zQdO'#DxO-XQ`O,59jO-aQfO,59jOOQR,59j,59jOOQR'#DS'#DSO-hQcO,59mO-sQgO'#DVO.TQ`O'#DVO.YQcO,59pOOQR'#DX'#DXO#|QfO'#DWO.hQcO'#DWOOQR,59v,59vO.yOWO,59vO/OOaO,59vO/WOaO,59vO/cQgO'#D_OOQR,59x,59xO0VQgO'#DaOOQR,59z,59zOOQP,59|,59|O0yOaO,59|O1ROaO,59|O1aOqO,59|OOQP-E7h-E7hO1oQgO,59XOOQP,59X,59XO2PQaO'#DeO2_QgO'#DeO2oQgO'#DkOOQP'#Dk'#DkQ)jQaOOO3PQdO'#CsOOQO,59^,59^O3kQdO'#CuOOQO,59`,59`OOQO,59c,59cO4VQdO,59cO4aQdO'#CzO4kQ`O'#CzOOQO,59b,59bOOQU,5:Q,5:QOOQR1G.v1G.vO4pQ`O1G.vOOQU-E7d-E7dO4xQdO,59kOOQO,59k,59kO5SQdO'#DQO5^Q`O'#DQOOQO,5:d,5:dOOQU,5:R,5:ROOQR1G/U1G/UO5cQ`O1G/UOOQU-E7e-E7eO5kQgO'#DhO5xQcO1G/XOOQR1G/X1G/XOOQR,59q,59qO6TQgO,59qO6eQdO'#DiO6lQgO'#DiO7PQcO1G/[OOQR1G/[1G/[OOQR,59r,59rO#|QfO,59rOOQR1G/b1G/bO7_OWO1G/bO7dOaO1G/bOOQR,59y,59yOOQR,59{,59{OOQP1G/h1G/hO7lOaO1G/hO7tOaO1G/hO8POaO1G/hOOQP1G.s1G.sO8_QgO,5:POOQP,5:P,5:POOQP,5:V,5:VOOQP-E7i-E7iOOQO,59_,59_OOQO,59a,59aOOQO1G.}1G.}OOQO,59f,59fO8oQdO,59fOOQR7+$b7+$bP,XQ`O'#DfOOQO1G/V1G/VOOQO,59l,59lO8yQdO,59lOOQR7+$p7+$pP9TQ`O'#DgOOQR'#DT'#DTOOQR,5:S,5:SOOQR-E7f-E7fOOQR7+$s7+$sOOQR1G/]1G/]O9YQgO'#DYO9jQ`O'#DYOOQR,5:T,5:TO#|QfO'#DZO9oQcO'#DZOOQR-E7g-E7gOOQR7+$v7+$vOOQR1G/^1G/^OOQR7+$|7+$|O:QOWO7+$|OOQP7+%S7+%SO:VOaO7+%SO:_OaO7+%SOOQP1G/k1G/kOOQO1G/Q1G/QOOQO1G/W1G/WOOQR,59t,59tO:jQgO,59tOOQR,59u,59uO#|QfO,59uOOQR<<Hh<<HhOOQP<<Hn<<HnO:zOaO<<HnOOQR1G/`1G/`OOQR1G/a1G/aOOQPAN>YAN>Y",stateData:";S~O!fOS!gOS^OS~OP_OQbORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!V[O!cTO~O`cO~P]OVkOWROXROYeOZfO[dOcPOmhOqQO~OboO~P!bOVtOWROXROYeOZfO[dOcPOmrOqQO~OpwO~P#WORSOTUOWROXROYYOZZO[XOcPOqQO!PVO!cTO~OSvP!avP!bvP~P#|OWROXROYeOZfO[dOcPOqQO~OmzO~P%OOm!OOUzP!azP!bzP!dzP~P#|O^!SO!b!QO!f!TO!g!RO~ORSOTUOWROXROcPOqQO!PVO!cTO~OY!UOP!QXQ!QX!V!QX!`!QXS!QX!a!QX!b!QXU!QXm!QX!d!QX~P&aO[!WOP!SXQ!SX!V!SX!`!SXS!SX!a!SX!b!SXU!SXm!SX!d!SX~P&aO^!ZO!W![O!b!YO!f!]O!g!YO~OP!_O!V[OQaX!`aX~OPaXQaX!VaX!`aX~P#|OP!bOQ!cO!V[O~OP_O!V[O~P#|OWROXROY!fOcPOqQObfXmfXofXpfX~OWROXRO[!hOcPOqQObhXmhXohXphX~ObeXmlXoeX~ObkXokX~P%OOm!kO~Om!lObnPonP~P%OOb!pOo!oO~Ob!pO~P!bOm!sOosXpsX~OosXpsX~P%OOm!uOotPptP~P%OOo!xOp!yO~Op!yO~P#WOS!|O!a#OO!b#OO~OUyX!ayX!byX!dyX~P#|Om#QO~OU#SO!a#UO!b#UO!d#RO~Om#WOUzX!azX!bzX!dzX~O]#XO~O!b#XO!g#YO~O^#ZO!b#XO!g#YO~OP!RXQ!RX!V!RX!`!RXS!RX!a!RX!b!RXU!RXm!RX!d!RX~P&aOP!TXQ!TX!V!TX!`!TXS!TX!a!TX!b!TXU!TXm!TX!d!TX~P&aO!b#^O!g#^O~O^#_O!b#^O!f#`O!g#^O~O^#_O!W#aO!b#^O!g#^O~OPaaQaa!Vaa!`aa~P#|OP#cO!V[OQ!XX!`!XX~OP!XXQ!XX!V!XX!`!XX~P#|OP_O!V[OQ!_X!`!_X~P#|OWROXROcPOqQObgXmgXogXpgX~OWROXROcPOqQObiXmiXoiXpiX~Obkaoka~P%OObnXonX~P%OOm#kO~Ob#lOo!oO~Oosapsa~P%OOotXptX~P%OOm#pO~Oo!xOp#qO~OSwP!awP!bwP~P#|OS!|O!a#vO!b#vO~OUya!aya!bya!dya~P#|Om#xO~P%OOm#{OU}P!a}P!b}P!d}P~P#|OU#SO!a$OO!b$OO!d#RO~O]$QO~O!b$QO!g$RO~O!b$SO!g$SO~O^$TO!b$SO!g$SO~O^$TO!b$SO!f$UO!g$SO~OP!XaQ!Xa!V!Xa!`!Xa~P#|Obnaona~P%OOotapta~P%OOo!xO~OU|X!a|X!b|X!d|X~P#|Om$ZO~Om$]OU}X!a}X!b}X!d}X~O]$^O~O!b$_O!g$_O~O^$`O!b$_O!g$_O~OU|a!a|a!b|a!d|a~P#|O!b$cO!g$cO~O",goto:",]!mPPPPPPPPPPPPPPPPP!nPP!v#v#|$`#|$c$f$j$nP%VPPP!v%Y%^%a%{&O%a&R&U&X&_&b%aP&e&{&e'O'RPP']'a'g'm's'y(XPPPPPPPP(_)e*X+c,VUaObcR#e!c!{ROPQSTUXY_bcdehknrtvz!O!U!W!_!b!c!f!h!k!l!s!u!|#Q#R#S#W#c#k#p#x#{$Z$]QmPR!qnqfPQThknrtv!k!l!s!u#R#k#pR!gdR!ieTlPnTjPnSiPnSqQvQ{TQ!mkQ!trQ!vtR#y#RR!nkTsQvR!wt!RWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]RySR#t!|R|TR|UQ!PUR#|#SR#z#RR#z#SyZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]R!VXR!XYa]O^abc!a!c!eT!da!eQnPR!rnQvQR!{vQ!}yR#u!}Q#T|R#}#TW^Obc!cS!^^!aT!aa!eQ!eaR#f!eW`Obc!cQxSS}U#SQ!`_Q#PzQ#V!OQ#b!_Q#d!bQ#s!|Q#w#QQ$P#WQ$V#cQ$Y#xQ$[#{Q$a$ZR$b$]xZOSU_bcz!O!_!b!c!|#Q#S#W#c#x#{$Z$]Q!VXQ!XYQ#[!UR#]!W!QWOSUXY_bcz!O!U!W!_!b!c!|#Q#S#W#c#x#{$Z$]pfPQThknrtv!k!l!s!u#R#k#pQ!gdQ!ieQ#g!fR#h!hSgPn^pQTkrtv#RQ!jhQ#i!kQ#j!lQ#n!sQ#o!uQ$W#kR$X#pQuQR!zv",nodeNames:" DirectiveEnd DocEnd - - ? ? ? Literal QuotedLiteral Anchor Alias Tag BlockLiteralContent Comment Stream BOM Document ] [ FlowSequence Item Tagged Anchored Anchored Tagged FlowMapping Pair Key : Pair , } { FlowMapping Pair Pair BlockSequence Item Item BlockMapping Pair Pair Key Pair Pair BlockLiteral BlockLiteralHeader Tagged Anchored Anchored Tagged Directive DirectiveName DirectiveContent Document",maxTerm:74,context:$5e,nodeProps:[["isolate",-3,8,9,14,""],["openedBy",18,"[",32,"{"],["closedBy",19,"]",33,"}"]],propSources:[K5e],skippedNodes:[0],repeatNodeCount:6,tokenData:"-Y~RnOX#PXY$QYZ$]Z]#P]^$]^p#Ppq$Qqs#Pst$btu#Puv$yv|#P|}&e}![#P![!]'O!]!`#P!`!a'i!a!}#P!}#O*g#O#P#P#P#Q+Q#Q#o#P#o#p+k#p#q'i#q#r,U#r;'S#P;'S;=`#z<%l?HT#P?HT?HU,o?HUO#PQ#UU!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PQ#kTOY#PZs#Pt;'S#P;'S;=`#z<%lO#PQ#}P;=`<%l#P~$VQ!f~XY$Qpq$Q~$bO!g~~$gS^~OY$bZ;'S$b;'S;=`$s<%lO$b~$vP;=`<%l$bR%OX!WQOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR%rX!WQ!VPOX%kXY#PZ]%k]^#P^p%kpq#hq;'S%k;'S;=`&_<%lO%kR&bP;=`<%l%kR&lUoP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'VUmP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR'p[!PP!WQOY#PZp#Ppq#hq{#P{|(f|}#P}!O(f!O!R#P!R![)p![;'S#P;'S;=`#z<%lO#PR(mW!PP!WQOY#PZp#Ppq#hq!R#P!R![)V![;'S#P;'S;=`#z<%lO#PR)^U!PP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR)wY!PP!WQOY#PZp#Ppq#hq{#P{|)V|}#P}!O)V!O;'S#P;'S;=`#z<%lO#PR*nUcP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+XUbP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR+rUqP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,]UpP!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#PR,vU`P!WQOY#PZp#Ppq#hq;'S#P;'S;=`#z<%lO#P",tokenizers:[F5e,B5e,V5e,H5e,0,1],topRules:{Stream:[0,15]},tokenPrec:0}),G5e=Cy.define({name:"yaml",parser:Y5e.configure({props:[H1.add({Stream:e=>{for(let t=e.node.resolve(e.pos,-1);t&&t.to>=e.pos;t=t.parent){if(t.name=="BlockLiteralContent"&&t.from<t.to)return e.baseIndentFor(t);if(t.name=="BlockLiteral")return e.baseIndentFor(t)+e.unit;if(t.name=="BlockSequence"||t.name=="BlockMapping")return e.column(t.from,1);if(t.name=="QuotedLiteral")return null;if(t.name=="Literal"){let n=e.column(t.from,1);if(n==e.lineIndent(t.from,1))return n;if(t.to>e.pos)return null}}return null},FlowMapping:R$({closing:"}"}),FlowSequence:R$({closing:"]"})}),dA.add({"FlowMapping FlowSequence":tZ,"Item Pair BlockLiteral":(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})]}),languageData:{commentTokens:{line:"#"},indentOnInput:/^\s*[\]\}]$/}});function Q5e(){return new ZX(G5e)}const X5e={name:"properties",token:function(e,t){var n=e.sol()||t.afterSection,r=e.eol();if(t.afterSection=!1,n&&(t.nextMultiline?(t.inMultiline=!0,t.nextMultiline=!1):t.position="def"),r&&!t.nextMultiline&&(t.inMultiline=!1,t.position="def"),n)for(;e.eatSpace(););var i=e.next();return n&&(i==="#"||i==="!"||i===";")?(t.position="comment",e.skipToEnd(),"comment"):n&&i==="["?(t.afterSection=!0,e.skipTo("]"),e.eat("]"),"header"):i==="="||i===":"?(t.position="quote",null):(i==="\\"&&t.position==="quote"&&e.eol()&&(t.nextMultiline=!0),t.position)},startState:function(){return{position:"def",nextMultiline:!1,inMultiline:!1,afterSection:!1}}};function MJ({value:e,onChange:t,language:n,height:r=420,readOnly:i=!1,className:s}){const a=f.useMemo(()=>{const c=n==="json"?b5e():n==="yaml"?Q5e():n==="ini"?hA.define(X5e):[];return[qX(),WX(),ct.lineWrapping,c]},[n]),l=f.useMemo(()=>{if(!(typeof document>"u"))return document.documentElement.classList.contains("dark")?wJ:void 0},[]);return o.jsx("div",{className:ae("rounded-md border overflow-hidden",s),children:o.jsx(jJ,{value:e,height:`${r}px`,theme:l,editable:!i,basicSetup:{foldGutter:!1,highlightActiveLine:!0,highlightSelectionMatches:!0,indentOnInput:!0,lineNumbers:!1},extensions:a,onChange:c=>t(c)})})}const xn={singbox:"subscribe_template_singbox",clash:"subscribe_template_clash",clashmeta:"subscribe_template_clashmeta",stash:"subscribe_template_stash",surge:"subscribe_template_surge",surfboard:"subscribe_template_surfboard"};function Z5e(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState("clash"),[p,g]=f.useState({}),y=f.useMemo(()=>[{value:"singbox",label:"Sing-box"},{value:"clash",label:"Clash"},{value:"clashmeta",label:"Clash Meta"},{value:"stash",label:"Stash"},{value:"surge",label:"Surge"},{value:"surfboard",label:"Surfboard"}],[]),x=P=>{const M=String(P??""),A=M.trim();if(!A)return M;try{const R=JSON.parse(A);return JSON.stringify(R,null,2)}catch{return M}},b=f.useCallback(async()=>{var P,M;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const R=(await Kn.fetch("subscribe_template")).data.data.subscribe_template||{},B={[xn.singbox]:x(R.subscribe_template_singbox??""),[xn.clash]:R.subscribe_template_clash??"",[xn.clashmeta]:R.subscribe_template_clashmeta??"",[xn.stash]:R.subscribe_template_stash??"",[xn.surge]:R.subscribe_template_surge??"",[xn.surfboard]:R.subscribe_template_surfboard??""};n.current=!0,r.current=JSON.stringify({[xn.singbox]:B[xn.singbox]??"",[xn.clash]:B[xn.clash]??"",[xn.clashmeta]:B[xn.clashmeta]??"",[xn.stash]:B[xn.stash]??"",[xn.surge]:B[xn.surge]??"",[xn.surfboard]:B[xn.surfboard]??""}),i.current="",g(B)}catch(A){console.error(A);const R=((M=(P=A==null?void 0:A.response)==null?void 0:P.data)==null?void 0:M.message)||e("common.load_failed");d(R),Q.error(R)}finally{a(!1)}},[e]);f.useEffect(()=>{b()},[b]),f.useEffect(()=>{if(h!=="singbox")return;const P=xn.singbox;g(M=>{const A=M[P]??"",R=x(A);return R===A?M:{...M,[P]:R}})},[h]);const w=f.useMemo(()=>({[xn.singbox]:p[xn.singbox]??"",[xn.clash]:p[xn.clash]??"",[xn.clashmeta]:p[xn.clashmeta]??"",[xn.stash]:p[xn.stash]??"",[xn.surge]:p[xn.surge]??"",[xn.surfboard]:p[xn.surfboard]??""}),[p]),v=f.useMemo(()=>JSON.stringify(w),[w]),_=f.useCallback(async(P,M)=>{var R,B;t.current&&(window.clearTimeout(t.current),t.current=null);const A=JSON.stringify(P);c(!0),d(e("common.saving"));try{await Kn.save(P),r.current=A,i.current="",d(e("common.saved")),M!=null&&M.silentSuccess||Q.success(e("common.saved"))}catch(F){console.error(F),i.current=A;const U=((B=(R=F==null?void 0:F.response)==null?void 0:R.data)==null?void 0:B.message)||e("common.save_failed");d(U),Q.error(U)}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&v!==r.current&&v!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,_(w,{silentSuccess:!0})},1200),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,w,v,_,l]);const j=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:v===r.current?{label:e("common.saved"),className:"text-green-600"}:v===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[v,l,e]),k=xn[h],C=p[k]??"",O=h==="singbox"?"json":h==="clash"||h==="clashmeta"||h==="stash"?"yaml":h==="surge"||h==="surfboard"?"ini":"text";return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.sub_template")}),o.jsx(ha,{children:e("system.sub_template_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:b,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),j&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",j.className),children:[e("common.autosave"),": ",j.label]}),o.jsxs(W,{size:"sm",onClick:()=>_(w),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.sub_template_type"),htmlFor:"sub_template_type",hint:e("system.sub_template_type_hint"),children:o.jsx("div",{id:"sub_template_type",className:"flex flex-wrap gap-2",children:y.map(P=>{const M=h===P.value;return o.jsx(W,{type:"button",size:"sm",variant:M?"default":"outline",onClick:()=>m(P.value),"aria-pressed":M,children:P.label},P.value)})})}),o.jsx(Ge,{label:e("system.sub_template_content"),htmlFor:"sub_template_content",hint:e("system.sub_template_content_hint"),children:o.jsx(MJ,{value:C,language:O,height:520,onChange:P=>g(M=>({...M,[k]:P}))})}),u&&o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u})]})]})}function J5e(e){const t=eqe(e),n=f.forwardRef((r,i)=>{const{children:s,...a}=r,l=f.Children.toArray(s),c=l.find(nqe);if(c){const u=c.props.children,d=l.map(h=>h===c?f.Children.count(u)>1?f.Children.only(null):f.isValidElement(u)?u.props.children:null:h);return o.jsx(t,{...a,ref:i,children:f.isValidElement(u)?f.cloneElement(u,void 0,d):null})}return o.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}function eqe(e){const t=f.forwardRef((n,r)=>{const{children:i,...s}=n;if(f.isValidElement(i)){const a=iqe(i),l=rqe(s,i.props);return i.type!==f.Fragment&&(l.ref=r?xr(r,a):a),f.cloneElement(i,l)}return f.Children.count(i)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tqe=Symbol("radix.slottable");function nqe(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tqe}function rqe(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function iqe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sqe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OA=sqe.reduce((e,t)=>{const n=J5e(`Primitive.${t}`),r=f.forwardRef((i,s)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ek="Checkbox",[aqe]=ba(ek),[oqe,PA]=aqe(ek);function lqe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=e,[m,p]=pl({prop:n,defaultProp:i??!1,onChange:c,caller:ek}),[g,y]=f.useState(null),[x,b]=f.useState(null),w=f.useRef(!1),v=g?!!a||!!g.closest("form"):!0,_={checked:m,disabled:s,setChecked:p,control:g,setControl:y,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Ou(i)?!1:i,isFormControl:v,bubbleInput:x,setBubbleInput:b};return o.jsx(oqe,{scope:t,..._,children:cqe(h)?h(_):r})}var TJ="CheckboxTrigger",AJ=f.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:g}=PA(TJ,e),y=Zt(i,d),x=f.useRef(c);return f.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const w=()=>h(x.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[s,h]),o.jsx(OA.button,{type:"button",role:"checkbox","aria-checked":Ou(c)?"mixed":c,"aria-required":u,"data-state":LJ(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:y,onKeyDown:ut(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ut(n,b=>{h(w=>Ou(w)?!0:!w),g&&p&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})})});AJ.displayName=TJ;var EA=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=e;return o.jsx(lqe,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:a,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(AJ,{...h,ref:t,__scopeCheckbox:n}),m&&o.jsx(IJ,{__scopeCheckbox:n})]})})});EA.displayName=ek;var zJ="CheckboxIndicator",DJ=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=PA(zJ,n);return o.jsx(Pi,{present:r||Ou(s.checked)||s.checked===!0,children:o.jsx(OA.span,{"data-state":LJ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});DJ.displayName=zJ;var RJ="CheckboxBubbleInput",IJ=f.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:p}=PA(RJ,e),g=Zt(n,p),y=TT(s),x=wE(r);f.useEffect(()=>{const w=m;if(!w)return;const v=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(v,"checked").set,k=!i.current;if(y!==s&&j){const C=new Event("click",{bubbles:k});w.indeterminate=Ou(s),j.call(w,Ou(s)?!1:s),w.dispatchEvent(C)}},[m,y,s,i]);const b=f.useRef(Ou(s)?!1:s);return o.jsx(OA.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??b.current,required:l,disabled:c,name:u,value:d,form:h,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});IJ.displayName=RJ;function cqe(e){return typeof e=="function"}function Ou(e){return e==="indeterminate"}function LJ(e){return Ou(e)?"indeterminate":e?"checked":"unchecked"}const Un=f.forwardRef(({className:e,...t},n)=>o.jsx(EA,{ref:n,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-input ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 focus-visible:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(DJ,{className:ae("flex items-center justify-center text-current"),children:o.jsx(hE,{className:"h-4 w-4"})})}));Un.displayName=EA.displayName;function Gc(e){const t=e.trim();if(t==="")return null;const n=Number(t);return Number.isFinite(n)?n:null}function mb(e){const t=e.trim();if(t==="")return null;const n=Number(t);return Number.isFinite(n)?Math.trunc(n):null}function uqe(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({invite_force:!1,invite_commission:"10",invite_gen_limit:"5",invite_never_expire:!1,commission_first_time_enable:!0,commission_auto_check_enable:!0,commission_withdraw_limit:"100",commission_withdraw_method:[],withdraw_close_enable:!1,commission_distribution_enable:!1,commission_distribution_l1:"",commission_distribution_l2:"",commission_distribution_l3:""}),p=f.useMemo(()=>["","USDT","Paypal"],[]),g=f.useMemo(()=>({invite_force:h.invite_force,invite_commission:mb(h.invite_commission),invite_gen_limit:mb(h.invite_gen_limit),invite_never_expire:h.invite_never_expire,commission_first_time_enable:h.commission_first_time_enable,commission_auto_check_enable:h.commission_auto_check_enable,commission_withdraw_limit:Gc(h.commission_withdraw_limit),commission_withdraw_method:h.commission_withdraw_method,withdraw_close_enable:h.withdraw_close_enable,commission_distribution_enable:h.commission_distribution_enable,commission_distribution_l1:Gc(h.commission_distribution_l1),commission_distribution_l2:Gc(h.commission_distribution_l2),commission_distribution_l3:Gc(h.commission_distribution_l3)}),[h]),y=f.useMemo(()=>JSON.stringify(g),[g]),x=f.useCallback(async()=>{var _,j;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const C=(await Kn.fetch("invite")).data.data.invite||{},O={invite_force:!!C.invite_force,invite_commission:String(C.invite_commission??"10"),invite_gen_limit:String(C.invite_gen_limit??"5"),invite_never_expire:!!C.invite_never_expire,commission_first_time_enable:!!C.commission_first_time_enable,commission_auto_check_enable:!!C.commission_auto_check_enable,commission_withdraw_limit:String(C.commission_withdraw_limit??"100"),commission_withdraw_method:Array.isArray(C.commission_withdraw_method)?C.commission_withdraw_method:[],withdraw_close_enable:!!C.withdraw_close_enable,commission_distribution_enable:!!C.commission_distribution_enable,commission_distribution_l1:C.commission_distribution_l1==null?"":String(C.commission_distribution_l1),commission_distribution_l2:C.commission_distribution_l2==null?"":String(C.commission_distribution_l2),commission_distribution_l3:C.commission_distribution_l3==null?"":String(C.commission_distribution_l3)};n.current=!0,r.current=JSON.stringify({invite_force:O.invite_force,invite_commission:mb(O.invite_commission),invite_gen_limit:mb(O.invite_gen_limit),invite_never_expire:O.invite_never_expire,commission_first_time_enable:O.commission_first_time_enable,commission_auto_check_enable:O.commission_auto_check_enable,commission_withdraw_limit:Gc(O.commission_withdraw_limit),commission_withdraw_method:O.commission_withdraw_method,withdraw_close_enable:O.withdraw_close_enable,commission_distribution_enable:O.commission_distribution_enable,commission_distribution_l1:Gc(O.commission_distribution_l1),commission_distribution_l2:Gc(O.commission_distribution_l2),commission_distribution_l3:Gc(O.commission_distribution_l3)}),i.current="",m(O)}catch(k){console.error(k);const C=((j=(_=k==null?void 0:k.response)==null?void 0:_.data)==null?void 0:j.message)||e("common.load_failed");d(C),Q.error(C)}finally{a(!1)}},[e]);f.useEffect(()=>{x()},[x]);const b=f.useCallback(async(_,j)=>{var C,O;t.current&&(window.clearTimeout(t.current),t.current=null);const k=JSON.stringify(_);c(!0),d(e("common.saving"));try{await Kn.save(_),r.current=k,i.current="",d(e("common.saved")),j!=null&&j.silentSuccess||Q.success(e("common.saved"))}catch(P){console.error(P),i.current=k;const M=((O=(C=P==null?void 0:P.response)==null?void 0:C.data)==null?void 0:O.message)||e("common.save_failed");d(M),Q.error(M)}finally{c(!1)}},[e]);f.useEffect(()=>{if(n.current&&!(s||l)&&y!==r.current&&y!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,b(g,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,g,y,b,l]);const w=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:y===r.current?{label:e("common.saved"),className:"text-green-600"}:y===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[y,l,e]),v=(_,j)=>{m(k=>{const C=new Set(k.commission_withdraw_method);return j?C.add(_):C.delete(_),{...k,commission_withdraw_method:Array.from(C)}})};return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.invite_settings")}),o.jsx(ha,{children:e("system.invite_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[w&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",w.className),children:[e("common.autosave"),": ",w.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:x,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>b(g),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-0",children:[o.jsx("div",{className:"text-sm font-semibold",children:e("system.invite_section_title")}),o.jsx(Ge,{label:e("system.invite_force"),htmlFor:"invite_force",hint:e("system.invite_force_hint"),children:o.jsx(Dt,{id:"invite_force",checked:h.invite_force,onCheckedChange:_=>m(j=>({...j,invite_force:_}))})}),o.jsx(Ge,{label:e("system.invite_commission"),htmlFor:"invite_commission",hint:e("system.invite_commission_hint"),children:o.jsx(J,{id:"invite_commission",type:"number",min:0,max:100,step:1,value:h.invite_commission,onChange:_=>m(j=>({...j,invite_commission:_.target.value}))})}),o.jsx(Ge,{label:e("system.invite_gen_limit"),htmlFor:"invite_gen_limit",hint:e("system.invite_gen_limit_hint"),children:o.jsx(J,{id:"invite_gen_limit",type:"number",min:0,step:1,value:h.invite_gen_limit,onChange:_=>m(j=>({...j,invite_gen_limit:_.target.value}))})}),o.jsx(Ge,{label:e("system.invite_never_expire"),htmlFor:"invite_never_expire",hint:e("system.invite_never_expire_hint"),children:o.jsx(Dt,{id:"invite_never_expire",checked:h.invite_never_expire,onCheckedChange:_=>m(j=>({...j,invite_never_expire:_}))})})]}),o.jsxs("div",{className:"space-y-0 border-t pt-6",children:[o.jsx("div",{className:"text-sm font-semibold",children:e("system.commission_section_title")}),o.jsx(Ge,{label:e("system.commission_first_time_enable"),htmlFor:"commission_first_time_enable",hint:e("system.commission_first_time_enable_hint"),children:o.jsx(Dt,{id:"commission_first_time_enable",checked:h.commission_first_time_enable,onCheckedChange:_=>m(j=>({...j,commission_first_time_enable:_}))})}),o.jsx(Ge,{label:e("system.commission_auto_check_enable"),htmlFor:"commission_auto_check_enable",hint:e("system.commission_auto_check_enable_hint"),children:o.jsx(Dt,{id:"commission_auto_check_enable",checked:h.commission_auto_check_enable,onCheckedChange:_=>m(j=>({...j,commission_auto_check_enable:_}))})}),o.jsx(Ge,{label:e("system.withdraw_close_enable"),htmlFor:"withdraw_close_enable",hint:e("system.withdraw_close_enable_hint"),children:o.jsx(Dt,{id:"withdraw_close_enable",checked:h.withdraw_close_enable,onCheckedChange:_=>m(j=>({...j,withdraw_close_enable:_}))})}),o.jsx(Ge,{label:e("system.commission_withdraw_limit"),htmlFor:"commission_withdraw_limit",hint:e("system.commission_withdraw_limit_hint"),children:o.jsx(J,{id:"commission_withdraw_limit",type:"number",min:0,step:"0.01",value:h.commission_withdraw_limit,onChange:_=>m(j=>({...j,commission_withdraw_limit:_.target.value}))})}),o.jsx(Ge,{label:e("system.commission_withdraw_method"),hint:e("system.commission_withdraw_method_hint"),children:o.jsx("div",{className:"grid gap-2",children:p.map(_=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:h.commission_withdraw_method.includes(_),onCheckedChange:j=>v(_,j===!0)}),_]},_))})}),o.jsx(Ge,{label:e("system.commission_distribution_enable"),htmlFor:"commission_distribution_enable",hint:e("system.commission_distribution_enable_hint"),children:o.jsx(Dt,{id:"commission_distribution_enable",checked:h.commission_distribution_enable,onCheckedChange:_=>m(j=>({...j,commission_distribution_enable:_}))})}),h.commission_distribution_enable?o.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[o.jsx(Ge,{label:e("system.commission_distribution_l1"),htmlFor:"commission_distribution_l1",hint:e("system.commission_distribution_l1_hint"),children:o.jsx(J,{id:"commission_distribution_l1",type:"number",min:0,step:"0.01",value:h.commission_distribution_l1,onChange:_=>m(j=>({...j,commission_distribution_l1:_.target.value}))})}),o.jsx(Ge,{label:e("system.commission_distribution_l2"),htmlFor:"commission_distribution_l2",hint:e("system.commission_distribution_l2_hint"),children:o.jsx(J,{id:"commission_distribution_l2",type:"number",min:0,step:"0.01",value:h.commission_distribution_l2,onChange:_=>m(j=>({...j,commission_distribution_l2:_.target.value}))})}),o.jsx(Ge,{label:e("system.commission_distribution_l3"),htmlFor:"commission_distribution_l3",hint:e("system.commission_distribution_l3_hint"),children:o.jsx(J,{id:"commission_distribution_l3",type:"number",min:0,step:"0.01",value:h.commission_distribution_l3,onChange:_=>m(j=>({...j,commission_distribution_l3:_.target.value}))})})]}):null,u?o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u}):null]})]})]})}function dqe(){const{t:e}=Wt(),t=f.useRef(null),n=f.useRef(!1),r=f.useRef(""),i=f.useRef(""),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState({windows_version:"",windows_download_url:"",macos_version:"",macos_download_url:"",android_version:"",android_download_url:""}),p=f.useCallback(j=>{const k=String(j??"").trim();return k||null},[]),g=f.useCallback(j=>({windows_version:j.windows_version,windows_download_url:j.windows_download_url,macos_version:j.macos_version,macos_download_url:j.macos_download_url,android_version:j.android_version,android_download_url:j.android_download_url}),[]),y=f.useMemo(()=>g(h),[h,g]),x=f.useMemo(()=>({windows_version:p(y.windows_version),windows_download_url:p(y.windows_download_url),macos_version:p(y.macos_version),macos_download_url:p(y.macos_download_url),android_version:p(y.android_version),android_download_url:p(y.android_download_url)}),[p,y]),b=f.useMemo(()=>JSON.stringify(x),[x]),w=f.useCallback(async()=>{var j,k;t.current&&(window.clearTimeout(t.current),t.current=null),a(!0),d("");try{const O=(await Kn.fetch("app")).data.data.app||{},P={windows_version:O.windows_version??"",windows_download_url:O.windows_download_url??"",macos_version:O.macos_version??"",macos_download_url:O.macos_download_url??"",android_version:O.android_version??"",android_download_url:O.android_download_url??""};n.current=!0,r.current=JSON.stringify({windows_version:p(P.windows_version),windows_download_url:p(P.windows_download_url),macos_version:p(P.macos_version),macos_download_url:p(P.macos_download_url),android_version:p(P.android_version),android_download_url:p(P.android_download_url)}),i.current="",m(P)}catch(C){console.error(C);const O=((k=(j=C==null?void 0:C.response)==null?void 0:j.data)==null?void 0:k.message)||e("common.load_failed");d(O),Q.error(O)}finally{a(!1)}},[p,e]);f.useEffect(()=>{w()},[w]);const v=f.useCallback(async(j,k)=>{var O,P;t.current&&(window.clearTimeout(t.current),t.current=null);const C=JSON.stringify(j);c(!0),d(e("common.saving"));try{await Kn.save(j);try{const A=(await Kn.fetch("app")).data.data.app||{},R=JSON.stringify({windows_version:p(A.windows_version),windows_download_url:p(A.windows_download_url),macos_version:p(A.macos_version),macos_download_url:p(A.macos_download_url),android_version:p(A.android_version),android_download_url:p(A.android_download_url)});if(r.current=R,R!==C){i.current=C,d(e("common.saved_but_not_applied")),k!=null&&k.silentSuccess||Q.info(e("common.saved_but_not_applied"));return}}catch(M){console.error(M)}r.current=C,i.current="",d(e("common.saved")),k!=null&&k.silentSuccess||Q.success(e("common.saved"))}catch(M){console.error(M),i.current=C;const A=((P=(O=M==null?void 0:M.response)==null?void 0:O.data)==null?void 0:P.message)||e("common.save_failed");d(A),Q.error(A)}finally{c(!1)}},[p,e]);f.useEffect(()=>{if(n.current&&!(s||l)&&b!==r.current&&b!==i.current)return t.current&&window.clearTimeout(t.current),t.current=window.setTimeout(()=>{t.current=null,v(x,{silentSuccess:!0})},800),()=>{t.current&&(window.clearTimeout(t.current),t.current=null)}},[s,x,b,v,l]);const _=f.useMemo(()=>n.current?l?{label:e("common.saving"),className:"text-muted-foreground"}:b===r.current?{label:e("common.saved"),className:"text-green-600"}:b===i.current?{label:e("common.save_failed"),className:"text-red-600"}:{label:e("common.unsaved"),className:"text-muted-foreground"}:null,[b,l,e]);return o.jsxs(It,{children:[o.jsxs(Xn,{className:"flex flex-row items-start justify-between space-y-0",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Zn,{children:e("system.app_settings")}),o.jsx(ha,{children:e("system.app_settings_desc")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[_&&o.jsxs("span",{className:ae("text-xs whitespace-nowrap",_.className),children:[e("common.autosave"),": ",_.label]}),o.jsx(W,{variant:"outline",size:"sm",onClick:w,disabled:s,className:"h-8",children:o.jsx(pn,{className:ae("h-4 w-4",s&&"animate-spin")})}),o.jsxs(W,{size:"sm",onClick:()=>v(x),disabled:l,className:"h-8",children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("common.save")]})]})]}),o.jsxs(Lt,{className:"space-y-0",children:[o.jsx(Ge,{label:e("system.app_windows_version"),htmlFor:"windows_version",hint:e("system.app_windows_version_hint"),children:o.jsx(J,{id:"windows_version",value:h.windows_version,onChange:j=>m(k=>({...k,windows_version:j.target.value})),placeholder:"1.3.0"})}),o.jsx(Ge,{label:e("system.app_windows_download_url"),htmlFor:"windows_download_url",hint:e("system.app_windows_download_url_hint"),children:o.jsx(J,{id:"windows_download_url",value:h.windows_download_url,onChange:j=>m(k=>({...k,windows_download_url:j.target.value})),placeholder:"https://example.com/windows.exe"})}),o.jsx(Ge,{label:e("system.app_macos_version"),htmlFor:"macos_version",hint:e("system.app_macos_version_hint"),children:o.jsx(J,{id:"macos_version",value:h.macos_version,onChange:j=>m(k=>({...k,macos_version:j.target.value})),placeholder:"1.3.0"})}),o.jsx(Ge,{label:e("system.app_macos_download_url"),htmlFor:"macos_download_url",hint:e("system.app_macos_download_url_hint"),children:o.jsx(J,{id:"macos_download_url",value:h.macos_download_url,onChange:j=>m(k=>({...k,macos_download_url:j.target.value})),placeholder:"https://example.com/macos.pkg"})}),o.jsx(Ge,{label:e("system.app_android_version"),htmlFor:"android_version",hint:e("system.app_android_version_hint"),children:o.jsx(J,{id:"android_version",value:h.android_version,onChange:j=>m(k=>({...k,android_version:j.target.value})),placeholder:"1.3.0"})}),o.jsx(Ge,{label:e("system.app_android_download_url"),htmlFor:"android_download_url",hint:e("system.app_android_download_url_hint"),children:o.jsx(J,{id:"android_download_url",value:h.android_download_url,onChange:j=>m(k=>({...k,android_download_url:j.target.value})),placeholder:"https://example.com/android.apk"})}),u?o.jsx("div",{className:ae("pt-4 text-sm",u===e("common.saved")?"text-green-600":u===e("common.saving")?"text-muted-foreground":"text-red-600"),children:u}):null]})]})}function hqe(){const{t:e}=Wt(),t=new Set(["site","security","subscription","app","invite","telegram","api","smtp","subscribe_template"]),n=new URLSearchParams(window.location.search).get("tab")||"",r=t.has(n)?n:"site";return o.jsx("div",{className:"p-6 space-y-6",children:o.jsx(Ym,{defaultValue:r,className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:gap-6",children:[o.jsx("aside",{className:"md:w-60 md:shrink-0 md:sticky md:top-6 md:self-start",children:o.jsx("div",{className:"rounded-xl border border-border/70 bg-card p-2",children:o.jsxs(Sh,{className:"h-auto w-full flex flex-col items-stretch gap-1 bg-transparent p-0",children:[o.jsxs(mr,{value:"site",className:"w-full justify-start gap-2",children:[o.jsx(Ble,{className:"h-4 w-4"}),e("system.site_settings")]}),o.jsxs(mr,{value:"security",className:"w-full justify-start gap-2",children:[o.jsx(J6,{className:"h-4 w-4"}),e("system.security_settings")]}),o.jsxs(mr,{value:"subscription",className:"w-full justify-start gap-2",children:[o.jsx(W6,{className:"h-4 w-4"}),e("system.subscription_settings")]}),o.jsxs(mr,{value:"app",className:"w-full justify-start gap-2",children:[o.jsx(t8,{className:"h-4 w-4"}),e("system.app_settings")]}),o.jsxs(mr,{value:"invite",className:"w-full justify-start gap-2",children:[o.jsx(AC,{className:"h-4 w-4"}),e("system.invite_settings")]}),o.jsxs(mr,{value:"telegram",className:"w-full justify-start gap-2",children:[o.jsx(mE,{className:"h-4 w-4"}),e("system.telegram_settings")]}),o.jsxs(mr,{value:"api",className:"w-full justify-start gap-2",children:[o.jsx(tj,{className:"h-4 w-4"}),e("system.api_settings")]}),o.jsxs(mr,{value:"smtp",className:"w-full justify-start gap-2",children:[o.jsx(Q6,{className:"h-4 w-4"}),e("system.smtp_settings")]}),o.jsxs(mr,{value:"subscribe_template",className:"w-full justify-start gap-2",children:[o.jsx(qg,{className:"h-4 w-4"}),e("system.sub_template")]})]})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx(ii,{value:"site",className:"space-y-4 mt-0",children:o.jsx(WDe,{})}),o.jsx(ii,{value:"security",className:"space-y-4 mt-0",children:o.jsx(UDe,{})}),o.jsx(ii,{value:"subscription",className:"space-y-4 mt-0",children:o.jsx(VDe,{})}),o.jsx(ii,{value:"app",className:"space-y-4 mt-0",children:o.jsx(dqe,{})}),o.jsx(ii,{value:"invite",className:"space-y-4 mt-0",children:o.jsx(uqe,{})}),o.jsx(ii,{value:"telegram",className:"space-y-4 mt-0",children:o.jsx(HDe,{})}),o.jsx(ii,{value:"api",className:"space-y-4 mt-0",children:o.jsx(LRe,{})}),o.jsx(ii,{value:"smtp",className:"space-y-4 mt-0",children:o.jsx($Re,{})}),o.jsx(ii,{value:"subscribe_template",className:"space-y-4 mt-0",children:o.jsx(Z5e,{})})]})]})})})}const $l={types:()=>ze.get("/plugin/types"),list:e=>ze.get("/plugin/getPlugins",{params:e}),upload:e=>{const t=new FormData;return t.append("file",e),ze.post("/plugin/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},install:e=>ze.post("/plugin/install",{code:e}),uninstall:e=>ze.post("/plugin/uninstall",{code:e}),enable:e=>ze.post("/plugin/enable",{code:e}),disable:e=>ze.post("/plugin/disable",{code:e}),upgrade:e=>ze.post("/plugin/upgrade",{code:e}),remove:e=>ze.post("/plugin/delete",{code:e}),getConfig:e=>ze.get("/plugin/config",{params:{code:e}}),updateConfig:(e,t)=>ze.post("/plugin/config",{code:e,config:t})},Fl=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t};function fqe(){var Pe,Y,te,Ne,Te;const{t:e}=Wt(),t=wa(),n=f.useRef(null),[r,i]=f.useState(!1),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(null),[h,m]=f.useState(""),[p,g]=f.useState("feature"),[y,x]=f.useState("all"),[b,w]=f.useState([]),v=as(),[_,j]=f.useState(!1),[k,C]=f.useState(!1),[O,P]=f.useState(!1),[M,A]=f.useState(null),[R,B]=f.useState({}),[F,U]=f.useState({}),[L,D]=f.useState(""),T=f.useCallback(async()=>{try{const V=await $l.list();w(V.data.data||[])}catch(V){w([]),Q.error(Fl(V,e("common.load_failed"))),console.error(V)}},[e]);f.useEffect(()=>{T()},[T]);const $=f.useMemo(()=>{const V=h.trim().toLowerCase();return b.filter(ue=>{const pe=!V||ue.name.toLowerCase().includes(V)||ue.code.toLowerCase().includes(V)||(ue.description||"").toLowerCase().includes(V)||(ue.author||"").toLowerCase().includes(V),$e=p==="all"||ue.type===p,Qe=y==="all"||y==="installed"&&ue.is_installed||y==="available"&&!ue.is_installed;return pe&&$e&&Qe})},[b,h,p,y]),G=async V=>{A(V),j(!0),C(!0),P(!1),D(""),B({}),U({});try{const pe=(await $l.getConfig(V.code)).data.data||{};B(pe);const $e={};for(const[Qe,K]of Object.entries(pe))(K==null?void 0:K.type)==="json"&&(K!=null&&K.value)&&typeof K.value=="object"?$e[Qe]=JSON.stringify(K.value,null,2):(K==null?void 0:K.type)==="text"?$e[Qe]=(K==null?void 0:K.value)===null||(K==null?void 0:K.value)===void 0?"":String(K.value):$e[Qe]=K==null?void 0:K.value;U($e)}catch(ue){const pe=Fl(ue,e("common.load_failed"));D(pe),Q.error(pe),console.error(ue)}finally{C(!1)}},ie=async()=>{if(M&&!O){P(!0),D("");try{const V={};for(const[pe,$e]of Object.entries(R)){const Qe=F[pe];switch($e==null?void 0:$e.type){case"boolean":V[pe]=!!Qe;break;case"number":{const K=typeof Qe=="number"?Qe:Number(Qe);V[pe]=Number.isFinite(K)?K:0;break}default:V[pe]=Qe??""}}const ue=await $l.updateConfig(M.code,V);Q.success(ue.data.message||e("common.saved")),j(!1),await T()}catch(V){const ue=Fl(V,e("common.save_failed"));D(ue),Q.error(ue),console.error(V)}finally{P(!1)}}},X=async V=>{if(!u){d(V.code);try{const ue=await $l.enable(V.code);Q.success(ue.data.message||e("common.saved")),await T()}catch(ue){Q.error(Fl(ue,e("common.save_failed"))),console.error(ue)}finally{d(null)}}},se=async V=>{if(!u){d(V.code);try{const ue=await $l.disable(V.code);Q.success(ue.data.message||e("common.saved")),await T()}catch(ue){Q.error(Fl(ue,e("common.save_failed"))),console.error(ue)}finally{d(null)}}},xe=async V=>{if(!u){d(V.code);try{const ue=await $l.install(V.code);Q.success(ue.data.message||e("common.saved")),await T()}catch(ue){Q.error(Fl(ue,e("common.save_failed"))),console.error(ue)}finally{d(null)}}},me=async V=>{if(!u){d(V.code);try{const ue=await $l.upgrade(V.code);Q.success(ue.data.message||e("common.saved")),await T()}catch(ue){Q.error(Fl(ue,e("common.save_failed"))),console.error(ue)}finally{d(null)}}},De=async V=>{if(!(u||!await t({title:e("common.uninstall"),description:e("plugin.confirm_uninstall"),confirmText:e("common.uninstall"),confirmVariant:"destructive"}))){d(V.code);try{const pe=await $l.uninstall(V.code);Q.success(pe.data.message||e("common.saved")),await T()}catch(pe){Q.error(Fl(pe,e("common.save_failed"))),console.error(pe)}finally{d(null)}}},ge=async V=>{if(r)return!1;i(!0);try{const ue=await $l.upload(V);return Q.success(ue.data.message||e("plugin.upload_success")),await T(),!0}catch(ue){return Q.error(Fl(ue,e("plugin.upload_failed"))),console.error(ue),!1}finally{i(!1)}},Ve=async V=>{if(!V)return;await ge(V)&&a(!1)},oe=[{value:"feature",label:e("plugin.tabs.feature")},{value:"payment",label:e("plugin.tabs.payment")},{value:"all",label:e("plugin.tabs.all")}];return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"relative w-full md:max-w-sm",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(J,{value:h,onChange:V=>m(V.target.value),placeholder:e("plugin.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(it,{value:y,onValueChange:V=>x(V),children:[o.jsx(et,{className:"h-9 w-[140px]",children:o.jsx(st,{placeholder:e("plugin.status_filter.all")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("plugin.status_filter.all")}),o.jsx(fe,{value:"installed",children:e("plugin.status_filter.installed")}),o.jsx(fe,{value:"available",children:e("plugin.status_filter.available")})]})]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",disabled:r,onClick:()=>a(!0),children:[o.jsx(Wg,{className:"h-4 w-4 mr-2"}),e("plugin.upload")]})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:oe.map(V=>o.jsx(W,{type:"button",size:"sm",variant:p===V.value?"secondary":"outline",className:"h-8",onClick:()=>g(V.value),children:V.label},V.value))}),o.jsx("div",{className:"space-y-3",children:$.length===0?o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("plugin.empty")})}):$.map(V=>{const ue=u===V.code,pe=V.is_installed?V.is_enabled?"enabled":"disabled":"not_installed",$e=e(`plugin.status.${pe}`),Qe=pe==="enabled"?"bg-foreground text-background":pe==="disabled"?"border border-border/70 bg-muted/30 text-muted-foreground":"border border-dashed border-border/70 text-muted-foreground",K=V.type==="payment"?e("plugin.type.payment"):e("plugin.type.feature"),Ce=[V.code,V.version?`v${V.version}`:"",V.author].filter(Boolean).join("  ");return o.jsx(It,{onContextMenu:Z=>v.openMenu(Z,V),children:o.jsx(Lt,{className:"p-4",children:o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"min-w-0 space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("div",{className:"font-semibold",children:V.name}),o.jsx("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/30 px-2 py-0.5 text-xs text-muted-foreground",children:K}),o.jsx("span",{className:ae("inline-flex items-center rounded-full px-2 py-0.5 text-xs",Qe),children:$e})]}),Ce?o.jsx("div",{className:"text-xs text-muted-foreground",children:Ce}):null,V.description?o.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:V.description}):null]}),o.jsxs("div",{className:"flex flex-col items-end gap-2 shrink-0",children:[V.need_upgrade?o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 rounded-full border border-amber-200 bg-amber-50 text-amber-600 hover:bg-amber-100",onClick:()=>me(V),disabled:ue,title:e("plugin.upgrade"),children:o.jsx(BD,{className:"h-4 w-4"})}):null,o.jsx("div",{className:"flex flex-wrap items-center gap-2",children:V.is_installed?o.jsxs(o.Fragment,{children:[V.type==="feature"?o.jsx(W,{size:"sm",variant:"outline",disabled:ue,onClick:()=>G(V),className:"h-8",children:e("common.config")}):null,V.is_enabled?o.jsx(W,{size:"sm",variant:"destructive",disabled:ue,onClick:()=>se(V),className:"h-8",children:e("common.disable")}):o.jsx(W,{size:"sm",variant:"default",disabled:ue,onClick:()=>X(V),className:"h-8 bg-emerald-600 text-white hover:bg-emerald-700",children:e("common.enable")}),o.jsx(W,{size:"sm",variant:"outline",disabled:V.is_enabled||ue,onClick:()=>De(V),className:"h-8",children:e("common.uninstall")})]}):o.jsx(W,{size:"sm",variant:"outline",disabled:ue,onClick:()=>xe(V),className:"h-8",children:e("common.install")})})]})]})})},V.code)})}),o.jsx(on,{open:s,onOpenChange:a,children:o.jsxs(rn,{className:"max-w-md",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("plugin.upload_title")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("plugin.upload_desc")}),o.jsx("input",{ref:n,type:"file",accept:".zip",className:"hidden",onChange:V=>{var pe;const ue=(pe=V.target.files)==null?void 0:pe[0];Ve(ue),V.target&&(V.target.value="")}}),o.jsxs("div",{className:ae("flex cursor-pointer flex-col items-center justify-center gap-2 rounded-lg border border-dashed border-border/70 bg-muted/10 px-6 py-8 text-center text-sm text-muted-foreground",l&&"border-primary bg-primary/5 text-foreground"),onClick:()=>{var V;return(V=n.current)==null?void 0:V.click()},onDragOver:V=>{V.preventDefault()},onDragEnter:V=>{V.preventDefault(),c(!0)},onDragLeave:V=>{V.preventDefault(),c(!1)},onDrop:V=>{var ue;V.preventDefault(),c(!1),Ve((ue=V.dataTransfer.files)==null?void 0:ue[0])},role:"button",tabIndex:0,children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-border/70 bg-background",children:o.jsx(Wg,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-sm",children:[e("plugin.upload_drop")," ",o.jsx("span",{className:"text-primary",children:e("plugin.upload_click")})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plugin.upload_hint")})]})]})]})}),o.jsx(on,{open:_,onOpenChange:j,children:o.jsxs(rn,{className:"max-w-2xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:M?e("plugin.config_title",{name:M.name}):e("plugin.config_title_empty")})}),k?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("plugin.config_loading")}):L?o.jsx("div",{className:"text-sm text-red-600",children:L}):Object.keys(R).length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("plugin.config_empty")}):o.jsx(cs,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-4",children:Object.entries(R).map(([V,ue])=>{const pe=ue.label||V,$e=ue.description||"",Qe=ue.placeholder||"",K=ue.type||"string",ne=F[V];return o.jsx("div",{className:"grid gap-2",children:K==="boolean"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{id:`plugin-config-${V}`,checked:!!ne,onCheckedChange:Ce=>U(Z=>({...Z,[V]:Ce}))}),o.jsx(ee,{htmlFor:`plugin-config-${V}`,children:pe})]}),$e?o.jsx("div",{className:"text-xs text-muted-foreground",children:$e}):null]}):K==="number"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ee,{htmlFor:`plugin-config-${V}`,children:pe}),$e?o.jsx("div",{className:"text-xs text-muted-foreground",children:$e}):null]}),o.jsx(J,{id:`plugin-config-${V}`,type:"number",value:ne==null?"":String(ne),placeholder:Qe,onChange:Ce=>U(Z=>({...Z,[V]:Ce.target.value}))})]}):K==="text"||K==="json"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ee,{htmlFor:`plugin-config-${V}`,children:pe}),$e?o.jsx("div",{className:"text-xs text-muted-foreground",children:$e}):null]}),o.jsx(gr,{id:`plugin-config-${V}`,value:ne==null?"":String(ne),placeholder:Qe,onChange:Ce=>U(Z=>({...Z,[V]:Ce.target.value})),className:"min-h-[120px] font-mono"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(ee,{htmlFor:`plugin-config-${V}`,children:pe}),$e?o.jsx("div",{className:"text-xs text-muted-foreground",children:$e}):null]}),o.jsx(J,{id:`plugin-config-${V}`,value:ne==null?"":String(ne),placeholder:Qe,onChange:Ce=>U(Z=>({...Z,[V]:Ce.target.value}))})]})},V)})})}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>j(!1),disabled:O,children:e("common.cancel")}),o.jsx(W,{onClick:ie,disabled:k||O||!!L||!M,children:e(O?"common.saving":"common.save")})]})]})}),o.jsx(ss,{open:v.open,onOpenChange:v.setOpen,position:v.position,items:[...(Pe=v.data)!=null&&Pe.need_upgrade?[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(BD,{className:"h-4 w-4 mr-2"}),e("plugin.upgrade")]}),disabled:!v.data||u===v.data.code,onSelect:()=>{v.data&&(v.setOpen(!1),me(v.data))}},{type:"separator"}]:[],...(Y=v.data)!=null&&Y.is_installed?[...((te=v.data)==null?void 0:te.type)==="feature"?[{type:"item",label:e("common.config"),disabled:!v.data||u===v.data.code,onSelect:()=>{v.data&&(v.setOpen(!1),G(v.data))}}]:[],{type:"item",label:(Ne=v.data)!=null&&Ne.is_enabled?e("common.disable"):e("common.enable"),destructive:!!((Te=v.data)!=null&&Te.is_enabled),disabled:!v.data||u===v.data.code,onSelect:()=>{v.data&&(v.setOpen(!1),v.data.is_enabled?se(v.data):X(v.data))}},{type:"item",label:e("common.uninstall"),disabled:!v.data||v.data.is_enabled||u===v.data.code,onSelect:()=>{v.data&&(v.setOpen(!1),De(v.data))}}]:[{type:"item",label:e("common.install"),disabled:!v.data||u===v.data.code,onSelect:()=>{v.data&&(v.setOpen(!1),xe(v.data))}}]]})]})}const pb={getThemes:()=>ze.get("/theme/getThemes"),upload:e=>{const t=new FormData;return t.append("file",e),ze.post("/theme/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},delete:e=>ze.post("/theme/delete",{name:e}),getThemeConfig:e=>ze.post("/theme/getThemeConfig",{name:e}),saveThemeConfig:(e,t)=>ze.post("/theme/saveThemeConfig",{name:e,config:t})},Op=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Ho=e=>String(e??"").trim().toLowerCase();function mqe(){const{t:e}=Wt(),t=f.useRef(null),[n,r]=f.useState(""),[i,s]=f.useState({}),[a,l]=f.useState(!1),[c,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(!1),[g,y]=f.useState(!1),[x,b]=f.useState(!1),[w,v]=f.useState(!1),[_,j]=f.useState(null),[k,C]=f.useState({}),[O,P]=f.useState(""),M=f.useMemo(()=>{const T=Object.entries(i).map(([G,ie])=>({key:String(G),...ie||{}})),$=new Map;for(const G of T){const ie=[Ho(G.name),Ho(G.description),Ho(G.version)],X=ie.join("|"),se=ie.some(Boolean)?X:Ho(G.key);if(!$.get(se)){$.set(se,G);continue}G.key===n&&$.set(se,G)}return Array.from($.values()).sort((G,ie)=>G.key.localeCompare(ie.key))},[i,n]),A=f.useCallback(async()=>{try{const T=await pb.getThemes();if(T.data.status!=="success")throw new Error(T.data.message||"request failed");s(T.data.data.themes||{}),r(T.data.data.active||"")}catch(T){Q.error(Op(T,e("common.load_failed"))),console.error(T)}},[e]);f.useEffect(()=>{A()},[A]);const R=async T=>{if(c)return!1;u(!0);try{const $=await pb.upload(T);if($.data.status!=="success")throw new Error($.data.message||"request failed");return Q.success(e("theme.upload_success")),await A(),!0}catch($){return Q.error(Op($,e("theme.upload_failed"))),console.error($),!1}finally{u(!1)}},B=async T=>{if(!T)return;await R(T)&&h(!1)},F=async T=>{if(!(!T||a)){l(!0);try{const $=await Kn.save({frontend_theme:T});if($.data.status!=="success")throw new Error($.data.message||"request failed");r(T),Q.success(e("theme.apply_success")),await A()}catch($){Q.error(Op($,e("common.save_failed"))),console.error($)}finally{l(!1)}}},U=async T=>{j(T),y(!0),b(!0),v(!1),P(""),C({});try{const $=await pb.getThemeConfig(T.key);if($.data.status!=="success")throw new Error($.data.message||"request failed");const G=$.data.data||{},ie={};for(const X of T.configs||[])G[X.field_name]!==void 0&&G[X.field_name]!==null?ie[X.field_name]=G[X.field_name]:X.default_value!==void 0?ie[X.field_name]=X.default_value:ie[X.field_name]="";C(ie)}catch($){const G=Op($,e("common.load_failed"));P(G),Q.error(G),console.error($)}finally{b(!1)}},L=async()=>{if(!(!_||w)){v(!0),P("");try{const T={};for(const G of _.configs||[])T[G.field_name]=k[G.field_name];const $=await pb.saveThemeConfig(_.key,T);if($.data.status!=="success")throw new Error($.data.message||"request failed");Q.success(e("theme.config_saved")),y(!1)}catch(T){const $=Op(T,e("common.save_failed"));P($),Q.error($),console.error(T)}finally{v(!1)}}},D=T=>{const $=`theme-config-${T.field_name}`,G=T.label||T.field_name,ie=T.placeholder||"",X=k[T.field_name];if(T.field_type==="select"){const se=T.select_options||{},xe=Object.entries(se);return o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:$,children:G}),o.jsxs(it,{value:X==null?"":String(X),onValueChange:me=>C(De=>({...De,[T.field_name]:me})),children:[o.jsx(et,{id:$,children:o.jsx(st,{placeholder:ie||e("theme.select_placeholder")})}),o.jsx(tt,{children:xe.map(([me,De])=>o.jsx(fe,{value:me,children:De},me))})]})]},T.field_name)}return T.field_type==="textarea"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:$,children:G}),o.jsx(gr,{id:$,value:X==null?"":String(X),placeholder:ie,onChange:se=>C(xe=>({...xe,[T.field_name]:se.target.value})),className:"min-h-[120px]"})]},T.field_name):o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:$,children:G}),o.jsx(J,{id:$,value:X==null?"":String(X),placeholder:ie,onChange:se=>C(xe=>({...xe,[T.field_name]:se.target.value}))})]},T.field_name)};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:o.jsx("div",{className:"flex items-center gap-2 md:ml-auto",children:o.jsxs(W,{size:"sm",className:"h-9",disabled:c,onClick:()=>h(!0),children:[o.jsx(Wg,{className:"h-4 w-4 mr-2"}),e("theme.upload")]})})}),M.length===0?o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("theme.empty")})}):o.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:M.map(T=>{const $=T.key===n,G=(T.name||T.key||"").trim(),ie=!!T.key&&Ho(T.key)!==Ho(G),X=String(T.description??"").trim(),se=!!X&&Ho(X)!==Ho(G)&&Ho(X)!==Ho(T.key);return o.jsx(It,{className:"h-full",children:o.jsxs(Lt,{className:"p-4 h-full flex flex-col gap-4",children:[o.jsx("div",{className:"min-w-0",children:o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"font-semibold truncate",children:G}),ie?o.jsx("div",{className:"text-xs text-muted-foreground truncate",children:T.key}):null,se?o.jsx("div",{className:"text-xs text-muted-foreground line-clamp-2",children:X}):null,T.version?o.jsx("div",{className:"text-xs text-muted-foreground",children:e("theme.version_label",{version:T.version})}):null]})}),o.jsxs("div",{className:"mt-auto flex flex-wrap items-center justify-end gap-2",children:[o.jsx(W,{size:"sm",variant:"outline",className:"h-8",onClick:()=>U(T),children:e("theme.settings")}),$?o.jsx(W,{size:"sm",variant:"secondary",className:"h-8",disabled:!0,children:e("theme.current_theme")}):o.jsx(W,{size:"sm",className:"h-8",disabled:a,onClick:()=>F(T.key),children:e("theme.apply")})]})]})},T.key)})}),o.jsx(on,{open:d,onOpenChange:h,children:o.jsxs(rn,{className:"max-w-md",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("theme.upload_title")})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("theme.upload_desc")}),o.jsx("input",{ref:t,type:"file",accept:".zip",className:"hidden",onChange:T=>{var G;const $=(G=T.target.files)==null?void 0:G[0];B($),T.target&&(T.target.value="")}}),o.jsxs("div",{className:ae("flex cursor-pointer flex-col items-center justify-center gap-2 rounded-lg border border-dashed border-border/70 bg-muted/10 px-6 py-8 text-center text-sm text-muted-foreground",m&&"border-primary bg-primary/5 text-foreground"),onClick:()=>{var T;return(T=t.current)==null?void 0:T.click()},onDragOver:T=>{T.preventDefault()},onDragEnter:T=>{T.preventDefault(),p(!0)},onDragLeave:T=>{T.preventDefault(),p(!1)},onDrop:T=>{var $;T.preventDefault(),p(!1),B(($=T.dataTransfer.files)==null?void 0:$[0])},role:"button",tabIndex:0,children:[o.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full border border-border/70 bg-background",children:o.jsx(Wg,{className:"h-5 w-5"})}),o.jsxs("div",{className:"text-sm",children:[e("theme.upload_drop")," ",o.jsx("span",{className:"text-primary",children:e("theme.upload_click")})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("theme.upload_hint")})]})]})]})}),o.jsx(on,{open:g,onOpenChange:y,children:o.jsxs(rn,{className:"max-w-2xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:_?e("theme.config_title",{name:_.name||_.key}):e("theme.config_title_empty")})}),x?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("theme.config_loading")}):O?o.jsx("div",{className:"text-sm text-red-600",children:O}):!_||(_.configs||[]).length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("theme.config_empty")}):o.jsx(cs,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-4",children:(_.configs||[]).map(D)})}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>y(!1),disabled:w,children:e("common.cancel")}),o.jsx(W,{onClick:L,disabled:x||w||!!O||!_,children:e(w?"common.saving":"common.save")})]})]})})]})}const Pp={fetch:()=>ze.get("/notice/fetch"),save:e=>ze.post("/notice/save",e),toggleShow:e=>ze.post("/notice/show",{id:e}),drop:e=>ze.post("/notice/drop",{id:e}),sort:e=>ze.post("/notice/sort",{ids:e})},Ep=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},TF=e=>e.split(/[,\n]/g).map(t=>t.trim()).filter(Boolean);function AF(e){let t=e||"";return t=t.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,""),t=t.replace(/<(iframe|object|embed|link|style)[\s\S]*?>[\s\S]*?<\/\1>/gi,""),t=t.replace(/\son\w+="[^"]*"/gi,""),t=t.replace(/\son\w+='[^']*'/gi,""),t=t.replace(/\son\w+=([^\s>]+)/gi,""),t=t.replace(/javascript:/gi,""),t}function pqe(){var Ce;const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState([]),[c,u]=f.useState(!1),[d,h]=f.useState(!1),m=f.useRef([]),[p,g]=f.useState(null),[y,x]=f.useState(null),b=as(),[w,v]=f.useState(1),[_,j]=f.useState(50),k=f.useMemo(()=>a.some(Z=>Object.prototype.hasOwnProperty.call(Z,"popup")),[a]),C=a.length,O=Math.max(1,Math.ceil(C/_)),P=Math.min(w,O),M=f.useMemo(()=>{if(c)return a;const Z=(P-1)*_;return a.slice(Z,Z+_)},[a,P,_,c]),A=f.useMemo(()=>{if(!c)return!1;const Z=m.current;if(!Z.length)return!1;const be=a.map(Ie=>Ie.id);return Z.join(",")!==be.join(",")},[a,c]),[R,B]=f.useState(!1),[F,U]=f.useState(!1),[L,D]=f.useState({title:"",content:"",content_mode:"markdown",img_url:"",tags:[],show:!0,popup:!1}),[T,$]=f.useState(""),[G,ie]=f.useState(""),X=f.useCallback(async()=>{r(!0);try{const Z=await Pp.fetch();if(Z.data.status!=="success")throw new Error(Z.data.message||"request failed");const be=(Z.data.data||[]).slice();be.sort((Ie,re)=>{const H=Number.isFinite(Ie.sort)?Number(Ie.sort):null,we=Number.isFinite(re.sort)?Number(re.sort):null;return H!==null&&we!==null?H-we:H!==null?-1:we!==null?1:Ie.id-re.id}),l(be),v(1)}catch(Z){l([]),Q.error(Ep(Z,e("common.load_failed"))),console.error(Z)}finally{r(!1)}},[e]);f.useEffect(()=>{X()},[X]);const se=()=>{D({title:"",content:"",content_mode:"markdown",img_url:"",tags:[],show:!0,popup:!1}),$(""),ie(""),B(!0)},xe=Z=>{const be=$J(Z.content||"");D({id:Z.id,title:Z.title||"",content:(be==null?void 0:be.markdown)??(Z.content||""),content_mode:be?"markdown":"html",img_url:Z.img_url||"",tags:Array.isArray(Z.tags)?Z.tags.filter(Boolean):[],show:!!Z.show,popup:!!Z.popup}),$(""),ie(""),B(!0)},me=async()=>{if(!F){if(ie(""),!L.title.trim())return ie(e("notice.validation.title_required"));if(!L.content.trim())return ie(e("notice.validation.content_required"));U(!0);try{const Z=L.content_mode==="markdown"?vqe(L.content):FJ(L.content),be={id:L.id,title:L.title.trim(),content:Z,img_url:L.img_url.trim()||void 0,tags:L.tags.length?L.tags:void 0,show:L.show?1:0};k&&(be.popup=L.popup?1:0);const Ie=await Pp.save(be);if(Ie.data.status!=="success")throw new Error(Ie.data.message||"request failed");Q.success(e("notice.saved")),B(!1),await X()}catch(Z){const be=Ep(Z,e("common.save_failed"));ie(be),Q.error(be),console.error(Z)}finally{U(!1)}}},De=async Z=>{if(!i){s(Z);try{const be=await Pp.toggleShow(Z);if(be.data.status!=="success")throw new Error(be.data.message||"request failed");await X()}catch(be){Q.error(Ep(be,e("common.save_failed"))),console.error(be)}finally{s(null)}}},ge=async Z=>{if(i||!await t({title:e("common.delete"),description:e("notice.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(Z);const Ie=a;l(re=>re.filter(H=>H.id!==Z));try{const re=await Pp.drop(Z);if(re.data.status!=="success")throw new Error(re.data.message||"request failed");Q.success(e("notice.deleted"))}catch(re){l(Ie),Q.error(Ep(re,e("common.save_failed"))),console.error(re)}finally{s(null)}},Ve=()=>{m.current=a.map(Z=>Z.id),u(!0),g(null),x(null)},oe=async()=>{m.current=[],u(!1),g(null),x(null),await X()},Pe=async()=>{if(!(d||!A)){h(!0);try{const Z=a.map(Ie=>Ie.id),be=await Pp.sort(Z);if(be.data.status!=="success")throw new Error(be.data.message||"request failed");Q.success(e("notice.sort_saved")),m.current=[],u(!1),g(null),x(null),await X()}catch(Z){Q.error(Ep(Z,e("common.save_failed"))),console.error(Z)}finally{h(!1)}}},Y=(Z,be)=>{l(Ie=>{const re=Ie.findIndex(Je=>Je.id===Z);if(re<0)return Ie;const H=Ie.slice(),[we]=H.splice(re,1),Be=Math.max(0,Math.min(H.length,be));return H.splice(Be,0,we),H})},te=Z=>{const be=a.findIndex(Ie=>Ie.id===Z);be<=0||Y(Z,be-1)},Ne=Z=>{const be=a.findIndex(Ie=>Ie.id===Z);be<0||be>=a.length-1||Y(Z,be+1)},Te=Z=>Y(Z,0),V=Z=>Y(Z,a.length-1),ue=(Z,be)=>{if(!(!c||d)){g(be),x(null);try{Z.dataTransfer.effectAllowed="move",Z.dataTransfer.setData("text/plain",String(be))}catch{}}},pe=()=>{g(null),x(null)},$e=(Z,be)=>{var H,we;if(!c||d||p===null||p===be)return;Z.preventDefault();try{Z.dataTransfer.dropEffect="move"}catch{}const Ie=(we=(H=Z.currentTarget)==null?void 0:H.getBoundingClientRect)==null?void 0:we.call(H),re=Ie&&Z.clientY>Ie.top+Ie.height/2?"below":"above";x({id:be,position:re})},Qe=(Z,be)=>{var Be,Je;if(!c||d)return;Z.preventDefault();const Ie=(()=>{try{return Z.dataTransfer.getData("text/plain")}catch{return""}})(),re=p??Number.parseInt(Ie||"",10);if(!Number.isFinite(re)||re===be){pe();return}const H=(Je=(Be=Z.currentTarget)==null?void 0:Be.getBoundingClientRect)==null?void 0:Je.call(Be),we=H&&Z.clientY>H.top+H.height/2?"below":"above";l(Xe=>{const Nt=Xe.findIndex(Ct=>Ct.id===re),ft=Xe.findIndex(Ct=>Ct.id===be);if(Nt<0||ft<0||Nt===ft)return Xe;const Et=we==="below"?ft+1:ft,Xt=Xe.slice(),[hn]=Xt.splice(Nt,1),Yn=Math.max(0,Math.min(Xt.length,Nt<Et?Et-1:Et));return Xt.splice(Yn,0,hn),Xt}),pe()},K=f.useCallback(Z=>{const be=TF(Z);be.length&&D(Ie=>{const re=new Map(Ie.tags.map(H=>[H.trim().toLowerCase(),H.trim()]));for(const H of be){const we=H.toLowerCase();re.has(we)||re.set(we,H)}return{...Ie,tags:Array.from(re.values())}})},[]),ne=Z=>{D(be=>({...be,tags:be.tags.filter(Ie=>Ie!==Z)}))};return f.useEffect(()=>{v(Z=>Math.min(Math.max(1,Z),O))},[O]),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:se,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("notice.add")]}),c?o.jsxs(o.Fragment,{children:[o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:oe,disabled:n||d,children:e("notice.sort_cancel")}),o.jsxs(W,{size:"sm",className:"h-9",onClick:Pe,disabled:n||d||!A,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("notice.sort_save")]})]}):o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:Ve,disabled:n||a.length<2,children:[o.jsx(Ss,{className:"h-4 w-4 mr-2"}),e("notice.sort")]}),o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:X,disabled:n,children:o.jsx(pn,{className:ae("h-4 w-4",n&&"animate-spin")})})]})}),c&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("notice.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:C===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("notice.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:"ID"}),c?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("notice.sort_column")}):null,o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("notice.table.show")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("notice.table.title")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("notice.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:M.map((Z,be)=>{const Ie=i===Z.id,re=c?be:a.findIndex(H=>H.id===Z.id);return o.jsxs("tr",{className:ae("hover:bg-muted/30",c&&(y==null?void 0:y.id)===Z.id&&"bg-primary/5",c&&p===Z.id&&"opacity-60"),onContextMenu:H=>b.openMenu(H,Z),onDragOver:c?H=>$e(H,Z.id):void 0,onDrop:c?H=>Qe(H,Z.id):void 0,onDragLeave:c?()=>{x(H=>(H==null?void 0:H.id)===Z.id?null:H)}:void 0,children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Z.id}),c?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:ae("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",d?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!d,onDragStart:H=>ue(H,Z.id),onDragEnd:pe,"aria-label":"Drag",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:re+1}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Te(Z.id),disabled:d||re<=0,"aria-label":"Top",children:o.jsx(Qy,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>te(Z.id),disabled:d||re<=0,"aria-label":"Up",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Ne(Z.id),disabled:d||re>=a.length-1,"aria-label":"Down",children:o.jsx(xh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>V(Z.id),disabled:d||re>=a.length-1,"aria-label":"Bottom",children:o.jsx(Gy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!Z.show,disabled:Ie,onCheckedChange:()=>De(Z.id)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:Z.title,children:Z.title})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:Ie,onClick:()=>xe(Z),title:e("common.edit"),children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:Ie,onClick:()=>ge(Z.id),title:e("common.delete"),children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},Z.id)})})]})})})}),!c&&o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("dashboard.per_page"),":"]}),o.jsxs(it,{value:String(_),onValueChange:Z=>{const be=Number(Z);j(Number.isFinite(be)&&be>0?be:50),v(1)},children:[o.jsx(et,{className:"h-8 w-[96px]",children:o.jsx(st,{})}),o.jsx(tt,{children:[10,20,50,100].map(Z=>o.jsx(fe,{value:String(Z),children:Z},Z))})]}),o.jsxs("span",{className:"ml-2",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:C})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(1),disabled:n||P<=1,children:e("dashboard.first_page")}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(Math.max(1,P-1)),disabled:n||P<=1,children:e("dashboard.prev_page")}),o.jsxs("span",{className:"text-sm text-muted-foreground tabular-nums",children:[P," / ",O]}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(Math.min(O,P+1)),disabled:n||P>=O,children:e("dashboard.next_page")}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>v(O),disabled:n||P>=O,children:e("dashboard.last_page")})]})]}),o.jsx(on,{open:R,onOpenChange:B,children:o.jsxs(rn,{className:"max-w-5xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:L.id?e("notice.edit_title"):e("notice.create_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"notice-title",children:e("notice.fields.title")}),o.jsx(J,{id:"notice-title",value:L.title,onChange:Z=>D(be=>({...be,title:Z.target.value})),placeholder:e("notice.fields.title_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("notice.fields.content")}),o.jsx(bqe,{value:L.content,onChange:Z=>D(be=>({...be,content:Z})),mode:L.content_mode,onModeChange:Z=>D(be=>{if(be.content_mode===Z)return be;if(!be.content.trim())return{...be,content_mode:Z};const Ie=Z==="html"?tk(be.content):xqe(be.content);return{...be,content_mode:Z,content:Ie}}),resetKey:`${String(L.id??"new")}-${L.content_mode}`}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("notice.editor_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"notice-img",children:e("notice.fields.background_url")}),o.jsx(J,{id:"notice-img",value:L.img_url,onChange:Z=>D(be=>({...be,img_url:Z.target.value})),placeholder:"https://example.com/background.png"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"notice-show",children:e("notice.fields.show_status")}),o.jsx(Dt,{id:"notice-show",checked:L.show,onCheckedChange:Z=>D(be=>({...be,show:Z}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"notice-remark",children:e("notice.fields.remark")}),o.jsx("div",{className:"rounded-md border px-2 py-2 bg-background",children:o.jsxs("div",{className:"flex flex-wrap gap-2",children:[L.tags.map(Z=>o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-muted px-2 py-1 text-xs text-foreground",children:[Z,o.jsx("button",{type:"button",className:"text-muted-foreground hover:text-foreground",onClick:()=>ne(Z),"aria-label":e("common.delete"),children:o.jsx(Fd,{className:"h-3.5 w-3.5"})})]},Z)),o.jsx("input",{id:"notice-remark",value:T,onChange:Z=>$(Z.target.value),onKeyDown:Z=>{if(Z.key==="Enter"||Z.key===","){Z.preventDefault(),K(T),$("");return}Z.key==="Backspace"&&!T&&D(be=>({...be,tags:be.tags.slice(0,-1)}))},onBlur:()=>{T.trim()&&(K(T),$(""))},onPaste:Z=>{const be=Z.clipboardData.getData("text");if(!be)return;const Ie=TF(be);Ie.length&&(Z.preventDefault(),K(Ie.join(",")),$(""))},placeholder:e("notice.fields.remark_placeholder"),className:"min-w-[160px] flex-1 bg-transparent text-sm outline-none"})]})})]})]}),G?o.jsx("div",{className:"text-sm text-red-600",children:G}):null,o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>B(!1),disabled:F,children:e("common.cancel")}),o.jsx(W,{onClick:me,disabled:F,children:e(F?"common.saving":"notice.submit")})]})]})}),o.jsx(ss,{open:b.open,onOpenChange:b.setOpen,position:b.position,items:[{type:"checkbox",label:e("notice.table.show"),checked:!!((Ce=b.data)!=null&&Ce.show),disabled:!b.data||i===b.data.id,onSelect:()=>{b.data&&(b.setOpen(!1),De(b.data.id))}},{type:"separator"},{type:"item",label:e("common.edit"),disabled:!b.data||i===b.data.id,onSelect:()=>{b.data&&(b.setOpen(!1),xe(b.data))}},{type:"item",label:e("common.delete"),destructive:!0,disabled:!b.data||i===b.data.id,onSelect:()=>{b.data&&(b.setOpen(!1),ge(b.data.id))}}]})]})}function X2(e){return String(e||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function zF(e){return String(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}const h_="<!--xboard-md:",Z2="-->";function gqe(e){try{return btoa(unescape(encodeURIComponent(e)))}catch{return""}}function yqe(e){try{return decodeURIComponent(escape(atob(e)))}catch{return""}}function $J(e){const t=e||"";if(t.indexOf(h_)!==0)return null;const r=t.indexOf(Z2,h_.length);if(r<0)return null;const i=t.slice(h_.length,r).trim();if(!i)return null;const s=yqe(i);if(!s)return null;const a=t.slice(r+Z2.length).trimStart();return{markdown:s,html:a}}function FJ(e){const t=$J(e||"");return t?t.html:e||""}function tk(e){const n=String(e||"").replace(/\r\n?/g,`
`).split(`
`),r=[],i=a=>{let l=zF(a);return l=l.replace(/`([^`]+)`/g,(c,u)=>`<code>${u}</code>`),l=l.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(c,u,d)=>`<img src="${d}" alt="${u}" />`),l=l.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(c,u,d)=>`<a href="${d}">${u}</a>`),l=l.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),l=l.replace(/__([^_]+)__/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*([^*]+)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/(^|[^_])_([^_]+)_(?!_)/g,"$1<em>$2</em>"),l};let s=0;for(;s<n.length;){const a=n[s],l=a.trim();if(l.startsWith("```")){const d=l.slice(3).trim();s+=1;const h=[];for(;s<n.length&&!n[s].trim().startsWith("```");)h.push(n[s]),s+=1;s<n.length&&(s+=1);const m=zF(h.join(`
`));r.push(`<pre><code${d?` class="language-${X2(d)}"`:""}>${m}</code></pre>`);continue}const c=a.match(/^(#{1,6})\s+(.*)$/);if(c){const d=c[1].length;r.push(`<h${d}>${i(c[2].trim())}</h${d}>`),s+=1;continue}if(/^([-*_])\1\1+\s*$/.test(l)){r.push("<hr />"),s+=1;continue}if(/^\s*>\s?/.test(a)){const d=[];for(;s<n.length&&/^\s*>\s?/.test(n[s]);)d.push(n[s].replace(/^\s*>\s?/,"")),s+=1;const h=tk(d.join(`
`));r.push(`<blockquote>${h}</blockquote>`);continue}if(/^\s*([-*])\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*([-*])\s+/.test(n[s]);)d.push(n[s].replace(/^\s*([-*])\s+/,"")),s+=1;r.push(`<ul>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ul>`);continue}if(/^\s*\d+\.\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*\d+\.\s+/.test(n[s]);)d.push(n[s].replace(/^\s*\d+\.\s+/,"")),s+=1;r.push(`<ol>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ol>`);continue}if(!l){s+=1;continue}const u=[];for(;s<n.length;){const d=n[s],h=d.trim();if(!h||h.startsWith("```")||/^(#{1,6})\s+/.test(d)||/^\s*>\s?/.test(d)||/^\s*([-*])\s+/.test(d)||/^\s*\d+\.\s+/.test(d)||/^([-*_])\1\1+\s*$/.test(h))break;u.push(d),s+=1}r.push(`<p>${u.map(d=>i(d)).join("<br />")}</p>`)}return r.join(`
`)}function xqe(e){let t=FJ(e||"");return t=t.replace(/\r\n?/g,`
`),t=t.replace(/<\s*br\s*\/?>/gi,`
`),t=t.replace(/<\s*(strong|b)[^>]*>/gi,"**"),t=t.replace(/<\/\s*(strong|b)\s*>/gi,"**"),t=t.replace(/<\s*(em|i)[^>]*>/gi,"*"),t=t.replace(/<\/\s*(em|i)\s*>/gi,"*"),t=t.replace(/<\s*a[^>]*href\s*=\s*["']([^"']+)["'][^>]*>([\s\S]*?)<\/\s*a\s*>/gi,(n,r,i)=>`[${String(i||"").replace(/<[^>]+>/g,"")}](${r})`),t=t.replace(/<\s*img[^>]*>/gi,n=>{var s,a;const r=((s=n.match(/\bsrc\s*=\s*["']([^"']+)["']/i))==null?void 0:s[1])||"",i=((a=n.match(/\balt\s*=\s*["']([^"']*)["']/i))==null?void 0:a[1])||"";return r?`![${i}](${r})`:""}),t=t.replace(/<\s*li[^>]*>/gi,"- "),t=t.replace(/<\/\s*li\s*>/gi,`
`),t=t.replace(/<\/\s*(ul|ol)\s*>/gi,`
`),t=t.replace(/<\s*(ul|ol)[^>]*>/gi,""),t=t.replace(/<\s*pre[^>]*>\s*<\s*code[^>]*>/gi,"```\n"),t=t.replace(/<\/\s*code\s*>\s*<\/\s*pre\s*>/gi,"\n```\n\n"),t=t.replace(/<\/\s*p\s*>/gi,`

`),t=t.replace(/<\s*p[^>]*>/gi,""),t=t.replace(/<\/\s*h([1-6])\s*>/gi,`

`),t=t.replace(/<\s*h([1-6])[^>]*>/gi,(n,r)=>`${"#".repeat(Number(r))} `),t=t.replace(/<[^>]+>/g,""),t=t.replace(/\n{3,}/g,`

`).trim(),t}function vqe(e){const t=String(e||""),n=gqe(t),r=tk(t);return n?`${h_}${n}${Z2}
${r}`:r}function bqe({value:e,onChange:t,mode:n,onModeChange:r,resetKey:i}){const{t:s}=Wt(),a=f.useRef(null),l=f.useRef(null),[c,u]=f.useState(!1),[d,h]=f.useState(""),[m,p]=f.useState(!1),[g,y]=f.useState("");f.useEffect(()=>{l.current={start:0,end:0},u(!1),h(""),p(!1),y(""),requestAnimationFrame(()=>{const O=a.current;O&&(O.scrollTop=0,O.scrollLeft=0)})},[i]);const x=f.useCallback(()=>{const O=a.current;O&&(l.current={start:O.selectionStart??0,end:O.selectionEnd??0})},[]),b=f.useCallback(()=>{const O=a.current;if(!O)return;O.focus();const P=l.current;if(!P)return;const M=Math.max(0,Math.min(O.value.length,P.start)),A=Math.max(0,Math.min(O.value.length,P.end));O.setSelectionRange(M,A)},[]),w=O=>{O.preventDefault(),x()},v=(O,P)=>{t(O),requestAnimationFrame(()=>{const M=a.current;if(M){if(M.focus(),P){const A=Math.max(0,Math.min(M.value.length,P.start)),R=Math.max(0,Math.min(M.value.length,P.end));M.setSelectionRange(A,R)}x()}})},_=()=>{const O=l.current;if(!O)return{start:e.length,end:e.length};const P=Math.max(0,Math.min(e.length,O.start)),M=Math.max(0,Math.min(e.length,O.end));return{start:P,end:M}},j=(O,P)=>{b();const{start:M,end:A}=_(),R=e.slice(0,M),B=e.slice(M,A),F=e.slice(A),U=`${R}${O}${B}${P}${F}`,L=M+O.length,D=L+B.length;v(U,{start:L,end:D})},k=(O,P)=>{b();const{start:M,end:A}=_(),R=e.slice(0,M),B=e.slice(A),F=`${R}${O}${B}`,U=M+(P??O.length);v(F,{start:U,end:U})},C=f.useMemo(()=>AF(n==="markdown"?tk(e||""):e||""),[n,e]);return o.jsxs("div",{className:"rounded-md border overflow-hidden",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-2 border-b bg-muted/10",children:[o.jsx(Ym,{value:n,onValueChange:O=>r(O),children:o.jsxs(Sh,{className:"h-8",children:[o.jsx(mr,{value:"markdown",className:"h-8 px-3",children:"MD"}),o.jsx(mr,{value:"html",className:"h-8 px-3",children:"HTML"})]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Undo",children:o.jsx(n8,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Redo",children:o.jsx(X6,{className:"h-4 w-4"})}),o.jsx("div",{className:"w-px h-6 bg-border mx-1"}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>n==="markdown"?j("**","**"):j("<strong>","</strong>"),"aria-label":"Bold",children:o.jsx(B6,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>n==="markdown"?j("*","*"):j("<em>","</em>"),"aria-label":"Italic",children:o.jsx(H6,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>{if(n==="markdown"){const M=`- 
- 
`;k(M,M.length);return}const O=`<ul>
  <li></li>
</ul>
`,P=O.indexOf("</li>");k(O,P>=0?P:void 0)},"aria-label":"Bulleted list",children:o.jsx(G6,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:w,onClick:()=>{if(n==="markdown"){const M=`1. 
2. 
`;k(M,M.length);return}const O=`<ol>
  <li></li>
</ol>
`,P=O.indexOf("</li>");k(O,P>=0?P:void 0)},"aria-label":"Numbered list",children:o.jsx(Y6,{className:"h-4 w-4"})}),o.jsxs(bl,{open:c,onOpenChange:u,children:[o.jsx(_l,{asChild:!0,children:o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O=>{w(O),h("")},"aria-label":"Insert link",children:o.jsx(K6,{className:"h-4 w-4"})})}),o.jsx(Po,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:s("notice.fields.link_url")}),o.jsx(J,{value:d,onChange:O=>h(O.target.value),placeholder:"https://example.com"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{u(!1)},children:s("common.cancel")}),o.jsx(W,{type:"button",size:"sm",disabled:!d.trim(),onClick:()=>{const O=d.trim();if(!O)return;u(!1),b();const{start:P,end:M}=_(),A=e.slice(P,M)||O;if(n==="markdown"){k(`[${A}](${O})`);return}const R=`<a href="${X2(O)}">${A}</a>`;k(R)},children:s("notice.insert")})]})]})})]}),o.jsxs(bl,{open:m,onOpenChange:p,children:[o.jsx(_l,{asChild:!0,children:o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O=>{w(O),y("")},"aria-label":"Insert image",children:o.jsx(V6,{className:"h-4 w-4"})})}),o.jsx(Po,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:s("notice.fields.img_url")}),o.jsx(J,{value:g,onChange:O=>y(O.target.value),placeholder:"https://example.com/image.png"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>{p(!1)},children:s("common.cancel")}),o.jsx(W,{type:"button",size:"sm",disabled:!g.trim(),onClick:()=>{const O=g.trim();if(!O)return;if(p(!1),b(),n==="markdown"){k(`![](${O})`);return}const P=`<img src="${X2(O)}" alt="" />`;k(P)},children:s("notice.insert")})]})]})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[o.jsx("div",{className:"p-3 border-b md:border-b-0 md:border-r",children:o.jsx(gr,{ref:a,value:e,onChange:O=>t(O.target.value),onSelect:x,onKeyUp:x,onMouseUp:x,onFocus:x,placeholder:s("notice.fields.content_placeholder"),className:"min-h-[260px] resize-none font-mono text-sm leading-6"})}),o.jsxs("div",{className:"p-3 bg-muted/5",children:[o.jsx("style",{children:`
              .notice-preview img { max-width: 100%; height: auto; }
              .notice-preview table { width: 100%; border-collapse: collapse; }
              .notice-preview td, .notice-preview th { border: 1px solid hsl(var(--border)); padding: 6px 8px; }
            `}),o.jsx("div",{className:"notice-preview min-h-[260px] text-sm leading-6",dangerouslySetInnerHTML:{__html:C||""}})]})]})]})}const sd={getPaymentMethods:()=>ze.get("/payment/getPaymentMethods"),fetch:()=>ze.get("/payment/fetch"),getPaymentForm:(e,t)=>ze.post("/payment/getPaymentForm",{payment:e,id:t}),save:e=>ze.post("/payment/save",e),toggleEnable:e=>ze.post("/payment/show",{id:e}),drop:e=>ze.post("/payment/drop",{id:e}),sort:e=>ze.post("/payment/sort",{ids:e})},qh=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},_qe=e=>e?Array.isArray(e)?e.map(t=>({value:String(t),label:String(t)})):typeof e=="object"?Object.entries(e).map(([t,n])=>({value:String(t),label:String(n)})):[]:[];function wqe(){const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(1),[c,u]=f.useState(10),[d,h]=f.useState(!1),[m,p]=f.useState(!1),g=f.useRef([]),[y,x]=f.useState(null),[b,w]=f.useState(null),[v,_]=f.useState([]),[j,k]=f.useState([]),C=v.length,O=Math.max(1,Math.ceil(C/c)),P=Math.min(a,O),M=f.useMemo(()=>{if(d)return v;const le=(P-1)*c;return v.slice(le,le+c)},[v,P,c,d]),A=f.useMemo(()=>{if(!d)return!1;const le=g.current;if(!le.length)return!1;const Se=v.map(Oe=>Oe.id);return le.join(",")!==Se.join(",")},[v,d]),[R,B]=f.useState(!1),[F,U]=f.useState(!1),[L,D]=f.useState(!1),[T,$]=f.useState(""),[G,ie]=f.useState(null),[X,se]=f.useState(""),[xe,me]=f.useState(""),[De,ge]=f.useState(""),[Ve,oe]=f.useState(""),[Pe,Y]=f.useState(""),[te,Ne]=f.useState(""),[Te,V]=f.useState(""),[ue,pe]=f.useState({}),[$e,Qe]=f.useState({}),K=f.useCallback(async()=>{r(!0);try{const[le,Se]=await Promise.all([sd.getPaymentMethods(),sd.fetch()]);if(le.data.status!=="success")throw new Error(le.data.message||"request failed");if(Se.data.status!=="success")throw new Error(Se.data.message||"request failed");k(le.data.data||[]);const Oe=(Se.data.data||[]).slice();Oe.sort((Tt,jt)=>{const Kt=Number.isFinite(Tt.sort)?Number(Tt.sort):null,At=Number.isFinite(jt.sort)?Number(jt.sort):null;return Kt!==null&&At!==null?Kt-At:Kt!==null?-1:At!==null?1:Tt.id-jt.id}),_(Oe),l(1)}catch(le){k([]),_([]),Q.error(qh(le,e("common.load_failed"))),console.error(le)}finally{r(!1)}},[e]);f.useEffect(()=>{K()},[K]);const ne=()=>{g.current=v.map(le=>le.id),h(!0),x(null),w(null)},Ce=async()=>{g.current=[],h(!1),x(null),w(null),await K()},Z=async()=>{if(!(m||!A)){p(!0);try{const le=v.map(Oe=>Oe.id),Se=await sd.sort(le);if(Se.data.status!=="success")throw new Error(Se.data.message||"request failed");Q.success(e("payment.sort_saved")),g.current=[],h(!1),x(null),w(null),await K()}catch(le){Q.error(qh(le,e("common.save_failed"))),console.error(le)}finally{p(!1)}}},be=(le,Se)=>{_(Oe=>{const Tt=Oe.findIndex(fn=>fn.id===le);if(Tt<0)return Oe;const jt=Oe.slice(),[Kt]=jt.splice(Tt,1),At=Math.max(0,Math.min(jt.length,Se));return jt.splice(At,0,Kt),jt})},Ie=le=>{const Se=v.findIndex(Oe=>Oe.id===le);Se<=0||be(le,Se-1)},re=le=>{const Se=v.findIndex(Oe=>Oe.id===le);Se<0||Se>=v.length-1||be(le,Se+1)},H=le=>be(le,0),we=le=>be(le,v.length-1),Be=(le,Se)=>{if(!(!d||m)){x(Se),w(null);try{le.dataTransfer.effectAllowed="move",le.dataTransfer.setData("text/plain",String(Se))}catch{}}},Je=()=>{x(null),w(null)},Xe=(le,Se)=>{var jt,Kt;if(!d||m||y===null||y===Se)return;le.preventDefault();try{le.dataTransfer.dropEffect="move"}catch{}const Oe=(Kt=(jt=le.currentTarget)==null?void 0:jt.getBoundingClientRect)==null?void 0:Kt.call(jt),Tt=Oe&&le.clientY>Oe.top+Oe.height/2?"below":"above";w({id:Se,position:Tt})},Nt=(le,Se)=>{var At,fn;if(!d||m)return;le.preventDefault();const Oe=(()=>{try{return le.dataTransfer.getData("text/plain")}catch{return""}})(),Tt=y??Number.parseInt(Oe||"",10);if(!Number.isFinite(Tt)||Tt===Se){Je();return}const jt=(fn=(At=le.currentTarget)==null?void 0:At.getBoundingClientRect)==null?void 0:fn.call(At),Kt=jt&&le.clientY>jt.top+jt.height/2?"below":"above";_(Dn=>{const ur=Dn.findIndex(Ws=>Ws.id===Tt),Rr=Dn.findIndex(Ws=>Ws.id===Se);if(ur<0||Rr<0||ur===Rr)return Dn;const Cr=Kt==="below"?Rr+1:Rr,mi=Dn.slice(),[pi]=mi.splice(ur,1),bs=Math.max(0,Math.min(mi.length,ur<Cr?Cr-1:Cr));return mi.splice(bs,0,pi),mi}),Je()},ft=async()=>{ie(null),se(""),me(""),ge(""),oe(""),Y(""),Ne(""),V(""),pe({}),Qe({}),$(""),B(!0)},Et=f.useCallback(async(le,Se)=>{if(le){U(!0),$("");try{const Oe=await sd.getPaymentForm(le,Se);if(Oe.data.status!=="success")throw new Error(Oe.data.message||"request failed");const Tt=Oe.data.data||{};pe(Tt);const jt={};for(const[Kt,At]of Object.entries(Tt))(At==null?void 0:At.type)==="json"&&(At!=null&&At.value)&&typeof At.value=="object"?jt[Kt]=JSON.stringify(At.value,null,2):(At==null?void 0:At.type)==="text"?jt[Kt]=(At==null?void 0:At.value)===null||(At==null?void 0:At.value)===void 0?"":String(At.value):jt[Kt]=At==null?void 0:At.value;Qe(jt)}catch(Oe){pe({}),Qe({}),$(qh(Oe,e("payment.form_load_failed"))),console.error(Oe)}finally{U(!1)}}},[e]),Xt=async le=>{ie(le.id),se(le.payment),me(le.payment),ge(le.name||""),oe(le.icon||""),Y(le.notify_domain||""),Ne(le.handling_fee_fixed===null||le.handling_fee_fixed===void 0?"":String(le.handling_fee_fixed)),V(le.handling_fee_percent===null||le.handling_fee_percent===void 0?"":String(le.handling_fee_percent)),pe({}),Qe({}),$(""),B(!0),await Et(le.payment,le.id)},hn=(le,Se)=>{switch(le.type){case"boolean":return!!Se;case"number":{const Oe=typeof Se=="number"?Se:Number(Se);return Number.isFinite(Oe)?Oe:0}case"json":{const Oe=Se==null?"":String(Se).trim();if(!Oe)return"";try{return JSON.parse(Oe)}catch{return Oe}}default:return Se??""}},Yn=async()=>{if(L)return;if($(""),!De.trim())return $(e("payment.validation.name_required"));if(!xe)return $(e("payment.validation.method_required"));const le={};for(const[Se,Oe]of Object.entries(ue)){const Tt=$e[Se];if((Oe==null?void 0:Oe.type)==="json"){const jt=Tt==null?"":String(Tt).trim();if(jt)try{JSON.parse(jt)}catch{return $(e("payment.validation.json_invalid",{key:Oe.label||Se}))}}le[Se]=hn(Oe,Tt)}D(!0);try{const Se={id:G??void 0,name:De.trim(),icon:Ve.trim()||void 0,payment:xe,config:le,notify_domain:Pe.trim()||void 0,handling_fee_fixed:te.trim()?Number(te):void 0,handling_fee_percent:Te.trim()?Number(Te):void 0},Oe=await sd.save(Se);if(Oe.data.status!=="success")throw new Error(Oe.data.message||"request failed");Q.success(Oe.data.message||e("payment.saved")),B(!1),await K()}catch(Se){const Oe=qh(Se,e("common.save_failed"));$(Oe),Q.error(Oe),console.error(Se)}finally{D(!1)}},Ct=async le=>{if(!i){s(le);try{const Se=await sd.toggleEnable(le);if(Se.data.status!=="success")throw new Error(Se.data.message||"request failed");Q.success(Se.data.message||e("common.saved")),await K()}catch(Se){Q.error(qh(Se,e("common.save_failed"))),console.error(Se)}finally{s(null)}}},Bn=async le=>{if(i||!await t({title:e("common.delete"),description:e("payment.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(le);const Oe=v;_(Tt=>Tt.filter(jt=>jt.id!==le));try{const Tt=await sd.drop(le);if(Tt.data.status!=="success")throw new Error(Tt.data.message||"request failed");Q.success(e("payment.deleted"))}catch(Tt){_(Oe),Q.error(qh(Tt,e("common.save_failed"))),console.error(Tt)}finally{s(null)}},gt=async le=>{await fl(le)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},Ft=f.useMemo(()=>Object.entries(ue),[ue]);f.useEffect(()=>{l(le=>Math.min(Math.max(1,le),O))},[O]);const nt=(le,Se)=>{const Oe=`payment-config-${le}`,Tt=Se.label||le,jt=Se.placeholder||"",Kt=$e[le],At=_qe(Se.options);return Se.type==="boolean"?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{id:Oe,checked:!!Kt,onCheckedChange:fn=>Qe(Dn=>({...Dn,[le]:fn}))}),o.jsx(ee,{htmlFor:Oe,children:Tt})]},le):Se.type==="select"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:Oe,children:Tt}),o.jsxs(it,{value:Kt==null?"":String(Kt),onValueChange:fn=>Qe(Dn=>({...Dn,[le]:fn})),children:[o.jsx(et,{id:Oe,children:o.jsx(st,{placeholder:jt||e("payment.select_placeholder")})}),o.jsx(tt,{children:At.map(fn=>o.jsx(fe,{value:fn.value,children:fn.label},fn.value))})]}),Se.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Se.description})]},le):Se.type==="text"||Se.type==="json"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:Oe,children:Tt}),o.jsx(gr,{id:Oe,value:Kt==null?"":String(Kt),placeholder:jt,onChange:fn=>Qe(Dn=>({...Dn,[le]:fn.target.value})),className:ae("min-h-[120px]",Se.type==="json"&&"font-mono")}),Se.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Se.description})]},le):Se.type==="number"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:Oe,children:Tt}),o.jsx(J,{id:Oe,type:"number",value:Kt==null?"":String(Kt),placeholder:jt,onChange:fn=>Qe(Dn=>({...Dn,[le]:fn.target.value}))}),Se.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Se.description})]},le):o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:Oe,children:Tt}),o.jsx(J,{id:Oe,value:Kt==null?"":String(Kt),placeholder:jt,onChange:fn=>Qe(Dn=>({...Dn,[le]:fn.target.value}))}),Se.description&&o.jsx("div",{className:"text-xs text-muted-foreground",children:Se.description})]},le)};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:ft,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("payment.add")]}),d?o.jsxs(o.Fragment,{children:[o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:Ce,disabled:n||m,children:e("payment.sort_cancel")}),o.jsxs(W,{size:"sm",className:"h-9",onClick:Z,disabled:n||m||!A,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("payment.sort_save")]})]}):o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:ne,disabled:n||v.length<2,children:[o.jsx(Ss,{className:"h-4 w-4 mr-2"}),e("payment.sort")]}),o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:K,disabled:n,children:o.jsx(pn,{className:ae("h-4 w-4",n&&"animate-spin")})})]})}),d&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("payment.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:C===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("payment.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[80px]",children:e("payment.table.id")}),d?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("payment.sort_column")}):null,o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("payment.table.enable")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("payment.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("payment.table.method")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("payment.table.notify_url")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("payment.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:M.map((le,Se)=>{const Oe=i===le.id,Tt=d?Se:v.findIndex(jt=>jt.id===le.id);return o.jsxs("tr",{className:ae("hover:bg-muted/30",d&&(b==null?void 0:b.id)===le.id&&"bg-primary/5",d&&y===le.id&&"opacity-60"),onDragOver:d?jt=>Xe(jt,le.id):void 0,onDrop:d?jt=>Nt(jt,le.id):void 0,onDragLeave:d?()=>{w(jt=>(jt==null?void 0:jt.id)===le.id?null:jt)}:void 0,children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:le.id}),d?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:ae("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",m?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!m,onDragStart:jt=>Be(jt,le.id),onDragEnd:Je,"aria-label":"Drag",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:Tt+1}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>H(le.id),disabled:m||Tt<=0,"aria-label":"Top",children:o.jsx(Qy,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Ie(le.id),disabled:m||Tt<=0,"aria-label":"Up",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>re(le.id),disabled:m||Tt>=v.length-1,"aria-label":"Down",children:o.jsx(xh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>we(le.id),disabled:m||Tt>=v.length-1,"aria-label":"Bottom",children:o.jsx(Gy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!le.enable,disabled:Oe,onCheckedChange:()=>Ct(le.id)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:le.name,children:le.name})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs text-muted-foreground",children:le.payment})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:le.notify_url?o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o.jsx("div",{className:"truncate",title:le.notify_url,children:le.notify_url}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",onClick:()=>gt(le.notify_url),"aria-label":e("common.copy"),children:o.jsx(oi,{className:"h-4 w-4"})})]}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:Oe,onClick:()=>Xt(le),title:e("common.edit"),children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:Oe,onClick:()=>Bn(le.id),title:e("common.delete"),children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},le.id)})})]})})})}),!d&&o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("dashboard.per_page"),":"]}),o.jsxs(it,{value:String(c),onValueChange:le=>{const Se=Number(le);u(Number.isFinite(Se)&&Se>0?Se:10),l(1)},children:[o.jsx(et,{className:"h-8 w-[96px]",children:o.jsx(st,{})}),o.jsx(tt,{children:[10,20,50,100].map(le=>o.jsx(fe,{value:String(le),children:le},le))})]}),o.jsxs("span",{className:"ml-2",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:C})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(1),disabled:n||P<=1,children:e("dashboard.first_page")}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(Math.max(1,P-1)),disabled:n||P<=1,children:e("dashboard.prev_page")}),o.jsxs("span",{className:"text-sm text-muted-foreground tabular-nums",children:[P," / ",O]}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(Math.min(O,P+1)),disabled:n||P>=O,children:e("dashboard.next_page")}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>l(O),disabled:n||P>=O,children:e("dashboard.last_page")})]})]}),o.jsx(on,{open:R,onOpenChange:B,children:o.jsxs(rn,{className:"max-w-3xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e(G?"payment.edit_title":"payment.create_title")})}),o.jsx(cs,{className:"max-h-[70vh] pr-4",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("payment.fields.method")}),o.jsxs(it,{value:xe,onValueChange:async le=>{me(le),await Et(le,G&&X&&le===X?G:void 0)},disabled:F||L,children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("payment.fields.method_placeholder")})}),o.jsx(tt,{children:j.map(le=>o.jsx(fe,{value:le,children:le},le))})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("payment.fields.method_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"payment-name",children:e("payment.fields.name")}),o.jsx(J,{id:"payment-name",value:De,onChange:le=>ge(le.target.value),placeholder:e("payment.fields.name_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"payment-icon",children:e("payment.fields.icon")}),o.jsx(J,{id:"payment-icon",value:Ve,onChange:le=>oe(le.target.value),placeholder:"https://example.com/icon.png"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"payment-notify-domain",children:e("payment.fields.notify_domain")}),o.jsx(J,{id:"payment-notify-domain",value:Pe,onChange:le=>Y(le.target.value),placeholder:"https://notify.example.com"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"payment-fee-fixed",children:e("payment.fields.fee_fixed")}),o.jsx(J,{id:"payment-fee-fixed",type:"number",value:te,onChange:le=>Ne(le.target.value),placeholder:"0"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"payment-fee-percent",children:e("payment.fields.fee_percent")}),o.jsx(J,{id:"payment-fee-percent",type:"number",value:Te,onChange:le=>V(le.target.value),placeholder:"0"})]})]}),F?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("payment.form_loading")}):xe&&Ft.length===0?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("payment.form_empty")}):o.jsx("div",{className:"grid gap-4",children:Ft.map(([le,Se])=>nt(le,Se))})]})}),T&&o.jsx("div",{className:"text-sm text-red-600",children:T}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>B(!1),disabled:L,children:e("common.cancel")}),o.jsx(W,{onClick:Yn,disabled:L||F,children:e(L?"common.saving":"common.save")})]})]})})]})}const f_="<!--xboard-md:",J2="-->";function eP(e){return String(e||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function DF(e){return String(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function jqe(e){try{return btoa(unescape(encodeURIComponent(e)))}catch{return""}}function kqe(e){try{return decodeURIComponent(escape(atob(e)))}catch{return""}}function BJ(e){const t=e||"";if(t.indexOf(f_)!==0)return null;const r=t.indexOf(J2,f_.length);if(r<0)return null;const i=t.slice(f_.length,r).trim();if(!i)return null;const s=kqe(i);if(!s)return null;const a=t.slice(r+J2.length).trimStart();return{markdown:s,html:a}}function MA(e){const t=BJ(e||"");return t?t.html:e||""}function Sw(e){const n=String(e||"").replace(/\r\n?/g,`
`).split(`
`),r=[],i=a=>{let l=DF(a);return l=l.replace(/`([^`]+)`/g,(c,u)=>`<code>${u}</code>`),l=l.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(c,u,d)=>`<img src="${d}" alt="${u}" />`),l=l.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(c,u,d)=>`<a href="${d}">${u}</a>`),l=l.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),l=l.replace(/__([^_]+)__/g,"<strong>$1</strong>"),l=l.replace(/(^|[^*])\*([^*]+)\*(?!\*)/g,"$1<em>$2</em>"),l=l.replace(/(^|[^_])_([^_]+)_(?!_)/g,"$1<em>$2</em>"),l};let s=0;for(;s<n.length;){const a=n[s],l=a.trim();if(l.startsWith("```")){const d=l.slice(3).trim();s+=1;const h=[];for(;s<n.length&&!n[s].trim().startsWith("```");)h.push(n[s]),s+=1;s<n.length&&(s+=1);const m=DF(h.join(`
`));r.push(`<pre><code${d?` class="language-${eP(d)}"`:""}>${m}</code></pre>`);continue}const c=a.match(/^(#{1,6})\s+(.*)$/);if(c){const d=c[1].length;r.push(`<h${d}>${i(c[2].trim())}</h${d}>`),s+=1;continue}if(/^([-*_])\1\1+\s*$/.test(l)){r.push("<hr />"),s+=1;continue}if(/^\s*>\s?/.test(a)){const d=[];for(;s<n.length&&/^\s*>\s?/.test(n[s]);)d.push(n[s].replace(/^\s*>\s?/,"")),s+=1;const h=Sw(d.join(`
`));r.push(`<blockquote>${h}</blockquote>`);continue}if(/^\s*([-*])\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*([-*])\s+/.test(n[s]);)d.push(n[s].replace(/^\s*([-*])\s+/,"")),s+=1;r.push(`<ul>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ul>`);continue}if(/^\s*\d+\.\s+/.test(a)){const d=[];for(;s<n.length&&/^\s*\d+\.\s+/.test(n[s]);)d.push(n[s].replace(/^\s*\d+\.\s+/,"")),s+=1;r.push(`<ol>${d.map(h=>`<li>${i(h)}</li>`).join("")}</ol>`);continue}if(!l){s+=1;continue}const u=[];for(;s<n.length;){const d=n[s],h=d.trim();if(!h||h.startsWith("```")||/^(#{1,6})\s+/.test(d)||/^\s*>\s?/.test(d)||/^\s*([-*])\s+/.test(d)||/^\s*\d+\.\s+/.test(d)||/^([-*_])\1\1+\s*$/.test(h))break;u.push(d),s+=1}r.push(`<p>${u.map(d=>i(d)).join("<br />")}</p>`)}return r.join(`
`)}function Sqe(e){let t=MA(e||"");return t=t.replace(/\r\n?/g,`
`),t=t.replace(/<\s*br\s*\/?>/gi,`
`),t=t.replace(/<\s*(strong|b)[^>]*>/gi,"**"),t=t.replace(/<\/\s*(strong|b)\s*>/gi,"**"),t=t.replace(/<\s*(em|i)[^>]*>/gi,"*"),t=t.replace(/<\/\s*(em|i)\s*>/gi,"*"),t=t.replace(/<\s*a[^>]*href\s*=\s*["']([^"']+)["'][^>]*>([\s\S]*?)<\/\s*a\s*>/gi,(n,r,i)=>`[${String(i||"").replace(/<[^>]+>/g,"")}](${r})`),t=t.replace(/<\s*img[^>]*>/gi,n=>{var s,a;const r=((s=n.match(/\bsrc\s*=\s*["']([^"']+)["']/i))==null?void 0:s[1])||"",i=((a=n.match(/\balt\s*=\s*["']([^"']*)["']/i))==null?void 0:a[1])||"";return r?`![${i}](${r})`:""}),t=t.replace(/<\s*li[^>]*>/gi,"- "),t=t.replace(/<\/\s*li\s*>/gi,`
`),t=t.replace(/<\/\s*(ul|ol)\s*>/gi,`
`),t=t.replace(/<\s*(ul|ol)[^>]*>/gi,""),t=t.replace(/<\s*pre[^>]*>\s*<\s*code[^>]*>/gi,"```\n"),t=t.replace(/<\/\s*code\s*>\s*<\/\s*pre\s*>/gi,"\n```\n\n"),t=t.replace(/<\/\s*p\s*>/gi,`

`),t=t.replace(/<\s*p[^>]*>/gi,""),t=t.replace(/<\/\s*h([1-6])\s*>/gi,`

`),t=t.replace(/<\s*h([1-6])[^>]*>/gi,(n,r)=>`${"#".repeat(Number(r))} `),t=t.replace(/<[^>]+>/g,""),t=t.replace(/\n{3,}/g,`

`).trim(),t}function Nqe(e){const t=String(e||""),n=jqe(t),r=Sw(t);return n?`${f_}${n}${J2}
${r}`:r}function Cqe(e){let t=e||"";return t=t.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,""),t=t.replace(/<(iframe|object|embed|link|style)[\s\S]*?>[\s\S]*?<\/\1>/gi,""),t=t.replace(/\son\w+="[^"]*"/gi,""),t=t.replace(/\son\w+='[^']*'/gi,""),t=t.replace(/\son\w+=([^\s>]+)/gi,""),t=t.replace(/javascript:/gi,""),t}function Oqe(e){let t=e||"";return t=t.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,""),t=t.replace(/<(iframe|object|embed|link)[\s\S]*?>[\s\S]*?<\/\1>/gi,""),t=t.replace(/\son\w+="[^"]*"/gi,""),t=t.replace(/\son\w+='[^']*'/gi,""),t=t.replace(/\son\w+=([^\s>]+)/gi,""),t=t.replace(/javascript:/gi,""),t}const Qc={fetchList:()=>ze.get("/knowledge/fetch"),fetchOne:e=>ze.get("/knowledge/fetch",{params:{id:e}}),getCategory:()=>ze.get("/knowledge/getCategory"),save:e=>ze.post("/knowledge/save",e),toggleShow:e=>ze.post("/knowledge/show",{id:e}),sort:e=>ze.post("/knowledge/sort",{ids:e}),drop:e=>ze.post("/knowledge/drop",{id:e})};function Pqe({value:e,onChange:t,mode:n,onModeChange:r,resetKey:i,placeholder:s,previewType:a="inline",minHeightClassName:l="min-h-[260px]",sourceClassName:c,previewClassName:u,className:d}){const{t:h}=Wt(),m=f.useRef(null),p=f.useRef(null),[g,y]=f.useState(!1),[x,b]=f.useState(""),[w,v]=f.useState(!1),[_,j]=f.useState("");f.useEffect(()=>{p.current={start:0,end:0},y(!1),b(""),v(!1),j(""),requestAnimationFrame(()=>{const L=m.current;L&&(L.scrollTop=0,L.scrollLeft=0)})},[i]);const k=f.useCallback(()=>{const L=m.current;L&&(p.current={start:L.selectionStart??0,end:L.selectionEnd??0})},[]),C=f.useCallback(()=>{const L=m.current;if(!L)return;L.focus();const D=p.current;if(!D)return;const T=Math.max(0,Math.min(L.value.length,D.start)),$=Math.max(0,Math.min(L.value.length,D.end));L.setSelectionRange(T,$)},[]),O=L=>{L.preventDefault(),k()},P=(L,D)=>{t(L),requestAnimationFrame(()=>{const T=m.current;if(T){if(T.focus(),D){const $=Math.max(0,Math.min(T.value.length,D.start)),G=Math.max(0,Math.min(T.value.length,D.end));T.setSelectionRange($,G)}k()}})},M=()=>{const L=p.current;if(!L)return{start:e.length,end:e.length};const D=Math.max(0,Math.min(e.length,L.start)),T=Math.max(0,Math.min(e.length,L.end));return{start:D,end:T}},A=(L,D)=>{C();const{start:T,end:$}=M(),G=e.slice(0,T),ie=e.slice(T,$),X=e.slice($),se=`${G}${L}${ie}${D}${X}`,xe=T+L.length,me=xe+ie.length;P(se,{start:xe,end:me})},R=(L,D)=>{C();const{start:T,end:$}=M(),G=e.slice(0,T),ie=e.slice($),X=`${G}${L}${ie}`,se=T+(D??L.length);P(X,{start:se,end:se})},B=f.useMemo(()=>n==="markdown"?Sw(e||""):MA(e||""),[n,e]),F=f.useMemo(()=>a==="iframe"?Oqe(B||""):Cqe(B||""),[B,a]),U=f.useMemo(()=>a!=="iframe"?"":`<!doctype html><html><head><meta charset="utf-8" />
<style>
  body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; padding: 16px; line-height: 1.7; }
  img { max-width: 100%; height: auto; }
  table { width: 100%; border-collapse: collapse; }
  td, th { border: 1px solid #e5e7eb; padding: 6px 8px; }
  blockquote { border-left: 3px solid #e5e7eb; padding-left: 12px; margin: 12px 0; color: #374151; }
  pre { padding: 12px; background: #0b1220; color: #e5e7eb; overflow: auto; border-radius: 8px; }
  code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
</style>
</head><body>${F||""}</body></html>`,[F,a]);return o.jsxs("div",{className:ae("rounded-md border overflow-hidden",d),children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 p-2 border-b bg-muted/10",children:[o.jsx(Ym,{value:n,onValueChange:L=>{const D=L;if(D===n)return;if(!e.trim()){r(D,e);return}const T=D==="html"?Sw(e):Sqe(e);r(D,T)},children:o.jsxs(Sh,{className:"h-8",children:[o.jsx(mr,{value:"markdown",className:"h-8 px-3",children:"MD"}),o.jsx(mr,{value:"html",className:"h-8 px-3",children:"HTML"})]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Undo",children:o.jsx(n8,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",disabled:!0,"aria-label":"Redo",children:o.jsx(X6,{className:"h-4 w-4"})}),o.jsx("div",{className:"w-px h-6 bg-border mx-1"}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>n==="markdown"?R("## "):A("<h2>","</h2>"),"aria-label":"Heading",children:o.jsx(Ule,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>n==="markdown"?A("**","**"):A("<strong>","</strong>"),"aria-label":"Bold",children:o.jsx(B6,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>n==="markdown"?A("*","*"):A("<em>","</em>"),"aria-label":"Italic",children:o.jsx(H6,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){R("> ");return}A("<blockquote>","</blockquote>")},"aria-label":"Quote",children:o.jsx(_ce,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){const{start:L,end:D}=M();if(L!==D){A("```\n","\n```");return}R("```\n\n```",4);return}A("<pre><code>","</code></pre>")},"aria-label":"Code block",children:o.jsx(kle,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){const T=`- 
- 
`;R(T,T.length);return}const L=`<ul>
  <li></li>
</ul>
`,D=L.indexOf("</li>");R(L,D>=0?D:void 0)},"aria-label":"Bulleted list",children:o.jsx(G6,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:O,onClick:()=>{if(n==="markdown"){const T=`1. 
2. 
`;R(T,T.length);return}const L=`<ol>
  <li></li>
</ol>
`,D=L.indexOf("</li>");R(L,D>=0?D:void 0)},"aria-label":"Numbered list",children:o.jsx(Y6,{className:"h-4 w-4"})}),o.jsxs(bl,{open:g,onOpenChange:y,children:[o.jsx(_l,{asChild:!0,children:o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:L=>{O(L),b("")},"aria-label":"Insert link",children:o.jsx(K6,{className:"h-4 w-4"})})}),o.jsx(Po,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:h("common.link_url")}),o.jsx(J,{value:x,onChange:L=>b(L.target.value),placeholder:"https://example.com"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>y(!1),children:h("common.cancel")}),o.jsx(W,{type:"button",size:"sm",disabled:!x.trim(),onClick:()=>{const L=x.trim();if(!L)return;y(!1),C();const{start:D,end:T}=M(),$=e.slice(D,T)||L;if(n==="markdown"){R(`[${$}](${L})`);return}const G=`<a href="${eP(L)}">${$}</a>`;R(G)},children:h("common.insert")})]})]})})]}),o.jsxs(bl,{open:w,onOpenChange:v,children:[o.jsx(_l,{asChild:!0,children:o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onMouseDown:L=>{O(L),j("")},"aria-label":"Insert image",children:o.jsx(V6,{className:"h-4 w-4"})})}),o.jsx(Po,{align:"start",className:"w-80",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:h("common.image_url")}),o.jsx(J,{value:_,onChange:L=>j(L.target.value),placeholder:"https://example.com/image.png"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",onClick:()=>v(!1),children:h("common.cancel")}),o.jsx(W,{type:"button",size:"sm",disabled:!_.trim(),onClick:()=>{const L=_.trim();if(!L)return;if(v(!1),C(),n==="markdown"){R(`![](${L})`);return}const D=`<img src="${eP(L)}" alt="" />`;R(D)},children:h("common.insert")})]})]})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[o.jsx("div",{className:"p-3 border-b md:border-b-0 md:border-r",children:o.jsx(gr,{ref:m,value:e,onChange:L=>t(L.target.value),onSelect:k,onKeyUp:k,onMouseUp:k,onFocus:k,placeholder:s,className:ae(l,"resize-none font-mono text-sm leading-6",c)})}),o.jsx("div",{className:"p-3 bg-muted/5",children:a!=="iframe"?o.jsxs(o.Fragment,{children:[o.jsx("style",{children:`
                  .richtext-preview img { max-width: 100%; height: auto; }
                  .richtext-preview table { width: 100%; border-collapse: collapse; }
                  .richtext-preview td, .richtext-preview th { border: 1px solid hsl(var(--border)); padding: 6px 8px; }
                  .richtext-preview pre { padding: 12px; background: hsl(var(--muted)); border-radius: 8px; overflow: auto; }
                  .richtext-preview blockquote { border-left: 3px solid hsl(var(--border)); padding-left: 12px; margin: 12px 0; color: hsl(var(--muted-foreground)); }
                  .richtext-preview code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
                `}),o.jsx("div",{className:ae(l,"richtext-preview text-sm leading-6",u),dangerouslySetInnerHTML:{__html:F||""}})]}):o.jsx("div",{className:ae("rounded-md border overflow-hidden bg-background",u),children:o.jsx("iframe",{title:"preview",sandbox:"",className:ae("w-full",l),srcDoc:U})})})]})]})}const ad=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},qJ="xboard_admin_knowledge_extra_categories";function Eqe(){try{const e=localStorage.getItem(qJ),t=e?JSON.parse(e):[];return Array.isArray(t)?t.map(String).filter(Boolean):[]}catch{return[]}}function Mqe(e){try{localStorage.setItem(qJ,JSON.stringify(Array.from(new Set(e)).filter(Boolean)))}catch{}}function Tqe(){var gn;const{t:e,i18n:t}=Wt(),n=wa(),[r,i]=f.useState(!1),[s,a]=f.useState(null),l=as(),[c,u]=f.useState([]),[d,h]=f.useState(""),[m,p]=f.useState({key:"id",dir:"desc"}),[g,y]=f.useState(new Set),[x,b]=f.useState(1),[w,v]=f.useState(10),[_,j]=f.useState(!1),[k,C]=f.useState(!1),[O,P]=f.useState([]),M=f.useRef([]),[A,R]=f.useState(null),[B,F]=f.useState(null),[U,L]=f.useState(()=>Eqe()),[D,T]=f.useState(!1),[$,G]=f.useState(!1),[ie,X]=f.useState(""),[se,xe]=f.useState(""),[me,De]=f.useState(""),[ge,Ve]=f.useState(""),[oe,Pe]=f.useState(""),[Y,te]=f.useState(""),[Ne,Te]=f.useState(null),[V,ue]=f.useState(!1),[pe,$e]=f.useState(!1),[Qe,K]=f.useState(!1),[ne,Ce]=f.useState(""),[Z,be]=f.useState({category:"",language:t.language||"zh",title:"",body:"",body_mode:"markdown",show:!0}),Ie=f.useCallback(async()=>{i(!0);try{const de=await Qc.fetchList();if(de.data.status!=="success")throw new Error(de.data.message||"request failed");u(de.data.data||[])}catch(de){u([]),Q.error(ad(de,e("common.load_failed"))),console.error(de)}finally{i(!1)}},[e]);f.useEffect(()=>{Ie()},[Ie]);const re=f.useMemo(()=>{if(!_)return!1;const de=M.current;if(!de.length)return!1;const Re=O.map(bt=>bt.id);return de.join(",")!==Re.join(",")},[O,_]),H=()=>{const de=c.slice();de.sort((Re,bt)=>{const dt=Number.isFinite(Re.sort)?Number(Re.sort):null,Bt=Number.isFinite(bt.sort)?Number(bt.sort):null;return dt!==null&&Bt!==null?dt-Bt:dt!==null?-1:Bt!==null?1:Re.id-bt.id}),M.current=de.map(Re=>Re.id),P(de),j(!0),R(null),F(null)},we=async()=>{M.current=[],j(!1),P([]),R(null),F(null),await Ie()},Be=async()=>{if(!(k||!re)){C(!0);try{const de=O.map(bt=>bt.id),Re=await Qc.sort(de);if(Re.data.status!=="success")throw new Error(Re.data.message||"request failed");Q.success(e("knowledge.sort_saved")),M.current=[],j(!1),P([]),R(null),F(null),await Ie()}catch(de){Q.error(ad(de,e("common.save_failed"))),console.error(de)}finally{C(!1)}}},Je=(de,Re)=>{P(bt=>{const dt=bt.findIndex(rr=>rr.id===de);if(dt<0)return bt;const Bt=bt.slice(),[Ut]=Bt.splice(dt,1),Qr=Math.max(0,Math.min(Bt.length,Re));return Bt.splice(Qr,0,Ut),Bt})},Xe=de=>{const Re=O.findIndex(bt=>bt.id===de);Re<=0||Je(de,Re-1)},Nt=de=>{const Re=O.findIndex(bt=>bt.id===de);Re<0||Re>=O.length-1||Je(de,Re+1)},ft=de=>Je(de,0),Et=de=>Je(de,O.length-1),Xt=(de,Re)=>{if(!(!_||k)){R(Re),F(null);try{de.dataTransfer.effectAllowed="move",de.dataTransfer.setData("text/plain",String(Re))}catch{}}},hn=()=>{R(null),F(null)},Yn=(de,Re)=>{var Bt,Ut;if(!_||k||A===null||A===Re)return;de.preventDefault();try{de.dataTransfer.dropEffect="move"}catch{}const bt=(Ut=(Bt=de.currentTarget)==null?void 0:Bt.getBoundingClientRect)==null?void 0:Ut.call(Bt),dt=bt&&de.clientY>bt.top+bt.height/2?"below":"above";F({id:Re,position:dt})},Ct=(de,Re)=>{var Qr,rr;if(!_||k)return;de.preventDefault();const bt=(()=>{try{return de.dataTransfer.getData("text/plain")}catch{return""}})(),dt=A??Number.parseInt(bt||"",10);if(!Number.isFinite(dt)||dt===Re){hn();return}const Bt=(rr=(Qr=de.currentTarget)==null?void 0:Qr.getBoundingClientRect)==null?void 0:rr.call(Qr),Ut=Bt&&de.clientY>Bt.top+Bt.height/2?"below":"above";P(Or=>{const qn=Or.findIndex(io=>io.id===dt),Fe=Or.findIndex(io=>io.id===Re);if(qn<0||Fe<0||qn===Fe)return Or;const un=Ut==="below"?Fe+1:Fe,Xr=Or.slice(),[Zr]=Xr.splice(qn,1),Yi=Math.max(0,Math.min(Xr.length,qn<un?un-1:un));return Xr.splice(Yi,0,Zr),Xr}),hn()},Bn=f.useMemo(()=>{const de=new Map;for(const Re of c){const bt=(Re.category||"").trim();bt&&de.set(bt,(de.get(bt)||0)+1)}return de},[c]),gt=f.useMemo(()=>{const de=new Set;for(const Re of Bn.keys())de.add(Re);for(const Re of U)de.add(String(Re).trim());return Array.from(de).filter(Boolean).sort((Re,bt)=>Re.localeCompare(bt))},[Bn,U]),Ft=f.useMemo(()=>{const de=d.trim().toLowerCase();return[...c.filter(dt=>!de||dt.title.toLowerCase().includes(de)||(dt.category||"").toLowerCase().includes(de))].sort((dt,Bt)=>{let Ut=0;return m.key==="id"&&(Ut=dt.id-Bt.id),m.key==="title"&&(Ut=dt.title.localeCompare(Bt.title)),m.dir==="asc"?Ut:-Ut})},[c,d,m]),nt=Ft.length,le=_?O.length:nt,Se=Math.max(1,Math.ceil(nt/w)),Oe=Math.min(x,Se),Tt=f.useMemo(()=>{const de=(Oe-1)*w;return Ft.slice(de,de+w)},[Ft,Oe,w]);f.useEffect(()=>{b(de=>Math.min(Math.max(1,de),Se))},[Se]),f.useEffect(()=>{y(de=>{const Re=new Set,bt=new Set(c.map(dt=>dt.id));for(const dt of de)bt.has(dt)&&Re.add(dt);return Re})},[c]);const jt=de=>{p(Re=>Re.key!==de?{key:de,dir:"asc"}:{key:de,dir:Re.dir==="asc"?"desc":"asc"})},Kt=f.useMemo(()=>{if(Tt.length===0)return!1;const de=Tt.filter(Re=>g.has(Re.id)).length;return de===0?!1:de===Tt.length?!0:"indeterminate"},[Tt,g]),At=de=>{y(Re=>{const bt=new Set(Re);for(const dt of Tt)de?bt.add(dt.id):bt.delete(dt.id);return bt})},fn=()=>{Ce(""),be({category:"",language:t.language||"zh",title:"",body:"",body_mode:"markdown",show:!0}),ue(!0)},Dn=async de=>{ue(!0),$e(!0),Ce("");try{const Re=await Qc.fetchOne(de);if(Re.data.status!=="success")throw new Error(Re.data.message||"request failed");const bt=Re.data.data,dt=BJ(bt.body||"");be({id:bt.id,category:bt.category||"",language:bt.language||t.language||"zh",title:bt.title||"",body:(dt==null?void 0:dt.markdown)??(bt.body||""),body_mode:dt?"markdown":"html",show:!!bt.show})}catch(Re){Ce(ad(Re,e("common.load_failed"))),console.error(Re)}finally{$e(!1)}},ur=async()=>{if(!Qe){if(Ce(""),!Z.category.trim())return Ce(e("knowledge.validation.category_required"));if(!Z.language.trim())return Ce(e("knowledge.validation.language_required"));if(!Z.title.trim())return Ce(e("knowledge.validation.title_required"));if(!Z.body.trim())return Ce(e("knowledge.validation.body_required"));K(!0);try{const de=Z.body_mode==="markdown"?Nqe(Z.body):MA(Z.body),Re=await Qc.save({id:Z.id,category:Z.category.trim(),language:Z.language.trim(),title:Z.title.trim(),body:de,show:Z.show});if(Re.data.status!=="success")throw new Error(Re.data.message||"request failed");Q.success(e("knowledge.saved")),ue(!1),await Ie()}catch(de){const Re=ad(de,e("common.save_failed"));Ce(Re),Q.error(Re),console.error(de)}finally{K(!1)}}},Rr=async de=>{if(!s){a(de);try{const Re=await Qc.toggleShow(de);if(Re.data.status!=="success")throw new Error(Re.data.message||"request failed");await Ie()}catch(Re){Q.error(ad(Re,e("common.save_failed"))),console.error(Re)}finally{a(null)}}},Cr=async de=>{if(s||!await n({title:e("common.delete"),description:e("knowledge.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;a(de);const bt=c;u(dt=>dt.filter(Bt=>Bt.id!==de));try{const dt=await Qc.drop(de);if(dt.data.status!=="success")throw new Error(dt.data.message||"request failed");Q.success(e("knowledge.deleted"))}catch(dt){u(bt),Q.error(ad(dt,e("common.save_failed"))),console.error(dt)}finally{a(null)}},mi=()=>{const de=se.trim();if(!de)return;const Re=Array.from(new Set([...U,de])).sort((bt,dt)=>bt.localeCompare(dt));L(Re),Mqe(Re),xe("")},pi=async(de,Re)=>{const bt=de.trim(),dt=Re.trim();if(!bt||!dt||bt===dt)return;const Bt=c.filter(Ut=>(Ut.category||"").trim()===bt);if(Bt.length!==0){G(!0),X(""),Te({done:0,total:Bt.length});try{for(let Ut=0;Ut<Bt.length;Ut++){const Qr=Bt[Ut].id,rr=await Qc.fetchOne(Qr);if(rr.data.status!=="success")throw new Error(rr.data.message||"request failed");const Or=rr.data.data,qn=await Qc.save({id:Or.id,category:dt,language:Or.language,title:Or.title,body:Or.body,show:Or.show});if(qn.data.status!=="success")throw new Error(qn.data.message||"request failed");Te({done:Ut+1,total:Bt.length})}await Ie()}catch(Ut){X(ad(Ut,e("common.save_failed"))),console.error(Ut)}finally{G(!1),setTimeout(()=>Te(null),400)}}},bs=async()=>{!me.trim()||!ge.trim()||!await n({title:e("knowledge.category_rename"),description:e("knowledge.category_rename_confirm",{from:me.trim(),to:ge.trim()}),confirmText:e("knowledge.category_rename_action")})||await pi(me,ge)},Ws=async()=>{!oe.trim()||!Y.trim()||!await n({title:e("knowledge.category_delete"),description:e("knowledge.category_delete_confirm",{from:oe.trim(),to:Y.trim()}),confirmText:e("knowledge.category_delete_action"),confirmVariant:"destructive"})||await pi(oe,Y)},Us=({k:de})=>m.key!==de?o.jsx(Ss,{className:"h-4 w-4 opacity-60"}):m.dir==="asc"?o.jsx(fE,{className:"h-4 w-4"}):o.jsx(Ec,{className:"h-4 w-4"});return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:fn,disabled:_,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("knowledge.add")]}),o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:d,onChange:de=>{h(de.target.value),b(1)},placeholder:e("knowledge.search_placeholder"),className:"h-9 pl-9",disabled:_})]}),o.jsxs(W,{size:"sm",variant:"outline",className:"h-9",onClick:()=>T(!0),disabled:_,children:[o.jsx(Dle,{className:"h-4 w-4 mr-2"}),e("knowledge.category_manage")]}),_?o.jsxs(o.Fragment,{children:[o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:we,disabled:r||k,children:e("knowledge.sort_cancel")}),o.jsxs(W,{size:"sm",className:"h-9",onClick:Be,disabled:r||k||!re,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("knowledge.sort_save")]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:H,disabled:r||c.length<2,children:[o.jsx(Ss,{className:"h-4 w-4 mr-2"}),e("knowledge.sort")]}),o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:Ie,disabled:r,children:o.jsx(pn,{className:ae("h-4 w-4",r&&"animate-spin")})})]})]}),_&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("knowledge.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:le===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("knowledge.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:_?o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[110px]",children:"ID"}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[180px]",children:e("knowledge.sort_column")}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[120px]",children:e("knowledge.table.status")}),o.jsx("th",{className:"text-left font-medium px-3 py-3",children:e("knowledge.table.title")}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[220px]",children:e("knowledge.table.category")}),o.jsx("th",{className:"text-right font-medium px-3 py-3 w-[160px]",children:e("knowledge.table.actions")})]}):o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-3 w-[44px]",children:o.jsx(Un,{checked:Kt,onCheckedChange:de=>At(de===!0)})}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[110px]",children:o.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 hover:text-foreground",onClick:()=>jt("id"),children:["ID ",o.jsx(Us,{k:"id"})]})}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[120px]",children:e("knowledge.table.status")}),o.jsx("th",{className:"text-left font-medium px-3 py-3",children:o.jsxs("button",{type:"button",className:"inline-flex items-center gap-1 hover:text-foreground",onClick:()=>jt("title"),children:[e("knowledge.table.title")," ",o.jsx(Us,{k:"title"})]})}),o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[220px]",children:e("knowledge.table.category")}),o.jsx("th",{className:"text-right font-medium px-3 py-3 w-[160px]",children:e("knowledge.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:(_?O:Tt).map((de,Re)=>{const bt=s===de.id,dt=g.has(de.id),Bt=_?Re:-1;return o.jsxs("tr",{className:ae("hover:bg-muted/30",_&&(B==null?void 0:B.id)===de.id&&"bg-primary/5",_&&A===de.id&&"opacity-60"),onContextMenu:_?void 0:Ut=>l.openMenu(Ut,de),onDragOver:_?Ut=>Yn(Ut,de.id):void 0,onDrop:_?Ut=>Ct(Ut,de.id):void 0,onDragLeave:_?()=>{F(Ut=>(Ut==null?void 0:Ut.id)===de.id?null:Ut)}:void 0,children:[_?null:o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx(Un,{checked:dt,onCheckedChange:Ut=>y(Qr=>{const rr=new Set(Qr);return Ut===!0?rr.add(de.id):rr.delete(de.id),rr})})}),o.jsx("td",{className:"px-3 py-3 align-middle tabular-nums",children:de.id}),_?o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:ae("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",k?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!k,onDragStart:Ut=>Xt(Ut,de.id),onDragEnd:hn,"aria-label":"Drag",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:Bt+1}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ft(de.id),disabled:k||Bt<=0,"aria-label":"Top",children:o.jsx(Qy,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Xe(de.id),disabled:k||Bt<=0,"aria-label":"Up",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Nt(de.id),disabled:k||Bt>=O.length-1,"aria-label":"Down",children:o.jsx(xh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Et(de.id),disabled:k||Bt>=O.length-1,"aria-label":"Bottom",children:o.jsx(Gy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx(Dt,{checked:!!de.show,disabled:bt||_,onCheckedChange:()=>Rr(de.id)})}),o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:de.title,children:de.title})}),o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:de.category,children:de.category})}),o.jsx("td",{className:"px-3 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:bt||_,onClick:()=>Dn(de.id),title:e("common.edit"),children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:bt||_,onClick:()=>Cr(de.id),title:e("common.delete"),children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},de.id)})})]})})})}),!_&&o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("knowledge.selected_hint",{selected:g.size,total:nt})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[e("dashboard.per_page"),":"]}),o.jsxs(it,{value:String(w),onValueChange:de=>{const Re=Number(de);v(Number.isFinite(Re)&&Re>0?Re:10),b(1)},children:[o.jsx(et,{className:"h-8 w-[96px]",children:o.jsx(st,{})}),o.jsx(tt,{children:[10,20,50,100].map(de=>o.jsx(fe,{value:String(de),children:de},de))})]})]}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(1),disabled:r||Oe<=1||nt===0,children:e("dashboard.first_page")}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(Math.max(1,Oe-1)),disabled:r||Oe<=1||nt===0,children:e("dashboard.prev_page")}),o.jsxs("span",{className:"text-sm text-muted-foreground tabular-nums",children:[Oe," / ",Se]}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(Math.min(Se,Oe+1)),disabled:r||Oe>=Se||nt===0,children:e("dashboard.next_page")}),o.jsx(W,{variant:"outline",size:"sm",onClick:()=>b(Se),disabled:r||Oe>=Se||nt===0,children:e("dashboard.last_page")})]})]}),o.jsx(on,{open:D,onOpenChange:T,children:o.jsxs(rn,{className:"max-w-2xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("knowledge.category_manage")})}),o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("knowledge.category_list")}),o.jsx("div",{className:"rounded-md border overflow-hidden",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-2",children:e("knowledge.category")}),o.jsx("th",{className:"text-right font-medium px-3 py-2 w-[120px]",children:e("knowledge.category_count")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:gt.length===0?o.jsx("tr",{children:o.jsx("td",{className:"px-3 py-3 text-sm text-muted-foreground",colSpan:2,children:e("knowledge.empty")})}):gt.map(de=>o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-3 py-3",children:de}),o.jsx("td",{className:"px-3 py-3 text-right tabular-nums",children:Bn.get(de)||0})]},de))})]})}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("knowledge.category_manage_hint")})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(ee,{children:e("knowledge.category_add")}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(J,{value:se,onChange:de=>xe(de.target.value),placeholder:e("knowledge.category_add_placeholder")}),o.jsx(W,{type:"button",onClick:mi,disabled:!se.trim(),children:e("common.save")})]})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(ee,{children:e("knowledge.category_rename")}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs(it,{value:me,onValueChange:De,children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("knowledge.category_from")})}),o.jsx(tt,{children:Array.from(Bn.keys()).map(de=>o.jsx(fe,{value:de,children:de},de))})]}),o.jsx(J,{value:ge,onChange:de=>Ve(de.target.value),placeholder:e("knowledge.category_to"),list:"knowledge-category-list"}),o.jsx("datalist",{id:"knowledge-category-list",children:gt.map(de=>o.jsx("option",{value:de},de))})]}),o.jsx(W,{type:"button",variant:"outline",onClick:bs,disabled:$||!me.trim()||!ge.trim(),children:e("knowledge.category_rename_action")})]}),o.jsxs("div",{className:"grid gap-3",children:[o.jsx(ee,{children:e("knowledge.category_delete")}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs(it,{value:oe,onValueChange:Pe,children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("knowledge.category_from")})}),o.jsx(tt,{children:Array.from(Bn.keys()).map(de=>o.jsx(fe,{value:de,children:de},de))})]}),o.jsx(J,{value:Y,onChange:de=>te(de.target.value),placeholder:e("knowledge.category_to"),list:"knowledge-category-list"})]}),o.jsx(W,{type:"button",variant:"destructive",onClick:Ws,disabled:$||!oe.trim()||!Y.trim(),children:e("knowledge.category_delete_action")})]}),Ne?o.jsx("div",{className:"text-sm text-muted-foreground tabular-nums",children:e("knowledge.category_progress",{done:Ne.done,total:Ne.total})}):null,ie?o.jsx("div",{className:"text-sm text-red-600",children:ie}):null]}),o.jsx(pr,{children:o.jsx(W,{variant:"outline",onClick:()=>T(!1),disabled:$,children:e("common.close")})})]})}),o.jsx(on,{open:V,onOpenChange:ue,children:o.jsxs(rn,{className:"left-auto right-0 top-0 h-screen w-full max-w-5xl translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(ln,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(cn,{children:Z.id?e("knowledge.edit_title"):e("knowledge.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-24",children:pe?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("knowledge.loading")}):o.jsxs("div",{className:"grid gap-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"knowledge-title",children:e("knowledge.fields.title")}),o.jsx(J,{id:"knowledge-title",value:Z.title,onChange:de=>be(Re=>({...Re,title:de.target.value})),placeholder:e("knowledge.fields.title_placeholder")})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"knowledge-category",children:e("knowledge.fields.category")}),o.jsx(J,{id:"knowledge-category",value:Z.category,onChange:de=>be(Re=>({...Re,category:de.target.value})),placeholder:e("knowledge.fields.category_placeholder"),list:"knowledge-category-edit-list"}),o.jsx("datalist",{id:"knowledge-category-edit-list",children:gt.map(de=>o.jsx("option",{value:de},de))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"knowledge-language",children:e("knowledge.fields.language")}),o.jsxs(it,{value:Z.language,onValueChange:de=>be(Re=>({...Re,language:de})),children:[o.jsx(et,{id:"knowledge-language",children:o.jsx(st,{placeholder:"zh"})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"zh",children:e("knowledge.language.zh")}),o.jsx(fe,{value:"en",children:e("knowledge.language.en")})]})]})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("knowledge.fields.body")}),o.jsx(Pqe,{value:Z.body,onChange:de=>be(Re=>({...Re,body:de})),mode:Z.body_mode,onModeChange:(de,Re)=>be(bt=>({...bt,body_mode:de,body:Re})),resetKey:`${Z.id??"new"}:${V?"open":"closed"}:${Z.body_mode}`,placeholder:e("knowledge.fields.body_placeholder"),previewType:"iframe",minHeightClassName:"min-h-[360px]",sourceClassName:"text-xs leading-5"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("knowledge.editor_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"knowledge-show",children:e("knowledge.fields.show")}),o.jsx(Dt,{id:"knowledge-show",checked:Z.show,onCheckedChange:de=>be(Re=>({...Re,show:de}))})]}),ne?o.jsx("div",{className:"text-sm text-red-600",children:ne}):null]})}),o.jsx("div",{className:"fixed bottom-0 right-0 w-full max-w-5xl border-t bg-background px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"outline",onClick:()=>ue(!1),disabled:Qe,children:e("common.cancel")}),o.jsx(W,{onClick:ur,disabled:Qe||pe,children:e(Qe?"common.saving":"common.save")})]})})]})}),o.jsx(ss,{open:l.open,onOpenChange:l.setOpen,position:l.position,items:[{type:"checkbox",label:e("knowledge.table.status"),checked:!!((gn=l.data)!=null&&gn.show),disabled:!l.data||s===l.data.id,onSelect:()=>{l.data&&(l.setOpen(!1),Rr(l.data.id))}},{type:"separator"},{type:"item",label:e("common.edit"),disabled:!l.data||s===l.data.id,onSelect:()=>{l.data&&(l.setOpen(!1),Dn(l.data.id))}},{type:"item",label:e("common.delete"),destructive:!0,disabled:!l.data||s===l.data.id,onSelect:()=>{l.data&&(l.setOpen(!1),Cr(l.data.id))}}]})]})}function ls({page:e,total:t,pageSize:n,onPageChange:r,onPageSizeChange:i,loading:s}){const{t:a}=Wt(),l=Math.max(1,Math.ceil(t/n));return o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between rounded-lg border border-border/70 bg-card px-4 py-3",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:[a("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:t})]}),o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground hidden sm:block",children:a("dashboard.per_page")}),o.jsxs(it,{value:`${n}`,onValueChange:c=>{i(Number(c))},children:[o.jsx(et,{className:"h-8 w-[72px]",children:o.jsx(st,{placeholder:n})}),o.jsx(tt,{side:"top",children:[10,20,50,100].map(c=>o.jsx(fe,{value:`${c}`,children:c},c))})]})]}),o.jsxs("div",{className:"flex min-w-[80px] items-center justify-center text-sm font-medium tabular-nums",children:[e," / ",l]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsxs(W,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r(1),disabled:e===1||s,children:[o.jsx("span",{className:"sr-only",children:"First"}),o.jsx(Jw,{className:"h-4 w-4"})]}),o.jsxs(W,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r(e-1),disabled:e===1||s,children:[o.jsx("span",{className:"sr-only",children:"Previous"}),o.jsx(Zw,{className:"h-4 w-4"})]}),o.jsxs(W,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>r(e+1),disabled:e===l||s,children:[o.jsx("span",{className:"sr-only",children:"Next"}),o.jsx(zm,{className:"h-4 w-4"})]}),o.jsxs(W,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>r(l),disabled:e===l||s,children:[o.jsx("span",{className:"sr-only",children:"Last"}),o.jsx(ej,{className:"h-4 w-4"})]})]})]})]})}const tP=(1n<<255n)-19n,Aqe=121666n,Pr=e=>{const t=e%tP;return t>=0n?t:t+tP},Zp=e=>Pr(e*e),zqe=(e,t)=>{let n=1n,r=Pr(e),i=t;for(;i>0n;)i&1n&&(n=Pr(n*r)),r=Zp(r),i>>=1n;return n},Dqe=e=>zqe(e,tP-2n),Rqe=e=>{let t=0n;for(let n=0;n<e.length;n+=1)t+=BigInt(e[n]??0)<<8n*BigInt(n);return t},Iqe=(e,t)=>{const n=new Uint8Array(t);let r=Pr(e);for(let i=0;i<t;i+=1)n[i]=Number(r&0xffn),r>>=8n;return n},Lqe=(e,t)=>e[t>>3]>>(t&7)&1,gb=(e,t,n)=>e?[n,t]:[t,n],WJ=e=>{const t=e.slice();return t[0]&=248,t[31]&=127,t[31]|=64,t},$qe=(e,t)=>{const n=WJ(e),r=new Uint8Array(32);r.set(t.slice(0,32)),r[31]&=127;const i=Pr(Rqe(r));let s=1n,a=0n,l=i,c=1n,u=0;for(let d=254;d>=0;d-=1){const h=Lqe(n,d);u^=h,[s,l]=gb(u,s,l),[a,c]=gb(u,a,c),u=h;const m=Pr(s+a),p=Zp(m),g=Pr(s-a),y=Zp(g),x=Pr(p-y),b=Pr(l+c),w=Pr(l-c),v=Pr(w*m),_=Pr(b*g);l=Zp(Pr(v+_)),c=Pr(i*Zp(Pr(v-_))),s=Pr(p*y),a=Pr(x*Pr(p+Pr(Aqe*x)))}return[s,l]=gb(u,s,l),[a,c]=gb(u,a,c),Iqe(Pr(s*Dqe(a)),32)},Fqe=e=>{const t=new Uint8Array(32);return t[0]=9,$qe(e,t)},Bqe=()=>{const e=new Uint8Array(32);crypto.getRandomValues(e);const t=WJ(e);return{privateKey:t,publicKey:Fqe(t)}},Xc=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},yt=e=>e&&typeof e=="object"&&!Array.isArray(e)?e:{},Bl=e=>{if(!e)return null;if(typeof e=="string")try{const t=UJ(e);return yt(t)}catch{return null}return yt(e)},Zc=e=>{if(e==null)return"";const t=Number(e);return!Number.isFinite(t)||t<=0?"":String(Math.trunc(t))},qqe=e=>String(e??"").replace(/\\/g,"\\\\").replace(/"/g,'\\"'),Mp=e=>`"${qqe(e)}"`,fN=e=>String(e??"").trim().toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_.-]+/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,""),RF=e=>{if(e==null)return"";const t=Number(e);return!Number.isFinite(t)||t<0?"":String(Math.trunc(t))},Wqe=e=>{const t=String(e??"").trim().replace(/\s+/g,"");if(!t)return{ok:!1,clause:"",kind:"empty",normalized:""};if(/^\d+$/.test(t))return{ok:!0,clause:`--dport ${t}`,kind:"single",normalized:t};if(/^\d+[:-]\d+$/.test(t)){const[n,r]=t.split(/[:-]/);if(n===r)return{ok:!0,clause:`--dport ${n}`,kind:"single",normalized:n};const i=`${n}:${r}`;return{ok:!0,clause:`--dport ${i}`,kind:"range",normalized:i}}return/^\d+(,\d+)+$/.test(t)?{ok:!0,clause:`-m multiport --dports ${t}`,kind:"multiport",normalized:t}:{ok:!1,clause:"",kind:"invalid",normalized:t}},Uqe=e=>{const t=Wqe(e.port),n=Number(e.server_port);if(!t.ok||!Number.isFinite(n)||n<=0)return"";const r=Math.trunc(n);return t.kind==="single"&&t.normalized===String(r)?"":["# IPv4",`IFACE="$(ip -o -4 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE" ] && IFACE="eth0"',`iptables -t nat -C PREROUTING -i "$IFACE" -p udp ${t.clause} -j REDIRECT --to-ports ${r} 2>/dev/null || iptables -t nat -A PREROUTING -i "$IFACE" -p udp ${t.clause} -j REDIRECT --to-ports ${r}`,"","# IPv6",`IFACE6="$(ip -o -6 route show to default | awk '{print $5; exit}')"`,'[ -z "$IFACE6" ] && IFACE6="$IFACE"',`ip6tables -t nat -C PREROUTING -i "$IFACE6" -p udp ${t.clause} -j REDIRECT --to-ports ${r} 2>/dev/null || ip6tables -t nat -A PREROUTING -i "$IFACE6" -p udp ${t.clause} -j REDIRECT --to-ports ${r}`].join(`
`)},Vqe=(e=16)=>{const t="ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789",n=new Uint8Array(e);return crypto.getRandomValues(n),Array.from(n,r=>t[r%t.length]).join("")},Hqe=e=>Array.from(e,t=>t.toString(16).padStart(2,"0")).join(""),Kqe=e=>{const t=new Uint8Array(e);return crypto.getRandomValues(t),Hqe(t)},IF=e=>{let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t)},LF=[{value:"vmess",label:"vmess"},{value:"vless",label:"vless"},{value:"trojan",label:"trojan"},{value:"shadowsocks",label:"shadowsocks"},{value:"hysteria",label:"hysteria"},{value:"tuic",label:"tuic"},{value:"anytls",label:"anytls"},{value:"socks",label:"socks"},{value:"naive",label:"naive"},{value:"http",label:"http"},{value:"mieru",label:"mieru"}],Tp={vmess:{label:"vmess",className:"border-indigo-200 bg-indigo-50 text-indigo-700"},vless:{label:"vless",className:"border-sky-200 bg-sky-50 text-sky-700"},trojan:{label:"trojan",className:"border-red-200 bg-red-50 text-red-600"},shadowsocks:{label:"shadowsocks",className:"border-emerald-200 bg-emerald-50 text-emerald-700"},hysteria:{label:"hysteria",className:"border-amber-200 bg-amber-50 text-amber-700"},tuic:{label:"tuic",className:"border-teal-200 bg-teal-50 text-teal-700"},anytls:{label:"anytls",className:"border-slate-200 bg-slate-50 text-slate-700"},socks:{label:"socks",className:"border-cyan-200 bg-cyan-50 text-cyan-700"},naive:{label:"naive",className:"border-purple-200 bg-purple-50 text-purple-700"},http:{label:"http",className:"border-orange-200 bg-orange-50 text-orange-700"},mieru:{label:"mieru",className:"border-fuchsia-200 bg-fuchsia-50 text-fuchsia-700"}},Yo=["stop=8","0=30-30","1=100-400","2=400-500,c,500-1000,c,500-1000,c,500-1000,c,500-1000","3=9-9,500-1000","4=500-1000","5=500-1000","6=500-1000","7=500-1000"],Ap=e=>{switch(e){case"shadowsocks":return{cipher:"aes-128-gcm"};case"vmess":return{tls:0,network:"tcp"};case"vless":return{tls:0,network:"tcp"};case"trojan":return{network:"tcp",server_name:"",allow_insecure:!1};case"tuic":return{version:5,congestion_control:"cubic",udp_relay_mode:"native",alpn:["h3"],tls:{server_name:"",allow_insecure:!1}};case"hysteria":return{version:2,tls:{server_name:"",allow_insecure:!1},obfs:{open:!1,type:"salamander",password:""}};case"naive":return{tls:0,tls_settings:{allow_insecure:!1}};case"http":return{tls:0,tls_settings:{allow_insecure:!1}};case"mieru":return{transport:"tcp",multiplexing:"MULTIPLEXING_LOW"};case"anytls":return{tls:{server_name:"",allow_insecure:!1},padding_scheme:[...Yo]};default:return{}}},UJ=e=>{const t=e.trim();return t?JSON.parse(t):null},Wh=e=>e?e.map(t=>String(t)).filter(Boolean):[],Oa=e=>{const t=typeof e=="string"?e:e==null?"":String(e),n={};for(const r of t.split(";")){const i=r.trim();if(!i)continue;const s=i.indexOf("=");if(s===-1)continue;const a=i.slice(0,s).trim();a&&(n[a]=i.slice(s+1).trim())}return n},Zs=(e,t=[])=>{const n=[],r=new Set,i=a=>{if(!Object.prototype.hasOwnProperty.call(e,a))return;const l=String(e[a]??"").trim();l&&(n.push(`${a}=${l}`),r.add(a))};for(const a of t)i(a);const s=Object.keys(e).filter(a=>!r.has(a)).sort((a,l)=>a.localeCompare(l));for(const a of s)i(a);return n.join(";")},$F=["tcp","ws","grpc","kcp","httpupgrade","xhttp"],Yqe=["none","xtls-rprx-vision","xtls-rprx-direct","xtls-rprx-splice"],Gqe=["firefox","chrome","safari","ios","android","edge"],Qqe=["tcp","grpc","ws"],Xqe=["tcp","ws","grpc","httpupgrade","xhttp","splithttp"],Zqe={tcp:[{name:"TCP",value:{header:{type:"none"}}}],ws:[{name:"WebSocket",value:{path:"/",headers:{Host:""}}}],grpc:[{name:"gRPC",value:{serviceName:""}}],kcp:[{name:"mKCP",value:{seed:"",header:{type:"none"}}}],httpupgrade:[{name:"HTTPUpgrade",value:{path:"/",host:""}}]},nP=e=>Zqe[e]??[],yb=e=>{var t;return((t=nP(e)[0])==null?void 0:t.value)??null},mN=["aes-128-gcm","aes-192-gcm","aes-256-gcm","chacha20-ietf-poly1305","2022-blake3-aes-128-gcm","2022-blake3-aes-256-gcm"],Jqe=["bbr","cubic","new_reno"],e6e=["native","quic"],t6e=["http/1.1","h2","h3"],FF=e=>{const t={...yt(e)},n=String(t.cipher||"").trim();t.cipher=n||"aes-128-gcm";const r=String(t.obfs||"").trim(),i=String(t.plugin||"").trim(),a=(i==="obfs-local"||i==="simple-obfs"?"obfs":i)||(r?"obfs":"");a?t.plugin=a:delete t.plugin;const l=String(t.plugin_opts||"").trim(),c=Oa(l);if(a==="obfs"){const u=String(c.obfs||r||"http").trim()||"http";c.obfs=u,t.obfs=u;const d={...yt(t.obfs_settings)},h=String(c["obfs-host"]??d.host??"").trim(),m=String(c.path??d.path??"").trim();h?(c["obfs-host"]=h,d.host=h):(delete c["obfs-host"],delete d.host),m?(c.path=m,d.path=m):(delete c.path,delete d.path),t.obfs_settings=Object.keys(d).length?d:null;const p=Zs(c,["obfs","obfs-host","path"]);t.plugin_opts=p||null}else if(a==="v2ray-plugin"){const u=String(c.mode||"websocket").trim()||"websocket";c.mode=u,!String(c.path||"").trim()&&u.toLowerCase()==="websocket"&&(c.path="/");const h=String(c.tls||"").trim().toLowerCase();h==="true"||h==="1"?c.tls="true":delete c.tls;const m=Zs(c,["mode","host","path","tls"]);t.plugin_opts=m||null,delete t.obfs,delete t.obfs_settings}else t.plugin_opts=l||null;return t.plugin||delete t.plugin_opts,t};function n6e(){const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState(null),[c,u]=f.useState(!1),[d,h]=f.useState(""),m=f.useRef(null),p=f.useRef(""),g=f.useRef(!1),[y,x]=f.useState(""),[b,w]=f.useState("all"),[v,_]=f.useState("all"),[j,k]=f.useState(1),[C,O]=f.useState(10),[P,M]=f.useState(!1),[A,R]=f.useState([]),[B,F]=f.useState(!1),U=f.useRef([]),[L,D]=f.useState(null),[T,$]=f.useState(null),[G,ie]=f.useState(new Set),[X,se]=f.useState(!1),[xe,me]=f.useState(!1),[De,ge]=f.useState(""),[Ve,oe]=f.useState(null),[Pe,Y]=f.useState(!1),[te,Ne]=f.useState("1"),[Te,V]=f.useState(!1),[ue,pe]=f.useState(!1),[$e,Qe]=f.useState([{start:"00:00",end:"23:59",rate:"1"}]),[K,ne]=f.useState(!1),[Ce,Z]=f.useState([]),[be,Ie]=f.useState(""),[re,H]=f.useState(!1),[we,Be]=f.useState([]),[Je,Xe]=f.useState(""),[Nt,ft]=f.useState([]),[Et,Xt]=f.useState([]),[hn,Yn]=f.useState([]),[Ct,Bn]=f.useState(null),[gt,Ft]=f.useState("preset"),[nt,le]=f.useState("default"),Se=as(),Oe=f.useRef(null),[Tt,jt]=f.useState(!1),[Kt,At]=f.useState(""),fn=f.useRef(null),[Dn,ur]=f.useState(!1),[Rr,Cr]=f.useState(""),[mi,pi]=f.useState(!1),[bs,Ws]=f.useState(!1),[Us,gn]=f.useState(""),[de,Re]=f.useState(""),[bt,dt]=f.useState(!1),[Bt,Ut]=f.useState("{}"),[Qr,rr]=f.useState(""),[Or,qn]=f.useState([]),[Fe,un]=f.useState({type:"vmess",node_id:"",name:"",host:"",port:"443",server_port:"443",rate:"1",show:!0,parent_id:"null",group_ids:[],route_ids:[],tagsText:"",protocolSettingsText:JSON.stringify(Ap("vmess"),null,2),rate_time_enable:!1,hy_version:"2",hy_obfs_enabled:!1,hy_obfs_type:"salamander",hy_obfs_password:"",hy_sni:"",hy_up_mbps:"",hy_down_mbps:"",hy_hop_interval:"30"});f.useEffect(()=>{mi||(jt(!1),At(""),ur(!1),Cr(""),dt(!1),rr(""))},[mi]),f.useEffect(()=>{if(!c)return;const N=window.setTimeout(()=>{const E=m.current;E&&(E.focus(),E.select(),E.setSelectionRange(0,E.value.length))},0);return()=>window.clearTimeout(N)},[c,d]);const Xr=f.useCallback(async()=>{var N;r(!0);try{const[E,z,q,ce]=await Promise.all([Wl.getNodes(),Rf.fetch(),t_.fetch(),Wl.getOptions().catch(()=>null)]);if(E.data.status!=="success")throw new Error(E.data.message||"request failed");z.data.status==="success"&&Xt(z.data.data||[]),Yn(q.data.data||[]),ft(E.data.data||[]),ce&&((N=ce.data)==null?void 0:N.status)==="success"?Bn(ce.data.data||null):Bn(null)}catch(E){ft([]),Xt([]),Yn([]),Bn(null),Q.error(Xc(E,e("common.load_failed"))),console.error(E)}finally{r(!1)}},[e]);f.useEffect(()=>{Xr()},[Xr]);const Zr=f.useMemo(()=>{const N=[...Nt];return N.sort((E,z)=>{const q=Number.isFinite(E.sort)?E.sort:E.id,ce=Number.isFinite(z.sort)?z.sort:z.id;return q-ce}),N},[Nt]),Yi=f.useMemo(()=>{const N=y.trim().toLowerCase();return Zr.filter(E=>b!=="all"&&E.type!==b||v!=="all"&&!(Wh(E.group_ids).includes(v)||(E.groups||[]).some(ce=>String(ce.id)===v))?!1:N?E.name.toLowerCase().includes(N)||E.host.toLowerCase().includes(N)||String(E.id).includes(N)||E.type.toLowerCase().includes(N):!0)},[Zr,y,b,v]),io=Yi.length,Ml=Math.max(1,Math.ceil(io/C)),$c=Math.min(j,Ml),so=f.useMemo(()=>{const N=($c-1)*C;return Yi.slice(N,N+C)},[Yi,$c,C]),Fc=P?A:so;f.useEffect(()=>{k(N=>Math.min(Math.max(1,N),Ml))},[Ml]),f.useEffect(()=>{ie(N=>{if(N.size===0)return N;const E=new Set(Nt.map(q=>q.id)),z=new Set;for(const q of N)E.has(q)&&z.add(q);return z})},[Nt]);const Ch=f.useMemo(()=>{if(so.length===0)return!1;const N=so.filter(E=>G.has(E.id)).length;return N===0?!1:N===so.length?!0:"indeterminate"},[so,G]),Bc=N=>{ie(E=>{const z=new Set(E);for(const q of so)N?z.add(q.id):z.delete(q.id);return z})},ja=f.useMemo(()=>{if(!P)return!1;const N=U.current;if(!N.length)return!1;const E=A.map(z=>z.id);return N.join(",")!==E.join(",")},[A,P]),Rn=()=>{U.current=Zr.map(N=>N.id),R(Zr),M(!0),D(null),$(null)},Oh=()=>{U.current=[],M(!1),R([]),D(null),$(null)},Mi=async()=>{if(!(B||!ja)){F(!0);try{const N=A.map((z,q)=>({id:z.id,order:q+1})),E=await Wl.sort(N);if(E.data.status!=="success")throw new Error(E.data.message||"request failed");Q.success(e("server.sort_saved")),U.current=[],M(!1),R([]),D(null),$(null),await Xr()}catch(N){Q.error(Xc(N,e("common.save_failed"))),console.error(N)}finally{F(!1)}}},Tl=(N,E)=>{R(z=>{const q=z.findIndex(Pt=>Pt.id===N);if(q<0)return z;const ce=z.slice(),[Me]=ce.splice(q,1),Le=Math.max(0,Math.min(ce.length,E));return ce.splice(Le,0,Me),ce})},Al=N=>{const E=A.findIndex(z=>z.id===N);E<=0||Tl(N,E-1)},Vs=N=>{const E=A.findIndex(z=>z.id===N);E<0||E>=A.length-1||Tl(N,E+1)},Ph=N=>Tl(N,0),Zu=N=>Tl(N,A.length-1),Ju=(N,E)=>{if(!(!P||B)){D(E),$(null);try{N.dataTransfer.effectAllowed="move",N.dataTransfer.setData("text/plain",String(E))}catch{}}},zl=()=>{D(null),$(null)},ed=(N,E)=>{var ce,Me;if(!P||B||L===null||L===E)return;N.preventDefault();try{N.dataTransfer.dropEffect="move"}catch{}const z=(Me=(ce=N.currentTarget)==null?void 0:ce.getBoundingClientRect)==null?void 0:Me.call(ce),q=z&&N.clientY>z.top+z.height/2?"below":"above";$({id:E,position:q})},td=(N,E)=>{var Le,Pt;if(!P||B)return;N.preventDefault();const z=(()=>{try{return N.dataTransfer.getData("text/plain")}catch{return""}})(),q=L??Number.parseInt(z||"",10);if(!Number.isFinite(q)||q===E){zl();return}const ce=(Pt=(Le=N.currentTarget)==null?void 0:Le.getBoundingClientRect)==null?void 0:Pt.call(Le),Me=ce&&N.clientY>ce.top+ce.height/2?"below":"above";R(lt=>{const We=lt.findIndex(Ks=>Ks.id===q),Ot=lt.findIndex(Ks=>Ks.id===E);if(We<0||Ot<0||We===Ot)return lt;const Mt=Me==="below"?Ot+1:Ot,Jt=lt.slice(),[In]=Jt.splice(We,1),_r=Math.max(0,Math.min(Jt.length,We<Mt?Mt-1:Mt));return Jt.splice(_r,0,In),Jt}),zl()},nd=()=>{qn(N=>[...N,{start:"00:00",end:"23:59",rate:"1"}])},qc=(N,E,z)=>{qn(q=>q.map((ce,Me)=>Me===N?{...ce,[E]:z}:ce))},Eh=N=>{qn(E=>E.filter((z,q)=>q!==N))},Wc=()=>{Qe(N=>[...N,{start:"00:00",end:"23:59",rate:"1"}])},Dl=(N,E,z)=>{Qe(q=>q.map((ce,Me)=>Me===N?{...ce,[E]:z}:ce))},S=N=>{Qe(E=>E.filter((z,q)=>q!==N))},I=()=>{G.size!==0&&(ge(""),oe(null),Y(!1),Ne("1"),V(!1),pe(!1),Qe([{start:"00:00",end:"23:59",rate:"1"}]),ne(!1),Z([]),Ie(""),H(!1),Be([]),Xe(""),se(!0))},he=async()=>{if(xe)return;ge("");const N=Array.from(G).sort((Le,Pt)=>Le-Pt);if(N.length===0){ge(e("server.bulk.no_target"));return}if(!Pe&&!Te&&!K&&!re){ge(e("server.bulk.no_fields"));return}let E=null;if(Pe){const Le=Number(te);if(!Number.isFinite(Le)||Le<=0){ge(e("server.validation.rate_required"));return}E=Le}let z;if(Te&&ue){if(!$e.length){ge(e("server.validation.rate_time_ranges_invalid"));return}const Le=$e.map(lt=>({start:lt.start.trim(),end:lt.end.trim(),rate:Number(lt.rate)}));if(Le.some(lt=>!lt.start||!lt.end||!Number.isFinite(lt.rate)||lt.rate<=0)){ge(e("server.validation.rate_time_ranges_invalid"));return}z=Le}me(!0),oe({done:0,total:N.length});let q=0;const ce=[];try{for(let Le=0;Le<N.length;Le++){const Pt=N[Le];oe({done:Le,total:N.length});const lt=Nt.find($o=>$o.id===Pt);if(!lt){ce.push({id:Pt,message:e("server.bulk.node_not_found")});continue}const We=String(lt.port??"").trim(),Ot=Number(lt.server_port),Mt=E!==null?E:Number.isFinite(Number(lt.rate))?Number(lt.rate):1,Jt=Zc(lt.code??lt.node_id),In=Jt?Number(Jt):null,_r=In?String(In):null,Ks=lt.parent_id===null||lt.parent_id===void 0?null:Number(lt.parent_id),Io=Array.isArray(lt.tags)&&lt.tags.length?lt.tags:void 0,Il=Bl(lt.protocol_settings)??Ap(lt.type),Lo=K?Ce:Wh(lt.group_ids),gi=re?we:Wh(lt.route_ids),ks=Te?ue:!!lt.rate_time_enable,Ys=Te?z:ks?lt.rate_time_ranges:void 0,Kx={id:lt.id,node_id:In,code:_r,type:lt.type,name:String(lt.name||"").trim(),host:String(lt.host||"").trim(),port:We,server_port:Ot,rate:Mt,show:lt.show?1:0,parent_id:Ks,group_ids:Lo.map(String),route_ids:gi.map(String),tags:Io,protocol_settings:Il,rate_time_enable:ks,rate_time_ranges:Ys};try{const $o=await Wl.save(Kx);if($o.data.status!=="success")throw new Error($o.data.message||"request failed");q+=1}catch($o){ce.push({id:lt.id,message:Xc($o,e("common.save_failed"))})}finally{oe({done:Le+1,total:N.length})}}q>0&&await Xr()}finally{me(!1),oe(null)}if(ce.length===0){Q.success(e("server.bulk.updated",{success:q,total:N.length})),se(!1),ie(new Set);return}const Me=ce[0];ge(e("server.bulk.failed_one",{id:Me.id,message:Me.message})),Q.error(e("server.bulk.partial_failed",{failed:ce.length,total:N.length}))},ye=N=>{gn(""),Re(""),jt(!1),At(""),ur(!1),Cr(""),qn([{start:"00:00",end:"23:59",rate:"1"}]);const E=Ap(N),z=N==="shadowsocks"?FF(E):E,q=yt(z==null?void 0:z.tls),ce=yt(z==null?void 0:z.obfs),Me=yt(z==null?void 0:z.bandwidth);if(N==="shadowsocks"){const Le=String((z==null?void 0:z.cipher)||"").trim(),Pt=Le?mN.includes(Le):!0;Ft(Pt?"preset":"custom")}else Ft("preset");if(N==="anytls"){const Le=z==null?void 0:z.padding_scheme,Pt=Array.isArray(Le)?Le.map(We=>String(We??"").trim()):[],lt=Pt.length===Yo.length&&Pt.every((We,Ot)=>We===Yo[Ot]);le(lt?"default":"custom")}else le("default");un({type:N,node_id:"",name:"",host:"",port:"443",server_port:"443",rate:"1",show:!0,parent_id:"null",group_ids:[],route_ids:[],tagsText:"",protocolSettingsText:JSON.stringify(z,null,2),rate_time_enable:!1,hy_version:String((z==null?void 0:z.version)??2),hy_obfs_enabled:!!ce.open,hy_obfs_type:String(ce.type||"salamander"),hy_obfs_password:String(ce.password||""),hy_sni:String(q.server_name||""),hy_up_mbps:Zc(Me.up),hy_down_mbps:Zc(Me.down),hy_hop_interval:String((z==null?void 0:z.hop_interval)??30)}),pi(!0)},ve=N=>{gn(""),Re(""),jt(!1),At(""),ur(!1),Cr("");const E=N.type||"vmess",z=Bl(N.protocol_settings)??Ap(E),q=E==="shadowsocks"?FF(z):z,ce=yt(q==null?void 0:q.tls),Me=yt(q==null?void 0:q.obfs),Le=yt(q==null?void 0:q.bandwidth);if(E==="shadowsocks"){const lt=String((q==null?void 0:q.cipher)||"").trim(),We=lt?mN.includes(lt):!0;Ft(We?"preset":"custom")}else Ft("preset");if(E==="anytls"){const lt=q==null?void 0:q.padding_scheme,We=Array.isArray(lt)?lt.map(Mt=>String(Mt??"").trim()):[],Ot=We.length===Yo.length&&We.every((Mt,Jt)=>Mt===Yo[Jt]);le(Ot?"default":"custom")}else le("default");const Pt=Array.isArray(N.rate_time_ranges)?N.rate_time_ranges:[];qn(Pt.length?Pt.map(lt=>({start:String((lt==null?void 0:lt.start)||"00:00"),end:String((lt==null?void 0:lt.end)||"23:59"),rate:String((lt==null?void 0:lt.rate)??1)})):[{start:"00:00",end:"23:59",rate:"1"}]),un({id:N.id,type:E,node_id:Zc(N.code??N.node_id),name:N.name||"",host:N.host||"",port:String(N.port??""),server_port:String(N.server_port??""),rate:String(N.rate??1),show:!!N.show,parent_id:N.parent_id===null||N.parent_id===void 0?"null":String(N.parent_id),group_ids:Wh(N.group_ids),route_ids:Wh(N.route_ids),tagsText:(N.tags||[]).join(", "),protocolSettingsText:JSON.stringify(q,null,2),rate_time_enable:!!N.rate_time_enable,hy_version:String((q==null?void 0:q.version)??2),hy_obfs_enabled:!!Me.open,hy_obfs_type:String(Me.type||"salamander"),hy_obfs_password:String(Me.password||""),hy_sni:String(ce.server_name||""),hy_up_mbps:Zc(Le.up),hy_down_mbps:Zc(Le.down),hy_hop_interval:String((q==null?void 0:q.hop_interval)??30)}),pi(!0)},Ae=async()=>{if(bs)return;if(gn(""),!Fe.name.trim())return gn(e("server.validation.name_required"));if(!Fe.host.trim())return gn(e("server.validation.host_required"));if(!Fe.port.trim())return gn(e("server.validation.port_required"));if(!Fe.server_port.trim())return gn(e("server.validation.server_port_required"));const N=Number(Fe.rate);if(!Number.isFinite(N)||N<=0)return gn(e("server.validation.rate_required"));let E;try{if(E=UJ(Fe.protocolSettingsText)??{},E&&typeof E!="object")return gn(e("server.validation.protocol_settings_invalid"))}catch{return gn(e("server.validation.protocol_settings_invalid"))}if(Fe.type==="hysteria"){const We=yt(E),Ot=Number(Fe.hy_version);if(![1,2].includes(Ot))return gn(e("server.validation.hy_version_invalid"));const Mt=Number(Fe.hy_hop_interval);if(!Number.isFinite(Mt)||!Number.isInteger(Mt)||Mt<=0)return gn(e("server.validation.hy_hop_interval_invalid"));const Jt=Fe.hy_up_mbps.trim(),In=Fe.hy_down_mbps.trim();if(Jt){const Ys=Number(Jt);if(!Number.isFinite(Ys)||!Number.isInteger(Ys)||Ys<=0)return gn(e("server.validation.hy_up_mbps_invalid"))}if(In){const Ys=Number(In);if(!Number.isFinite(Ys)||!Number.isInteger(Ys)||Ys<=0)return gn(e("server.validation.hy_down_mbps_invalid"))}const _r=Fe.hy_sni.trim(),Ks=Fe.hy_obfs_enabled,Io=Fe.hy_obfs_type.trim()||"salamander",Il=Fe.hy_obfs_password.trim();if(Ks&&!Il)return gn(e("server.validation.hy_obfs_password_required"));const Lo={...yt(We.tls),server_name:_r};"allow_insecure"in Lo||(Lo.allow_insecure=!1);const gi={...yt(We.obfs),open:Ks};Ks?(gi.type=Io,gi.password=Il):(delete gi.type,delete gi.password);const ks={...yt(We.bandwidth)};Jt?ks.up=Number(Jt):ks.up=null,In?ks.down=Number(In):ks.down=null,E={...We,version:Ot,tls:Lo,obfs:gi,hop_interval:Mt,bandwidth:ks}}let z;if(Fe.rate_time_enable){if(!Or.length)return gn(e("server.validation.rate_time_ranges_invalid"));const We=Or.map(Mt=>({start:Mt.start.trim(),end:Mt.end.trim(),rate:Number(Mt.rate)}));if(We.some(Mt=>!Mt.start||!Mt.end||!Number.isFinite(Mt.rate)||Mt.rate<=0))return gn(e("server.validation.rate_time_ranges_invalid"));z=We}const q=Fe.tagsText.trim()?Fe.tagsText.split(/[,\n]/g).map(We=>We.trim()).filter(Boolean):void 0;let ce=null;if(Fe.parent_id!=="null"){const We=Number(Fe.parent_id);if(!Number.isFinite(We)||!Number.isInteger(We)||We<=0||Fe.id&&We===Fe.id)return gn(e("server.validation.parent_id_invalid"));const Ot=Nt.find(Mt=>Mt.id===We);if(!Ot||Ot.type!==Fe.type)return gn(e("server.validation.parent_id_invalid"));ce=We}const Me=Fe.node_id.trim();let Le=null;if(Me){const We=Number(Me);if(!Number.isFinite(We)||!Number.isInteger(We)||We<=0)return gn(e("server.validation.node_id_invalid"));Le=We}const Pt=Le?String(Le):null,lt={id:Fe.id,node_id:Le,code:Pt,type:Fe.type,name:Fe.name.trim(),host:Fe.host.trim(),port:Fe.port.trim(),server_port:Number(Fe.server_port),rate:N,show:Fe.show?1:0,parent_id:ce,group_ids:Fe.group_ids.map(String),route_ids:Fe.route_ids.map(String),tags:q,protocol_settings:E,rate_time_enable:Fe.rate_time_enable,rate_time_ranges:z};Ws(!0);try{const We=await Wl.save(lt);if(We.data.status!=="success")throw new Error(We.data.message||"request failed");Q.success(We.data.message||e("server.saved")),pi(!1),await Xr()}catch(We){const Ot=Xc(We,e("common.save_failed"));gn(Ot),Q.error(Ot),console.error(We)}finally{Ws(!1)}},He=async N=>{if(!i){s(N.id);try{const E=await Wl.update({id:N.id,show:N.show?0:1});if(E.data.status!=="success")throw new Error(E.data.message||"request failed");Q.success(E.data.message||e("common.saved")),await Xr()}catch(E){Q.error(Xc(E,e("common.save_failed"))),console.error(E)}finally{s(null)}}},Ze=async N=>{if(i||!await t({title:e("common.delete"),description:e("server.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(N);const z=Nt;ft(q=>q.filter(ce=>ce.id!==N));try{const q=await Wl.drop(N);if(q.data.status!=="success")throw new Error(q.data.message||"request failed");Q.success(e("server.deleted"))}catch(q){ft(z),Q.error(Xc(q,e("common.save_failed"))),console.error(q)}finally{s(null)}},Ke=async N=>{if(!i){s(N);try{const E=await Wl.copy(N);if(E.data.status!=="success")throw new Error(E.data.message||"request failed");Q.success(e("server.copied")),await Xr()}catch(E){Q.error(Xc(E,e("common.save_failed"))),console.error(E)}finally{s(null)}}},Ye=f.useCallback(async()=>{if(!g.current){g.current=!0;try{const E=(await Kn.fetch("server")).data.data.server||{};p.current=String(E.server_token||"").trim()}catch(N){console.error(N)}finally{g.current=!1}}},[]),rt=f.useCallback(async N=>{if(a===null){l(N.id);try{const E=p.current;if(!E){g.current?Q.info(e("common.loading")):Q.error(e("system.v2node_docker_missing_token")),Ye();return}const q=String(localStorage.getItem("xboard_v2node_api_host")??"").trim()||c6(),ce=String(localStorage.getItem("xboard_v2node_tls_cert_url")??"").trim(),Me=String(localStorage.getItem("xboard_v2node_tls_key_url")??"").trim(),Le=!!(ce&&Me);if(!Le&&(ce||Me)){Q.error(e("system.v2node_docker_tls_url_invalid"));return}const Pt=Zc((N==null?void 0:N.code)??(N==null?void 0:N.node_id))||String(N.id),lt=String(localStorage.getItem("app_name")||"Xboard").trim()||"Xboard",We=xQ(lt,{toneType:"none",nonZh:"consecutive",separator:"_",v:!0}),Ot=fN(We)||"xboard",Mt=fN(N.type),Jt=fN(Pt),_r=["v2node",Mt,Jt,Ot].filter(Boolean).join("_").replace(/_+/g,"_"),Io=[`docker run -d --name ${_r.length>128?_r.slice(0,128):_r} --restart unless-stopped --network host \\`,`  -e V2NODE_API_HOST=${Mp(q)} \\`,`  -e V2NODE_NODE_ID=${Mp(Pt)} \\`,`  -e V2NODE_API_KEY=${Mp(E)} \\`,'  -e V2NODE_TIMEOUT="15" \\'];Le&&(Io.push(`  -e V2NODE_TLS_CERT_URL=${Mp(ce)} \\`),Io.push(`  -e V2NODE_TLS_KEY_URL=${Mp(Me)} \\`)),Io.push("  ghcr.io/studycloud111/v2node:main");const Il=Io.join(`
`),Lo=String(localStorage.getItem("xboard_v2node_other_command")??"").trimEnd(),gi=[];Lo.trim()&&gi.push(Lo.trimEnd()),gi.push(Il.trimEnd());const ks=Bl(N.protocol_settings),Ys=Number((ks==null?void 0:ks.version)??2);if(N.type==="hysteria"&&Ys===2){const LA=Uqe(N);LA&&gi.push(LA.trimEnd())}const $o=gi.filter(Boolean).join(`
`),nk=await KO($o);nk.ok&&nk.method==="clipboard"?Q.success(e("server.install_command_copied")):nk.ok?(Q.info(e("server.install_command_copied_fallback")),h($o),u(!0)):(Q.error(e("common.copy_failed")),h($o),u(!0))}catch(E){console.error(E),Q.error(Xc(E,e("common.copy_failed")))}finally{l(null)}}},[a,Ye,e]);f.useEffect(()=>{Ye()},[Ye]);const mn=f.useMemo(()=>{const N=new Map;for(const E of Et)N.set(String(E.id),E.name);return N},[Et]),Jr=f.useMemo(()=>{const N=new Map;for(const E of hn)N.set(String(E.id),E.remarks||String(E.id));return N},[hn]),Gn=f.useMemo(()=>{const N=Kt.trim().toLowerCase();return N?Et.filter(E=>E.name.toLowerCase().includes(N)||String(E.id).includes(N)):Et},[Et,Kt]),vr=f.useMemo(()=>{const N=Rr.trim().toLowerCase();return N?hn.filter(E=>(E.remarks||"").toLowerCase().includes(N)||String(E.id).includes(N)):hn},[hn,Rr]),Hs=f.useMemo(()=>{const N=be.trim().toLowerCase();return N?Et.filter(E=>E.name.toLowerCase().includes(N)||String(E.id).includes(N)):Et},[Et,be]),ka=f.useMemo(()=>{const N=Je.trim().toLowerCase();return N?hn.filter(E=>(E.remarks||"").toLowerCase().includes(N)||String(E.id).includes(N)):hn},[hn,Je]),_s=(N,E)=>{if(N.is_online===1)return E>0?"bg-emerald-500":"bg-yellow-500";if(N.is_online===0)return"bg-red-500";const z=String(N.available_status||"").toLowerCase();return z.includes("online")||z.includes("available")?E>0?"bg-emerald-500":"bg-yellow-500":"bg-red-500"},vt=f.useMemo(()=>Bl(Fe.protocolSettingsText),[Fe.protocolSettingsText]),br=f.useMemo(()=>Fe.protocolSettingsText.trim()!==""&&vt===null,[Fe.protocolSettingsText,vt]),Zm=f.useMemo(()=>{const N=Fe.type;return N==="vmess"||N==="vless"||N==="trojan"||N==="shadowsocks"||N==="hysteria"||N==="tuic"||N==="anytls"},[Fe.type]),ht=f.useCallback(N=>{un(E=>{const q={...Bl(E.protocolSettingsText)??Ap(E.type)};return N(q),{...E,protocolSettingsText:JSON.stringify(q,null,2)}})},[]),Rl=f.useCallback(N=>{if(br||!vt)return null;const E=yt(vt.tls_settings),q=String(E.cert_mode??"").trim()||"file",ce=String(E.reject_unknown_sni??"0").trim()==="1",Me=`${N}-cert-file`,Le=`${N}-key-file`,Pt=`${N}-dns-provider`,lt=`${N}-dns-env`;return o.jsxs("div",{className:"grid gap-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.v2node.tls_cert_title")}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.v2node.cert_mode")}),o.jsxs(it,{value:q,onValueChange:We=>ht(Ot=>{const Mt=We==="dns"||We==="http"||We==="self"?We:"file",Jt={...yt(Ot.tls_settings)};Jt.cert_mode=Mt,Ot.tls_settings=Jt}),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"file",children:e("server.v2node.cert_mode_file")}),o.jsx(fe,{value:"dns",children:e("server.v2node.cert_mode_dns")}),o.jsx(fe,{value:"http",children:e("server.v2node.cert_mode_http")}),o.jsx(fe,{value:"self",children:e("server.v2node.cert_mode_self")})]})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[o.jsx("div",{className:"break-words text-sm font-medium",children:e("server.v2node.reject_unknown_sni")}),o.jsx("div",{className:"break-words text-xs text-muted-foreground",children:e("server.v2node.reject_unknown_sni_hint")})]}),o.jsx(Dt,{className:"shrink-0",checked:ce,onCheckedChange:We=>ht(Ot=>{const Mt={...yt(Ot.tls_settings)};Mt.reject_unknown_sni=We?"1":"0",Ot.tls_settings=Mt})})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:Me,children:e("server.v2node.cert_file")}),o.jsx(J,{id:Me,value:String(E.cert_file??""),onChange:We=>{const Ot=We.target.value;ht(Mt=>{const Jt={...yt(Mt.tls_settings)},In=Ot.trim();In?Jt.cert_file=In:delete Jt.cert_file,Mt.tls_settings=Jt})},placeholder:"/etc/v2node/{protocol}{nodeid}.cer"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:Le,children:e("server.v2node.key_file")}),o.jsx(J,{id:Le,value:String(E.key_file??""),onChange:We=>{const Ot=We.target.value;ht(Mt=>{const Jt={...yt(Mt.tls_settings)},In=Ot.trim();In?Jt.key_file=In:delete Jt.key_file,Mt.tls_settings=Jt})},placeholder:"/etc/v2node/{protocol}{nodeid}.key"})]})]}),q==="dns"?o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:Pt,children:e("server.v2node.provider")}),o.jsx(J,{id:Pt,value:String(E.provider??""),onChange:We=>{const Ot=We.target.value;ht(Mt=>{const Jt={...yt(Mt.tls_settings)},In=Ot.trim();In?Jt.provider=In:delete Jt.provider,Mt.tls_settings=Jt})},placeholder:"cloudflare"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:lt,children:e("server.v2node.dns_env")}),o.jsx(gr,{id:lt,value:String(E.dns_env??""),onChange:We=>{const Ot=We.target.value;ht(Mt=>{const Jt={...yt(Mt.tls_settings)},In=Ot.trim();In?Jt.dns_env=In:delete Jt.dns_env,Mt.tls_settings=Jt})},placeholder:"CF_DNS_API_TOKEN=xxx,CF_ZONE_API_TOKEN=yyy",className:"min-h-[88px]"})]})]}):null]})},[ht,vt,br,e]),qt=f.useCallback(()=>{Re("");const N=Kqe(8);ht(E=>{const z={...yt(E.reality_settings??E.tls_settings)};z.short_id=N,E.reality_settings=z})},[ht]),ws=f.useCallback(()=>{Re("");try{const{privateKey:N,publicKey:E}=Bqe(),z=IF(E).replace(/=+$/g,""),q=IF(N).replace(/=+$/g,"");ht(ce=>{const Me={...yt(ce.reality_settings??ce.tls_settings)};Me.public_key=z,Me.private_key=q,ce.reality_settings=Me})}catch(N){Re(e("server.vless.key_pair_error")),console.error(N)}},[ht,e]),Gi=f.useCallback(()=>{rr("");const N=yt(vt==null?void 0:vt.network_settings);Ut(JSON.stringify(N,null,2)),dt(!0)},[vt]),Vx=f.useCallback(()=>{rr("");const N=Bt.trim();let E={};if(N)try{E=JSON.parse(N)}catch{rr(e("server.network_settings.validation.invalid_json"));return}if(!E||typeof E!="object"||Array.isArray(E)){rr(e("server.network_settings.validation.must_be_object"));return}ht(z=>{z.network_settings=E}),dt(!1)},[Bt,ht,e]),Qt=f.useMemo(()=>{if(Fe.type!=="shadowsocks"||vt===null)return null;const N=vt.cipher,E=typeof N=="string"?N:N==null?"":String(N),z=vt.plugin;let q=typeof z=="string"?z:z==null?"":String(z);q=q.trim(),(q==="obfs-local"||q==="simple-obfs")&&(q="obfs");const ce=vt.obfs,Me=typeof ce=="string"?ce:ce==null?"":String(ce),Le=q||(String(Me).trim()?"obfs":""),Pt=vt.plugin_opts,lt=typeof Pt=="string"?Pt:Pt==null?"":String(Pt),We=Oa(lt),Ot=yt(vt.obfs_settings),Mt=String(We.obfs||Me||"http").trim()||"http",Jt=String(We["obfs-host"]??Ot.host??"").trim(),In=String(We.path??Ot.path??"").trim(),_r=String(We.mode||"websocket").trim()||"websocket",Ks=String(We.host||"").trim(),Io=String(We.path||(_r.toLowerCase()==="websocket"?"/":"")).trim(),Il=String(We.tls||"").trim().toLowerCase(),Lo=Il==="true"||Il==="1",gi=yt(vt.network_settings),ks=!!gi.acceptProxyProtocol,Ys=String(gi.Host??gi.host??"").trim(),Kx=String(gi.path??"").trim();return{cipher:E.trim(),plugin:Le,pluginOpts:lt,obfsMode:Mt,obfsHost:Jt,obfsPath:In,v2rayMode:_r,v2rayHost:Ks,v2rayPath:Io,v2rayTls:Lo,v2nodeAcceptProxyProtocol:ks,v2nodeHttpHost:Ys,v2nodeHttpPath:Kx}},[Fe.type,vt]),Mh=f.useMemo(()=>Array.from(mN),[]),Hx=f.useMemo(()=>{var ce;const N=(ce=Ct==null?void 0:Ct.shadowsocks)!=null&&ce.plugins&&Ct.shadowsocks.plugins.length?Ct.shadowsocks.plugins:["none","obfs","v2ray-plugin"],E=new Set;for(const Me of N){const Le=String(Me||"").trim();Le&&E.add(Le)}E.add("none");for(const Me of Nt){if(Me.type!=="shadowsocks")continue;const Le=Bl(Me.protocol_settings);let Pt=typeof(Le==null?void 0:Le.plugin)=="string"?String(Le.plugin).trim():"";(Pt==="obfs-local"||Pt==="simple-obfs")&&(Pt="obfs"),E.add(Pt||"none")}const z=String((Qt==null?void 0:Qt.plugin)||"").trim();E.add(z||"none");const q=Array.from(E).filter(Boolean);return q.sort((Me,Le)=>Me==="none"?-1:Le==="none"?1:Me.localeCompare(Le)),q},[Nt,Ct,Qt==null?void 0:Qt.plugin]),Qi=f.useMemo(()=>{var ce;const N=(ce=Ct==null?void 0:Ct.shadowsocks)!=null&&ce.obfs_modes&&Ct.shadowsocks.obfs_modes.length?Ct.shadowsocks.obfs_modes:["http","tls"],E=[],z=new Set,q=Me=>{const Le=String(Me||"").trim();!Le||z.has(Le)||(z.add(Le),E.push(Le))};for(const Me of N)q(Me);return q(Qt==null?void 0:Qt.obfsMode),E},[Ct,Qt==null?void 0:Qt.obfsMode]),JJ=f.useMemo(()=>{var ce;const N=(ce=Ct==null?void 0:Ct.shadowsocks)!=null&&ce.v2ray_modes&&Ct.shadowsocks.v2ray_modes.length?Ct.shadowsocks.v2ray_modes:["websocket","quic"],E=[],z=new Set,q=Me=>{const Le=String(Me||"").trim();!Le||z.has(Le)||(z.add(Le),E.push(Le))};for(const Me of N)q(Me);return q(Qt==null?void 0:Qt.v2rayMode),E},[Ct,Qt==null?void 0:Qt.v2rayMode]),Xi=f.useMemo(()=>{if(Fe.type!=="vmess"||vt===null)return null;const N=Number.isFinite(Number(vt.tls))?Number(vt.tls):0,E=vt.network;let z=typeof E=="string"?E:E==null?"":String(E);z=z.trim()||"tcp",z.toLowerCase()==="websocket"&&(z="ws");const q=yt(vt.tls_settings);return{tls:N,network:z,tlsSettings:q}},[Fe.type,vt]),Uc=f.useMemo(()=>{if(Fe.type!=="tuic"||vt===null)return null;const N=Number.isFinite(Number(vt.version))?Number(vt.version):5,E=yt(vt.tls),z=!!vt.zero_rtt_handshake,q=vt.congestion_control,Me=(typeof q=="string"?q.trim():q==null?"":String(q).trim()).toLowerCase().replace(/[\s-]+/g,"_"),Le=Me==="bbr"?"bbr":Me==="cubic"?"cubic":Me==="new_reno"||Me==="newreno"?"new_reno":"",Pt=vt.udp_relay_mode,We=(typeof Pt=="string"?Pt.trim():Pt==null?"":String(Pt).trim()).toLowerCase(),Ot=We==="quic"?"quic":We==="native"?"native":"",Mt=vt.alpn,Jt=Array.isArray(Mt)?Mt:Mt?[Mt]:[],_r=String(Jt[0]??"").trim().toLowerCase().replace(/\s+/g,"");return{version:N===4?4:5,congestionControl:Le||"cubic",udpRelayMode:Ot||"native",alpn:(_r==="http/1.1"||_r==="http1.1"?"http/1.1":_r==="h2"||_r==="http/2"||_r==="http2"?"h2":_r==="h3"||_r==="http/3"||_r==="http3"?"h3":"")||"h3",zeroRttHandshake:z,tls:E}},[Fe.type,vt]),Jm=f.useMemo(()=>{if(Fe.type!=="anytls"||vt===null)return null;const N=yt(vt.tls),E=vt.network;let z=typeof E=="string"?E:E==null?"":String(E);z=z.trim()||"tcp",z.toLowerCase()==="websocket"&&(z="ws");const q=yt(vt.network_settings),ce=vt.padding_scheme,Me=Array.isArray(ce)?ce.map(Le=>String(Le??"").trim()).filter(Boolean):ce?[String(ce).trim()].filter(Boolean):[];return{tls:N,network:z,networkSettings:q,scheme:Me.length?Me:[...Yo]}},[Fe.type,vt]),Ht=f.useMemo(()=>{if(Fe.type!=="vless"||vt===null)return null;const N=Number.isFinite(Number(vt.tls))?Number(vt.tls):0,E=String(vt.network||"tcp"),z=vt.flow,q=typeof z=="string"?z:z==null?"":String(z),ce=vt.client_fingerprint,Me=typeof ce=="string"?ce.trim():ce==null?"":String(ce).trim(),Le=yt(vt.tls_settings),Pt=vt.encryption,lt=typeof Pt=="string"?Pt.trim():Pt==null?"":String(Pt).trim(),We=yt(vt.encryption_settings),Ot=N===2?vt.reality_settings??vt.tls_settings:vt.reality_settings,Mt=yt(Ot);return{tls:N,network:E,flow:q,clientFingerprint:Me,tlsSettings:Le,encryption:lt,encryptionSettings:We,realitySettings:Mt}},[Fe.type,vt]),js=f.useMemo(()=>{if(Fe.type!=="trojan"||vt===null)return null;const N=String(vt.network||"tcp"),E=vt.server_name,z=typeof E=="string"?E:E==null?"":String(E),q=!!vt.allow_insecure;return{network:N,serverName:z,allowInsecure:q}},[Fe.type,vt]),eee=f.useMemo(()=>{const N=[],E=new Set,z=q=>{const ce=String(q||"").trim();!ce||E.has(ce)||(E.add(ce),N.push(ce))};for(const q of $F)z(q);for(const q of Nt){if(q.type!=="trojan")continue;const ce=Bl(q.protocol_settings),Me=typeof(ce==null?void 0:ce.network)=="string"?String(ce.network).trim():"";z(Me)}return z(js==null?void 0:js.network),N},[Nt,js==null?void 0:js.network]),tee=f.useMemo(()=>{const N=[],E=new Set,z=q=>{const ce=String(q||"").trim();!ce||E.has(ce)||(E.add(ce),N.push(ce))};for(const q of Qqe)z(q);return z(Xi==null?void 0:Xi.network),N},[Xi==null?void 0:Xi.network]),nee=f.useMemo(()=>{var ce;const N=(ce=Ct==null?void 0:Ct.vless)!=null&&ce.networkOptions&&Ct.vless.networkOptions.length?Ct.vless.networkOptions:$F,E=[],z=new Set,q=Me=>{const Le=String(Me||"").trim();!Le||z.has(Le)||(z.add(Le),E.push(Le))};for(const Me of N)q(Me);for(const Me of Nt){if(Me.type!=="vless")continue;const Le=Bl(Me.protocol_settings),Pt=typeof(Le==null?void 0:Le.network)=="string"?String(Le.network).trim():"";q(Pt)}return q(Ht==null?void 0:Ht.network),E},[Nt,Ct,Ht==null?void 0:Ht.network]),ree=f.useMemo(()=>{var ce;const N=(ce=Ct==null?void 0:Ct.vless)!=null&&ce.flowOptions&&Ct.vless.flowOptions.length?Ct.vless.flowOptions:Yqe,E=new Set(N.map(Me=>String(Me)));E.add("none");for(const Me of Nt){if(Me.type!=="vless")continue;const Le=Bl(Me.protocol_settings),Pt=typeof(Le==null?void 0:Le.flow)=="string"?String(Le.flow).trim():"";Pt&&E.add(Pt)}const z=String((Ht==null?void 0:Ht.flow)||"").trim();z&&E.add(z);const q=Array.from(E);return q.sort((Me,Le)=>{const Pt=Me.toLowerCase(),lt=Le.toLowerCase();return Pt==="none"?-1:lt==="none"?1:Pt.localeCompare(lt)}),q},[Nt,Ct,Ht==null?void 0:Ht.flow]),zA=N=>Zc((N==null?void 0:N.code)??(N==null?void 0:N.node_id)),iee=N=>zA(N)||String(N.id),DA=N=>N.parent_id===null||N.parent_id===void 0?String(N.id):`${N.id}---${N.parent_id}`,RA=N=>{const E=iee(N);if(N.parent_id===null||N.parent_id===void 0)return E;const z=(N==null?void 0:N.parent)||Nt.find(ce=>ce.id===N.parent_id),q=zA(z)||String(N.parent_id);return`${E}---${q}`},IA=Fe.type==="vless"?(Ht==null?void 0:Ht.network)||"tcp":Fe.type==="trojan"?(js==null?void 0:js.network)||"tcp":Fe.type==="vmess"&&(Xi==null?void 0:Xi.network)||"tcp";return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:ae("flex flex-col gap-3 md:flex-row md:items-center md:flex-1",P&&"opacity-60"),children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:y,onChange:N=>{x(N.target.value),k(1)},placeholder:e("server.search_placeholder"),className:"h-9 pl-9",disabled:P})]}),o.jsxs(it,{value:b,onValueChange:N=>{w(N),k(1)},disabled:P,children:[o.jsx(et,{className:"h-9 w-[180px]",children:o.jsx(st,{placeholder:e("server.type_filter")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("server.type_all")}),LF.map(N=>o.jsx(fe,{value:N.value,children:o.jsx("span",{className:ae("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium",Tp[N.value].className),children:Tp[N.value].label})},N.value))]})]}),o.jsxs(it,{value:v,onValueChange:N=>{_(N),k(1)},disabled:P,children:[o.jsx(et,{className:"h-9 w-[180px]",children:o.jsx(st,{placeholder:e("server.table.group")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("server.table.group")}),Et.map(N=>o.jsx(fe,{value:String(N.id),children:N.name},N.id))]})]})]}),o.jsx("div",{className:"flex items-center gap-2 md:ml-auto",children:P?o.jsxs(o.Fragment,{children:[o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:Oh,disabled:B,children:e("server.sort_cancel")}),o.jsx(W,{size:"sm",className:"h-9",onClick:Mi,disabled:B||!ja,children:e(B?"common.saving":"server.sort_save")})]}):o.jsxs(o.Fragment,{children:[o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsxs(W,{size:"sm",className:"h-9",children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("server.add")]})}),o.jsx(fa,{align:"start",children:LF.map(N=>o.jsx(nn,{onClick:()=>ye(N.value),children:o.jsx("span",{className:ae("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium",Tp[N.value].className),children:N.label})},N.value))})]}),o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:Xr,disabled:n,children:o.jsx(pn,{className:ae("h-4 w-4",n&&"animate-spin")})}),o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:Rn,disabled:n||Zr.length<2,children:e("server.sort")}),G.size?o.jsx(W,{variant:"outline",size:"icon",className:"h-9 w-9",onClick:()=>ie(new Set),"aria-label":e("server.bulk.clear_selection"),title:e("server.bulk.clear_selection"),children:o.jsx(Fd,{className:"h-4 w-4"})}):null,o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:I,disabled:G.size===0,children:[e("server.bulk.open"),G.size?` (${G.size})`:""]})]})})]}),P&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:Fc.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("server.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:P?o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-3 py-3 w-[200px]",children:e("server.sort_column")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("server.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("server.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[240px]",children:e("server.table.group")})]}):o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 w-[44px]",children:o.jsx(Un,{checked:Ch,onCheckedChange:N=>Bc(N===!0)})}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("server.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("server.table.enable")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("server.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("server.table.address")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("server.table.online")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("server.table.rate")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("server.table.group")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[96px]",children:e("server.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:Fc.map((N,E)=>{var Pt,lt;const z=i===N.id,q=`${N.host}:${N.port}`,ce=Number(N.online??0),Me=(N.groups||[]).map(We=>We.name).filter(Boolean).length>0?(N.groups||[]).map(We=>We.name).filter(Boolean):Wh(N.group_ids).map(We=>mn.get(We)||We),Le=_s(N,ce);if(P){const We=E;return o.jsxs("tr",{className:ae("hover:bg-muted/30",(T==null?void 0:T.id)===N.id&&"bg-primary/5",L===N.id&&"opacity-60"),onDragOver:Ot=>ed(Ot,N.id),onDrop:Ot=>td(Ot,N.id),onDragLeave:()=>{$(Ot=>(Ot==null?void 0:Ot.id)===N.id?null:Ot)},children:[o.jsx("td",{className:"px-3 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:ae("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",B?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!B,onDragStart:Ot=>Ju(Ot,N.id),onDragEnd:zl,"aria-label":"Drag",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:We+1}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Ph(N.id),disabled:B||We<=0,"aria-label":"Top",children:o.jsx(Qy,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Al(N.id),disabled:B||We<=0,"aria-label":"Up",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Vs(N.id),disabled:B||We>=A.length-1,"aria-label":"Down",children:o.jsx(xh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>Zu(N.id),disabled:B||We>=A.length-1,"aria-label":"Bottom",children:o.jsx(Gy,{className:"h-4 w-4"})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium tabular-nums",((Pt=Tp[N.type])==null?void 0:Pt.className)||"border-border/70"),title:DA(N),children:RA(N)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:ae("h-2 w-2 rounded-full",Le)}),o.jsx("span",{className:"truncate font-medium text-foreground",children:N.name})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:Me.length?o.jsx("div",{className:"flex flex-wrap gap-1",children:Me.map((Ot,Mt)=>o.jsx("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:Ot},`${Ot}-${Mt}`))}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})]},N.id)}return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:We=>Se.openMenu(We,N),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Un,{checked:G.has(N.id),onCheckedChange:We=>ie(Ot=>{const Mt=new Set(Ot);return We===!0?Mt.add(N.id):Mt.delete(N.id),Mt})})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-medium tabular-nums",((lt=Tp[N.type])==null?void 0:lt.className)||"border-border/70"),title:DA(N),children:RA(N)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!N.show,disabled:z,onCheckedChange:()=>He(N)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:ae("h-2 w-2 rounded-full",Le)}),o.jsx("div",{className:"min-w-0",children:o.jsx("div",{className:"truncate font-medium text-foreground",title:N.name,children:N.name})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"truncate text-sm text-foreground tabular-nums",title:q,children:q}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.backend_port",{port:N.server_port??"-"})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Jf,{className:"h-4 w-4"}),o.jsx("span",{className:"tabular-nums text-foreground",children:ce})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("span",{className:"inline-flex items-center rounded-full border border-border/70 px-2 py-0.5 text-xs font-medium tabular-nums",children:[Number(N.rate??1).toFixed(2)," x"]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:Me.length?o.jsx("div",{className:"flex flex-wrap gap-1",children:Me.map((We,Ot)=>o.jsx("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:We},`${We}-${Ot}`))}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:z,children:o.jsx(U6,{className:"h-4 w-4"})})}),o.jsxs(fa,{align:"end",children:[o.jsxs(nn,{onSelect:()=>ve(N),children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),o.jsxs(nn,{onSelect:()=>rt(N),disabled:z||a!==null,children:[o.jsx(KD,{className:"h-4 w-4 mr-2"}),e("server.copy_install_command")]}),o.jsxs(nn,{onSelect:()=>Ke(N.id),children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("server.copy")]}),o.jsx(es,{}),o.jsxs(nn,{className:"text-destructive focus:text-destructive",onSelect:()=>Ze(N.id),children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]})]})]})})]},N.id)})})]})})})}),!P&&o.jsx(ls,{page:j,total:io,pageSize:C,onPageChange:N=>k(N),onPageSizeChange:N=>{O(N),k(1)},loading:n}),o.jsx(on,{open:c,onOpenChange:u,children:o.jsxs(rn,{className:"sm:max-w-[860px]",children:[o.jsxs(ln,{children:[o.jsx(cn,{children:e("server.install_command_preview_title")}),o.jsx("div",{className:"text-sm text-muted-foreground",children:e("server.install_command_preview_desc")})]}),o.jsx(gr,{ref:m,value:d,readOnly:!0,className:"min-h-[360px] font-mono text-xs"}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",onClick:()=>u(!1),children:e("common.close")}),o.jsx(W,{type:"button",onClick:async()=>{(await KO(d)).ok?Q.success(e("server.install_command_copied")):Q.error(e("common.copy_failed"))},disabled:!d.trim(),children:e("common.copy")})]})]})}),o.jsx(on,{open:X,onOpenChange:N=>{xe||(se(N),N||(ge(""),oe(null),Ie(""),Xe("")))},children:o.jsxs(rn,{className:"sm:max-w-[760px]",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("server.bulk.title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("server.bulk.selected",{count:G.size})}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Un,{checked:Pe,onCheckedChange:N=>Y(N===!0),disabled:xe}),o.jsx("span",{children:e("server.fields.rate")})]}),o.jsx(J,{type:"number",min:0,step:"0.1",value:te,onChange:N=>Ne(N.target.value),disabled:!Pe||xe,className:"h-9",placeholder:"1"})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Un,{checked:Te,onCheckedChange:N=>V(N===!0),disabled:xe}),o.jsx("span",{children:e("server.bulk.rate_time")})]}),Te?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-muted/20 p-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.fields.rate_time_enable")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.fields.rate_time_ranges_hint")})]}),o.jsx(Dt,{checked:ue,onCheckedChange:N=>{pe(N),N&&$e.length===0&&Wc()},disabled:xe})]}),ue?o.jsxs("div",{className:"rounded-md border border-border/70 bg-muted/20 p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rules")}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:Wc,disabled:xe,children:e("server.rate_time_add")})]}),o.jsx("div",{className:"mt-3 grid gap-3",children:$e.map((N,E)=>o.jsxs("div",{className:"rounded-md border border-border/70 bg-background p-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rule",{index:E+1})}),$e.length>1?o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>S(E),disabled:xe,"aria-label":e("common.delete"),children:o.jsx(Pn,{className:"h-4 w-4"})}):null]}),o.jsxs("div",{className:"mt-2 grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-1",children:[o.jsx(ee,{children:e("server.rate_time_start")}),o.jsx(J,{value:N.start,onChange:z=>Dl(E,"start",z.target.value),disabled:xe,className:"h-9",placeholder:"00:00"})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx(ee,{children:e("server.rate_time_end")}),o.jsx(J,{value:N.end,onChange:z=>Dl(E,"end",z.target.value),disabled:xe,className:"h-9",placeholder:"23:59"})]}),o.jsxs("div",{className:"grid gap-1",children:[o.jsx(ee,{children:e("server.rate_time_rate")}),o.jsx(J,{type:"number",min:0,step:"0.1",value:N.rate,onChange:z=>Dl(E,"rate",z.target.value),disabled:xe,className:"h-9",placeholder:e("server.rate_time_rate_placeholder")})]})]})]},E))})]}):null]}):null]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Un,{checked:K,onCheckedChange:N=>ne(N===!0),disabled:xe}),o.jsx("span",{children:e("server.fields.group_ids")})]}),K?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(J,{value:be,onChange:N=>Ie(N.target.value),disabled:xe,className:"h-9",placeholder:e("common.search")}),o.jsx("div",{className:"max-h-[240px] overflow-auto rounded-md border border-border/70 bg-background",children:Hs.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:e("common.command_empty")}):Hs.map(N=>{const E=String(N.id),z=Ce.includes(E);return o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted/30",children:[o.jsx(Un,{checked:z,onCheckedChange:q=>Z(ce=>{const Me=new Set(ce);return q===!0?Me.add(E):Me.delete(E),Array.from(Me)}),disabled:xe}),o.jsx("span",{className:"min-w-0 truncate",children:N.name}),o.jsxs("span",{className:"ml-auto text-xs text-muted-foreground tabular-nums",children:["#",E]})]},E)})}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>Z(Et.map(N=>String(N.id))),disabled:xe||Et.length===0,children:e("common.select_all")}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>Z([]),disabled:xe,children:e("server.bulk.clear")})]})]}):null]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-3",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[o.jsx(Un,{checked:re,onCheckedChange:N=>H(N===!0),disabled:xe}),o.jsx("span",{children:e("server.fields.route_ids")})]}),re?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(J,{value:Je,onChange:N=>Xe(N.target.value),disabled:xe,className:"h-9",placeholder:e("common.search")}),o.jsx("div",{className:"max-h-[240px] overflow-auto rounded-md border border-border/70 bg-background",children:ka.length===0?o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:e("common.command_empty")}):ka.map(N=>{const E=String(N.id),z=we.includes(E),q=N.remarks||E;return o.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-muted/30",children:[o.jsx(Un,{checked:z,onCheckedChange:ce=>Be(Me=>{const Le=new Set(Me);return ce===!0?Le.add(E):Le.delete(E),Array.from(Le)}),disabled:xe}),o.jsx("span",{className:"min-w-0 truncate",children:q}),o.jsxs("span",{className:"ml-auto text-xs text-muted-foreground tabular-nums",children:["#",E]})]},E)})}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>Be(hn.map(N=>String(N.id))),disabled:xe||hn.length===0,children:e("common.select_all")}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>Be([]),disabled:xe,children:e("server.bulk.clear")})]})]}):null]}),De?o.jsx("div",{className:"text-sm text-red-600",children:De}):null,Ve?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("server.bulk.progress",{done:Ve.done,total:Ve.total})}):null,o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",onClick:()=>se(!1),disabled:xe,children:e("common.cancel")}),o.jsx(W,{type:"button",onClick:he,disabled:xe,children:e(xe?"common.saving":"server.bulk.apply")})]})]})]})}),o.jsx(on,{open:mi,onOpenChange:pi,children:o.jsxs(rn,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(ln,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(cn,{children:Fe.id?e("server.edit_title"):e("server.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"server-name",children:e("server.fields.name")}),o.jsx(J,{id:"server-name",value:Fe.name,onChange:N=>un(E=>({...E,name:N.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"server-rate",children:e("server.fields.rate")}),o.jsx(J,{id:"server-rate",type:"number",min:0,step:"0.1",value:Fe.rate,onChange:N=>un(E=>({...E,rate:N.target.value})),placeholder:"1"})]})]}),o.jsx("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_title")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.rate_time_desc")})]}),o.jsx(Dt,{checked:Fe.rate_time_enable,onCheckedChange:N=>{un(E=>({...E,rate_time_enable:N})),N&&Or.length===0&&nd()}})]})}),Fe.rate_time_enable?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rules")}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-8",onClick:nd,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("server.rate_time_add")]})]}),o.jsx("div",{className:"mt-3 space-y-3",children:Or.map((N,E)=>o.jsxs("div",{className:"rounded-lg border border-border/70 bg-card p-3",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.rate_time_rule",{index:E+1})}),o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>Eh(E),"aria-label":e("common.delete"),children:o.jsx(Pn,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.rate_time_start")}),o.jsx(J,{type:"time",value:N.start,onChange:z=>qc(E,"start",z.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.rate_time_end")}),o.jsx(J,{type:"time",value:N.end,onChange:z=>qc(E,"end",z.target.value)})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.rate_time_rate")}),o.jsx(J,{type:"number",min:0,step:"0.1",value:N.rate,onChange:z=>qc(E,"rate",z.target.value),placeholder:e("server.rate_time_rate_placeholder")})]})]})]},`${N.start}-${N.end}-${E}`))}),o.jsx("div",{className:"mt-3 text-xs text-muted-foreground",children:e("server.fields.rate_time_ranges_hint")})]}):null,o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"server-tags",children:e("server.fields.tags")}),o.jsx(J,{id:"server-tags",value:Fe.tagsText,onChange:N=>un(E=>({...E,tagsText:N.target.value})),placeholder:"tag1, tag2"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.fields.group_ids")}),o.jsxs(bl,{open:Tt,onOpenChange:N=>{jt(N),N||At("")},children:[o.jsx(_l,{asChild:!0,children:o.jsx("div",{className:ae("min-h-9 w-full cursor-text rounded-md border border-border/70 bg-background px-3 py-2 text-sm shadow-sm transition-colors focus-within:outline-none focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2"),onMouseDown:N=>{var E;N.button===0&&(N.preventDefault(),(E=Oe.current)==null||E.focus(),jt(!0))},children:o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[Fe.group_ids.map(N=>o.jsxs("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:[o.jsx("span",{className:"max-w-[180px] truncate",children:mn.get(N)||N}),o.jsx("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-full hover:bg-muted/40",onMouseDown:E=>{E.preventDefault(),E.stopPropagation()},onClick:E=>{E.preventDefault(),E.stopPropagation(),un(z=>({...z,group_ids:z.group_ids.filter(q=>q!==N)}))},"aria-label":e("common.remove"),title:e("common.remove"),children:o.jsx(Fd,{className:"h-3 w-3"})})]},N)),o.jsx("input",{ref:Oe,value:Kt,onChange:N=>{At(N.target.value),Tt||jt(!0)},onFocus:()=>jt(!0),onMouseDown:N=>{N.stopPropagation()},onKeyDown:N=>{if(N.key==="Escape"){jt(!1),At(""),N.preventDefault(),N.stopPropagation();return}(N.key==="Backspace"||N.key==="Delete")&&!Kt&&(un(E=>E.group_ids.length?{...E,group_ids:E.group_ids.slice(0,-1)}:E),N.preventDefault())},className:"min-w-[96px] flex-1 bg-transparent p-0 text-sm outline-none placeholder:text-muted-foreground",placeholder:Fe.group_ids.length?"":e("server.fields.group_ids_placeholder")})]})})}),o.jsx(Po,{align:"start",className:"w-[320px] p-1",onOpenAutoFocus:N=>{var E;N.preventDefault(),(E=Oe.current)==null||E.focus()},onCloseAutoFocus:N=>{N.preventDefault()},children:o.jsx("div",{className:"max-h-[60vh] overflow-auto p-1",children:Et.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"-"}):Gn.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:e("common.command_empty")}):Gn.map(N=>{const E=String(N.id),z=Fe.group_ids.includes(E);return o.jsxs("button",{type:"button",className:ae("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm hover:bg-muted/40",z&&"bg-muted/20"),onMouseDown:q=>{q.preventDefault()},onClick:()=>un(q=>{const ce=new Set(q.group_ids);return ce.has(E)?ce.delete(E):ce.add(E),{...q,group_ids:Array.from(ce)}}),children:[o.jsx(Un,{checked:z,className:"pointer-events-none"}),o.jsxs("span",{className:"flex w-full items-center justify-between gap-2",children:[o.jsx("span",{className:"truncate",children:N.name}),o.jsxs("span",{className:"shrink-0 text-xs text-muted-foreground tabular-nums",children:["ID: ",N.id]})]})]},N.id)})})})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.fields.group_ids_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.fields.route_ids")}),o.jsxs(bl,{open:Dn,onOpenChange:N=>{ur(N),N||Cr("")},children:[o.jsx(_l,{asChild:!0,children:o.jsx("div",{className:ae("min-h-9 w-full cursor-text rounded-md border border-border/70 bg-background px-3 py-2 text-sm shadow-sm transition-colors focus-within:outline-none focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2"),onMouseDown:N=>{var E;N.button===0&&(N.preventDefault(),(E=fn.current)==null||E.focus(),ur(!0))},children:o.jsxs("div",{className:"flex flex-wrap items-center gap-1",children:[Fe.route_ids.map(N=>o.jsxs("span",{className:"inline-flex items-center rounded-full border border-border/70 bg-muted/20 px-2 py-0.5 text-xs text-muted-foreground",children:[o.jsx("span",{className:"max-w-[180px] truncate",children:Jr.get(N)||N}),o.jsx("button",{type:"button",className:"ml-1 inline-flex h-4 w-4 items-center justify-center rounded-full hover:bg-muted/40",onMouseDown:E=>{E.preventDefault(),E.stopPropagation()},onClick:E=>{E.preventDefault(),E.stopPropagation(),un(z=>({...z,route_ids:z.route_ids.filter(q=>q!==N)}))},"aria-label":e("common.remove"),title:e("common.remove"),children:o.jsx(Fd,{className:"h-3 w-3"})})]},N)),o.jsx("input",{ref:fn,value:Rr,onChange:N=>{Cr(N.target.value),Dn||ur(!0)},onFocus:()=>ur(!0),onMouseDown:N=>{N.stopPropagation()},onKeyDown:N=>{if(N.key==="Escape"){ur(!1),Cr(""),N.preventDefault(),N.stopPropagation();return}(N.key==="Backspace"||N.key==="Delete")&&!Rr&&(un(E=>E.route_ids.length?{...E,route_ids:E.route_ids.slice(0,-1)}:E),N.preventDefault())},className:"min-w-[96px] flex-1 bg-transparent p-0 text-sm outline-none placeholder:text-muted-foreground",placeholder:Fe.route_ids.length?"":e("server.fields.route_ids_placeholder")})]})})}),o.jsx(Po,{align:"start",className:"w-[320px] p-1",onOpenAutoFocus:N=>{var E;N.preventDefault(),(E=fn.current)==null||E.focus()},onCloseAutoFocus:N=>{N.preventDefault()},children:o.jsx("div",{className:"max-h-[60vh] overflow-auto p-1",children:hn.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"-"}):vr.length===0?o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:e("common.command_empty")}):vr.map(N=>{const E=String(N.id),z=Fe.route_ids.includes(E);return o.jsxs("button",{type:"button",className:ae("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm hover:bg-muted/40",z&&"bg-muted/20"),onMouseDown:q=>{q.preventDefault()},onClick:()=>un(q=>{const ce=new Set(q.route_ids);return ce.has(E)?ce.delete(E):ce.add(E),{...q,route_ids:Array.from(ce)}}),children:[o.jsx(Un,{checked:z,className:"pointer-events-none"}),o.jsxs("span",{className:"flex w-full items-center justify-between gap-2",children:[o.jsx("span",{className:"truncate",children:N.remarks||"-"}),o.jsxs("span",{className:"shrink-0 text-xs text-muted-foreground tabular-nums",children:["ID: ",N.id]})]})]},N.id)})})})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.fields.route_ids_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"server-host",children:e("server.fields.host")}),o.jsx(J,{id:"server-host",value:Fe.host,onChange:N=>un(E=>({...E,host:N.target.value})),placeholder:"1.2.3.4"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"server-port",children:e("server.fields.port")}),o.jsx(J,{id:"server-port",value:Fe.port,onChange:N=>un(E=>({...E,port:N.target.value})),placeholder:"443  10000-20000"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"server-server-port",children:e("server.fields.server_port")}),o.jsx(J,{id:"server-server-port",type:"number",value:Fe.server_port,onChange:N=>un(E=>({...E,server_port:N.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.fields.parent_id")}),o.jsxs(it,{value:Fe.parent_id,onValueChange:N=>un(E=>({...E,parent_id:N})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.fields.parent_id_placeholder")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"null",children:e("server.fields.parent_id_none")}),Nt.filter(N=>N.type===Fe.type&&N.id!==Fe.id).sort((N,E)=>N.id-E.id).map(N=>o.jsxs(fe,{value:String(N.id),children:[N.name," (ID: ",N.id,")"]},N.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"server-node-id",children:e("server.fields.node_id")}),o.jsx(J,{id:"server-node-id",type:"number",min:0,step:1,value:Fe.node_id,onChange:N=>un(E=>({...E,node_id:N.target.value})),placeholder:e("server.fields.node_id_placeholder")})]})]}),Zm?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.reporting.title")}),br||!vt?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"node-report-min-traffic",children:e("server.v2node.node_report_min_traffic")}),o.jsx(J,{id:"node-report-min-traffic",type:"number",min:0,step:1,value:RF(vt.node_report_min_traffic),onChange:N=>{const E=N.target.value;ht(z=>{const q=E.trim();if(!q){delete z.node_report_min_traffic;return}const ce=Number(q);!Number.isFinite(ce)||ce<0||(z.node_report_min_traffic=Math.trunc(ce))})},placeholder:"0"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.v2node.node_report_min_traffic_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"device-online-min-traffic",children:e("server.v2node.device_online_min_traffic")}),o.jsx(J,{id:"device-online-min-traffic",type:"number",min:0,step:1,value:RF(vt.device_online_min_traffic),onChange:N=>{const E=N.target.value;ht(z=>{const q=E.trim();if(!q){delete z.device_online_min_traffic;return}const ce=Number(q);!Number.isFinite(ce)||ce<0||(z.device_online_min_traffic=Math.trunc(ce))})},placeholder:"0"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.v2node.device_online_min_traffic_hint")})]})]})]}):null,Fe.type==="shadowsocks"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.title")}),br||!Qt?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.shadowsocks.cipher")}),o.jsxs(it,{value:(()=>{if(gt==="custom")return"__custom__";const N=String(Qt.cipher||"").trim();return Mh.includes(N)?N:Mh[0]})(),onValueChange:N=>{if(N==="__custom__"){Ft("custom");return}Ft("preset"),ht(E=>{E.cipher=N})},children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.shadowsocks.cipher_placeholder")})}),o.jsxs(tt,{children:[Mh.map(N=>o.jsx(fe,{value:N,children:N},N)),o.jsx(fe,{value:"__custom__",children:e("server.shadowsocks.cipher_custom")})]})]}),gt==="custom"?o.jsx(J,{value:Qt.cipher,onChange:N=>{const E=N.target.value;ht(z=>{z.cipher=E})},onBlur:N=>{const E=N.target.value.trim();ht(z=>{z.cipher=E})},placeholder:e("server.shadowsocks.cipher_placeholder")}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.shadowsocks.plugin")}),o.jsxs(it,{value:(()=>{const N=String(Qt.plugin||"").trim();return N||"none"})(),onValueChange:N=>ht(E=>{if(N==="none"){delete E.plugin,delete E.plugin_opts,delete E.obfs,delete E.obfs_settings;return}E.plugin=N;const z=Oa(E.plugin_opts);if(N==="obfs"){const q=String(z.obfs||E.obfs||"http").trim()||"http";z.obfs=q,E.obfs=q;const ce={...yt(E.obfs_settings)},Me=String(z["obfs-host"]??ce.host??"").trim(),Le=String(z.path??ce.path??"").trim();Me?(z["obfs-host"]=Me,ce.host=Me):(delete z["obfs-host"],delete ce.host),Le?(z.path=Le,ce.path=Le):(delete z.path,delete ce.path),E.obfs_settings=Object.keys(ce).length?ce:null,E.plugin_opts=Zs(z,["obfs","obfs-host","path"])||null;return}if(N==="v2ray-plugin"){const q=String(z.mode||"websocket").trim()||"websocket";z.mode=q,!String(z.path||"").trim()&&q.toLowerCase()==="websocket"&&(z.path="/");const ce=String(z.tls||"").trim().toLowerCase();ce==="true"||ce==="1"?z.tls="true":delete z.tls,E.plugin_opts=Zs(z,["mode","host","path","tls"])||null,delete E.obfs,delete E.obfs_settings}}),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.shadowsocks.plugin_placeholder")})}),o.jsx(tt,{children:Hx.map(N=>o.jsx(fe,{value:N,children:N==="none"?e("server.shadowsocks.plugin_none"):N==="obfs"?e("server.shadowsocks.plugin_obfs"):N==="v2ray-plugin"?e("server.shadowsocks.plugin_v2ray"):N},N))})]})]})]}),String(Qt.plugin||"").trim()==="obfs"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.obfs_title")}),o.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.shadowsocks.obfs_mode")}),o.jsxs(it,{value:Qt.obfsMode,onValueChange:N=>ht(E=>{E.plugin="obfs";const z=Oa(E.plugin_opts);z.obfs=N,E.obfs=N,E.plugin_opts=Zs(z,["obfs","obfs-host","path"])||null}),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsx(tt,{children:Qi.map(N=>o.jsx(fe,{value:N,children:N},N))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-obfs-host",children:e("server.shadowsocks.obfs_host")}),o.jsx(J,{id:"ss-obfs-host",value:Qt.obfsHost,onChange:N=>{const E=N.target.value;ht(z=>{z.plugin="obfs";const q=Oa(z.plugin_opts),ce={...yt(z.obfs_settings)},Me=E.trim();Me?(q["obfs-host"]=Me,ce.host=Me):(delete q["obfs-host"],delete ce.host),z.obfs_settings=Object.keys(ce).length?ce:null,z.plugin_opts=Zs(q,["obfs","obfs-host","path"])||null})},placeholder:"www.bing.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-obfs-path",children:e("server.shadowsocks.obfs_path")}),o.jsx(J,{id:"ss-obfs-path",value:Qt.obfsPath,onChange:N=>{const E=N.target.value;ht(z=>{z.plugin="obfs";const q=Oa(z.plugin_opts),ce={...yt(z.obfs_settings)},Me=E.trim();Me?(q.path=Me,ce.path=Me):(delete q.path,delete ce.path),z.obfs_settings=Object.keys(ce).length?ce:null,z.plugin_opts=Zs(q,["obfs","obfs-host","path"])||null})},placeholder:"/"})]})]}),o.jsxs("div",{className:"mt-4 grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-plugin-opts-obfs",children:e("server.shadowsocks.plugin_opts")}),o.jsx(J,{id:"ss-plugin-opts-obfs",value:Qt.pluginOpts,onChange:N=>{const E=N.target.value;ht(z=>{z.plugin="obfs";const q=Oa(E),ce=String(q.obfs||z.obfs||"http").trim()||"http";q.obfs=ce,z.obfs=ce;const Me={...yt(z.obfs_settings)},Le=String(q["obfs-host"]??Me.host??"").trim(),Pt=String(q.path??Me.path??"").trim();Le?Me.host=Le:delete Me.host,Pt?Me.path=Pt:delete Me.path,z.obfs_settings=Object.keys(Me).length?Me:null,z.plugin_opts=Zs(q,["obfs","obfs-host","path"])||null})},placeholder:e("server.shadowsocks.obfs_hint")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.shadowsocks.obfs_hint")})]})]}):null,String(Qt.plugin||"").trim()==="v2ray-plugin"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2ray_title")}),o.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.shadowsocks.v2ray_mode")}),o.jsxs(it,{value:Qt.v2rayMode,onValueChange:N=>ht(E=>{E.plugin="v2ray-plugin";const z=Oa(E.plugin_opts);z.mode=N,!String(z.path||"").trim()&&N.toLowerCase()==="websocket"&&(z.path="/"),E.plugin_opts=Zs(z,["mode","host","path","tls"])||null,delete E.obfs,delete E.obfs_settings}),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsx(tt,{children:JJ.map(N=>o.jsx(fe,{value:N,children:N==="websocket"?e("server.shadowsocks.v2ray_mode_websocket"):N==="quic"?e("server.shadowsocks.v2ray_mode_quic"):N},N))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-v2ray-host",children:e("server.shadowsocks.v2ray_host")}),o.jsx(J,{id:"ss-v2ray-host",value:Qt.v2rayHost,onChange:N=>{const E=N.target.value;ht(z=>{z.plugin="v2ray-plugin";const q=Oa(z.plugin_opts),ce=E.trim();ce?q.host=ce:delete q.host,z.plugin_opts=Zs(q,["mode","host","path","tls"])||null,delete z.obfs,delete z.obfs_settings})},placeholder:"mydomain.me"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-v2ray-path",children:e("server.shadowsocks.v2ray_path")}),o.jsx(J,{id:"ss-v2ray-path",value:Qt.v2rayPath,onChange:N=>{const E=N.target.value;ht(z=>{z.plugin="v2ray-plugin";const q=Oa(z.plugin_opts),ce=E.trim();ce?q.path=ce:delete q.path,!q.path&&String(q.mode||"").toLowerCase()==="websocket"&&(q.path="/"),z.plugin_opts=Zs(q,["mode","host","path","tls"])||null,delete z.obfs,delete z.obfs_settings})},placeholder:"/"})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2ray_tls")})}),o.jsx(Dt,{checked:Qt.v2rayTls,onCheckedChange:N=>ht(E=>{E.plugin="v2ray-plugin";const z=Oa(E.plugin_opts);N?z.tls="true":delete z.tls,E.plugin_opts=Zs(z,["mode","host","path","tls"])||null,delete E.obfs,delete E.obfs_settings})})]})]}),o.jsxs("div",{className:"mt-4 grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-plugin-opts-v2ray",children:e("server.shadowsocks.plugin_opts")}),o.jsx(J,{id:"ss-plugin-opts-v2ray",value:Qt.pluginOpts,onChange:N=>{const E=N.target.value;ht(z=>{z.plugin="v2ray-plugin";const q=Oa(E),ce=String(q.mode||"websocket").trim()||"websocket";q.mode=ce;const Me=String(q.tls||"").trim().toLowerCase();Me==="true"||Me==="1"?q.tls="true":delete q.tls,!q.path&&ce.toLowerCase()==="websocket"&&(q.path="/"),z.plugin_opts=Zs(q,["mode","host","path","tls"])||null,delete z.obfs,delete z.obfs_settings})},placeholder:e("server.shadowsocks.v2ray_hint")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.shadowsocks.v2ray_hint")})]})]}):null,(()=>{const N=String(Qt.plugin||"").trim();return!N||N==="obfs"||N==="v2ray-plugin"?null:o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.plugin_opts")}),o.jsx("div",{className:"mt-3 grid gap-2",children:o.jsx(J,{value:Qt.pluginOpts,onChange:E=>{const z=E.target.value;ht(q=>{q.plugin=N,q.plugin_opts=z.trim()?z:null})},placeholder:e("server.shadowsocks.plugin_opts_placeholder")})})]})})(),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2node_network_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.shadowsocks.v2node_accept_proxy_protocol")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.shadowsocks.v2node_accept_proxy_protocol_hint")})]}),o.jsx(Dt,{checked:Qt.v2nodeAcceptProxyProtocol,onCheckedChange:N=>ht(E=>{const z={...yt(E.network_settings)};N?z.acceptProxyProtocol=!0:delete z.acceptProxyProtocol,Object.keys(z).length?E.network_settings=z:delete E.network_settings})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-v2node-http-host",children:e("server.shadowsocks.v2node_http_host")}),o.jsx(J,{id:"ss-v2node-http-host",value:Qt.v2nodeHttpHost,onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.network_settings)},ce=E.trim();ce?q.Host=ce:(delete q.Host,delete q.host),Object.keys(q).length?z.network_settings=q:delete z.network_settings})},placeholder:"www.example.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"ss-v2node-http-path",children:e("server.shadowsocks.v2node_http_path")}),o.jsx(J,{id:"ss-v2node-http-path",value:Qt.v2nodeHttpPath,onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.network_settings)},ce=E.trim();ce?q.path=ce:delete q.path,Object.keys(q).length?z.network_settings=q:delete z.network_settings})},placeholder:"/"})]})]})]})]})]})]}):null,Fe.type==="vmess"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vmess.title")}),br||!Xi?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.vmess.security")}),o.jsxs(it,{value:String(Xi.tls),onValueChange:N=>{const E=Number(N);ht(z=>{if(z.tls=Number.isFinite(E)?E:0,z.network||(z.network="tcp"),z.tls===0){delete z.tls_settings;return}const q={...yt(z.tls_settings)};"server_name"in q||(q.server_name=""),"allow_insecure"in q||(q.allow_insecure=!1),z.tls_settings=q})},children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.vmess.security")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:e("server.vmess.security_none")}),o.jsx(fe,{value:"1",children:e("server.vmess.security_tls")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.vmess.transport")}),o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(it,{value:Xi.network,onValueChange:N=>ht(E=>{E.network=N;const z=yt(E.network_settings);if(!Object.keys(z).length){const q=yb(N);q&&(E.network_settings=q)}}),children:[o.jsx(et,{className:"flex-1",children:o.jsx(st,{})}),o.jsx(tt,{children:tee.map(N=>o.jsx(fe,{value:N,children:N==="ws"?"websocket":N},N))})]}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",onClick:Gi,children:e("server.network_settings.edit_protocol")})]})]})]}),Xi.tls===1?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vmess.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vmess-tls-sni",children:e("server.vmess.sni")}),o.jsx(J,{id:"vmess-tls-sni",value:String(Xi.tlsSettings.server_name||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.tls_settings)};q.server_name=E,"allow_insecure"in q||(q.allow_insecure=!1),z.tls_settings=q})},placeholder:e("server.vmess.sni_placeholder")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.vmess.allow_insecure")})}),o.jsx(Dt,{checked:!!Xi.tlsSettings.allow_insecure,onCheckedChange:N=>ht(E=>{const z={...yt(E.tls_settings)};z.allow_insecure=N,"server_name"in z||(z.server_name=""),E.tls_settings=z})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Rl("vmess-tls")})]})]}):null]})]}):null,Fe.type==="tuic"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.title")}),br||!Uc?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.tuic.version")}),o.jsxs(it,{value:String(Uc.version),onValueChange:N=>ht(E=>{const z=Number(N);E.version=z===4?4:5}),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.tuic.version")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"5",children:e("server.tuic.version_v5")}),o.jsx(fe,{value:"4",children:e("server.tuic.version_v4")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.tuic.congestion_control")}),o.jsxs(it,{value:Uc.congestionControl,onValueChange:N=>ht(E=>{E.congestion_control=N}),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.tuic.congestion_control")})}),o.jsx(tt,{children:Jqe.map(N=>o.jsx(fe,{value:N,children:e(N==="bbr"?"server.tuic.congestion_control_bbr":N==="cubic"?"server.tuic.congestion_control_cubic":"server.tuic.congestion_control_new_reno")},N))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"tuic-sni",children:e("server.tuic.sni")}),o.jsx(J,{id:"tuic-sni",value:String(Uc.tls.server_name||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.tls)};q.server_name=E,"allow_insecure"in q||(q.allow_insecure=!1),z.tls=q})},placeholder:e("server.tuic.sni_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.tuic.sni_hint")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.allow_insecure")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.tuic.allow_insecure_hint")})]}),o.jsx(Dt,{checked:!!Uc.tls.allow_insecure,onCheckedChange:N=>ht(E=>{const z={...yt(E.tls)};z.allow_insecure=N,"server_name"in z||(z.server_name=""),E.tls=z})})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.tuic.zero_rtt_handshake")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.tuic.zero_rtt_handshake_hint")})]}),o.jsx(Dt,{checked:Uc.zeroRttHandshake,onCheckedChange:N=>ht(E=>{E.zero_rtt_handshake=N})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Rl("tuic-tls")})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.tuic.alpn")}),o.jsxs(it,{value:Uc.alpn,onValueChange:N=>ht(E=>{E.alpn=[N]}),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.tuic.alpn")})}),o.jsx(tt,{children:t6e.map(N=>o.jsx(fe,{value:N,children:e(N==="http/1.1"?"server.tuic.alpn_http1":N==="h2"?"server.tuic.alpn_http2":"server.tuic.alpn_http3")},N))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.tuic.udp_relay_mode")}),o.jsxs(it,{value:Uc.udpRelayMode,onValueChange:N=>ht(E=>{E.udp_relay_mode=N}),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.tuic.udp_relay_mode")})}),o.jsx(tt,{children:e6e.map(N=>o.jsx(fe,{value:N,children:e(N==="native"?"server.tuic.udp_relay_mode_native":"server.tuic.udp_relay_mode_quic")},N))})]})]})]})]})]}):null,Fe.type==="anytls"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.title")}),br||!Jm?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.anytls.transport")}),o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(it,{value:Jm.network,onValueChange:N=>ht(E=>{E.network=N;const z=yt(E.network_settings);if(!Object.keys(z).length){const q=yb(N);q&&(E.network_settings=q)}}),children:[o.jsx(et,{className:"flex-1",children:o.jsx(st,{})}),o.jsx(tt,{children:Array.from(Xqe).map(N=>o.jsx(fe,{value:N,children:N==="ws"?"websocket":N},N))})]}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",onClick:Gi,children:e("server.network_settings.edit_protocol")})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.transport_hint")})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"anytls-sni",children:e("server.anytls.sni")}),o.jsx(J,{id:"anytls-sni",value:String(Jm.tls.server_name||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.tls)};q.server_name=E,"allow_insecure"in q||(q.allow_insecure=!1),z.tls=q})},placeholder:e("server.anytls.sni_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.sni_hint")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.allow_insecure")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.allow_insecure_hint")})]}),o.jsx(Dt,{checked:!!Jm.tls.allow_insecure,onCheckedChange:N=>ht(E=>{const z={...yt(E.tls)};z.allow_insecure=N,"server_name"in z||(z.server_name=""),E.tls=z})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Rl("anytls-tls")})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.anytls.padding_title")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.padding_desc")})]}),o.jsxs(it,{value:nt,onValueChange:N=>{const E=N==="custom"?"custom":"default";if(le(E),E==="default"){ht(z=>{z.padding_scheme=[...Yo]});return}ht(z=>{const q=z.padding_scheme;(!Array.isArray(q)||q.length===0)&&(z.padding_scheme=[...Yo])})},children:[o.jsx(et,{className:"w-[200px]",children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"default",children:e("server.anytls.padding_default")}),o.jsx(fe,{value:"custom",children:e("server.anytls.padding_custom")})]})]})]}),o.jsxs("div",{className:"mt-3 grid gap-2",children:[o.jsx(gr,{value:(nt==="default"?[...Yo]:Jm.scheme).join(`
`),onChange:N=>{if(nt!=="custom")return;const E=N.target.value.split(/\r?\n/).map(z=>z.trim()).filter(Boolean);ht(z=>{z.padding_scheme=E.length?E:[...Yo]})},disabled:nt!=="custom",placeholder:e("server.anytls.padding_placeholder"),className:"min-h-[160px] font-mono text-xs"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.anytls.padding_hint")})]})]})]})]}):null,Fe.type==="vless"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.title")}),br||!Ht?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.vless.security")}),o.jsxs(it,{value:String(Ht.tls),onValueChange:N=>{const E=Number(N);ht(z=>{if(z.tls=Number.isFinite(E)?E:0,z.network||(z.network="tcp"),z.tls===0){delete z.tls_settings,delete z.reality_settings;return}if(z.tls===1){const q={...yt(z.tls_settings)};delete q.public_key,delete q.private_key,delete q.short_id,delete q.server_port,"server_name"in q||(q.server_name=""),"allow_insecure"in q||(q.allow_insecure=!1),z.tls_settings=q,delete z.reality_settings;return}if(z.tls===2){const q={...yt(z.reality_settings??z.tls_settings)};"server_name"in q||(q.server_name=""),"server_port"in q||(q.server_port=443),"public_key"in q||(q.public_key=""),"private_key"in q||(q.private_key=""),"short_id"in q||(q.short_id=""),"allow_insecure"in q||(q.allow_insecure=!1),delete z.tls_settings,z.reality_settings=q}})},children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:e("server.vless.security_none")}),o.jsx(fe,{value:"1",children:e("server.vless.security_tls")}),o.jsx(fe,{value:"2",children:e("server.vless.security_reality")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.vless.transport")}),o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(it,{value:Ht.network,onValueChange:N=>ht(E=>{E.network=N;const z=yt(E.network_settings);if(!Object.keys(z).length){const q=yb(N);q&&(E.network_settings=q)}}),children:[o.jsx(et,{className:"flex-1",children:o.jsx(st,{})}),o.jsx(tt,{children:nee.map(N=>o.jsx(fe,{value:N,children:N},N))})]}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",disabled:br||!Ht,onClick:Gi,children:e("server.network_settings.edit_protocol")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.vless.flow")}),o.jsxs(it,{value:(()=>{const N=String(Ht.flow||"").trim();return!N||N.toLowerCase()==="none"?"none":N})(),onValueChange:N=>ht(E=>{N==="none"?delete E.flow:E.flow=N}),children:[o.jsx(et,{title:(()=>{const N=String(Ht.flow||"").trim();return!N||N.toLowerCase()==="none"?"none":N})(),children:o.jsx(st,{placeholder:e("server.vless.flow_placeholder")})}),o.jsx(tt,{children:ree.map(N=>o.jsx(fe,{value:N,title:N,children:N.toLowerCase()==="none"?e("server.vless.flow_none"):N},N))})]})]}),Ht.tls!==0?o.jsxs("div",{className:"grid gap-2 md:max-w-[320px]",children:[o.jsx(ee,{children:e("server.vless.client_fingerprint")}),o.jsxs(it,{value:Ht.clientFingerprint||"firefox",onValueChange:N=>ht(E=>{E.client_fingerprint=N}),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsx(tt,{children:Array.from(Gqe).map(N=>o.jsx(fe,{value:N,children:N},N))})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.vless.client_fingerprint_hint")})]}):null,o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.encryption_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.vless.encryption")}),o.jsxs(it,{value:Ht.encryption?Ht.encryption:"none",onValueChange:N=>ht(E=>{if(N==="none"){delete E.encryption,delete E.encryption_settings;return}E.encryption=N;const z={...yt(E.encryption_settings)};"mode"in z||(z.mode=""),"ticket"in z||(z.ticket=""),"server_padding"in z||(z.server_padding=""),"private_key"in z||(z.private_key=""),E.encryption_settings=z}),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"none",children:e("server.vless.encryption_none")}),o.jsx(fe,{value:"mlkem768x25519plus",children:e("server.vless.encryption_mlkem768x25519plus")})]})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.vless.encryption_hint")})]}),Ht.encryption?o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-encryption-mode",children:e("server.vless.encryption_mode")}),o.jsx(J,{id:"vless-encryption-mode",value:String(Ht.encryptionSettings.mode??""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.encryption_settings)};q.mode=E,z.encryption_settings=q})},placeholder:"mode"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-encryption-ticket",children:e("server.vless.encryption_ticket")}),o.jsx(J,{id:"vless-encryption-ticket",value:String(Ht.encryptionSettings.ticket??""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.encryption_settings)};q.ticket=E,z.encryption_settings=q})},placeholder:"ticket"})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-encryption-server-padding",children:e("server.vless.encryption_server_padding")}),o.jsx(J,{id:"vless-encryption-server-padding",value:String(Ht.encryptionSettings.server_padding??""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.encryption_settings)};q.server_padding=E,z.encryption_settings=q})},placeholder:"server_padding"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-encryption-private-key",children:e("server.vless.encryption_private_key")}),o.jsx(J,{id:"vless-encryption-private-key",value:String(Ht.encryptionSettings.private_key??""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.encryption_settings)};q.private_key=E,z.encryption_settings=q})},placeholder:"private_key"})]})]})]}):null]})]}),Ht.tls===1?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.tls_title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-tls-sni",children:e("server.vless.sni")}),o.jsx(J,{id:"vless-tls-sni",value:String(Ht.tlsSettings.server_name||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.tls_settings)};q.server_name=E,"allow_insecure"in q||(q.allow_insecure=!1),z.tls_settings=q})},placeholder:e("server.vless.sni_placeholder")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.allow_insecure")})}),o.jsx(Dt,{checked:!!Ht.tlsSettings.allow_insecure,onCheckedChange:N=>ht(E=>{const z={...yt(E.tls_settings)};z.allow_insecure=N,"server_name"in z||(z.server_name=""),E.tls_settings=z})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Rl("vless-tls")})]})]}):null,Ht.tls===2?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.reality_title")}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:ws,children:e("server.vless.key_pair_generate")})]}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-reality-server-name",children:e("server.vless.reality_server_name")}),o.jsx(J,{id:"vless-reality-server-name",value:String(Ht.realitySettings.server_name||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)};q.server_name=E,"allow_insecure"in q||(q.allow_insecure=!1),"server_port"in q||(q.server_port=443),z.reality_settings=q})},placeholder:e("server.vless.reality_server_name_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-reality-server-port",children:e("server.vless.reality_server_port")}),o.jsx(J,{id:"vless-reality-server-port",type:"number",min:1,step:1,value:String(Ht.realitySettings.server_port??443),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)},ce=Number(E);q.server_port=Number.isFinite(ce)&&ce>0?Math.trunc(ce):443,"allow_insecure"in q||(q.allow_insecure=!1),"server_name"in q||(q.server_name=""),z.reality_settings=q})}})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-reality-dest",children:e("server.vless.reality_dest")}),o.jsx(J,{id:"vless-reality-dest",value:String(Ht.realitySettings.dest||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)},ce=E.trim();ce?q.dest=ce:delete q.dest,z.reality_settings=q})},placeholder:String(Ht.realitySettings.server_name||"")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-reality-xver",children:e("server.vless.reality_xver")}),o.jsx(J,{id:"vless-reality-xver",type:"number",min:0,step:1,value:String(Ht.realitySettings.xver??0),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)},ce=Number(E);!Number.isFinite(ce)||ce<0||(q.xver=String(Math.trunc(ce)),z.reality_settings=q)})}})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-reality-mldsa65-seed",children:e("server.vless.reality_mldsa65Seed")}),o.jsx(J,{id:"vless-reality-mldsa65-seed",value:String(Ht.realitySettings.mldsa65Seed||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)},ce=E.trim();ce?q.mldsa65Seed=ce:delete q.mldsa65Seed,z.reality_settings=q})}})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-reality-public-key",children:e("server.vless.reality_public_key")}),o.jsx(J,{id:"vless-reality-public-key",value:String(Ht.realitySettings.public_key||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)};q.public_key=E,z.reality_settings=q})}})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"vless-reality-private-key",children:e("server.vless.reality_private_key")}),o.jsx(J,{id:"vless-reality-private-key",value:String(Ht.realitySettings.private_key||""),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)};q.private_key=E,z.reality_settings=q})}})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx(ee,{htmlFor:"vless-reality-short-id",children:e("server.vless.reality_short_id")}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:qt,children:e("server.vless.short_id_generate")})]}),o.jsx(J,{id:"vless-reality-short-id",value:String(Ht.realitySettings.short_id||""),placeholder:e("server.vless.short_id_placeholder"),onChange:N=>{const E=N.target.value;ht(z=>{const q={...yt(z.reality_settings??z.tls_settings)};q.short_id=E,z.reality_settings=q})}}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.vless.short_id_hint")})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsx("div",{className:"space-y-1",children:o.jsx("div",{className:"text-sm font-medium",children:e("server.vless.allow_insecure")})}),o.jsx(Dt,{checked:!!Ht.realitySettings.allow_insecure,onCheckedChange:N=>ht(E=>{const z={...yt(E.reality_settings??E.tls_settings)};z.allow_insecure=N,E.reality_settings=z})})]})]})]}):null,de?o.jsx("div",{className:"text-sm text-red-600",children:de}):null]})]}):null,Fe.type==="trojan"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.trojan.title")}),br||!js?o.jsx("div",{className:"mt-3 text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2 md:grid-cols-2 md:gap-x-4",children:[o.jsx(ee,{className:"order-1 md:order-1",children:e("server.trojan.transport")}),o.jsx(ee,{className:"order-3 md:order-2",htmlFor:"trojan-sni",children:e("server.trojan.sni")}),o.jsx("div",{className:"order-2 md:order-3",children:o.jsxs("div",{className:"flex w-full items-center gap-2",children:[o.jsxs(it,{value:js.network,onValueChange:N=>ht(E=>{E.network=N;const z=yt(E.network_settings);if(!Object.keys(z).length){const q=yb(N);q&&(E.network_settings=q)}}),children:[o.jsx(et,{className:"flex-1",children:o.jsx(st,{})}),o.jsx(tt,{children:eee.map(N=>o.jsx(fe,{value:N,children:N},N))})]}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-10 shrink-0",disabled:br||!js,onClick:Gi,children:e("server.network_settings.edit_protocol")})]})}),o.jsxs("div",{className:"order-4 grid gap-2 md:order-4",children:[o.jsx(J,{id:"trojan-sni",value:js.serverName,onChange:N=>{const E=N.target.value;ht(z=>{z.server_name=E,"allow_insecure"in z||(z.allow_insecure=!1)})},placeholder:e("server.trojan.sni_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.trojan.sni_hint")})]})]}),o.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border border-border/70 bg-background px-3 py-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.trojan.allow_insecure")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.trojan.allow_insecure_hint")})]}),o.jsx(Dt,{checked:js.allowInsecure,onCheckedChange:N=>ht(E=>{E.allow_insecure=N,"server_name"in E||(E.server_name="")})})]}),o.jsx("div",{className:"mt-4 border-t border-border/70 pt-4",children:Rl("trojan-tls")})]})]}):null,Fe.type==="hysteria"?o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 p-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.hy.title")}),o.jsxs("div",{className:"mt-3 grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.hy.version")}),o.jsxs(it,{value:Fe.hy_version,onValueChange:N=>un(E=>({...E,hy_version:N})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("server.hy.version_placeholder")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"1",children:"v1"}),o.jsx(fe,{value:"2",children:"v2"})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:[o.jsxs("div",{className:"flex items-center justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("div",{className:"text-sm font-medium",children:e("server.hy.obfs_title")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.obfs_desc")})]}),o.jsx(Dt,{checked:Fe.hy_obfs_enabled,onCheckedChange:N=>un(E=>({...E,hy_obfs_enabled:N}))})]}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("server.hy.obfs_type")}),o.jsxs(it,{value:Fe.hy_obfs_type,onValueChange:N=>un(E=>({...E,hy_obfs_type:N})),disabled:!Fe.hy_obfs_enabled,children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsx(tt,{children:o.jsx(fe,{value:"salamander",children:"salamander"})})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"hy-obfs-password",children:e("server.hy.obfs_password")}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(J,{id:"hy-obfs-password",value:Fe.hy_obfs_password,onChange:N=>un(E=>({...E,hy_obfs_password:N.target.value})),placeholder:e("server.hy.obfs_password_placeholder"),disabled:!Fe.hy_obfs_enabled}),o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-9 shrink-0",onClick:()=>{const N=Vqe(16);un(E=>({...E,hy_obfs_enabled:!0,hy_obfs_password:N}))},children:e("server.hy.obfs_password_generate")})]})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"hy-sni",children:e("server.hy.sni")}),o.jsx(J,{id:"hy-sni",value:Fe.hy_sni,onChange:N=>un(E=>({...E,hy_sni:N.target.value})),placeholder:e("server.hy.sni_placeholder")})]}),br||!vt?o.jsx("div",{className:"text-sm text-red-600",children:e("server.validation.protocol_settings_invalid")}):o.jsx("div",{className:"rounded-lg border border-border/70 bg-background p-4",children:Rl("hy-tls")}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"hy-up",children:e("server.hy.up_mbps")}),o.jsx(J,{id:"hy-up",type:"number",min:0,step:1,value:Fe.hy_up_mbps,onChange:N=>un(E=>({...E,hy_up_mbps:N.target.value})),placeholder:e("server.hy.up_mbps_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.up_mbps_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"hy-down",children:e("server.hy.down_mbps")}),o.jsx(J,{id:"hy-down",type:"number",min:0,step:1,value:Fe.hy_down_mbps,onChange:N=>un(E=>({...E,hy_down_mbps:N.target.value})),placeholder:e("server.hy.down_mbps_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.down_mbps_hint")})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"hy-hop",children:e("server.hy.hop_interval")}),o.jsx(J,{id:"hy-hop",type:"number",min:1,step:1,value:Fe.hy_hop_interval,onChange:N=>un(E=>({...E,hy_hop_interval:N.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("server.hy.hop_interval_hint")})]})]})]}):null]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[Us&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:Us}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"outline",onClick:()=>pi(!1),disabled:bs,children:e("common.cancel")}),o.jsx(W,{onClick:Ae,disabled:bs,children:e(bs?"common.saving":"common.save")})]})]})]})}),o.jsx(on,{open:bt,onOpenChange:dt,children:o.jsxs(rn,{className:"max-w-2xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("server.network_settings.edit_protocol_config")})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex flex-wrap gap-2",children:nP(IA).map(N=>o.jsx(W,{type:"button",variant:"outline",size:"sm",className:"h-8",onClick:()=>{rr(""),Ut(JSON.stringify(N.value,null,2))},children:e("server.network_settings.use_template",{template:N.name})},N.name))}),o.jsx(MJ,{value:Bt,onChange:Ut,language:"json",height:320}),Qr?o.jsx("div",{className:"text-sm text-red-600",children:Qr}):o.jsx("div",{className:"text-xs text-muted-foreground",children:nP(IA).length?e("server.network_settings.json_config_placeholder_with_template"):e("server.network_settings.json_config_placeholder")}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",onClick:()=>dt(!1),children:e("common.cancel")}),o.jsx(W,{type:"button",onClick:Vx,children:e("common.save")})]})]})]})}),o.jsx(ss,{open:Se.open,onOpenChange:Se.setOpen,position:Se.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!Se.data||i===Se.data.id,onSelect:()=>{Se.data&&(Se.setOpen(!1),ve(Se.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(KD,{className:"h-4 w-4 mr-2"}),e("server.copy_install_command")]}),disabled:!Se.data||i===Se.data.id||a!==null,onSelect:()=>{Se.data&&(Se.setOpen(!1),rt(Se.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("server.copy")]}),disabled:!Se.data||i===Se.data.id,onSelect:()=>{Se.data&&(Se.setOpen(!1),Ke(Se.data.id))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!Se.data||i===Se.data.id,onSelect:()=>{Se.data&&(Se.setOpen(!1),Ze(Se.data.id))}}]})]})}const pN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t};function r6e(){const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState([]),[c,u]=f.useState(""),[d,h]=f.useState(1),[m,p]=f.useState(10),[g,y]=f.useState(!1),[x,b]=f.useState(!1),[w,v]=f.useState(""),[_,j]=f.useState({name:""}),k=as(),C=f.useCallback(async()=>{r(!0);try{const D=await Rf.fetch();if(D.data.status!=="success")throw new Error(D.data.message||"request failed");l(D.data.data||[])}catch(D){l([]),Q.error(pN(D,e("common.load_failed"))),console.error(D)}finally{r(!1)}},[e]);f.useEffect(()=>{C()},[C]);const O=f.useMemo(()=>{const D=c.trim().toLowerCase();return a.filter(T=>D?String(T.id).includes(D)||(T.name||"").toLowerCase().includes(D):!0)},[a,c]),P=O.length,M=Math.max(1,Math.ceil(P/m)),A=Math.min(d,M),R=f.useMemo(()=>{const D=(A-1)*m;return O.slice(D,D+m)},[O,A,m]);f.useEffect(()=>{h(D=>Math.min(Math.max(1,D),M))},[M]);const B=()=>{j({name:""}),v(""),y(!0)},F=D=>{j({id:D.id,name:D.name||""}),v(""),y(!0)},U=async()=>{if(!x){if(v(""),!_.name.trim())return v(e("group.validation.name_required"));b(!0);try{const D=await Rf.save({id:_.id,name:_.name.trim()});if(D.data.status!=="success")throw new Error(D.data.message||"request failed");Q.success(e("group.saved")),y(!1),await C()}catch(D){const T=pN(D,e("common.save_failed"));v(T),Q.error(T),console.error(D)}finally{b(!1)}}},L=async D=>{if(i||!await t({title:e("common.delete"),description:e("group.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(D);const $=a;l(G=>G.filter(ie=>ie.id!==D));try{const G=await Rf.drop(D);if(G.data.status!=="success")throw new Error(G.data.message||"request failed");Q.success(e("group.deleted"))}catch(G){l($),Q.error(pN(G,e("common.save_failed"))),console.error(G)}finally{s(null)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:c,onChange:D=>{u(D.target.value),h(1)},placeholder:e("group.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:B,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("group.add")]}),o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:C,disabled:n,children:o.jsx(pn,{className:ae("h-4 w-4",n&&"animate-spin")})})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:P===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("group.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("group.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("group.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("group.table.users")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("group.table.servers")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("group.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:R.map(D=>{const T=i===D.id;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:$=>k.openMenu($,D),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:"inline-flex items-center rounded-md border border-border/70 px-2 py-0.5 text-xs font-medium tabular-nums",children:D.id})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:D.name,children:D.name})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Jf,{className:"h-4 w-4"}),o.jsx("span",{className:"tabular-nums text-foreground",children:D.users_count??0})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(tj,{className:"h-4 w-4"}),o.jsx("span",{className:"tabular-nums text-foreground",children:D.server_count??0})]})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:T,onClick:()=>F(D),children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:T,onClick:()=>L(D.id),children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},D.id)})})]})})})}),o.jsx(ls,{page:d,total:P,pageSize:m,onPageChange:D=>h(D),onPageSizeChange:D=>{p(D),h(1)},loading:n}),o.jsx(on,{open:g,onOpenChange:y,children:o.jsxs(rn,{className:"max-w-xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:_.id?e("group.edit_title"):e("group.create_title")})}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"group-name",children:e("group.fields.name")}),o.jsx(J,{id:"group-name",value:_.name,onChange:D=>j(T=>({...T,name:D.target.value}))})]}),w&&o.jsx("div",{className:"text-sm text-red-600",children:w}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>y(!1),disabled:x,children:e("common.cancel")}),o.jsx(W,{onClick:U,disabled:x,children:e(x?"common.saving":"common.save")})]})]})}),o.jsx(ss,{open:k.open,onOpenChange:k.setOpen,position:k.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!k.data||i===k.data.id,onSelect:()=>{k.data&&(k.setOpen(!1),F(k.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!k.data||i===k.data.id,onSelect:()=>{k.data&&(k.setOpen(!1),L(k.data.id))}}]})]})}const gN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},i6e=e=>e.split(/\n|,/g).map(t=>t.trim()).filter(Boolean),BF=["dns","route","route_ip","default_out"],yN=["route","route_ip","default_out"],s6e=(e,t)=>e(t==="protocol"?"route.fields.match_placeholder_protocol":t==="block_port"?"route.fields.match_placeholder_port":t==="route_ip"||t==="block_ip"?"route.fields.match_placeholder_ip":"route.fields.match_placeholder_domain");function a6e(){const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),[a,l]=f.useState([]),[c,u]=f.useState(""),[d,h]=f.useState(1),[m,p]=f.useState(10),[g,y]=f.useState(!1),[x,b]=f.useState(!1),[w,v]=f.useState(""),_=as(),[j,k]=f.useState({remarks:"",action:"block",action_value:"",matchText:""}),C=f.useCallback(async()=>{r(!0);try{const D=await t_.fetch();l(D.data.data||[]),h(1)}catch(D){l([]),Q.error(gN(D,e("common.load_failed"))),console.error(D)}finally{r(!1)}},[e]);f.useEffect(()=>{C()},[C]);const O=f.useMemo(()=>{const D=c.trim().toLowerCase();return a.filter(T=>!!(!D||String(T.id).includes(D)||(T.remarks||"").toLowerCase().includes(D)||(T.action||"").toLowerCase().includes(D)||(T.action_value||"").toLowerCase().includes(D)||(T.match||[]).some($=>($||"").toLowerCase().includes(D))))},[a,c]),P=O.length,M=Math.max(1,Math.ceil(P/m)),A=Math.min(d,M),R=f.useMemo(()=>{const D=(A-1)*m;return O.slice(D,D+m)},[O,A,m]);f.useEffect(()=>{h(D=>Math.min(Math.max(1,D),M))},[M]);const B=()=>{k({remarks:"",action:"block",action_value:"",matchText:""}),v(""),y(!0)},F=D=>{k({id:D.id,remarks:D.remarks||"",action:D.action,action_value:D.action_value||"",matchText:(D.match||[]).join(`
`)}),v(""),y(!0)},U=async()=>{if(x)return;if(v(""),!j.remarks.trim())return v(e("route.validation.remarks_required"));const D=j.action!=="default_out",T=i6e(j.matchText);if(D&&T.length===0)return v(e("route.validation.match_required"));const $=BF.includes(j.action),G=$?j.action_value.trim():"";if($&&!G)return v(e("route.validation.action_value_required"));b(!0);try{const ie={id:j.id,remarks:j.remarks.trim(),match:D?T:[],action:j.action,action_value:$?G:null},X=await t_.save(ie);if(X.data.status!=="success")throw new Error(X.data.message||"request failed");Q.success(e("route.saved")),y(!1),await C()}catch(ie){const X=gN(ie,e("common.save_failed"));v(X),Q.error(X),console.error(ie)}finally{b(!1)}},L=async D=>{if(i||!await t({title:e("common.delete"),description:e("route.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(D);const $=a;l(G=>G.filter(ie=>ie.id!==D));try{if(!(await t_.drop(D)).data.data)throw new Error("request failed");Q.success(e("route.deleted"))}catch(G){l($),Q.error(gN(G,e("common.save_failed"))),console.error(G)}finally{s(null)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:c,onChange:D=>{u(D.target.value),h(1)},placeholder:e("route.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:B,disabled:n,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("route.add")]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:C,disabled:n,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:P===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("route.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[100px]",children:e("route.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("route.table.remarks")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("route.table.action")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("route.table.action_value")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[160px]",children:e("route.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:R.map(D=>{const T=i===D.id,$=D.action==="dns"?e("route.action_dns"):D.action==="block_ip"?e("route.action_block_ip"):D.action==="block_port"?e("route.action_block_port"):D.action==="protocol"?e("route.action_protocol"):D.action==="route"?e("route.action_route"):D.action==="route_ip"?e("route.action_route_ip"):D.action==="default_out"?e("route.action_default_out"):e("route.action_block"),G=D.action==="dns"?D.action_value||"":yN.includes(D.action)?D.action_value?e("route.action_value_configured"):"":e("route.action_block_value"),ie=D.action==="dns"?"blue":yN.includes(D.action)?"emerald":"red",X=Array.isArray(D.match)?D.match.length:0;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:se=>_.openMenu(se,D),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:"inline-flex items-center rounded-md border border-border/70 px-2 py-0.5 text-xs font-medium tabular-nums",children:D.id})}),o.jsxs("td",{className:"px-4 py-3 align-middle",children:[o.jsx("div",{className:"truncate font-medium text-foreground",title:D.remarks,children:D.remarks}),o.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:e("route.match_count",{count:X})})]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",ie==="blue"?"border-blue-200 bg-blue-50 text-blue-700":ie==="emerald"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-600"),children:$})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium tabular-nums",ie==="blue"?"border-slate-200 bg-slate-50 text-slate-700":ie==="emerald"?"border-emerald-200/70 bg-emerald-50 text-emerald-700":"border-red-200/70 bg-red-50 text-red-600"),children:G})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:T,onClick:()=>F(D),children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:T,onClick:()=>L(D.id),children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},D.id)})})]})})})}),o.jsx(ls,{page:d,total:P,pageSize:m,onPageChange:D=>h(D),onPageSizeChange:D=>{p(D),h(1)},loading:n}),o.jsx(on,{open:g,onOpenChange:y,children:o.jsxs(rn,{className:"max-w-2xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:j.id?e("route.edit_title"):e("route.create_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"route-remarks",children:e("route.fields.remarks")}),o.jsx(J,{id:"route-remarks",value:j.remarks,onChange:D=>k(T=>({...T,remarks:D.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"route-action",children:e("route.fields.action")}),o.jsxs(it,{value:j.action,onValueChange:D=>k(T=>({...T,action:D})),children:[o.jsx(et,{id:"route-action",children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"block",children:e("route.action_block")}),o.jsx(fe,{value:"block_ip",children:e("route.action_block_ip")}),o.jsx(fe,{value:"block_port",children:e("route.action_block_port")}),o.jsx(fe,{value:"protocol",children:e("route.action_protocol")}),o.jsx(fe,{value:"dns",children:e("route.action_dns")}),o.jsx(fe,{value:"route",children:e("route.action_route")}),o.jsx(fe,{value:"route_ip",children:e("route.action_route_ip")}),o.jsx(fe,{value:"default_out",children:e("route.action_default_out")})]})]})]}),BF.includes(j.action)&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"route-action-value",children:e("route.fields.action_value")}),yN.includes(j.action)?o.jsx(gr,{id:"route-action-value",value:j.action_value,onChange:D=>k(T=>({...T,action_value:D.target.value})),placeholder:e("route.fields.action_value_placeholder_outbound"),className:"min-h-[200px]"}):o.jsx(J,{id:"route-action-value",value:j.action_value,onChange:D=>k(T=>({...T,action_value:D.target.value})),placeholder:e("route.fields.action_value_placeholder_dns")})]}),j.action!=="default_out"&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"route-match",children:e("route.fields.match")}),o.jsx(gr,{id:"route-match",value:j.matchText,onChange:D=>k(T=>({...T,matchText:D.target.value})),placeholder:s6e(e,j.action),className:"min-h-[160px]"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("route.match_hint")})]})]}),w&&o.jsx("div",{className:"text-sm text-red-600",children:w}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>y(!1),disabled:x,children:e("common.cancel")}),o.jsx(W,{onClick:U,disabled:x,children:e(x?"common.saving":"common.save")})]})]})}),o.jsx(ss,{open:_.open,onOpenChange:_.setOpen,position:_.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!_.data||i===_.data.id,onSelect:()=>{_.data&&(_.setOpen(!1),F(_.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!_.data||i===_.data.id,onSelect:()=>{_.data&&(_.setOpen(!1),L(_.data.id))}}]})]})}const nl={fetch:()=>ze.get("/plan/fetch"),save:e=>ze.post("/plan/save",e),drop:e=>ze.post("/plan/drop",{id:e}),update:e=>ze.post("/plan/update",e),sort:e=>ze.post("/plan/sort",{ids:e})},zp=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Uh=[{key:"monthly",labelKey:"plan.period.monthly"},{key:"quarterly",labelKey:"plan.period.quarterly"},{key:"half_yearly",labelKey:"plan.period.half_yearly"},{key:"yearly",labelKey:"plan.period.yearly"},{key:"two_yearly",labelKey:"plan.period.two_yearly"},{key:"three_yearly",labelKey:"plan.period.three_yearly"},{key:"onetime",labelKey:"plan.period.onetime"},{key:"reset_traffic",labelKey:"plan.period.reset_traffic"}],o6e=[{value:"null",labelKey:"plan.reset.follow_system"},{value:"0",labelKey:"plan.reset.first_day_month"},{value:"1",labelKey:"plan.reset.monthly"},{value:"2",labelKey:"plan.reset.never"},{value:"3",labelKey:"plan.reset.first_day_year"},{value:"4",labelKey:"plan.reset.yearly"}],l6e=e=>e.split(/[,\n]/g).map(t=>t.trim()).filter(Boolean);function c6e(){var be,Ie,re;const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),a=as(),[l,c]=f.useState([]),[u,d]=f.useState([]),[h,m]=f.useState(!1),[p,g]=f.useState(!1),y=f.useRef([]),[x,b]=f.useState(null),[w,v]=f.useState(null),[_,j]=f.useState(""),[k,C]=f.useState(1),[O,P]=f.useState(10),[M,A]=f.useState(!1),[R,B]=f.useState(!1),[F,U]=f.useState(""),[L,D]=f.useState({name:"",content:"",group_id:"null",transfer_enable:"100",speed_limit:"",device_limit:"",capacity_limit:"",reset_traffic_method:"null",tagsText:"",prices:Object.fromEntries(Uh.map(H=>[H.key,""])),force_update:!1}),T=f.useCallback(async()=>{r(!0);try{const[H,we]=await Promise.all([nl.fetch(),Rf.fetch()]);if(H.data.status!=="success")throw new Error(H.data.message||"request failed");we.data.status==="success"&&d(we.data.data||[]);const Be=(H.data.data||[]).slice();Be.sort((Je,Xe)=>{const Nt=Number.isFinite(Je.sort)?Number(Je.sort):null,ft=Number.isFinite(Xe.sort)?Number(Xe.sort):null;return Nt!==null&&ft!==null?Nt-ft:Nt!==null?-1:ft!==null?1:Je.id-Xe.id}),c(Be),C(1)}catch(H){c([]),d([]),Q.error(zp(H,e("common.load_failed"))),console.error(H)}finally{r(!1)}},[e]);f.useEffect(()=>{T()},[T]);const $=f.useMemo(()=>{if(!h)return!1;const H=y.current;if(!H.length)return!1;const we=l.map(Be=>Be.id);return H.join(",")!==we.join(",")},[l,h]),G=()=>{y.current=l.map(H=>H.id),m(!0),b(null),v(null)},ie=async()=>{y.current=[],m(!1),b(null),v(null),await T()},X=async()=>{if(!(p||!$)){g(!0);try{const H=l.map(Be=>Be.id),we=await nl.sort(H);if(we.data.status!=="success")throw new Error(we.data.message||"request failed");Q.success(e("plan.sort_saved")),y.current=[],m(!1),b(null),v(null),await T()}catch(H){Q.error(zp(H,e("common.save_failed"))),console.error(H)}finally{g(!1)}}},se=(H,we)=>{c(Be=>{const Je=Be.findIndex(Et=>Et.id===H);if(Je<0)return Be;const Xe=Be.slice(),[Nt]=Xe.splice(Je,1),ft=Math.max(0,Math.min(Xe.length,we));return Xe.splice(ft,0,Nt),Xe})},xe=H=>{const we=l.findIndex(Be=>Be.id===H);we<=0||se(H,we-1)},me=H=>{const we=l.findIndex(Be=>Be.id===H);we<0||we>=l.length-1||se(H,we+1)},De=H=>se(H,0),ge=H=>se(H,l.length-1),Ve=(H,we)=>{if(!(!h||p)){b(we),v(null);try{H.dataTransfer.effectAllowed="move",H.dataTransfer.setData("text/plain",String(we))}catch{}}},oe=()=>{b(null),v(null)},Pe=(H,we)=>{var Xe,Nt;if(!h||p||x===null||x===we)return;H.preventDefault();try{H.dataTransfer.dropEffect="move"}catch{}const Be=(Nt=(Xe=H.currentTarget)==null?void 0:Xe.getBoundingClientRect)==null?void 0:Nt.call(Xe),Je=Be&&H.clientY>Be.top+Be.height/2?"below":"above";v({id:we,position:Je})},Y=(H,we)=>{var ft,Et;if(!h||p)return;H.preventDefault();const Be=(()=>{try{return H.dataTransfer.getData("text/plain")}catch{return""}})(),Je=x??Number.parseInt(Be||"",10);if(!Number.isFinite(Je)||Je===we){oe();return}const Xe=(Et=(ft=H.currentTarget)==null?void 0:ft.getBoundingClientRect)==null?void 0:Et.call(ft),Nt=Xe&&H.clientY>Xe.top+Xe.height/2?"below":"above";c(Xt=>{const hn=Xt.findIndex(nt=>nt.id===Je),Yn=Xt.findIndex(nt=>nt.id===we);if(hn<0||Yn<0||hn===Yn)return Xt;const Ct=Nt==="below"?Yn+1:Yn,Bn=Xt.slice(),[gt]=Bn.splice(hn,1),Ft=Math.max(0,Math.min(Bn.length,hn<Ct?Ct-1:Ct));return Bn.splice(Ft,0,gt),Bn}),oe()},te=()=>{U(""),D({name:"",content:"",group_id:"null",transfer_enable:"100",speed_limit:"",device_limit:"",capacity_limit:"",reset_traffic_method:"null",tagsText:"",prices:Object.fromEntries(Uh.map(H=>[H.key,""])),force_update:!1}),A(!0)},Ne=H=>{const we=Object.fromEntries(Uh.map(Be=>[Be.key,""]));for(const[Be,Je]of Object.entries(H.prices||{}))we[Be]=String(Je);U(""),D({id:H.id,name:H.name||"",content:H.content||"",group_id:H.group_id===null||H.group_id===void 0?"null":String(H.group_id),transfer_enable:String(H.transfer_enable??""),speed_limit:H.speed_limit===null||H.speed_limit===void 0?"":String(H.speed_limit),device_limit:H.device_limit===null||H.device_limit===void 0?"":String(H.device_limit),capacity_limit:H.capacity_limit===null||H.capacity_limit===void 0?"":String(H.capacity_limit),reset_traffic_method:H.reset_traffic_method===null||H.reset_traffic_method===void 0?"null":String(H.reset_traffic_method),tagsText:(H.tags||[]).join(", "),prices:we,force_update:!1}),A(!0)},Te=async()=>{if(R)return;if(U(""),!L.name.trim())return U(e("plan.validation.name_required"));const H=Number(L.transfer_enable);if(!Number.isFinite(H)||H<1)return U(e("plan.validation.transfer_required"));const we={};for(const Je of Uh){const Xe=L.prices[Je.key];Xe!=null&&String(Xe).trim()!==""&&(we[Je.key]=Xe)}const Be={id:L.id,name:L.name.trim(),content:L.content.trim()||void 0,transfer_enable:Math.trunc(H),group_id:L.group_id==="null"?null:Number(L.group_id),speed_limit:L.speed_limit.trim()?Number(L.speed_limit):null,device_limit:L.device_limit.trim()?Number(L.device_limit):null,capacity_limit:L.capacity_limit.trim()?Number(L.capacity_limit):null,reset_traffic_method:L.reset_traffic_method==="null"?null:Number(L.reset_traffic_method),tags:L.tagsText.trim()?l6e(L.tagsText):null,prices:we,force_update:L.force_update?1:0};B(!0);try{const Je=await nl.save(Be);if(Je.data.status!=="success")throw new Error(Je.data.message||"request failed");Q.success(Je.data.message||e("plan.saved")),A(!1),await T()}catch(Je){const Xe=zp(Je,e("common.save_failed"));U(Xe),Q.error(Xe),console.error(Je)}finally{B(!1)}},V=async H=>{if(i||!await t({title:e("common.delete"),description:e("plan.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;s(H);const Be=l;c(Je=>Je.filter(Xe=>Xe.id!==H));try{const Je=await nl.drop(H);if(Je.data.status!=="success")throw new Error(Je.data.message||"request failed");Q.success(e("plan.deleted"))}catch(Je){c(Be),Q.error(zp(Je,e("common.save_failed"))),console.error(Je)}finally{s(null)}},ue=async(H,we)=>{if(!i){s(H.id);try{const Be=await nl.update({id:H.id,[we]:!H[we]});if(Be.data.status!=="success")throw new Error(Be.data.message||"request failed");Q.success(Be.data.message||e("common.saved")),await T()}catch(Be){Q.error(zp(Be,e("common.save_failed"))),console.error(Be)}finally{s(null)}}},pe=f.useMemo(()=>H=>{var Be;const we=[];return(Be=H.group)!=null&&Be.name&&we.push(`${e("plan.group")}: ${H.group.name}`),we.push(`${e("plan.traffic")}: ${H.transfer_enable}`),H.speed_limit!==null&&H.speed_limit!==void 0&&we.push(`${e("plan.speed")}: ${H.speed_limit}`),H.device_limit!==null&&H.device_limit!==void 0&&we.push(`${e("plan.device")}: ${H.device_limit}`),we.join("  ")},[e]),$e=f.useMemo(()=>{const H=_.trim().toLowerCase();return H?l.filter(we=>{var Be;return!!(String(we.id).includes(H)||(we.name||"").toLowerCase().includes(H)||(we.content||"").toLowerCase().includes(H)||(((Be=we.group)==null?void 0:Be.name)||"").toLowerCase().includes(H))}):l},[l,_]),Qe=h?l.length:$e.length,K=Math.max(1,Math.ceil(Qe/O)),ne=Math.min(k,K),Ce=f.useMemo(()=>{if(h)return l;const H=(ne-1)*O;return $e.slice(H,H+O)},[$e,ne,O,l,h]);f.useEffect(()=>{C(H=>Math.min(Math.max(1,H),K))},[K]);const Z=f.useCallback(H=>{const we=H.prices||{},Be={monthly:"/",quarterly:"/",half_yearly:"/",yearly:"/",two_yearly:"/2",three_yearly:"/3",onetime:"",reset_traffic:""};return Uh.map(Xe=>({key:Xe.key,label:e(Xe.labelKey),value:we[Xe.key]})).filter(Xe=>Xe.value!==void 0&&Xe.value!==null&&Number(Xe.value)>0).map(Xe=>{const Nt=Be[Xe.key]||"";return{label:Xe.label,value:`${Xe.value}${Nt}`}})},[e]);return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:_,onChange:H=>{j(H.target.value),C(1)},placeholder:e("plan.search_placeholder"),className:"h-9 pl-9",disabled:h})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:te,disabled:n,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("plan.add")]}),h?o.jsxs(o.Fragment,{children:[o.jsx(W,{variant:"outline",size:"sm",className:"h-9",onClick:ie,disabled:n||p,children:e("plan.sort_cancel")}),o.jsxs(W,{size:"sm",className:"h-9",onClick:X,disabled:n||p||!$,children:[o.jsx(va,{className:"h-4 w-4 mr-2"}),e("plan.sort_save")]})]}):o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:G,disabled:n||l.length<2,children:[o.jsx(Ss,{className:"h-4 w-4 mr-2"}),e("plan.sort")]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:T,disabled:n,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})]})]}),h&&o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plan.sort_hint")}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:Qe===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("plan.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("plan.table.id")}),h?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("plan.sort_column")}):null,o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("plan.table.show")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("plan.table.purchase")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("plan.table.renew")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("plan.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("plan.table.stats")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("plan.table.group")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[260px]",children:e("plan.table.price")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[120px]",children:e("plan.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:Ce.map((H,we)=>{var Nt,ft;const Be=i===H.id,Je=Z(H),Xe=h?we:l.findIndex(Et=>Et.id===H.id);return o.jsxs("tr",{className:ae("hover:bg-muted/30",h&&(w==null?void 0:w.id)===H.id&&"bg-primary/5",h&&x===H.id&&"opacity-60"),onContextMenu:Et=>a.openMenu(Et,H),onDragOver:h?Et=>Pe(Et,H.id):void 0,onDrop:h?Et=>Y(Et,H.id):void 0,onDragLeave:h?()=>{v(Et=>(Et==null?void 0:Et.id)===H.id?null:Et)}:void 0,children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:H.id}),h?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{className:ae("mr-1 inline-flex h-7 w-7 items-center justify-center rounded-md border border-border/70 bg-background text-muted-foreground",p?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"),draggable:!p,onDragStart:Et=>Ve(Et,H.id),onDragEnd:oe,"aria-label":"Drag",children:o.jsx(Xy,{className:"h-4 w-4"})}),o.jsx("span",{className:"w-8 text-xs tabular-nums text-muted-foreground",children:Xe+1}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>De(H.id),disabled:p||Xe<=0,"aria-label":"Top",children:o.jsx(Qy,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>xe(H.id),disabled:p||Xe<=0,"aria-label":"Up",children:o.jsx(vh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>me(H.id),disabled:p||Xe>=l.length-1,"aria-label":"Down",children:o.jsx(xh,{className:"h-4 w-4"})}),o.jsx(W,{type:"button",variant:"outline",size:"icon",className:"h-7 w-7",onClick:()=>ge(H.id),disabled:p||Xe>=l.length-1,"aria-label":"Bottom",children:o.jsx(Gy,{className:"h-4 w-4"})})]})}):null,o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!H.show,onCheckedChange:()=>ue(H,"show"),disabled:Be})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!H.sell,onCheckedChange:()=>ue(H,"sell"),disabled:Be})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!H.renew,onCheckedChange:()=>ue(H,"renew"),disabled:Be})}),o.jsxs("td",{className:"px-4 py-3 align-middle",children:[o.jsx("div",{className:"truncate font-medium",title:H.name,children:H.name}),o.jsx("div",{className:"text-xs text-muted-foreground truncate",title:pe(H),children:pe(H)})]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"tabular-nums",children:e("plan.users",{total:H.users_count??0,active:H.active_users_count??0})})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:((Nt=H.group)==null?void 0:Nt.name)||"",children:((ft=H.group)==null?void 0:ft.name)||""})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:Je.length===0?o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plan.no_prices")}):o.jsxs("div",{className:"space-y-0.5",children:[Je.slice(0,4).map(Et=>o.jsxs("div",{className:"flex items-center justify-between gap-3",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:Et.label}),o.jsx("span",{className:"tabular-nums",children:Et.value})]},Et.label)),Je.length>4?o.jsx("div",{className:"text-xs text-muted-foreground",children:""}):null]})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",disabled:Be,onClick:()=>Ne(H),children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",disabled:Be,onClick:()=>V(H.id),children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},H.id)})})]})})})}),!h&&o.jsx(ls,{page:k,total:Qe,pageSize:O,onPageChange:H=>C(H),onPageSizeChange:H=>{P(H),C(1)},loading:n}),o.jsx(on,{open:M,onOpenChange:A,children:o.jsxs(rn,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(ln,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(cn,{children:L.id?e("plan.edit_title"):e("plan.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"plan-name",children:e("plan.fields.name")}),o.jsx(J,{id:"plan-name",value:L.name,onChange:H=>D(we=>({...we,name:H.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"plan-content",children:e("plan.fields.content")}),o.jsx(gr,{id:"plan-content",value:L.content,onChange:H=>D(we=>({...we,content:H.target.value})),className:"min-h-[120px]"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("plan.fields.group")}),o.jsxs(it,{value:L.group_id,onValueChange:H=>D(we=>({...we,group_id:H})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("plan.fields.group_placeholder")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"null",children:e("plan.no_group")}),u.map(H=>o.jsx(fe,{value:String(H.id),children:H.name},H.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"plan-transfer",children:e("plan.fields.transfer")}),o.jsx(J,{id:"plan-transfer",type:"number",value:L.transfer_enable,onChange:H=>D(we=>({...we,transfer_enable:H.target.value})),placeholder:"100"})]})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"plan-speed",children:e("plan.fields.speed")}),o.jsx(J,{id:"plan-speed",type:"number",value:L.speed_limit,onChange:H=>D(we=>({...we,speed_limit:H.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"plan-device",children:e("plan.fields.device")}),o.jsx(J,{id:"plan-device",type:"number",value:L.device_limit,onChange:H=>D(we=>({...we,device_limit:H.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"plan-capacity",children:e("plan.fields.capacity")}),o.jsx(J,{id:"plan-capacity",type:"number",value:L.capacity_limit,onChange:H=>D(we=>({...we,capacity_limit:H.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("plan.fields.reset")}),o.jsxs(it,{value:L.reset_traffic_method,onValueChange:H=>D(we=>({...we,reset_traffic_method:H})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("plan.fields.reset_placeholder")})}),o.jsx(tt,{children:o6e.map(H=>o.jsx(fe,{value:H.value,children:e(H.labelKey)},H.value))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"plan-tags",children:e("plan.fields.tags")}),o.jsx(J,{id:"plan-tags",value:L.tagsText,onChange:H=>D(we=>({...we,tagsText:H.target.value})),placeholder:"vip, promo"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"text-sm font-medium",children:e("plan.fields.prices")}),o.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:Uh.map(H=>o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:`plan-price-${H.key}`,children:e(H.labelKey)}),o.jsx(J,{id:`plan-price-${H.key}`,type:"number",value:L.prices[H.key],onChange:we=>D(Be=>({...Be,prices:{...Be.prices,[H.key]:we.target.value}})),placeholder:"0"})]},H.key))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("plan.price_hint")})]}),!!L.id&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Dt,{checked:L.force_update,onCheckedChange:H=>D(we=>({...we,force_update:H}))}),o.jsx("span",{className:"text-sm",children:e("plan.fields.force_update")})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[F&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:F}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"outline",onClick:()=>A(!1),disabled:R,children:e("common.cancel")}),o.jsx(W,{onClick:Te,disabled:R,children:e(R?"common.saving":"common.save")})]})]})]})}),o.jsx(ss,{open:a.open,onOpenChange:a.setOpen,position:a.position,items:[{type:"checkbox",label:e("plan.table.show"),checked:!!((be=a.data)!=null&&be.show),disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),ue(a.data,"show"))}},{type:"checkbox",label:e("plan.table.purchase"),checked:!!((Ie=a.data)!=null&&Ie.sell),disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),ue(a.data,"sell"))}},{type:"checkbox",label:e("plan.table.renew"),checked:!!((re=a.data)!=null&&re.renew),disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),ue(a.data,"renew"))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),Ne(a.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),V(a.data.id))}}]})]})}const Vh={fetch:e=>ze.post("/order/fetch",e),detail:e=>ze.post("/order/detail",{id:e}),paid:e=>ze.post("/order/paid",{trade_no:e}),cancel:e=>ze.post("/order/cancel",{trade_no:e}),update:(e,t)=>ze.post("/order/update",{trade_no:e,...t}),assign:e=>ze.post("/order/assign",e)},od=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},ld=e=>(Number(e??0)/100).toFixed(2),u6e=e=>{const t=e.commission_balance,n=e.actual_commission_balance;return n==null?t:n>0?n:t!=null&&t>0?t:n},xN=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},d6e=[{value:"month_price",labelKey:"plan.period.monthly"},{value:"quarter_price",labelKey:"plan.period.quarterly"},{value:"half_year_price",labelKey:"plan.period.half_yearly"},{value:"year_price",labelKey:"plan.period.yearly"},{value:"two_year_price",labelKey:"plan.period.two_yearly"},{value:"three_year_price",labelKey:"plan.period.three_yearly"},{value:"onetime_price",labelKey:"plan.period.onetime"},{value:"reset_price",labelKey:"plan.period.reset_traffic"}];function h6e(){var Ie;const{t:e}=Wt(),t=wa(),n=Za(),r=yh(),i=f.useMemo(()=>{const re=new URLSearchParams(n.search);return{assignEmail:re.get("assign_email")||"",userId:re.get("user_id")||"",isCommission:re.get("is_commission")||"",commissionStatus:re.get("commission_status")||""}},[n.search]),[s,a]=f.useState(!1),[l,c]=f.useState(null),u=as(),[d,h]=f.useState(1),[m,p]=f.useState(10),[g,y]=f.useState(0),x=f.useMemo(()=>Math.max(1,Math.ceil(g/m)),[g,m]),[b,w]=f.useState(""),[v,_]=f.useState(i.userId),[j,k]=f.useState(()=>{const re=i.isCommission.trim().toLowerCase();return re==="1"||re==="true"||re==="yes"||re==="on"}),[C,O]=f.useState(()=>i.commissionStatus.trim()),[P,M]=f.useState([]),[A,R]=f.useState([]),[B,F]=f.useState(!1),[U,L]=f.useState(!1),[D,T]=f.useState(null),[$,G]=f.useState(""),[ie,X]=f.useState(!1),[se,xe]=f.useState(!1),[me,De]=f.useState(""),[ge,Ve]=f.useState({email:"",plan_id:"",period:"month_price",amount:"0"}),oe=f.useMemo(()=>new Map(A.map(re=>[re.id,re.name])),[A]),Pe=async re=>{await fl(re)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},Y=f.useCallback(re=>!!re&&(l==null?void 0:l.trade_no)===re,[l]),te=f.useCallback(re=>{switch(re){case 0:return{label:e("order.status.pending"),Icon:MC,className:"border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-900/60 dark:bg-amber-950/30 dark:text-amber-300"};case 1:return{label:e("order.status.processing"),Icon:qk,iconClassName:"animate-spin",className:"border-sky-200 bg-sky-50 text-sky-700 dark:border-sky-900/60 dark:bg-sky-950/30 dark:text-sky-300"};case 2:return{label:e("order.status.cancelled"),Icon:$d,className:"border-red-200 bg-red-50 text-red-700 dark:border-red-900/60 dark:bg-red-950/30 dark:text-red-300"};case 3:return{label:e("order.status.completed"),Icon:Ef,className:"border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-900/60 dark:bg-emerald-950/30 dark:text-emerald-300"};case 4:return{label:e("order.status.discounted"),Icon:Qoe,className:"border-violet-200 bg-violet-50 text-violet-700 dark:border-violet-900/60 dark:bg-violet-950/30 dark:text-violet-300"};default:return{label:String(re),Icon:yv,className:"border-border/60 bg-muted/40 text-muted-foreground dark:border-border/60 dark:bg-muted/30 dark:text-muted-foreground"}}},[e]),Ne=f.useCallback(re=>{if(re==null)return{label:"",Icon:yle,className:"border-border/60 bg-muted/40 text-muted-foreground dark:border-border/60 dark:bg-muted/30 dark:text-muted-foreground"};switch(re){case 0:return{label:e("order.commission.pending"),Icon:MC,className:"border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-900/60 dark:bg-amber-950/30 dark:text-amber-300"};case 1:return{label:e("order.commission.checking"),Icon:yv,className:"border-sky-200 bg-sky-50 text-sky-700 dark:border-sky-900/60 dark:bg-sky-950/30 dark:text-sky-300"};case 2:return{label:e("order.commission.valid"),Icon:Ef,className:"border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-900/60 dark:bg-emerald-950/30 dark:text-emerald-300"};case 3:return{label:e("order.commission.invalid"),Icon:HD,className:"border-red-200 bg-red-50 text-red-700 dark:border-red-900/60 dark:bg-red-950/30 dark:text-red-300"};default:return{label:String(re),Icon:yv,className:"border-border/60 bg-muted/40 text-muted-foreground dark:border-border/60 dark:bg-muted/30 dark:text-muted-foreground"}}},[e]),Te=f.useCallback(async()=>{a(!0);try{const re=[];b.trim()&&re.push({id:"trade_no",value:b.trim()}),v.trim()&&re.push({id:"user_id",value:`eq:${v.trim()}`}),C.trim()!==""&&re.push({id:"commission_status",value:`eq:${C.trim()}`});const H={current:d,pageSize:m};j&&(H.is_commission=!0),re.length&&(H.filter=re);const we=await Vh.fetch(H);M(we.data.data||[]),y(we.data.total||0)}catch(re){M([]),y(0),Q.error(od(re,e("common.load_failed"))),console.error(re)}finally{a(!1)}},[e,d,m,b,v,j,C]),V=f.useCallback(async()=>{try{const re=await nl.fetch();re.data.status==="success"&&R(re.data.data||[])}catch(re){R([]),Q.error(od(re,e("common.load_failed"))),console.error(re)}},[e]);f.useEffect(()=>{V()},[V]),f.useEffect(()=>{_(i.userId),i.userId&&h(1)},[i.userId]),f.useEffect(()=>{const re=i.isCommission.trim().toLowerCase(),H=re==="1"||re==="true"||re==="yes"||re==="on",we=i.commissionStatus.trim();k(H),O(we),(H||we)&&h(1)},[i.isCommission,i.commissionStatus]),f.useEffect(()=>{var re;i.assignEmail&&(De(""),Ve({email:i.assignEmail,plan_id:(re=A[0])!=null&&re.id?String(A[0].id):"",period:"month_price",amount:"0"}),X(!0))},[i.assignEmail,A]),f.useEffect(()=>{Te()},[Te]),f.useEffect(()=>{h(re=>Math.min(Math.max(1,re),x))},[x]);const ue=async re=>{F(!0),L(!0),G(""),T(null);try{const H=await Vh.detail(re);if(H.data.status!=="success")throw new Error(H.data.message||"request failed");T(H.data.data)}catch(H){G(od(H,e("common.load_failed"))),console.error(H)}finally{L(!1)}},pe=re=>{re&&(F(!1),r(`/dashboard/user/list?q=${encodeURIComponent(re)}`))},$e=async re=>{if(!(!re||l)){c({trade_no:re,action:"paid"});try{const H=await Vh.paid(re);if(H.data.status!=="success")throw new Error(H.data.message||"request failed");Q.success(H.data.message||e("order.paid")),await Te()}catch(H){Q.error(od(H,e("common.save_failed"))),console.error(H)}finally{c(null)}}},Qe=async re=>{if(!(!re||l||!await t({title:e("order.cancel"),description:e("order.confirm_cancel"),confirmText:e("order.cancel"),confirmVariant:"destructive"}))){c({trade_no:re,action:"cancel"});try{const we=await Vh.cancel(re);if(we.data.status!=="success")throw new Error(we.data.message||"request failed");Q.success(we.data.message||e("order.cancelled")),await Te()}catch(we){Q.error(od(we,e("common.save_failed"))),console.error(we)}finally{c(null)}}},K=async(re,H)=>{if(!(!re.trade_no||l)){c({trade_no:re.trade_no,action:"commission"});try{const we=await Vh.update(re.trade_no,{commission_status:H});if(we.data.status!=="success")throw new Error(we.data.message||"request failed");M(Be=>Be.map(Je=>Je.id===re.id?{...Je,commission_status:H}:Je)),Q.success(we.data.message||e("order.updated")),(D==null?void 0:D.id)===re.id&&T(Be=>Be&&{...Be,commission_status:H})}catch(we){Q.error(od(we,e("common.save_failed"))),console.error(we)}finally{c(null)}}},ne=()=>{var re;De(""),Ve({email:"",plan_id:(re=A[0])!=null&&re.id?String(A[0].id):"",period:"month_price",amount:"0"}),X(!0)},Ce=async()=>{if(se)return;if(De(""),!ge.email.trim())return De(e("order.validation.email_required"));if(!ge.plan_id)return De(e("order.validation.plan_required"));const re=Number(ge.amount);if(!Number.isFinite(re)||re<0)return De(e("order.validation.amount_invalid"));const H=Math.round(re*100);xe(!0);try{const we=await Vh.assign({email:ge.email.trim(),plan_id:Number(ge.plan_id),period:ge.period,total_amount:H});if(we.data.status!=="success")throw new Error(we.data.message||"request failed");Q.success(e("order.assigned",{trade_no:we.data.data})),X(!1),await Te()}catch(we){const Be=od(we,e("common.save_failed"));De(Be),Q.error(Be),console.error(we)}finally{xe(!1)}},Z=f.useCallback(re=>{switch(re){case 1:return e("order.type.new_purchase");case 2:return e("order.type.renewal");case 3:return e("order.type.upgrade");case 4:return e("order.type.reset_traffic");default:return String(re)}},[e]),be=f.useCallback(re=>{switch(re){case"month_price":return e("plan.period.monthly");case"quarter_price":return e("plan.period.quarterly");case"half_year_price":return e("plan.period.half_yearly");case"year_price":return e("plan.period.yearly");case"two_year_price":return e("plan.period.two_yearly");case"three_year_price":return e("plan.period.three_yearly");case"onetime_price":return e("plan.period.onetime");case"reset_price":return e("plan.period.reset_traffic");default:return re}},[e]);return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:b,onChange:re=>{w(re.target.value),h(1)},placeholder:e("order.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:ne,disabled:s,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("order.add")]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:()=>Te(),disabled:s,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",s&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:P.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("order.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("order.table.trade_no")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("order.table.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("order.table.plan")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("order.table.period")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("order.table.amount")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[150px]",children:e("order.table.status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("order.table.commission_amount")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[150px]",children:e("order.table.commission_status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("order.table.created_at")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:P.map(re=>{var Et;const H=((Et=re.plan)==null?void 0:Et.name)||oe.get(re.plan_id)||String(re.plan_id),we=u6e(re),Be=Number(we??0)>0,Je=!Be||we===null||we===void 0?"":`${ld(we)}`,Xe=te(re.status),Nt=Ne(re.commission_status),ft=Y(re.trade_no);return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:Xt=>u.openMenu(Xt,re),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:o.jsx(W,{variant:"link",size:"sm",className:"h-auto p-0 font-medium tabular-nums max-w-full",onClick:()=>ue(re.id),disabled:s,children:o.jsx("span",{className:"truncate",title:re.trade_no,children:re.trade_no})})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:Z(re.type),children:Z(re.type)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:H,children:H})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:be(re.period),children:be(re.period)})}),o.jsxs("td",{className:"px-4 py-3 align-middle tabular-nums",children:["",ld(re.total_amount)]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:re.status===0?o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 disabled:opacity-50 disabled:cursor-not-allowed",Xe.className),disabled:s||ft,title:Xe.label,children:[o.jsx(Xe.Icon,{className:ae("h-3.5 w-3.5",Xe.iconClassName)}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:Xe.label})]})}),o.jsxs(fa,{align:"start",children:[o.jsxs(nn,{onSelect:()=>$e(re.trade_no),disabled:ft,children:[o.jsx(Ef,{className:"h-4 w-4 mr-2"}),e("order.mark_paid"),ft&&(l==null?void 0:l.action)==="paid"&&o.jsx(qk,{className:"h-4 w-4 ml-auto animate-spin"})]}),o.jsxs(nn,{onSelect:()=>Qe(re.trade_no),disabled:ft,className:"text-destructive focus:text-destructive",children:[o.jsx($d,{className:"h-4 w-4 mr-2"}),e("order.cancel"),ft&&(l==null?void 0:l.action)==="cancel"&&o.jsx(qk,{className:"h-4 w-4 ml-auto animate-spin"})]}),o.jsx(es,{}),o.jsxs(nn,{onSelect:()=>ue(re.id),disabled:ft,children:[o.jsx(qg,{className:"h-4 w-4 mr-2"}),e("order.detail_title")]})]})]}):o.jsxs("span",{className:ae("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium",Xe.className),title:Xe.label,children:[o.jsx(Xe.Icon,{className:ae("h-3.5 w-3.5",Xe.iconClassName)}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:Xe.label})]})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Je}),o.jsx("td",{className:"px-4 py-3 align-middle",children:Be?re.commission_status===0?o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/30 disabled:opacity-50 disabled:cursor-not-allowed",Nt.className),disabled:s||ft,title:Nt.label,children:[o.jsx(Nt.Icon,{className:ae("h-3.5 w-3.5",ft&&(l==null?void 0:l.action)==="commission"&&"animate-spin")}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:Nt.label})]})}),o.jsxs(fa,{align:"start",children:[o.jsxs(nn,{onSelect:()=>K(re,1),disabled:ft,children:[o.jsx(yv,{className:"h-4 w-4 mr-2"}),e("order.commission.checking")]}),o.jsxs(nn,{onSelect:()=>K(re,3),disabled:ft,children:[o.jsx(HD,{className:"h-4 w-4 mr-2"}),e("order.commission.invalid")]})]})]}):o.jsxs("span",{className:ae("inline-flex items-center gap-1 rounded-full border px-2 py-1 text-xs font-medium",Nt.className),title:Nt.label,children:[o.jsx(Nt.Icon,{className:"h-3.5 w-3.5"}),o.jsx("span",{className:"max-w-[7.5rem] truncate",children:Nt.label})]}):null}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:xN(re.created_at)})]},re.id)})})]})})})}),o.jsx(ls,{page:d,total:g,pageSize:m,onPageChange:re=>h(re),onPageSizeChange:re=>{p(re),h(1)},loading:s}),o.jsx(on,{open:B,onOpenChange:F,children:o.jsxs(rn,{className:"max-w-3xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("order.detail_title")})}),U?o.jsx("div",{className:"text-sm text-muted-foreground",children:e("order.loading")}):$?o.jsx("div",{className:"text-sm text-red-600",children:$}):D?o.jsx("div",{className:"space-y-4",children:(()=>{var we,Be;const re=((we=D.plan)==null?void 0:we.name)||oe.get(D.plan_id)||String(D.plan_id),H=te(D.status);return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("order.trade_no")}),o.jsx("div",{className:"font-medium tabular-nums break-all",children:D.trade_no})]}),o.jsx("div",{className:"shrink-0",children:o.jsxs("span",{className:ae("inline-flex items-center gap-1 rounded-full border px-3 py-1 text-xs font-medium",H.className),children:[o.jsx(H.Icon,{className:ae("h-4 w-4",H.iconClassName)}),H.label]})})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 p-4",children:[o.jsx("div",{className:"font-medium",children:e("order.basic_info")}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.user_email")}),(Be=D.user)!=null&&Be.email?o.jsx(W,{variant:"link",size:"sm",className:"h-auto p-0 max-w-full justify-start",onClick:()=>pe(D.user.email),children:o.jsx("span",{className:"truncate",children:D.user.email})}):o.jsx("div",{className:"truncate",children:""})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.period_label")}),o.jsx("div",{className:"truncate",children:be(D.period)})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.table.plan")}),o.jsx("div",{className:"truncate",children:re})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.callback_no")}),o.jsx("div",{className:"truncate tabular-nums",children:D.callback_no||""})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 p-4",children:[o.jsx("div",{className:"font-medium",children:e("order.amount_info")}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.table.amount")}),o.jsxs("div",{className:"tabular-nums",children:["",ld(D.total_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.balance_payment")}),o.jsxs("div",{className:"tabular-nums",children:["",ld(D.balance_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.discount_amount")}),o.jsxs("div",{className:"tabular-nums",children:["",ld(D.discount_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.refund_amount")}),o.jsxs("div",{className:"tabular-nums",children:["",ld(D.refund_amount)]})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.offset_amount")}),o.jsxs("div",{className:"tabular-nums",children:["",ld(D.surplus_amount)]})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 p-4",children:[o.jsx("div",{className:"font-medium",children:e("order.time_info")}),o.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2 text-sm",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.created_at")}),o.jsx("div",{className:"tabular-nums",children:xN(D.created_at)})]}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("div",{className:"text-muted-foreground",children:e("order.updated_at")}),o.jsx("div",{className:"tabular-nums",children:xN(D.updated_at)})]})]})]})]})})()}):o.jsx("div",{className:"text-sm text-muted-foreground",children:e("order.empty_detail")})]})}),o.jsx(on,{open:ie,onOpenChange:X,children:o.jsxs(rn,{className:"max-w-xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("order.add_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"assign-email",children:e("order.assign_email")}),o.jsx(J,{id:"assign-email",value:ge.email,onChange:re=>Ve(H=>({...H,email:re.target.value})),placeholder:"user@example.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("order.assign_plan")}),o.jsxs(it,{value:ge.plan_id,onValueChange:re=>Ve(H=>({...H,plan_id:re})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("order.assign_plan")})}),o.jsx(tt,{children:A.map(re=>o.jsx(fe,{value:String(re.id),children:re.name},re.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:[o.jsx(ee,{htmlFor:"assign-period",children:e("order.assign_period")}),o.jsx(ee,{htmlFor:"assign-amount",children:e("order.assign_amount")}),o.jsxs(it,{value:ge.period,onValueChange:re=>Ve(H=>({...H,period:re})),children:[o.jsx(et,{id:"assign-period",children:o.jsx(st,{})}),o.jsx(tt,{children:d6e.map(re=>o.jsx(fe,{value:re.value,children:e(re.labelKey)},re.value))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(J,{id:"assign-amount",type:"number",value:ge.amount,onChange:re=>Ve(H=>({...H,amount:re.target.value})),placeholder:"0"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("order.assign_amount_hint")})]})]})]}),me&&o.jsx("div",{className:"text-sm text-red-600",children:me}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>X(!1),disabled:se,children:e("common.cancel")}),o.jsx(W,{onClick:Ce,disabled:se,children:e(se?"common.saving":"common.save")})]})]})}),o.jsx(ss,{open:u.open,onOpenChange:u.setOpen,position:u.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("common.copy")," ",e("order.trade_no")]}),disabled:!((Ie=u.data)!=null&&Ie.trade_no),onSelect:()=>{var re;(re=u.data)!=null&&re.trade_no&&(u.setOpen(!1),Pe(u.data.trade_no))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qg,{className:"h-4 w-4 mr-2"}),e("order.detail_title")]}),disabled:!u.data,onSelect:()=>{u.data&&(u.setOpen(!1),ue(u.data.id))}}]})]})}const Dp={fetch:e=>ze.post("/coupon/fetch",e),generate:e=>ze.post("/coupon/generate",e),generateCsv:e=>ze.post("/coupon/generate",e,{responseType:"blob"}),toggleShow:e=>ze.post("/coupon/show",{id:e}),drop:e=>ze.post("/coupon/drop",{id:e})},Rp=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},xb=e=>String(e).padStart(2,"0"),vb=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${xb(t.getMonth()+1)}-${xb(t.getDate())}T${xb(t.getHours())}:${xb(t.getMinutes())}`},qF=e=>{const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},WF=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},f6e=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)},m6e=[{value:"monthly",labelKey:"plan.period.monthly"},{value:"quarterly",labelKey:"plan.period.quarterly"},{value:"half_yearly",labelKey:"plan.period.half_yearly"},{value:"yearly",labelKey:"plan.period.yearly"},{value:"two_yearly",labelKey:"plan.period.two_yearly"},{value:"three_yearly",labelKey:"plan.period.three_yearly"},{value:"onetime",labelKey:"plan.period.onetime"},{value:"reset_traffic",labelKey:"plan.period.reset_traffic"}];function p6e(){var oe,Pe;const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),[i,s]=f.useState(null),a=as(),[l,c]=f.useState(1),[u,d]=f.useState(20),[h,m]=f.useState(0),p=f.useMemo(()=>Math.max(1,Math.ceil(h/u)),[h,u]),[g,y]=f.useState("name"),[x,b]=f.useState(""),[w,v]=f.useState({type:"all",show:"all"}),[_,j]=f.useState([]),[k,C]=f.useState([]),[O,P]=f.useState(!1),[M,A]=f.useState(!1),[R,B]=f.useState(""),[F,U]=f.useState({generate_count:"1",name:"",code:"",type:"1",value:"",started_at:"",ended_at:"",limit_use:"",limit_use_with_user:"",limit_plan_ids:[],limit_period:[]}),L=f.useCallback(async()=>{try{const Y=await nl.fetch();Y.data.status==="success"&&C(Y.data.data||[])}catch(Y){C([]),Q.error(Rp(Y,e("common.load_failed"))),console.error(Y)}},[e]),D=f.useCallback(async()=>{r(!0);try{const Y=[];x.trim()&&Y.push({id:g,value:x.trim()}),w.type!=="all"&&Y.push({id:"type",value:w.type}),w.show!=="all"&&Y.push({id:"show",value:w.show});const te={current:l,pageSize:u};Y.length&&(te.filter=Y);const Ne=await Dp.fetch(te);j(Ne.data.data||[]),m(Ne.data.total||0)}catch(Y){j([]),m(0),Q.error(Rp(Y,e("common.load_failed"))),console.error(Y)}finally{r(!1)}},[e,l,u,w,x,g]);f.useEffect(()=>{L()},[L]),f.useEffect(()=>{D()},[D]),f.useEffect(()=>{c(Y=>Math.min(Math.max(1,Y),p))},[p]);const T=Y=>Y.type===1?e("coupon.type.amount"):e("coupon.type.percent"),$=Y=>Y.type===1?`${(Y.value/100).toFixed(2)}`:`${Y.value}%`,G=()=>{const Y=Math.floor(Date.now()/1e3),te=Y+30*86400;B(""),U({generate_count:"1",name:"",code:"",type:"1",value:"",started_at:vb(Y),ended_at:vb(te),limit_use:"",limit_use_with_user:"",limit_plan_ids:[],limit_period:[]}),P(!0)},ie=Y=>{B(""),U({id:Y.id,generate_count:"1",name:Y.name||"",code:Y.code||"",type:String(Y.type),value:Y.type===1?String((Y.value/100).toFixed(2)):String(Y.value),started_at:vb(Y.started_at),ended_at:vb(Y.ended_at),limit_use:Y.limit_use===null||Y.limit_use===void 0?"":String(Y.limit_use),limit_use_with_user:Y.limit_use_with_user===null||Y.limit_use_with_user===void 0?"":String(Y.limit_use_with_user),limit_plan_ids:Y.limit_plan_ids||[],limit_period:Y.limit_period||[]}),P(!0)},X=async Y=>{if(!i){s(Y.id);try{const te=await Dp.toggleShow(Y.id);if(te.data.status!=="success")throw new Error(te.data.message||"request failed");j(Ne=>Ne.map(Te=>Te.id===Y.id?{...Te,show:!Te.show}:Te))}catch(te){Q.error(Rp(te,e("common.save_failed"))),console.error(te)}finally{s(null)}}},se=async Y=>{if(!await t({title:e("common.delete"),description:e("coupon.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;const Ne=_;j(Te=>Te.filter(V=>V.id!==Y.id));try{const Te=await Dp.drop(Y.id);if(Te.data.status!=="success")throw new Error(Te.data.message||"request failed");Q.success(e("coupon.deleted")),await D()}catch(Te){j(Ne),Q.error(Rp(Te,e("common.save_failed"))),console.error(Te)}},xe=async Y=>{await fl(Y)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},me=f.useCallback(Y=>{const te=Math.floor(Date.now()/1e3);if(Y.ended_at&&Y.ended_at<te){const V=Math.max(0,Math.floor((te-Y.ended_at)/86400));return e("coupon.expired_days",{days:V})}const Ne=WF(Y.started_at),Te=WF(Y.ended_at);return`${Ne}  ${Te}`},[e]),De=f.useCallback(Y=>Y.limit_use===null||Y.limit_use===void 0?e("coupon.unlimited_times"):String(Y.limit_use),[e]),ge=f.useCallback(Y=>{const te=[];return Y.limit_plan_ids&&Y.limit_plan_ids.length&&te.push(`${e("coupon.limits.plans")}: ${Y.limit_plan_ids.length}`),Y.limit_period&&Y.limit_period.length&&te.push(`${e("coupon.limits.periods")}: ${Y.limit_period.length}`),Y.limit_use_with_user!==null&&Y.limit_use_with_user!==void 0&&te.push(`${e("coupon.limits.per_user")}: ${Y.limit_use_with_user}`),te.length?te.join("  "):e("coupon.none")},[e]),Ve=async()=>{if(M)return;if(B(""),!F.name.trim())return B(e("coupon.validation.name_required"));const Y=qF(F.started_at),te=qF(F.ended_at);if(!Y||!te)return B(e("coupon.validation.time_required"));if(te<=Y)return B(e("coupon.validation.time_order"));const Ne=Number(F.type),Te=Number(F.value);if(!Number.isFinite(Te)||Te<=0)return B(e("coupon.validation.value_required"));const V=Ne===1?Math.round(Te*100):Math.trunc(Te),ue=Math.trunc(Number(F.generate_count||"1"));if(!Number.isFinite(ue)||ue<1)return B(e("coupon.validation.generate_count_invalid"));if(ue>500)return B(e("coupon.validation.generate_count_max"));const pe={id:F.id,name:F.name.trim(),type:Ne,value:V,started_at:Y,ended_at:te,limit_use:F.limit_use.trim()?Math.trunc(Number(F.limit_use)):null,limit_use_with_user:F.limit_use_with_user.trim()?Math.trunc(Number(F.limit_use_with_user)):null,limit_plan_ids:F.limit_plan_ids.length?F.limit_plan_ids:null,limit_period:F.limit_period.length?F.limit_period:null};!F.id&&F.code.trim()&&(pe.code=F.code.trim()),A(!0);try{if(!F.id&&ue>1){const Qe=await Dp.generateCsv({...pe,generate_count:ue}),K=Qe.data instanceof Blob?Qe.data:new Blob([Qe.data],{type:"text/csv;charset=utf-8"});f6e(K,`coupons_${Date.now()}.csv`),Q.success(e("coupon.generated_csv")),P(!1),await D();return}const $e=await Dp.generate(pe);if($e.data.status!=="success")throw new Error($e.data.message||"request failed");Q.success(e(F.id?"coupon.saved":"coupon.created")),P(!1),await D()}catch($e){const Qe=Rp($e,e("common.save_failed"));B(Qe),Q.error(Qe),console.error($e)}finally{A(!1)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:x,onChange:Y=>{b(Y.target.value),c(1)},placeholder:e("coupon.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(it,{value:g,onValueChange:Y=>{y(Y),c(1)},children:[o.jsx(et,{className:"h-9 w-[110px]",children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"name",children:e("coupon.search_field.name")}),o.jsx(fe,{value:"code",children:e("coupon.search_field.code")})]})]}),o.jsxs(it,{value:w.type,onValueChange:Y=>{v(te=>({...te,type:Y})),c(1)},children:[o.jsx(et,{className:"h-9 w-[132px]",children:o.jsx(st,{placeholder:e("coupon.filter_type")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("coupon.type.all")}),o.jsx(fe,{value:"1",children:e("coupon.type.amount")}),o.jsx(fe,{value:"2",children:e("coupon.type.percent")})]})]}),o.jsxs(it,{value:w.show,onValueChange:Y=>{v(te=>({...te,show:Y})),c(1)},children:[o.jsx(et,{className:"h-9 w-[132px]",children:o.jsx(st,{placeholder:e("coupon.filter_show")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("coupon.show.all")}),o.jsx(fe,{value:"1",children:e("coupon.show.on")}),o.jsx(fe,{value:"0",children:e("coupon.show.off")})]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:G,disabled:n,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("coupon.add")]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:D,disabled:n,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:_.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("coupon.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("coupon.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("coupon.table.enabled")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("coupon.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("coupon.table.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("coupon.table.code")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("coupon.table.remaining")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("coupon.table.limits")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("coupon.table.validity")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("coupon.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:_.map(Y=>{const te=i===Y.id;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:Ne=>a.openMenu(Ne,Y),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Y.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!Y.show,onCheckedChange:()=>X(Y),disabled:te})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate font-medium",title:Y.name,children:Y.name})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"truncate",title:`${T(Y)}: ${$(Y)}`,children:[T(Y),": ",$(Y)]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"truncate tabular-nums",title:Y.code,children:Y.code||e("coupon.none")}),!!Y.code&&o.jsx(W,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>xe(Y.code),disabled:n,title:e("common.copy"),children:o.jsx(oi,{className:"h-4 w-4"})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:De(Y)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ge(Y),children:ge(Y)})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:me(Y),children:me(Y)})}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>ie(Y),disabled:te,children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>se(Y),disabled:te,children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},Y.id)})})]})})})}),o.jsx(ls,{page:l,total:h,pageSize:u,onPageChange:Y=>c(Y),onPageSizeChange:Y=>{d(Y),c(1)},loading:n}),o.jsx(on,{open:O,onOpenChange:P,children:o.jsxs(rn,{className:"max-w-3xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:F.id?e("coupon.edit_title"):e("coupon.create_title")})}),o.jsx(cs,{className:"max-h-[70vh] pr-4",children:o.jsxs("div",{className:"grid gap-4",children:[!F.id&&o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"coupon-generate",children:e("coupon.fields.generate_count")}),o.jsx(J,{id:"coupon-generate",type:"number",value:F.generate_count,onChange:Y=>U(te=>({...te,generate_count:Y.target.value})),placeholder:"1"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.generate_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"coupon-code",children:e("coupon.fields.code")}),o.jsx(J,{id:"coupon-code",value:F.code,onChange:Y=>U(te=>({...te,code:Y.target.value})),placeholder:e("coupon.fields.code_placeholder")}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.code_hint")})]})]}),F.id&&o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("coupon.fields.code")}),o.jsx(J,{value:F.code,disabled:!0})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"coupon-name",children:e("coupon.fields.name")}),o.jsx(J,{id:"coupon-name",value:F.name,onChange:Y=>U(te=>({...te,name:Y.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("coupon.fields.type")}),o.jsxs(it,{value:F.type,onValueChange:Y=>U(te=>({...te,type:Y})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"1",children:e("coupon.type.amount")}),o.jsx(fe,{value:"2",children:e("coupon.type.percent")})]})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"coupon-value",children:F.type==="1"?e("coupon.fields.amount_yuan"):e("coupon.fields.percent")}),o.jsx(J,{id:"coupon-value",type:"number",value:F.value,onChange:Y=>U(te=>({...te,value:Y.target.value})),placeholder:F.type==="1"?"10.00":"80"})]}),o.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"coupon-limit-use",children:e("coupon.fields.limit_use")}),o.jsx(J,{id:"coupon-limit-use",type:"number",value:F.limit_use,onChange:Y=>U(te=>({...te,limit_use:Y.target.value})),placeholder:e("coupon.fields.unlimited_placeholder")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{htmlFor:"coupon-limit-user",children:e("coupon.fields.limit_user")}),o.jsx(J,{id:"coupon-limit-user",type:"number",value:F.limit_use_with_user,onChange:Y=>U(te=>({...te,limit_use_with_user:Y.target.value})),placeholder:e("coupon.fields.unlimited_placeholder")})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("coupon.fields.started_at")}),o.jsx(J,{type:"datetime-local",value:F.started_at,onChange:Y=>U(te=>({...te,started_at:Y.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("coupon.fields.ended_at")}),o.jsx(J,{type:"datetime-local",value:F.ended_at,onChange:Y=>U(te=>({...te,ended_at:Y.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("coupon.fields.limit_plan_ids")}),o.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:k.map(Y=>{const te=F.limit_plan_ids.includes(Y.id);return o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:te,onCheckedChange:Ne=>U(Te=>({...Te,limit_plan_ids:Ne?[...Te.limit_plan_ids,Y.id]:Te.limit_plan_ids.filter(V=>V!==Y.id)}))}),o.jsxs("span",{children:[Y.name," ",o.jsxs("span",{className:"text-xs text-muted-foreground",children:["(ID: ",Y.id,")"]})]})]},Y.id)})}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.limit_plan_ids_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("coupon.fields.limit_period")}),o.jsx("div",{className:"grid gap-2 md:grid-cols-4",children:m6e.map(Y=>{const te=F.limit_period.includes(Y.value);return o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:te,onCheckedChange:Ne=>U(Te=>({...Te,limit_period:Ne?[...Te.limit_period,Y.value]:Te.limit_period.filter(V=>V!==Y.value)}))}),o.jsx("span",{children:e(Y.labelKey)})]},Y.value)})}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("coupon.fields.limit_period_hint")})]})]})}),R&&o.jsx("div",{className:"text-sm text-red-600",children:R}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>P(!1),disabled:M,children:e("common.cancel")}),o.jsx(W,{onClick:Ve,disabled:M,children:e(M?"common.saving":"common.save")})]})]})}),o.jsx(ss,{open:a.open,onOpenChange:a.setOpen,position:a.position,items:[{type:"checkbox",label:e("coupon.table.enabled"),checked:!!((oe=a.data)!=null&&oe.show),disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),X(a.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("common.copy")]}),disabled:!((Pe=a.data)!=null&&Pe.code),onSelect:()=>{var Y;(Y=a.data)!=null&&Y.code&&(a.setOpen(!1),xe(a.data.code))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),ie(a.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!a.data||i===a.data.id,onSelect:()=>{a.data&&(a.setOpen(!1),se(a.data))}}]})]})}const Li={types:()=>ze.get("/gift-card/types"),templates:e=>ze.post("/gift-card/templates",e),createTemplate:e=>ze.post("/gift-card/create-template",e),updateTemplate:e=>ze.post("/gift-card/update-template",e),deleteTemplate:e=>ze.post("/gift-card/delete-template",{id:e}),generateCodes:e=>ze.post("/gift-card/generate-codes",e),generateCodesCsv:e=>ze.post("/gift-card/generate-codes",e,{responseType:"blob"}),codes:e=>ze.post("/gift-card/codes",e),toggleCode:e=>ze.post("/gift-card/toggle-code",e),exportCodes:e=>ze.get("/gift-card/export-codes",{params:{batch_id:e},responseType:"blob"}),updateCode:e=>ze.post("/gift-card/update-code",e),deleteCode:e=>ze.post("/gift-card/delete-code",{id:e}),usages:e=>ze.post("/gift-card/usages",e),statistics:e=>ze.post("/gift-card/statistics",e)},Xs=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},gu=e=>String(e).padStart(2,"0"),vN=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${gu(t.getMonth()+1)}-${gu(t.getDate())}T${gu(t.getHours())}:${gu(t.getMinutes())}`},bN=e=>{if(!e.trim())return null;const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},Hh=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},_N=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)},UF=e=>{if(!e)return null;const t=/filename\\*?=(?:UTF-8''|\"?)([^\";]+)\"?/i.exec(e);if(!t)return null;try{return decodeURIComponent(t[1])}catch{return t[1]}},VJ=1024*1024*1024,bb=()=>({id:`${Date.now()}_${Math.random().toString(16).slice(2)}`,weight:"1",balance_yuan:"",traffic_gb:"",expire_days:"",device_limit:""}),HJ=e=>e.replace(/\.0+$/,"").replace(/(\.\d*[1-9])0+$/,"$1"),VF=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":HJ((t/100).toFixed(2))},HF=e=>{const t=Number(e);return!Number.isFinite(t)||t<=0?"":HJ((t/VJ).toFixed(2))},TA=e=>{const t=e.trim();if(!t)return null;const n=Number(t);return Number.isFinite(n)?n:null},g6e=e=>{const t=TA(e);return t===null?null:Math.trunc(t)},Jc=e=>{const t=g6e(e);return t===null||t<=0?null:t},KF=e=>{const t=TA(e);return t===null||t<0?null:Math.round(t*100)},YF=e=>{const t=TA(e);return t===null||t<0?null:Math.round(t*VJ)};function GF({value:e,onChange:t,options:n,placeholder:r,disabled:i}){const{t:s}=Wt(),[a,l]=f.useState(""),c=f.useMemo(()=>new Set(e),[e]),u=f.useMemo(()=>e.length?n.filter(p=>c.has(p.id)).map(p=>p.name).join(", "):"",[n,c,e.length]),d=f.useMemo(()=>{const m=a.trim().toLowerCase();return m?n.filter(p=>`${p.id} ${p.name}`.toLowerCase().includes(m)):n},[n,a]),h=m=>{const p=new Set(e);p.has(m)?p.delete(m):p.add(m),t(Array.from(p).sort((g,y)=>g-y))};return o.jsxs(bl,{children:[o.jsx(_l,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:"h-9 w-full justify-between",disabled:i,children:[o.jsx("span",{className:ae("truncate text-left",!e.length&&"text-muted-foreground"),title:u,children:e.length?u:r}),o.jsx(Ec,{className:"h-4 w-4 opacity-50"})]})}),o.jsx(Po,{align:"start",className:"w-[320px] p-3",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(J,{value:a,onChange:m=>l(m.target.value),placeholder:s("common.search"),className:"h-9"}),o.jsx("div",{className:"rounded-lg border border-border/70",children:o.jsx(cs,{className:"h-60",children:o.jsx("div",{className:"grid gap-1 p-2",children:d.length===0?o.jsx("div",{className:"px-2 py-6 text-center text-sm text-muted-foreground",children:s("common.command_empty")}):d.map(m=>o.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-2 py-1.5 text-left hover:bg-muted/30",onClick:()=>h(m.id),children:[o.jsx(Un,{checked:c.has(m.id),onClick:p=>{p.stopPropagation(),h(m.id)}}),o.jsx("span",{className:"min-w-0 flex-1 truncate text-sm",children:m.name}),o.jsxs("span",{className:"text-xs text-muted-foreground tabular-nums",children:["#",m.id]})]},m.id))})})})]})})]})}function y6e(){var Zu,Ju,zl,ed,td,nd,qc,Eh,Wc,Dl;const{t:e}=Wt(),t=wa(),[n,r]=f.useState("templates"),[i,s]=f.useState({}),[a,l]=f.useState([]),[c,u]=f.useState([]),[d,h]=f.useState(!1),[m,p]=f.useState({type:"all",status:"all"}),[g,y]=f.useState(1),[x,b]=f.useState(20),[w,v]=f.useState(null),[_,j]=f.useState(""),[k,C]=f.useState([]),O=as(),[P,M]=f.useState(!1),[A,R]=f.useState(!1),[B,F]=f.useState(""),[U,L]=f.useState(()=>({name:"",description:"",type:"1",status:!0,icon:"",background_image:"",sort:"0",theme_color:"#1890ff",rewards:{balance_yuan:"",traffic_gb:"",expire_days:"",device_limit:"",random_rewards:[]},conditions:{new_user_max_days:"",new_user_only:!1,paid_user_only:!1,require_invite:!1,allowed_plans:[],banned_plans:[]},limits:{max_use_per_user:"",cooldown_hours:"",invite_reward_rate:""},special:{start_time:"",end_time:"",festival_bonus:""}})),[D,T]=f.useState(!1),[$,G]=f.useState(null),[ie,X]=f.useState({status:"all"}),[se,xe]=f.useState(""),[me,De]=f.useState(1),[ge,Ve]=f.useState(20),[oe,Pe]=f.useState(0),[Y,te]=f.useState([]),Ne=as(),[Te,V]=f.useState(!1),[ue,pe]=f.useState(!1),[$e,Qe]=f.useState(""),[K,ne]=f.useState({template_id:"",count:"10",prefix:"GC",expires_hours:"",max_usage:"1",download_csv:!0}),[Ce,Z]=f.useState(!1),[be,Ie]=f.useState(!1),[re,H]=f.useState(""),[we,Be]=f.useState({expires_at:"",max_usage:"1",status:"0"}),[Je,Xe]=f.useState(!1),[Nt,ft]=f.useState(1),[Et,Xt]=f.useState(20),[hn,Yn]=f.useState(0),[Ct,Bn]=f.useState([]),[gt,Ft]=f.useState(""),nt=as(),[le,Se]=f.useState(!1),[Oe,Tt]=f.useState(null),[jt]=f.useState(()=>{const S=new Date(Date.now()-2592e6);return`${S.getFullYear()}-${gu(S.getMonth()+1)}-${gu(S.getDate())}`}),[Kt]=f.useState(()=>{const S=new Date;return`${S.getFullYear()}-${gu(S.getMonth()+1)}-${gu(S.getDate())}`}),At=async S=>{await fl(S)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},fn=f.useCallback(async()=>{try{const S=await Li.types();S.data.status==="success"&&s(S.data.data||{})}catch(S){s({}),console.error(S)}},[]),Dn=f.useCallback(async()=>{try{const S=await nl.fetch();S.data.status==="success"&&u(S.data.data||[])}catch(S){u([]),console.error(S)}},[]),ur=f.useCallback(S=>{if(!Number.isFinite(S)||S<=0)return"0";const I=S/(1024*1024*1024);if(I>=1)return`${I.toFixed(I>=10?0:2)} GB`;const he=S/(1024*1024);return`${he.toFixed(he>=10?0:2)} MB`},[]),Rr=f.useCallback(S=>{if(!S||typeof S!="object")return"";const I=[],he=Number(S.balance??0);Number.isFinite(he)&&he>0&&I.push(`${e("giftcard.rewards.balance")}: ${(he/100).toFixed(2)}`);const ye=Number(S.transfer_enable??0);Number.isFinite(ye)&&ye>0&&I.push(`${e("giftcard.rewards.traffic")}: ${ur(ye)}`);const ve=Number(S.device_limit??0);Number.isFinite(ve)&&ve>0&&I.push(`${e("giftcard.rewards.devices")}: ${ve}`);const Ae=Number(S.expire_days??0);Number.isFinite(Ae)&&Ae>0&&I.push(`${e("giftcard.rewards.expire_days")}: ${Ae}`),S.reset_package&&I.push(e("giftcard.rewards.reset_package"));const He=S.plan_id;He!=null&&String(He).trim()&&I.push(`${e("giftcard.rewards.plan")}: ${He}`);const Ze=Array.isArray(S.random_rewards)?S.random_rewards:[];if(Ze.length){const Ke=Ze.map(Ye=>{if(!Ye||typeof Ye!="object")return null;const rt=Number(Ye.weight??0),mn=[],Jr=Number(Ye.balance??0);Number.isFinite(Jr)&&Jr>0&&mn.push(`${e("giftcard.rewards.balance")}:${(Jr/100).toFixed(2)}`);const Gn=Number(Ye.transfer_enable??0);Number.isFinite(Gn)&&Gn>0&&mn.push(`${e("giftcard.rewards.traffic")}:${ur(Gn)}`);const vr=Number(Ye.device_limit??0);Number.isFinite(vr)&&vr>0&&mn.push(`${e("giftcard.rewards.devices")}:${vr}`);const Hs=Number(Ye.expire_days??0);Number.isFinite(Hs)&&Hs>0&&mn.push(`${e("giftcard.rewards.expire_days")}:${Hs}`);const ka=mn.join(",");return Number.isFinite(rt)&&rt>0?ka?`${rt}(${ka})`:String(rt):ka||null}).filter(Boolean);if(Ke.length){const Ye=Ke.slice(0,2),rt=Ke.length-Ye.length;I.push(`${e("giftcard.editor.labels.random_reward_pool")}: ${Ye.join("")}${rt>0?`+${rt}`:""}`)}}if(I.length)return I.join("");try{return JSON.stringify(S)}catch{return String(S)}},[e,ur]),Cr=f.useMemo(()=>{const S=_.trim().toLowerCase();return S?k.filter(I=>{const he=i[String(I.type)]||I.type_name||String(I.type),ye=Rr(I.rewards);return String(I.id).includes(S)||(I.name||"").toLowerCase().includes(S)||(I.description||"").toLowerCase().includes(S)||he.toLowerCase().includes(S)||ye.toLowerCase().includes(S)}):k},[k,_,i,Rr]),mi=Cr.length,pi=Math.max(1,Math.ceil(mi/x)),bs=Math.min(g,pi),Ws=f.useMemo(()=>{const S=(bs-1)*x;return Cr.slice(S,S+x)},[Cr,bs,x]);f.useEffect(()=>{y(S=>Math.min(Math.max(1,S),pi))},[pi]);const Us=f.useCallback(async()=>{h(!0);try{const S={page:1,per_page:1e3};m.type!=="all"&&(S.type=Number(m.type)),m.status!=="all"&&(S.status=Number(m.status));const I=await Li.templates(S);C(I.data.data||[]),y(1)}catch(S){C([]),y(1),Q.error(Xs(S,e("common.load_failed"))),console.error(S)}finally{h(!1)}},[e,m]),gn=f.useCallback(async()=>{try{const S=await Li.templates({page:1,per_page:1e3});l(S.data.data||[])}catch(S){l([]),Q.error(Xs(S,e("common.load_failed"))),console.error(S)}},[e]),de=f.useCallback(async()=>{T(!0);try{const S={page:me,per_page:ge},I=se.trim();I&&(S.keyword=I),ie.status!=="all"&&(S.status=Number(ie.status));const he=await Li.codes(S);te(he.data.data||[]),Pe(he.data.total||0)}catch(S){te([]),Pe(0),Q.error(Xs(S,e("common.load_failed"))),console.error(S)}finally{T(!1)}},[e,me,ge,ie,se]),Re=f.useCallback(async()=>{Xe(!0);try{const S={page:Nt,per_page:Et},I=await Li.usages(S);Bn(I.data.data||[]),Yn(I.data.total||0)}catch(S){Bn([]),Yn(0),Q.error(Xs(S,e("common.load_failed"))),console.error(S)}finally{Xe(!1)}},[e,Nt,Et]),bt=f.useMemo(()=>{const S=gt.trim().toLowerCase();return S?Ct.filter(I=>!!(String(I.id).includes(S)||(I.code||"").toLowerCase().includes(S)||(I.user_email||"").toLowerCase().includes(S)||(I.template_name||"").toLowerCase().includes(S))):Ct},[Ct,gt]),dt=f.useCallback(async()=>{Se(!0);try{const S=await Li.statistics({start_date:jt,end_date:Kt});if(S.data.status!=="success")throw new Error(S.data.message||"request failed");Tt(S.data.data)}catch(S){Tt(null),Q.error(Xs(S,e("common.load_failed"))),console.error(S)}finally{Se(!1)}},[e,jt,Kt]);f.useEffect(()=>{fn()},[fn]),f.useEffect(()=>{Dn()},[Dn]),f.useEffect(()=>{gn()},[gn]),f.useEffect(()=>{n==="templates"&&Us()},[n,Us]),f.useEffect(()=>{n==="codes"&&de()},[n,de]),f.useEffect(()=>{n==="usages"&&Re()},[n,Re]),f.useEffect(()=>{n==="statistics"&&dt()},[n,dt]);const Bt=()=>{F("");const S=Object.keys(i)[0]?String(Object.keys(i)[0]):"1";L({name:"",description:"",type:S,status:!0,icon:"",background_image:"",sort:"0",theme_color:"#1890ff",rewards:{balance_yuan:"",traffic_gb:"",expire_days:"",device_limit:"",random_rewards:S==="3"?[bb()]:[]},conditions:{new_user_max_days:"",new_user_only:!1,paid_user_only:!1,require_invite:!1,allowed_plans:[],banned_plans:[]},limits:{max_use_per_user:"",cooldown_hours:"",invite_reward_rate:""},special:{start_time:"",end_time:"",festival_bonus:""}}),M(!0)},Ut=S=>{F("");const I=S.rewards??{},he=S.conditions??{},ye=S.limits??{},ve=S.special_config??{},Ae=String(S.type??"1"),He=(ye==null?void 0:ye.invite_reward_rate)??(I==null?void 0:I.invite_reward_rate),Ke=(Array.isArray(I==null?void 0:I.random_rewards)?I.random_rewards:[]).map(Ye=>!Ye||typeof Ye!="object"?null:{id:`${Date.now()}_${Math.random().toString(16).slice(2)}`,weight:Ye.weight!=null?String(Ye.weight):"1",balance_yuan:VF(Ye.balance),traffic_gb:HF(Ye.transfer_enable),expire_days:Ye.expire_days!=null&&Number(Ye.expire_days)>0?String(Math.trunc(Number(Ye.expire_days))):"",device_limit:Ye.device_limit!=null&&Number(Ye.device_limit)>0?String(Math.trunc(Number(Ye.device_limit))):""}).filter(Boolean);L({id:S.id,name:S.name||"",description:S.description||"",type:Ae,status:!!S.status,icon:S.icon||"",background_image:S.background_image||"",sort:String(S.sort??0),theme_color:S.theme_color||"#1890ff",rewards:{balance_yuan:VF(I.balance),traffic_gb:HF(I.transfer_enable),expire_days:I.expire_days!=null&&Number(I.expire_days)>0?String(Math.trunc(Number(I.expire_days))):"",device_limit:I.device_limit!=null&&Number(I.device_limit)>0?String(Math.trunc(Number(I.device_limit))):"",random_rewards:Ae==="3"&&Ke.length===0?[bb()]:Ke},conditions:{new_user_max_days:he.new_user_max_days!=null&&Number(he.new_user_max_days)>0?String(Math.trunc(Number(he.new_user_max_days))):"",new_user_only:!!he.new_user_only,paid_user_only:!!he.paid_user_only,require_invite:!!he.require_invite,allowed_plans:Array.isArray(he.allowed_plans)?he.allowed_plans.map(Ye=>Math.trunc(Number(Ye))).filter(Ye=>Number.isFinite(Ye)&&Ye>0):[],banned_plans:Array.isArray(he.banned_plans)?he.banned_plans.map(Ye=>Math.trunc(Number(Ye))).filter(Ye=>Number.isFinite(Ye)&&Ye>0):[]},limits:{max_use_per_user:ye.max_use_per_user!=null&&Number(ye.max_use_per_user)>0?String(Math.trunc(Number(ye.max_use_per_user))):"",cooldown_hours:ye.cooldown_hours!=null&&Number(ye.cooldown_hours)>0?String(Math.trunc(Number(ye.cooldown_hours))):"",invite_reward_rate:He!=null&&String(He).trim()?String(He):""},special:{start_time:vN(ve.start_time??null),end_time:vN(ve.end_time??null),festival_bonus:ve.festival_bonus!=null&&String(ve.festival_bonus).trim()?String(ve.festival_bonus):""}}),M(!0)},Qr=async S=>{if(!w){v(S.id);try{const I=!S.status,he=await Li.updateTemplate({id:S.id,status:I});if(he.data.status!=="success")throw new Error(he.data.message||"request failed");C(ye=>ye.map(ve=>ve.id===S.id?{...ve,status:I}:ve)),Q.success(he.data.message||e("common.saved"))}catch(I){Q.error(Xs(I,e("common.save_failed"))),console.error(I)}finally{v(null)}}},rr=async()=>{if(A)return;if(F(""),!U.name.trim())return F(e("giftcard.validation.name_required"));const I=Math.trunc(Number(U.type))===3;let he=null;const ye=U.limits.invite_reward_rate.trim();if(ye){const qt=Number(ye);if(!Number.isFinite(qt)||qt<0||qt>1)return F(e("giftcard.validation.invite_reward_rate_invalid"));he=qt}const ve={};he!==null&&(ve.invite_reward_rate=he);const Ae=U.rewards.balance_yuan.trim();if(Ae){const qt=KF(Ae);if(qt===null)return F(e("giftcard.validation.number_invalid"));qt>0&&(ve.balance=qt)}const He=U.rewards.traffic_gb.trim();if(He){const qt=YF(He);if(qt===null)return F(e("giftcard.validation.number_invalid"));qt>0&&(ve.transfer_enable=qt)}const Ze=U.rewards.expire_days.trim();if(Ze){const qt=Jc(Ze);if(qt===null)return F(e("giftcard.validation.number_invalid"));ve.expire_days=qt}const Ke=U.rewards.device_limit.trim();if(Ke){const qt=Jc(Ke);if(qt===null)return F(e("giftcard.validation.number_invalid"));ve.device_limit=qt}const Ye=[];if(U.rewards.random_rewards.length)for(const qt of U.rewards.random_rewards){const ws=Jc(qt.weight);if(ws===null)return F(e("giftcard.validation.random_reward_weight_invalid"));const Gi={weight:ws},Vx=qt.balance_yuan.trim();if(Vx){const Qi=KF(Vx);if(Qi===null)return F(e("giftcard.validation.number_invalid"));Qi>0&&(Gi.balance=Qi)}const Qt=qt.traffic_gb.trim();if(Qt){const Qi=YF(Qt);if(Qi===null)return F(e("giftcard.validation.number_invalid"));Qi>0&&(Gi.transfer_enable=Qi)}const Mh=qt.expire_days.trim();if(Mh){const Qi=Jc(Mh);if(Qi===null)return F(e("giftcard.validation.number_invalid"));Gi.expire_days=Qi}const Hx=qt.device_limit.trim();if(Hx){const Qi=Jc(Hx);if(Qi===null)return F(e("giftcard.validation.number_invalid"));Gi.device_limit=Qi}if(Object.keys(Gi).length<=1)return F(e("giftcard.validation.random_reward_empty"));Ye.push(Gi)}if(I&&Ye.length===0)return F(e("giftcard.validation.random_rewards_required"));if(Ye.length&&(ve.random_rewards=Ye),!Object.keys(ve).some(qt=>qt!=="invite_reward_rate"))return F(e("giftcard.validation.rewards_required"));const mn={};if(U.conditions.new_user_only){mn.new_user_only=!0;const qt=U.conditions.new_user_max_days.trim();if(qt){const ws=Jc(qt);if(ws===null)return F(e("giftcard.validation.number_invalid"));mn.new_user_max_days=ws}}U.conditions.paid_user_only&&(mn.paid_user_only=!0),U.conditions.require_invite&&(mn.require_invite=!0),U.conditions.allowed_plans.length&&(mn.allowed_plans=U.conditions.allowed_plans),U.conditions.banned_plans.length&&(mn.banned_plans=U.conditions.banned_plans);const Jr=Object.keys(mn).length?mn:null,Gn={},vr=U.limits.max_use_per_user.trim();if(vr){const qt=Jc(vr);if(qt===null)return F(e("giftcard.validation.number_invalid"));Gn.max_use_per_user=qt}const Hs=U.limits.cooldown_hours.trim();if(Hs){const qt=Jc(Hs);if(qt===null)return F(e("giftcard.validation.number_invalid"));Gn.cooldown_hours=qt}he!==null&&(Gn.invite_reward_rate=he);const ka=Object.keys(Gn).length?Gn:null,_s={},vt=U.special.start_time.trim(),br=U.special.end_time.trim(),Zm=U.special.festival_bonus.trim();if(vt||br||Zm){if(!vt||!br)return F(e("giftcard.validation.time_range_invalid"));const qt=bN(vt),ws=bN(br);if(qt===null||ws===null||ws<=qt)return F(e("giftcard.validation.time_range_invalid"));if(_s.start_time=qt,_s.end_time=ws,Zm){const Gi=Number(Zm);if(!Number.isFinite(Gi)||Gi<=0)return F(e("giftcard.validation.number_invalid"));_s.festival_bonus=Gi}else _s.festival_bonus=1}const ht=Object.keys(_s).length?_s:null,Rl={id:U.id,name:U.name.trim(),description:U.description.trim()||null,type:Number(U.type),status:U.status,sort:Math.trunc(Number(U.sort||"0")),theme_color:U.theme_color.trim()||null,icon:U.icon.trim()||null,background_image:U.background_image.trim()||null,rewards:ve,conditions:Jr,limits:ka,special_config:ht};R(!0);try{const qt=U.id?await Li.updateTemplate(Rl):await Li.createTemplate(Rl);if(qt.data.status!=="success")throw new Error(qt.data.message||"request failed");Q.success(qt.data.message||e("giftcard.saved")),M(!1),await gn(),await Us()}catch(qt){const ws=Xs(qt,e("common.save_failed"));F(ws),Q.error(ws),console.error(qt)}finally{R(!1)}},Or=async S=>{if(await t({title:e("common.delete"),description:e("giftcard.confirm_delete_template"),confirmText:e("common.delete"),confirmVariant:"destructive"}))try{const he=await Li.deleteTemplate(S.id);if(he.data.status!=="success")throw new Error(he.data.message||"request failed");Q.success(e("giftcard.deleted")),await gn(),await Us()}catch(he){Q.error(Xs(he,e("common.save_failed"))),console.error(he)}},qn=()=>{Qe(""),ne(S=>{var I;return{...S,template_id:(I=a[0])!=null&&I.id?String(a[0].id):""}}),V(!0)},Fe=async()=>{var ye,ve;if(ue)return;if(Qe(""),!K.template_id)return Qe(e("giftcard.validation.template_required"));const S=Math.trunc(Number(K.count));if(!Number.isFinite(S)||S<1)return Qe(e("giftcard.validation.count_invalid"));const I=Math.trunc(Number(K.max_usage||"1"));if(!Number.isFinite(I)||I<1)return Qe(e("giftcard.validation.max_usage_invalid"));const he={template_id:Number(K.template_id),count:S,prefix:K.prefix.trim().toUpperCase()||"GC",max_usage:I};K.expires_hours.trim()&&(he.expires_hours=Math.trunc(Number(K.expires_hours))),K.download_csv&&(he.download_csv=1),pe(!0);try{if(K.download_csv){const Ae=await Li.generateCodesCsv(he),He=UF((ye=Ae.headers)==null?void 0:ye["content-disposition"])||`gift_codes_${Date.now()}.csv`,Ze=Ae.data instanceof Blob?Ae.data:new Blob([Ae.data],{type:"text/csv;charset=utf-8"});_N(Ze,He),Q.success(e("giftcard.generated_csv"))}else{const Ae=await Li.generateCodes(he);if(Ae.data.status!=="success")throw new Error(Ae.data.message||"request failed");Q.success(e("giftcard.generated",{batch_id:((ve=Ae.data.data)==null?void 0:ve.batch_id)||"-"}))}V(!1),await de()}catch(Ae){const He=Xs(Ae,e("common.save_failed"));Qe(He),Q.error(He),console.error(Ae)}finally{pe(!1)}},un=async S=>{var I;try{const he=await Li.exportCodes(S),ye=UF((I=he.headers)==null?void 0:I["content-disposition"])||`gift_cards_${S}.txt`,ve=he.data instanceof Blob?he.data:new Blob([he.data],{type:"text/plain;charset=utf-8"});_N(ve,ye),Q.success(e("common.saved"))}catch(he){Q.error(Xs(he,e("common.save_failed"))),console.error(he)}},Xr=async S=>{if(!$){G(S.id);try{const I=S.status===3?"enable":"disable",he=await Li.toggleCode({id:S.id,action:I});if(he.data.status!=="success")throw new Error(he.data.message||"request failed");Q.success(he.data.message||e("common.saved")),await de()}catch(I){Q.error(Xs(I,e("common.save_failed"))),console.error(I)}finally{G(null)}}},Zr=S=>{H(""),Be({id:S.id,expires_at:vN(S.expires_at),max_usage:String(S.max_usage??1),status:String(S.status??0)}),Z(!0)},Yi=async()=>{if(be||!we.id)return;H("");const S=Math.trunc(Number(we.max_usage||"1"));if(!Number.isFinite(S)||S<1)return H(e("giftcard.validation.max_usage_invalid"));const I=bN(we.expires_at),he=Math.trunc(Number(we.status));if(!Number.isFinite(he))return H(e("giftcard.validation.status_invalid"));Ie(!0);try{const ye=await Li.updateCode({id:we.id,expires_at:I,max_usage:S,status:he});if(ye.data.status!=="success")throw new Error(ye.data.message||"request failed");Q.success(ye.data.message||e("giftcard.saved")),Z(!1),await de()}catch(ye){const ve=Xs(ye,e("common.save_failed"));H(ve),Q.error(ve),console.error(ye)}finally{Ie(!1)}},io=async S=>{if(await t({title:e("common.delete"),description:e("giftcard.confirm_delete_code"),confirmText:e("common.delete"),confirmVariant:"destructive"})&&!$){G(S.id);try{const he=await Li.deleteCode(S.id);if(he.data.status!=="success")throw new Error(he.data.message||"request failed");Q.success(e("giftcard.deleted")),await de()}catch(he){Q.error(Xs(he,e("common.save_failed"))),console.error(he)}finally{G(null)}}},Ml=S=>{const I=Number(S.max_usage??0);if(!Number.isFinite(I)||I<=0)return 0;const he=Number(S.usage_count??0);return!Number.isFinite(he)||he<0?I:Math.max(0,I-he)},$c=S=>{var he;const I=S;return String(I.template_name??((he=I.template)==null?void 0:he.name)??"")},so=S=>{const I=Number(S.expires_at??0);return!Number.isFinite(I)||I<=0?!1:I<Math.floor(Date.now()/1e3)},Fc=S=>{const I=Number(S.status);if(I===2||I===3||so(S))return"expired";const he=Number(S.usage_count??0);return I===1||Number.isFinite(he)&&he>0?"used":"unused"},Ch=f.useMemo(()=>[{key:"id",label:e("giftcard.codes.table.id")},{key:"code",label:e("giftcard.codes.table.code")},{key:"batch_id",label:e("giftcard.codes.table.batch")},{key:"template_name",label:e("giftcard.codes.table.template")},{key:"status_name",label:e("giftcard.codes.table.status")},{key:"expires_at",label:e("giftcard.codes.table.expires_at")},{key:"usage_count",label:e("giftcard.codes.table.used_count")},{key:"available_count",label:e("giftcard.codes.table.available_count")},{key:"created_at",label:e("giftcard.codes.table.created_at")}],[e]),Bc="xboard_admin.giftcard.codes.columns.v1",ja=f.useMemo(()=>({id:!0,code:!0,batch_id:!1,template_name:!0,status_name:!0,expires_at:!0,usage_count:!0,available_count:!0,created_at:!0}),[]),[Rn,Oh]=f.useState(()=>{if(typeof window>"u")return ja;try{const S=window.localStorage.getItem(Bc);if(!S)return ja;const I=JSON.parse(S);if(!I||typeof I!="object")return ja;const he={...ja};return Object.keys(ja).forEach(ye=>{typeof I[ye]=="boolean"&&(he[ye]=I[ye])}),he}catch{return ja}});f.useEffect(()=>{if(!(typeof window>"u"))try{window.localStorage.setItem(Bc,JSON.stringify(Rn))}catch{}},[Rn]);const[Mi,Tl]=f.useState({key:"created_at",dir:"desc"}),Al=f.useMemo(()=>{const S=Mi.dir==="asc"?1:-1,I=[...Y],he=ye=>{switch(Mi.key){case"id":return Number(ye.id??0);case"code":return String(ye.code??"");case"batch_id":return String(ye.batch_id??"");case"template_name":return $c(ye);case"status_name":{const ve=Fc(ye);return ve==="unused"?2:ve==="used"?1:0}case"expires_at":return ye.expires_at?Number(ye.expires_at):Number.POSITIVE_INFINITY;case"usage_count":return Number(ye.usage_count??0);case"available_count":return Ml(ye);case"created_at":return Number(ye.created_at??0);default:return""}};return I.sort((ye,ve)=>{const Ae=he(ye),He=he(ve);return typeof Ae=="number"&&typeof He=="number"?(Ae-He)*S:String(Ae).localeCompare(String(He))*S}),I},[Y,Mi]),Vs=S=>{Tl(I=>I.key===S?{key:S,dir:I.dir==="asc"?"desc":"asc"}:{key:S,dir:"asc"})},Ph=()=>{const S=Al;if(S.length===0)return;const I=Ch.filter(Ze=>Rn[Ze.key]),he=Ze=>{const Ke=Ze==null?"":String(Ze);return/[\",\\n\\r]/.test(Ke)?`"${Ke.replace(/\"/g,'""')}"`:Ke},ye=(Ze,Ke)=>{switch(Ke){case"id":return Ze.id;case"code":return Ze.code;case"batch_id":return Ze.batch_id;case"template_name":return $c(Ze);case"status_name":{const Ye=Fc(Ze);return e(Ye==="unused"?"giftcard.code_status.unused":Ye==="used"?"giftcard.code_status.used":"giftcard.code_status.expired")}case"expires_at":return Ze.expires_at?Hh(Ze.expires_at):e("giftcard.unlimited");case"usage_count":return Ze.usage_count??0;case"available_count":return Ml(Ze);case"created_at":return Hh(Ze.created_at);default:return""}},ve=I.map(Ze=>he(Ze.label)).join(","),Ae=S.map(Ze=>I.map(Ke=>he(ye(Ze,Ke.key))).join(",")).join(`
`),He=`${ve}
${Ae}`;_N(new Blob([He],{type:"text/csv;charset=utf-8"}),`gift_codes_${Date.now()}.csv`)};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs(Ym,{value:n,onValueChange:S=>{r(S)},children:[o.jsxs(Sh,{children:[o.jsx(mr,{value:"templates",children:e("giftcard.tabs.templates")}),o.jsx(mr,{value:"codes",children:e("giftcard.tabs.codes")}),o.jsx(mr,{value:"usages",children:e("giftcard.tabs.usages")}),o.jsx(mr,{value:"statistics",children:e("giftcard.tabs.statistics")})]}),o.jsxs(ii,{value:"templates",className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:_,onChange:S=>{j(S.target.value),y(1)},placeholder:e("giftcard.templates.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(it,{value:m.type,onValueChange:S=>{p(I=>({...I,type:S})),y(1)},children:[o.jsx(et,{className:"h-9 w-[140px]",children:o.jsx(st,{placeholder:e("giftcard.filters.type")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("giftcard.all")}),Object.entries(i).map(([S,I])=>o.jsx(fe,{value:String(S),children:I},S))]})]}),o.jsxs(it,{value:m.status,onValueChange:S=>{p(I=>({...I,status:S})),y(1)},children:[o.jsx(et,{className:"h-9 w-[140px]",children:o.jsx(st,{placeholder:e("giftcard.filters.status")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("giftcard.all")}),o.jsx(fe,{value:"1",children:e("giftcard.status.on")}),o.jsx(fe,{value:"0",children:e("giftcard.status.off")})]})]}),o.jsxs(W,{size:"sm",className:"h-9",onClick:Bt,disabled:d,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("giftcard.create_template")]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:Us,disabled:d,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",d&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:mi===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_templates")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("giftcard.templates.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("giftcard.templates.table.status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("giftcard.templates.table.name")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("giftcard.templates.table.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("giftcard.templates.table.rewards")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[100px]",children:e("giftcard.templates.table.sort")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("giftcard.templates.table.created_at")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[180px]",children:e("giftcard.templates.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:Ws.map(S=>{const I=w===S.id,he=i[String(S.type)]||S.type_name||String(S.type),ye=Rr(S.rewards);return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:ve=>O.openMenu(ve,S),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Dt,{checked:!!S.status,onCheckedChange:()=>Qr(S),disabled:I})}),o.jsxs("td",{className:"px-4 py-3 align-middle",children:[o.jsx("div",{className:"truncate font-medium",title:S.name,children:S.name}),S.description?o.jsx("div",{className:"truncate text-xs text-muted-foreground",title:S.description,children:S.description}):null]}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:he,children:he})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:ye,children:ye||""})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.sort??0}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Hh(S.created_at)}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Ut(S),disabled:I,children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>Or(S),disabled:I,children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},S.id)})})]})})})}),o.jsx(ls,{page:g,total:mi,pageSize:x,onPageChange:S=>y(S),onPageSizeChange:S=>{b(S),y(1)},loading:d})]}),o.jsxs(ii,{value:"codes",className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:se,onChange:S=>{xe(S.target.value),De(1)},placeholder:e("giftcard.codes.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(it,{value:ie.status,onValueChange:S=>{X({status:S}),De(1)},children:[o.jsx(et,{className:"h-9 w-[160px]",children:o.jsx(st,{placeholder:e("giftcard.filters.status")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("giftcard.all")}),o.jsx(fe,{value:"0",children:e("giftcard.code_status.unused")}),o.jsx(fe,{value:"1",children:e("giftcard.code_status.used")}),o.jsx(fe,{value:"2",children:e("giftcard.code_status.expired")})]})]}),o.jsxs(W,{size:"sm",className:"h-9",onClick:qn,disabled:a.length===0,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("giftcard.generate")]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:Ph,disabled:Al.length===0,children:[o.jsx(K_,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.export")]}),o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",children:[e("giftcard.codes.columns"),o.jsx(Ec,{className:"ml-2 h-4 w-4 opacity-60"})]})}),o.jsxs(fa,{align:"end",className:"w-56",children:[o.jsx(Yg,{children:e("giftcard.codes.columns")}),o.jsx(es,{}),Ch.map(S=>o.jsx(DE,{checked:Rn[S.key],onCheckedChange:I=>Oh(he=>({...he,[S.key]:!!I})),children:S.label},S.key))]})]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:de,disabled:D,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",D&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:Al.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_codes")}):o.jsx("div",{className:"overflow-x-auto rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full min-w-[980px] text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[Rn.id?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="id"&&"text-foreground"),onClick:()=>Vs("id"),children:[e("giftcard.codes.table.id"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.code?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[240px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="code"&&"text-foreground"),onClick:()=>Vs("code"),children:[e("giftcard.codes.table.code"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.batch_id?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="batch_id"&&"text-foreground"),onClick:()=>Vs("batch_id"),children:[e("giftcard.codes.table.batch"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.template_name?o.jsx("th",{className:"text-left font-medium px-4 py-3",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="template_name"&&"text-foreground"),onClick:()=>Vs("template_name"),children:[e("giftcard.codes.table.template"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.status_name?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="status_name"&&"text-foreground"),onClick:()=>Vs("status_name"),children:[e("giftcard.codes.table.status"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.expires_at?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="expires_at"&&"text-foreground"),onClick:()=>Vs("expires_at"),children:[e("giftcard.codes.table.expires_at"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.usage_count?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="usage_count"&&"text-foreground"),onClick:()=>Vs("usage_count"),children:[e("giftcard.codes.table.used_count"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.available_count?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="available_count"&&"text-foreground"),onClick:()=>Vs("available_count"),children:[e("giftcard.codes.table.available_count"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,Rn.created_at?o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:o.jsxs("button",{type:"button",className:ae("inline-flex items-center gap-1 hover:text-foreground",Mi.key==="created_at"&&"text-foreground"),onClick:()=>Vs("created_at"),children:[e("giftcard.codes.table.created_at"),o.jsx(Ss,{className:"h-4 w-4 opacity-60"})]})}):null,o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[140px]",children:e("giftcard.codes.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:Al.map(S=>{const I=$===S.id,he=$c(S),ye=S.expires_at?Hh(S.expires_at):e("giftcard.unlimited"),ve=Number(S.usage_count??0),Ae=Ml(S),He=Fc(S),Ke=!so(S)&&(Number.isFinite(ve)?ve<=0:!0)&&(S.status===0||S.status===3),Ye=e(He==="unused"?"giftcard.code_status.unused":He==="used"?"giftcard.code_status.used":"giftcard.code_status.expired"),rt=He==="unused"?"text-green-600":He==="used"?"text-blue-600":"text-muted-foreground";return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:mn=>Ne.openMenu(mn,S),children:[Rn.id?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}):null,Rn.code?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{type:"button",className:"min-w-0 truncate text-left font-mono tabular-nums hover:underline",title:S.code,onClick:()=>At(S.code),disabled:!S.code,children:S.code}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 shrink-0",onClick:()=>At(S.code),disabled:I||!S.code,title:e("giftcard.codes.copy_code"),children:o.jsx(oi,{className:"h-4 w-4"})})]})}):null,Rn.batch_id?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate tabular-nums",title:S.batch_id,children:S.batch_id})}):null,Rn.template_name?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:he,children:he||""})}):null,Rn.status_name?o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2",children:[Ke?o.jsx(Dt,{checked:S.status!==3,onCheckedChange:()=>Xr(S),disabled:I}):null,o.jsx("span",{className:ae("text-sm",rt),children:Ye})]})}):null,Rn.expires_at?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:o.jsx("div",{className:"truncate",title:ye,children:ye})}):null,Rn.usage_count?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Number.isFinite(ve)?ve:0}):null,Rn.available_count?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Ae}):null,Rn.created_at?o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Hh(S.created_at)}):null,o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Zr(S),disabled:I,title:e("common.edit"),children:o.jsx(qr,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>io(S),disabled:I,title:e("common.delete"),children:o.jsx(Pn,{className:"h-4 w-4"})})]})})]},S.id)})})]})})})}),o.jsx(ls,{page:me,total:oe,pageSize:ge,onPageChange:S=>De(S),onPageSizeChange:S=>{Ve(S),De(1)},loading:D})]}),o.jsxs(ii,{value:"usages",className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:gt,onChange:S=>{Ft(S.target.value),ft(1)},placeholder:e("giftcard.usages.search_placeholder"),className:"h-9 pl-9"})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:Re,disabled:Je,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",Je&&"animate-spin")}),e("common.refresh")]})})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:bt.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_usages")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("giftcard.usages.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("giftcard.usages.table.code")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[220px]",children:e("giftcard.usages.table.user")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("giftcard.usages.table.template")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("giftcard.usages.table.used_at")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:bt.map(S=>o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:I=>nt.openMenu(I,S),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate tabular-nums",title:S.code,children:S.code})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:S.user_email,children:S.user_email})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:S.template_name,children:S.template_name})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Hh(S.created_at)})]},S.id))})]})})})}),o.jsx(ls,{page:Nt,total:hn,pageSize:Et,onPageChange:S=>ft(S),onPageSizeChange:S=>{Xt(S),ft(1)},loading:Je})]}),o.jsxs(ii,{value:"statistics",className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-end",children:o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:dt,disabled:le,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",le&&"animate-spin")}),e("common.refresh")]})}),le?o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.loading")})}):Oe?o.jsxs("div",{className:"grid gap-3 md:grid-cols-4",children:[o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.templates_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((Zu=Oe.total_stats)==null?void 0:Zu.templates_count)??0})]})}),o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.active_templates_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((Ju=Oe.total_stats)==null?void 0:Ju.active_templates_count)??0})]})}),o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.codes_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((zl=Oe.total_stats)==null?void 0:zl.codes_count)??0})]})}),o.jsx(It,{children:o.jsxs(Lt,{className:"p-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:e("giftcard.stats.used_codes_count")}),o.jsx("div",{className:"text-2xl font-semibold tabular-nums",children:((ed=Oe.total_stats)==null?void 0:ed.used_codes_count)??0})]})})]}):o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("giftcard.empty_stats")})})]})]}),o.jsx(on,{open:P,onOpenChange:M,children:o.jsxs(rn,{className:"max-w-4xl h-[90vh] max-h-[95vh] overflow-hidden p-0 flex flex-col gap-0",children:[o.jsx(ln,{className:"shrink-0 border-b px-6 py-4 pr-12",children:o.jsx(cn,{children:U.id?e("giftcard.edit_template"):e("giftcard.create_template")})}),o.jsx(cs,{className:"flex-1 min-h-0",children:o.jsx("div",{className:"px-6 py-4 pr-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs(It,{children:[o.jsx(Xn,{children:o.jsx(Zn,{children:e("giftcard.editor.sections.template_info")})}),o.jsxs(Lt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.fields.name")}),o.jsx(J,{value:U.name,onChange:S=>L(I=>({...I,name:S.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.fields.type")}),o.jsxs(it,{value:U.type,onValueChange:S=>L(I=>{const he=S==="3";return{...I,type:S,rewards:{...I.rewards,random_rewards:he?I.rewards.random_rewards.length?I.rewards.random_rewards:[bb()]:[]}}}),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsx(tt,{children:Object.entries(i).map(([S,I])=>o.jsx(fe,{value:String(S),children:I},S))})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.fields.description")}),o.jsx(gr,{value:U.description,onChange:S=>L(I=>({...I,description:S.target.value})),placeholder:e("giftcard.editor.placeholders.description"),className:"min-h-[96px]"})]})]})]}),o.jsxs(It,{children:[o.jsx(Xn,{children:o.jsx(Zn,{children:e("giftcard.editor.sections.status")})}),o.jsx(Lt,{children:o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(ee,{className:"text-base",children:e("giftcard.fields.status")}),o.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:e("giftcard.editor.hints.status")})]}),o.jsx(Dt,{checked:U.status,onCheckedChange:S=>L(I=>({...I,status:S}))})]})})]}),o.jsxs(It,{children:[o.jsxs(Xn,{children:[o.jsx(Zn,{children:e("giftcard.editor.sections.rewards")}),o.jsx(ha,{children:e("giftcard.editor.hints.rewards")})]}),o.jsx(Lt,{className:"space-y-4",children:U.type==="3"?o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.random_reward_pool")}),o.jsxs("div",{className:"space-y-2",children:[U.rewards.random_rewards.map(S=>{const I=U.type==="3"&&U.rewards.random_rewards.length<=1;return o.jsxs("div",{className:"grid gap-2 rounded-md border p-3 md:grid-cols-12",children:[o.jsx(J,{type:"number",min:"1",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_weight"),value:S.weight,onChange:he=>L(ye=>({...ye,rewards:{...ye.rewards,random_rewards:ye.rewards.random_rewards.map(ve=>ve.id===S.id?{...ve,weight:he.target.value}:ve)}}))}),o.jsx(J,{type:"number",min:"0",step:"0.01",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_balance"),value:S.balance_yuan,onChange:he=>L(ye=>({...ye,rewards:{...ye.rewards,random_rewards:ye.rewards.random_rewards.map(ve=>ve.id===S.id?{...ve,balance_yuan:he.target.value}:ve)}}))}),o.jsx(J,{type:"number",min:"0",step:"0.01",className:"h-9 w-full md:col-span-3",placeholder:e("giftcard.editor.placeholders.reward_traffic"),value:S.traffic_gb,onChange:he=>L(ye=>({...ye,rewards:{...ye.rewards,random_rewards:ye.rewards.random_rewards.map(ve=>ve.id===S.id?{...ve,traffic_gb:he.target.value}:ve)}}))}),o.jsx(J,{type:"number",min:"0",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_expire_days"),value:S.expire_days,onChange:he=>L(ye=>({...ye,rewards:{...ye.rewards,random_rewards:ye.rewards.random_rewards.map(ve=>ve.id===S.id?{...ve,expire_days:he.target.value}:ve)}}))}),o.jsx(J,{type:"number",min:"0",className:"h-9 w-full md:col-span-2",placeholder:e("giftcard.editor.placeholders.reward_device_limit"),value:S.device_limit,onChange:he=>L(ye=>({...ye,rewards:{...ye.rewards,random_rewards:ye.rewards.random_rewards.map(ve=>ve.id===S.id?{...ve,device_limit:he.target.value}:ve)}}))}),o.jsx("div",{className:"flex justify-end md:col-span-1",children:o.jsx(W,{type:"button",size:"icon",variant:"ghost",className:"h-9 w-9",disabled:I,onClick:()=>L(he=>({...he,rewards:{...he.rewards,random_rewards:he.rewards.random_rewards.filter(ye=>ye.id!==S.id)}})),title:e("common.delete"),children:o.jsx(Pn,{className:"h-4 w-4"})})})]},S.id)}),o.jsx(W,{type:"button",variant:"outline",onClick:()=>L(S=>({...S,rewards:{...S.rewards,random_rewards:[...S.rewards.random_rewards,bb()]}})),children:e("giftcard.editor.actions.add_random_reward")})]})]}):o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.reward_balance")}),o.jsx(J,{type:"number",min:"0",step:"0.01",value:U.rewards.balance_yuan,onChange:S=>L(I=>({...I,rewards:{...I.rewards,balance_yuan:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_balance")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.reward_traffic")}),o.jsx(J,{type:"number",min:"0",step:"0.01",value:U.rewards.traffic_gb,onChange:S=>L(I=>({...I,rewards:{...I.rewards,traffic_gb:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_traffic")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.reward_expire_days")}),o.jsx(J,{type:"number",min:"0",value:U.rewards.expire_days,onChange:S=>L(I=>({...I,rewards:{...I.rewards,expire_days:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_expire_days")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.reward_device_limit")}),o.jsx(J,{type:"number",min:"0",value:U.rewards.device_limit,onChange:S=>L(I=>({...I,rewards:{...I.rewards,device_limit:S.target.value}})),placeholder:e("giftcard.editor.placeholders.reward_device_limit")})]})]})})]}),o.jsxs(It,{children:[o.jsx(Xn,{children:o.jsx(Zn,{children:e("giftcard.editor.sections.conditions")})}),o.jsxs(Lt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.new_user_max_days")}),o.jsx(J,{type:"number",min:"0",value:U.conditions.new_user_max_days,onChange:S=>L(I=>({...I,conditions:{...I.conditions,new_user_max_days:S.target.value}})),placeholder:e("giftcard.editor.placeholders.new_user_max_days"),disabled:!U.conditions.new_user_only})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsx(ee,{children:e("giftcard.editor.labels.new_user_only")}),o.jsx(Dt,{checked:U.conditions.new_user_only,onCheckedChange:S=>L(I=>({...I,conditions:{...I.conditions,new_user_only:S,new_user_max_days:S?I.conditions.new_user_max_days:""}}))})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsx(ee,{children:e("giftcard.editor.labels.paid_user_only")}),o.jsx(Dt,{checked:U.conditions.paid_user_only,onCheckedChange:S=>L(I=>({...I,conditions:{...I.conditions,paid_user_only:S}}))})]}),o.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[o.jsx(ee,{children:e("giftcard.editor.labels.require_invite")}),o.jsx(Dt,{checked:U.conditions.require_invite,onCheckedChange:S=>L(I=>({...I,conditions:{...I.conditions,require_invite:S}}))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.allowed_plans")}),o.jsx(GF,{value:U.conditions.allowed_plans,onChange:S=>L(I=>({...I,conditions:{...I.conditions,allowed_plans:S}})),options:c,placeholder:e("giftcard.editor.placeholders.allowed_plans")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.banned_plans")}),o.jsx(GF,{value:U.conditions.banned_plans,onChange:S=>L(I=>({...I,conditions:{...I.conditions,banned_plans:S}})),options:c,placeholder:e("giftcard.editor.placeholders.banned_plans")})]})]})]}),o.jsxs(It,{children:[o.jsx(Xn,{children:o.jsx(Zn,{children:e("giftcard.editor.sections.limits")})}),o.jsxs(Lt,{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.max_use_per_user")}),o.jsx(J,{type:"number",min:"0",value:U.limits.max_use_per_user,onChange:S=>L(I=>({...I,limits:{...I.limits,max_use_per_user:S.target.value}})),placeholder:e("giftcard.editor.placeholders.max_use_per_user")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.cooldown_hours")}),o.jsx(J,{type:"number",min:"0",value:U.limits.cooldown_hours,onChange:S=>L(I=>({...I,limits:{...I.limits,cooldown_hours:S.target.value}})),placeholder:e("giftcard.editor.placeholders.cooldown_hours")})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.invite_reward_rate")}),o.jsx(J,{type:"number",min:"0",max:"1",step:"0.01",value:U.limits.invite_reward_rate,onChange:S=>L(I=>({...I,limits:{...I.limits,invite_reward_rate:S.target.value}})),placeholder:e("giftcard.editor.placeholders.invite_reward_rate")}),o.jsx("p",{className:"text-[0.8rem] text-muted-foreground",children:e("giftcard.editor.hints.invite_reward_rate")})]})]})]}),o.jsxs(It,{children:[o.jsx(Xn,{children:o.jsx(Zn,{children:e("giftcard.editor.sections.special")})}),o.jsxs(Lt,{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.start_time")}),o.jsx(J,{type:"datetime-local",value:U.special.start_time,onChange:S=>L(I=>({...I,special:{...I.special,start_time:S.target.value}}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.end_time")}),o.jsx(J,{type:"datetime-local",value:U.special.end_time,onChange:S=>L(I=>({...I,special:{...I.special,end_time:S.target.value}}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.editor.labels.festival_bonus")}),o.jsx(J,{type:"number",min:"0",step:"0.1",value:U.special.festival_bonus,onChange:S=>L(I=>({...I,special:{...I.special,festival_bonus:S.target.value}})),placeholder:e("giftcard.editor.placeholders.festival_bonus")})]})]})]}),o.jsxs(It,{children:[o.jsx(Xn,{children:o.jsx(Zn,{children:e("giftcard.editor.sections.display")})}),o.jsxs(Lt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.fields.icon")}),o.jsx(J,{value:U.icon,onChange:S=>L(I=>({...I,icon:S.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.fields.background_image")}),o.jsx(J,{value:U.background_image,onChange:S=>L(I=>({...I,background_image:S.target.value})),placeholder:"https://..."})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.fields.theme_color")}),o.jsx(J,{value:U.theme_color,onChange:S=>L(I=>({...I,theme_color:S.target.value})),placeholder:"#1890ff"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ee,{children:e("giftcard.fields.sort")}),o.jsx(J,{type:"number",value:U.sort,onChange:S=>L(I=>({...I,sort:S.target.value}))})]})]})]})]})]})})}),o.jsxs("div",{className:"shrink-0 border-t bg-background px-6 py-4",children:[B&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:B}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"outline",onClick:()=>M(!1),disabled:A,children:e("common.cancel")}),o.jsx(W,{onClick:rr,disabled:A,children:e(A?"common.saving":"common.save")})]})]})]})}),o.jsx(on,{open:Te,onOpenChange:V,children:o.jsxs(rn,{className:"max-w-2xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("giftcard.generate_title")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.template")}),o.jsxs(it,{value:K.template_id,onValueChange:S=>ne(I=>({...I,template_id:S})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsx(tt,{children:a.map(S=>o.jsx(fe,{value:String(S.id),children:S.name},S.id))})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.count")}),o.jsx(J,{type:"number",value:K.count,onChange:S=>ne(I=>({...I,count:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.prefix")}),o.jsx(J,{value:K.prefix,onChange:S=>ne(I=>({...I,prefix:S.target.value})),placeholder:"GC"})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.expires_hours")}),o.jsx(J,{type:"number",value:K.expires_hours,onChange:S=>ne(I=>({...I,expires_hours:S.target.value})),placeholder:e("giftcard.unlimited")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.max_usage")}),o.jsx(J,{type:"number",value:K.max_usage,onChange:S=>ne(I=>({...I,max_usage:S.target.value}))})]})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:K.download_csv,onCheckedChange:S=>ne(I=>({...I,download_csv:!!S}))}),o.jsx("span",{children:e("giftcard.fields.download_csv")})]})]}),$e&&o.jsx("div",{className:"text-sm text-red-600",children:$e}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>V(!1),disabled:ue,children:e("common.cancel")}),o.jsx(W,{onClick:Fe,disabled:ue,children:e(ue?"common.saving":"common.save")})]})]})}),o.jsx(on,{open:Ce,onOpenChange:Z,children:o.jsxs(rn,{className:"max-w-2xl",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("giftcard.edit_code")})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.expires_at")}),o.jsx(J,{type:"datetime-local",value:we.expires_at,onChange:S=>Be(I=>({...I,expires_at:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.max_usage")}),o.jsx(J,{type:"number",value:we.max_usage,onChange:S=>Be(I=>({...I,max_usage:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("giftcard.fields.status")}),o.jsxs(it,{value:we.status,onValueChange:S=>Be(I=>({...I,status:S})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:e("giftcard.code_status.unused")}),o.jsx(fe,{value:"1",children:e("giftcard.code_status.used")}),o.jsx(fe,{value:"2",children:e("giftcard.code_status.expired")}),o.jsx(fe,{value:"3",children:e("giftcard.code_status.disabled")})]})]})]})]})]}),re&&o.jsx("div",{className:"text-sm text-red-600",children:re}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>Z(!1),disabled:be,children:e("common.cancel")}),o.jsx(W,{onClick:Yi,disabled:be,children:e(be?"common.saving":"common.save")})]})]})}),o.jsx(ss,{open:O.open,onOpenChange:O.setOpen,position:O.position,items:[{type:"checkbox",label:e("giftcard.status.on"),checked:!!((td=O.data)!=null&&td.status),disabled:!O.data||w===O.data.id,onSelect:()=>{O.data&&(O.setOpen(!1),Qr(O.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!O.data||w===O.data.id,onSelect:()=>{O.data&&(O.setOpen(!1),Ut(O.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!O.data||w===O.data.id,onSelect:()=>{O.data&&(O.setOpen(!1),Or(O.data))}}]}),o.jsx(ss,{open:Ne.open,onOpenChange:Ne.setOpen,position:Ne.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.copy_code")]}),disabled:!((nd=Ne.data)!=null&&nd.code)||$===Ne.data.id,onSelect:()=>{var S;(S=Ne.data)!=null&&S.code&&(Ne.setOpen(!1),At(Ne.data.code))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.copy_batch")]}),disabled:!Ne.data||$===Ne.data.id,onSelect:()=>{Ne.data&&(Ne.setOpen(!1),At(Ne.data.batch_id))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(K_,{className:"h-4 w-4 mr-2"}),e("giftcard.export_batch")]}),disabled:!Ne.data||$===Ne.data.id,onSelect:()=>{Ne.data&&(Ne.setOpen(!1),un(Ne.data.batch_id))}},{type:"item",label:((qc=Ne.data)==null?void 0:qc.status)===3?o.jsxs(o.Fragment,{children:[o.jsx(pn,{className:"h-4 w-4 mr-2"}),e("common.enable")]}):o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("giftcard.codes.disable")]}),destructive:((Eh=Ne.data)==null?void 0:Eh.status)!==3,disabled:!Ne.data||$===Ne.data.id,onSelect:()=>{Ne.data&&(Ne.setOpen(!1),Xr(Ne.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!Ne.data||$===Ne.data.id,onSelect:()=>{Ne.data&&(Ne.setOpen(!1),Zr(Ne.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!Ne.data||$===Ne.data.id,onSelect:()=>{Ne.data&&(Ne.setOpen(!1),io(Ne.data))}}]}),o.jsx(ss,{open:nt.open,onOpenChange:nt.setOpen,position:nt.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("common.copy")," ",e("giftcard.usages.table.code")]}),disabled:!((Wc=nt.data)!=null&&Wc.code),onSelect:()=>{var S;(S=nt.data)!=null&&S.code&&(nt.setOpen(!1),At(nt.data.code))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("common.copy")," ",e("giftcard.usages.table.user")]}),disabled:!((Dl=nt.data)!=null&&Dl.user_email),onSelect:()=>{var S;(S=nt.data)!=null&&S.user_email&&(nt.setOpen(!1),At(nt.data.user_email))}}]})]})}const ni={fetch:e=>ze.post("/user/fetch",e),update:e=>ze.post("/user/update",e),generate:e=>ze.post("/user/generate",e),dumpCSV:e=>ze.post("/user/dumpCSV",e,{responseType:"blob"}),resetSecret:e=>ze.post("/user/resetSecret",{id:e}),sendMail:e=>ze.post("/user/sendMail",e),destroy:e=>ze.post("/user/destroy",{id:e})},jm={userHistory:(e,t)=>ze.get(`/traffic-reset/user/${e}/history`,{params:t}),resetUser:e=>ze.post("/traffic-reset/reset-user",e)};function AA({open:e,onOpenChange:t,user:n,loading:r,onConfirm:i}){const{t:s}=Wt(),[a,l]=f.useState("");return f.useEffect(()=>{e&&l("")},[e,n==null?void 0:n.id]),o.jsx(on,{open:e,onOpenChange:t,children:o.jsxs(rn,{children:[o.jsxs(ln,{children:[o.jsx(cn,{children:s("user.reset_traffic_dialog.title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:n?`ID: ${n.id}${n.email?`  ${n.email}`:""}`:""})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:s("user.reset_traffic_dialog.reason")}),o.jsx(gr,{value:a,onChange:c=>l(c.target.value),placeholder:s("user.reset_traffic_dialog.reason_placeholder"),maxLength:255}),o.jsxs("div",{className:"text-xs text-muted-foreground tabular-nums",children:[a.length,"/255"]})]}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>t(!1),disabled:r,children:s("common.cancel")}),o.jsx(W,{variant:"destructive",onClick:()=>i(a),disabled:r||!n,children:s(r?"common.saving":"user.actions.reset_traffic")})]})]})})}const KJ={getStatUser:e=>ze.post("/stat/getStatUser",e)},wN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},_b=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},jN=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},x6e=e=>{const t=(e==null?void 0:e.reason)??(e==null?void 0:e.reset_reason)??(e==null?void 0:e.resetReason);if(typeof t=="string"&&t.trim())return t.trim();const n=e==null?void 0:e.metadata;if(n==null)return"-";const r=i=>{const s=(i==null?void 0:i.reason)??(i==null?void 0:i.reset_reason)??(i==null?void 0:i.resetReason)??(i==null?void 0:i.message)??(i==null?void 0:i.note)??(i==null?void 0:i.comment)??(i==null?void 0:i.remark)??(i==null?void 0:i.description);return typeof s=="string"&&s.trim()?s.trim():null};if(typeof n=="string"){const i=n.trim();if(!i)return"-";try{const s=JSON.parse(i),a=r(s);if(a)return a}catch{}return i}return typeof n=="object"&&r(n)||"-"};function YJ({open:e,onOpenChange:t,user:n,onAfterReset:r}){const{t:i}=Wt(),[s,a]=f.useState("usage"),[l,c]=f.useState(!1),[u,d]=f.useState([]),[h,m]=f.useState(0),[p,g]=f.useState(1),[y,x]=f.useState(10),b=f.useMemo(()=>Math.max(1,Math.ceil(h/y)),[h,y]),[w,v]=f.useState(!1),[_,j]=f.useState(null),[k,C]=f.useState([]),[O,P]=f.useState(1),[M,A]=f.useState(10),R=k.length,B=f.useMemo(()=>Math.max(1,Math.ceil(R/M)),[R,M]),F=f.useMemo(()=>{const me=Math.max(0,(O-1)*M);return k.slice(me,me+M)},[k,O,M]),[U,L]=f.useState(!1),[D,T]=f.useState(!1);f.useEffect(()=>{e&&(a("usage"),g(1),x(10),P(1),A(10))},[e,n==null?void 0:n.id]),f.useEffect(()=>{g(me=>Math.min(Math.max(1,me),b))},[b]),f.useEffect(()=>{P(me=>Math.min(Math.max(1,me),B))},[B]);const $=f.useCallback(me=>me?me==="d"?i("user.traffic_panel.record_type.daily"):me==="h"?i("user.traffic_panel.record_type.hourly"):me==="m"?i("user.traffic_panel.record_type.monthly"):me:"-",[i]),G=f.useCallback(async()=>{if(n){c(!0);try{const me=await KJ.getStatUser({user_id:n.id,page:p,pageSize:y});d(me.data.data||[]),m(me.data.total||0)}catch(me){d([]),m(0),Q.error(wN(me,i("common.load_failed"))),console.error(me)}finally{c(!1)}}},[i,n,p,y]),ie=f.useCallback(async()=>{if(n){v(!0);try{const me=await jm.userHistory(n.id,{limit:50});j(me.data.data.user||null),C(me.data.data.history||[])}catch(me){j(null),C([]),Q.error(wN(me,i("common.load_failed"))),console.error(me)}finally{v(!1)}}},[i,n]);f.useEffect(()=>{!e||!n||G()},[e,n==null?void 0:n.id,p,y,G]),f.useEffect(()=>{!e||!n||ie()},[e,n==null?void 0:n.id,ie]);const X=async()=>{await Promise.all([G(),ie()])},se=async me=>{if(!(!n||D)){T(!0);try{const De=await jm.resetUser({user_id:n.id,reason:me.trim()||void 0});Q.success(De.data.message||i("user.traffic_reset")),L(!1),await X(),r==null||r()}catch(De){Q.error(wN(De,i("common.save_failed"))),console.error(De)}finally{T(!1)}}},xe=l||w;return o.jsxs(o.Fragment,{children:[o.jsx(on,{open:e,onOpenChange:t,children:o.jsxs(rn,{className:"max-w-6xl",children:[o.jsx(ln,{children:o.jsxs("div",{className:"min-w-0",children:[o.jsx(cn,{children:i("user.traffic_panel.title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:n?`ID: ${n.id}${n.email?`  ${n.email}`:""}`:""})]})}),o.jsxs(Ym,{value:s,onValueChange:me=>a(me),className:"w-full",children:[o.jsxs(Sh,{className:"grid w-full grid-cols-2",children:[o.jsx(mr,{value:"usage",children:i("user.traffic_panel.tabs.usage")}),o.jsx(mr,{value:"resets",children:i("user.traffic_panel.tabs.resets")})]}),o.jsxs(ii,{value:"usage",className:"mt-4 space-y-4",children:[o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"max-h-[56vh] overflow-auto rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"sticky top-0 bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:i("user.traffic_panel.usage.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:i("user.traffic_panel.usage.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:i("user.traffic_panel.usage.rate")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.usage.upload")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.usage.download")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.usage.total")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:l?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("common.loading")})}):u.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("user.traffic_panel.usage.empty")})}):u.map(me=>o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:jN(me.record_at)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:$(me.record_type)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Number(me.server_rate??0).toFixed(2)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:_b(me.u)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:_b(me.d)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:_b((me.u||0)+(me.d||0))})]},me.id))})]})})})}),o.jsx(ls,{page:p,total:h,pageSize:y,onPageChange:me=>g(me),onPageSizeChange:me=>{x(me),g(1)},loading:l})]}),o.jsxs(ii,{value:"resets",className:"mt-4 space-y-4",children:[o.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.traffic_panel.reset.count")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:(_==null?void 0:_.reset_count)??"-"})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.traffic_panel.reset.last")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:jN((_==null?void 0:_.last_reset_at)??null)})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.traffic_panel.reset.next")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:jN((_==null?void 0:_.next_reset_at)??null)})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"max-h-[56vh] overflow-auto rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"sticky top-0 bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:i("user.traffic_panel.reset.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:i("user.traffic_panel.reset.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:i("user.traffic_panel.reset.trigger")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:i("user.traffic_panel.reset.old")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:i("user.traffic_panel.reset.reason")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:w?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("common.loading")})}):k.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:i("user.traffic_panel.reset.empty")})}):F.map(me=>{var De,ge;return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:me.reset_time||"-"}),o.jsx("td",{className:"px-4 py-3 align-middle",children:me.reset_type_name||me.reset_type}),o.jsx("td",{className:"px-4 py-3 align-middle",children:me.trigger_source_name||me.trigger_source}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:((De=me.old_traffic)==null?void 0:De.formatted)||_b((ge=me.old_traffic)==null?void 0:ge.total)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:x6e(me)})]},me.id)})})]})})})}),o.jsx(ls,{page:O,total:R,pageSize:M,onPageChange:me=>P(me),onPageSizeChange:me=>{A(me),P(1)},loading:w})]})]}),o.jsxs(pr,{className:"flex flex-col-reverse gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:X,disabled:!n||xe,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",xe&&"animate-spin")}),i("common.refresh")]}),o.jsxs(W,{variant:"destructive",size:"sm",className:"h-9",onClick:()=>L(!0),disabled:!n||D,children:[o.jsx(dg,{className:"h-4 w-4 mr-2"}),i("user.actions.reset_traffic")]})]}),o.jsx(W,{variant:"outline",onClick:()=>t(!1),children:i("common.close")})]})]})}),o.jsx(AA,{open:U,onOpenChange:L,user:n?{id:n.id,email:n.email}:null,loading:D,onConfirm:se})]})}const ql=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},v6e=["like","notlike","eq","gt","gte","lt","lte","in","null","notnull"],b6e={id:{type:"number",ops:["eq","gt","gte","lt","lte","in"],defaultOp:"eq"},email:{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},remarks:{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},token:{type:"text",ops:["eq"],defaultOp:"eq"},uuid:{type:"text",ops:["eq"],defaultOp:"eq"},"invite_user.email":{type:"text",ops:["eq"],defaultOp:"eq"},"plan.name":{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},"group.name":{type:"text",ops:["like","notlike","eq"],defaultOp:"like"},plan_id:{type:"number",ops:["eq"],defaultOp:"eq"},group_id:{type:"number",ops:["eq"],defaultOp:"eq"},banned:{type:"boolean",ops:["eq"],defaultOp:"eq"},expired_at:{type:"timestamp",ops:["gte","lte","null","notnull"],defaultOp:"gte"},created_at:{type:"timestamp",ops:["gte","lte"],defaultOp:"gte"},last_login_at:{type:"timestamp",ops:["gte","lte","null","notnull"],defaultOp:"gte"},balance:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},commission_balance:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},commission_rate:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},discount:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},transfer_enable:{type:"number",ops:["gte","lte"],defaultOp:"gte"},total_used:{type:"number",ops:["gte","lte"],defaultOp:"gte"},speed_limit:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"},device_limit:{type:"number",ops:["gte","lte","eq"],defaultOp:"gte"}},cd=e=>b6e[e]??{type:"text",ops:v6e,defaultOp:"like"},_6e=new Set(["expired_at","created_at","last_login_at"]),GJ=e=>e.split(/[,\\n]/g).map(t=>t.trim()).filter(Boolean),QF=e=>{const t=GJ(e).map(n=>Number(n)).filter(n=>Number.isFinite(n)).map(n=>Math.trunc(n));return Array.from(new Set(t)).sort((n,r)=>n-r)};function w6e({value:e,onChange:t,options:n,placeholder:r,disabled:i}){const{t:s}=Wt(),[a,l]=f.useState(""),c=f.useMemo(()=>new Set(e),[e]),u=f.useMemo(()=>e.length?n.filter(p=>c.has(p.id)).map(p=>p.name).join(", "):"",[n,c,e.length]),d=f.useMemo(()=>{const m=a.trim().toLowerCase();return m?n.filter(p=>`${p.id} ${p.name}`.toLowerCase().includes(m)):n},[n,a]),h=m=>{const p=new Set(e);p.has(m)?p.delete(m):p.add(m),t(Array.from(p).sort((g,y)=>g-y))};return o.jsxs(bl,{children:[o.jsx(_l,{asChild:!0,children:o.jsxs(W,{variant:"outline",className:"h-9 w-full justify-between",disabled:i,children:[o.jsx("span",{className:ae("truncate text-left",!e.length&&"text-muted-foreground"),title:u,children:e.length?u:r}),o.jsx(Ec,{className:"h-4 w-4 opacity-50"})]})}),o.jsx(Po,{align:"start",className:"w-[320px] p-3",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(J,{value:a,onChange:m=>l(m.target.value),placeholder:s("common.search"),className:"h-9"}),o.jsx("div",{className:"rounded-lg border border-border/70",children:o.jsx(cs,{className:"h-60",children:o.jsx("div",{className:"grid gap-1 p-2",children:d.length===0?o.jsx("div",{className:"px-2 py-6 text-center text-sm text-muted-foreground",children:s("common.command_empty")}):d.map(m=>o.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded-md px-2 py-1.5 text-left hover:bg-muted/30",onClick:()=>h(m.id),children:[o.jsx(Un,{checked:c.has(m.id),onClick:p=>{p.stopPropagation(),h(m.id)}}),o.jsx("span",{className:"min-w-0 flex-1 truncate text-sm",children:m.name}),o.jsxs("span",{className:"text-xs text-muted-foreground tabular-nums",children:["#",m.id]})]},m.id))})})})]})})]})}const jf=e=>String(e).padStart(2,"0"),j6e=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${jf(t.getMonth()+1)}-${jf(t.getDate())}T${jf(t.getHours())}:${jf(t.getMinutes())}`},wb=e=>{if(!e.trim())return null;const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},XF=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},ZF=e=>{const t=Number(e??0);return Number.isFinite(t)?(t/1073741824).toFixed(2):"0.00"},JF=(e,t)=>{const n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)},k6e=e=>{if(!e)return null;const t=/filename\\*?=(?:UTF-8''|\"?)([^\";]+)\"?/i.exec(e);if(!t)return null;try{return decodeURIComponent(t[1])}catch{return t[1]}};function S6e(){var Wc,Dl;const{t:e}=Wt(),t=wa(),n=Za(),r=yh(),i=f.useMemo(()=>{const S=new URLSearchParams(n.search);return{query:S.get("q")||S.get("email")||S.get("id")||"",inviteUserId:S.get("invite_user_id")||""}},[n.search]),s=e("common.currency_symbol"),[a,l]=f.useState(!1),[c,u]=f.useState(1),[d,h]=f.useState(10),[m,p]=f.useState(0),g=f.useMemo(()=>Math.max(1,Math.ceil(m/d)),[m,d]),[y,x]=f.useState(i.query),[b,w]=f.useState(i.inviteUserId),[v,_]=f.useState({plan_id:"all",group_id:"all",banned:"all"}),[j,k]=f.useState([]),C=f.useMemo(()=>new Set(j),[j]),O=f.useCallback(()=>k([]),[]),P=()=>{const S="email",I=cd(S);return{id:`${Date.now()}_${Math.random().toString(16).slice(2)}`,field:S,op:I.defaultOp,value:""}},[M,A]=f.useState(!1),[R,B]=f.useState([]),[F,U]=f.useState([]),[L,D]=f.useState([]),[T,$]=f.useState([]),[G,ie]=f.useState([]),X=as(),[se,xe]=f.useState(!1),[me,De]=f.useState(!1),[ge,Ve]=f.useState(""),[oe,Pe]=f.useState({email:"",password:"",plan_id:"null",expired_at:""}),[Y,te]=f.useState(!1),[Ne,Te]=f.useState(!1),[V,ue]=f.useState(""),[pe,$e]=f.useState({email:"",password:"",plan_id:"null",expired_at:"",banned:!1,is_admin:!1,is_staff:!1,remarks:"",used_upload_gb:"0.00",used_download_gb:"0.00",speed_limit:"",device_limit:"",transfer_enable_gb:"",balance:"",commission_balance:"",commission_type:"0",commission_rate:"",discount:"",invite_user_email:""}),[Qe,K]=f.useState(!1),[ne,Ce]=f.useState(null),[Z,be]=f.useState(!1),[Ie,re]=f.useState(!1),[H,we]=f.useState(null),[Be,Je]=f.useState(!1),[Xe,Nt]=f.useState("filtered"),[ft,Et]=f.useState("delete"),[Xt,hn]=f.useState(!1),[Yn,Ct]=f.useState(null),[Bn,gt]=f.useState(""),[Ft,nt]=f.useState(""),[le,Se]=f.useState(""),[Oe,Tt]=f.useState(""),[jt,Kt]=f.useState(""),[At,fn]=f.useState(""),[Dn,ur]=f.useState(""),[Rr,Cr]=f.useState(""),[mi,pi]=f.useState(""),bs=f.useCallback(async()=>{try{const S=await nl.fetch();S.data.status==="success"&&$(S.data.data||[])}catch(S){$([]),console.error(S)}},[]),Ws=f.useCallback(async()=>{try{const S=await Rf.fetch();S.data.status==="success"&&ie(S.data.data||[])}catch(S){ie([]),console.error(S)}},[]),Us=f.useMemo(()=>[{value:"email",label:e("user.fields.email")},{value:"remarks",label:e("user.fields.remarks")},{value:"token",label:"Token"},{value:"uuid",label:"UUID"},{value:"invite_user.email",label:e("user.fields.invite_user_email")},{value:"plan_id",label:e("user.fields.plan")},{value:"group_id",label:e("user.table.group")},{value:"banned",label:e("user.fields.banned")},{value:"expired_at",label:e("user.fields.expired_at")},{value:"created_at",label:e("user.table.created_at")},{value:"last_login_at",label:e("user.advanced_filter.last_login_at")},{value:"balance",label:e("user.fields.balance")},{value:"commission_balance",label:e("user.fields.commission_balance")},{value:"commission_rate",label:e("user.fields.commission_rate")},{value:"discount",label:e("user.fields.discount")},{value:"transfer_enable",label:e("user.table.total")},{value:"total_used",label:e("user.table.used")},{value:"speed_limit",label:e("user.fields.speed_limit")},{value:"device_limit",label:e("user.fields.device_limit")}],[e]),gn=f.useMemo(()=>[{value:"like",label:e("user.advanced_filter.ops.like")},{value:"notlike",label:e("user.advanced_filter.ops.notlike")},{value:"eq",label:e("user.advanced_filter.ops.eq")},{value:"gt",label:e("user.advanced_filter.ops.gt")},{value:"gte",label:e("user.advanced_filter.ops.gte")},{value:"lt",label:e("user.advanced_filter.ops.lt")},{value:"lte",label:e("user.advanced_filter.ops.lte")},{value:"in",label:e("user.advanced_filter.ops.in")},{value:"null",label:e("user.advanced_filter.ops.null")},{value:"notnull",label:e("user.advanced_filter.ops.notnull")}],[e]),de=f.useCallback(S=>{const I=cd(S);return gn.filter(he=>I.ops.includes(he.value))},[gn]),Re=f.useCallback(S=>{const he=S.field.trim()||"email",ye=cd(he),ve=ye.ops.includes(S.op),Ae=ve?S.op:ye.defaultOp;let He=Ae==="null"||Ae==="notnull"?"":ve?S.value:"";if(ye.type==="boolean"&&He!=="0"&&He!=="1"&&(He=""),he==="plan_id"||he==="group_id"){if(Ae==="eq"){const Ze=He.trim();He=/^\\d+$/.test(Ze)?Ze:""}else if(Ae==="in"){const Ze=QF(He);He=Ze.length?Ze.join("\\n"):""}}return{...S,field:he,op:Ae,value:He}},[]),bt=f.useCallback(()=>{const S=[],I=y.trim();I&&S.push({id:"keyword",value:I}),v.plan_id!=="all"&&S.push({id:"plan_id",value:v.plan_id==="null"?"null:":`eq:${v.plan_id}`}),v.group_id!=="all"&&S.push({id:"group_id",value:v.group_id==="null"?"null:":`eq:${v.group_id}`}),v.banned!=="all"&&S.push({id:"banned",value:`eq:${v.banned}`}),b.trim()&&S.push({id:"invite_user_id",value:`eq:${b.trim()}`});const he=ye=>_6e.has(ye);for(const ye of F){const ve=ye.field.trim(),Ae=ye.op.trim();if(!ve||!Ae)continue;if(Ae==="null"||Ae==="notnull"){S.push({id:ve,value:`${Ae}:`});continue}if(Ae==="in"){const Ze=cd(ve),Ke=GJ(ye.value);if(!Ke.length)continue;if(Ze.type==="number"){const Ye=Ke.map(rt=>Number(rt)).filter(rt=>Number.isFinite(rt)).map(rt=>Math.trunc(rt));Ye.length&&S.push({id:ve,value:Array.from(new Set(Ye))})}else S.push({id:ve,value:Ke});continue}const He=ye.value.trim();if(He){if(he(ve)&&!/^\d+$/.test(He)){const Ze=wb(He);if(Ze===null)continue;S.push({id:ve,value:`${Ae}:${Ze}`});continue}S.push({id:ve,value:`${Ae}:${He}`})}}return S},[y,v,b,F]),dt=f.useCallback(async()=>{l(!0);try{const S=bt(),I={current:c,pageSize:d};S.length&&(I.filter=S);const he=await ni.fetch(I);D(he.data.data||[]),p(he.data.total||0)}catch(S){D([]),p(0),Q.error(ql(S,e("common.load_failed"))),console.error(S)}finally{l(!1)}},[e,c,d,bt]),Bt=f.useMemo(()=>L.map(S=>S.id),[L]),Ut=f.useMemo(()=>Bt.filter(S=>C.has(S)).length,[Bt,C]),Qr=f.useMemo(()=>!Bt.length||Ut===0?!1:Ut===Bt.length?!0:"indeterminate",[Bt.length,Ut]),rr=f.useCallback((S,I)=>{k(he=>{const ye=new Set(he);return I??!ye.has(S)?ye.add(S):ye.delete(S),Array.from(ye)})},[]),Or=f.useCallback(S=>{k(I=>{const he=new Set(I);for(const ye of Bt)S?he.add(ye):he.delete(ye);return Array.from(he)})},[Bt]),qn=f.useCallback(S=>{Et(S),Nt(j.length?"selected":"filtered"),gt(""),Ct(null),hn(!1),S==="send_mail"&&(nt(""),Se("")),S==="set_plan"&&Tt(""),S==="set_expired_at"&&Kt(""),S==="reset_traffic"&&fn(""),S==="update_balance"&&ur(""),S==="update_transfer_enable"&&Cr(""),S==="update_device_limit"&&pi(""),Je(!0)},[j.length]),Fe=f.useCallback(async S=>{const I=[];let he=1;const ye=200;let ve=0;for(;;){const Ae=await ni.fetch({current:he,pageSize:ye,filter:S}),He=Ae.data.data||[];if(ve=Number(Ae.data.total??ve??0),I.push(...He.map(Ze=>Ze.id)),Ct({label:e("user.bulk.collecting"),done:I.length,total:ve||I.length}),!He.length||ve&&I.length>=ve||He.length<ye)break;he+=1}return Array.from(new Set(I))},[e]),un=f.useCallback(async S=>{const I=[];let he=1;const ye=200;let ve=0;for(;;){const Ae=await ni.fetch({current:he,pageSize:ye,filter:S}),He=Ae.data.data||[];if(ve=Number(Ae.data.total??ve??0),I.push(...He),Ct({label:e("user.bulk.collecting"),done:I.length,total:ve||I.length}),!He.length||ve&&I.length>=ve||He.length<ye)break;he+=1}return I},[e]),Xr=f.useCallback(async S=>{const I=Array.from(new Set(S)),he=[],ye=500;for(let ve=0;ve<I.length;ve+=ye){const Ae=I.slice(ve,ve+ye),He=await ni.fetch({current:1,pageSize:Ae.length,filter:[{id:"id",value:Ae}]});he.push(...He.data.data||[]),Ct({label:e("user.bulk.collecting"),done:he.length,total:I.length})}return he},[e]),Zr=f.useCallback(async(S,I,he,ye=3)=>{if(S.length===0)return{failures:[]};const ve=Array.from(new Set(S)),Ae=[];let He=0;Ct({label:I,done:0,total:ve.length});let Ze=0;const Ke=async()=>{for(;;){const Ye=Ze;if(Ze+=1,Ye>=ve.length)return;const rt=ve[Ye];try{await he(rt)}catch(mn){Ae.push({id:rt,error:ql(mn,e("common.save_failed"))})}finally{He+=1,(He===ve.length||He%5===0)&&Ct({label:I,done:He,total:ve.length})}}};return await Promise.all(Array.from({length:Math.min(ye,ve.length)},Ke)),Ct({label:I,done:ve.length,total:ve.length}),{failures:Ae}},[e]),Yi=S=>S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/'/g,"&apos;");f.useEffect(()=>{bs()},[bs]),f.useEffect(()=>{Ws()},[Ws]),f.useEffect(()=>{dt()},[dt]),f.useEffect(()=>{O()},[O,y,b,v.plan_id,v.group_id,v.banned,F]),f.useEffect(()=>{Xe==="selected"&&j.length===0&&Nt("filtered")},[Xe,j.length]),f.useEffect(()=>{i.query&&(w(""),x(i.query),u(1))},[i.query]),f.useEffect(()=>{w(i.inviteUserId),i.inviteUserId&&(x(""),u(1))},[i.inviteUserId]),f.useEffect(()=>{u(S=>Math.min(Math.max(1,S),g))},[g]);const io=()=>{const S=F.map(I=>Re({...I}));B(S.length?S:[P()]),A(!0)},Ml=()=>{const S=R.map(I=>Re({...I,field:I.field.trim(),op:I.op.trim(),value:I.value})).filter(I=>I.field&&I.op&&(I.op==="null"||I.op==="notnull"||I.value.trim()!==""));U(S),A(!1),u(1)},$c=()=>{B([])},so=()=>{Ve(""),Pe({email:"",password:"",plan_id:"null",expired_at:""}),xe(!0)},Fc=async()=>{if(me)return;Ve("");const S=oe.email.trim();if(!S)return Ve(e("user.validation.email_required"));const I=S.split("@");if(I.length!==2||!I[0]||!I[1])return Ve(e("user.validation.email_invalid"));const he=wb(oe.expired_at),ye={email_prefix:I[0],email_suffix:I[1],password:oe.password.trim()||null,plan_id:oe.plan_id==="null"?null:Number(oe.plan_id),expired_at:he};De(!0);try{const ve=await ni.generate(ye);if(ve.data.status!=="success")throw new Error(ve.data.message||"request failed");Q.success(ve.data.message||e("user.created")),xe(!1),u(1),await dt()}catch(ve){const Ae=ql(ve,e("common.save_failed"));Ve(Ae),Q.error(Ae),console.error(ve)}finally{De(!1)}},Ch=f.useCallback(S=>{const I=S.last_login_at;if(!I)return!1;const he=Math.floor(Date.now()/1e3)-I;return he>=0&&he<=600},[]),Bc=f.useCallback(S=>{if(!S)return"-";try{return new Date(S*1e3).toLocaleString()}catch{return String(S)}},[]),ja=f.useCallback(S=>{if(!S)return e("user.never");try{const I=new Date(S*1e3);return`${I.getFullYear()}-${jf(I.getMonth()+1)}-${jf(I.getDate())}`}catch{return String(S)}},[e]),Rn=f.useCallback(S=>{if(!S)return{label:e("user.never"),className:"border-border/70 bg-muted/30 text-muted-foreground"};const I=ja(S),he=S*1e3-Date.now();return he<=0?{label:I,className:"border-red-200 bg-red-50 text-red-600"}:he<=7*24*60*60*1e3?{label:I,className:"border-amber-200 bg-amber-50 text-amber-700"}:{label:I,className:"border-border/70 bg-muted/30 text-muted-foreground"}},[ja,e]),Oh=S=>{var I;ue(""),$e({id:S.id,email:S.email||"",password:"",plan_id:S.plan_id===null||S.plan_id===void 0?"null":String(S.plan_id),expired_at:j6e(S.expired_at),banned:!!S.banned,is_admin:!!S.is_admin,is_staff:!!S.is_staff,remarks:S.remarks||"",used_upload_gb:ZF(S.u),used_download_gb:ZF(S.d),speed_limit:S.speed_limit===null||S.speed_limit===void 0?"":String(S.speed_limit),device_limit:S.device_limit===null||S.device_limit===void 0?"":String(S.device_limit),transfer_enable_gb:S.transfer_enable?String((S.transfer_enable/1073741824).toFixed(2)):"",balance:S.balance===null||S.balance===void 0?"":String(S.balance),commission_balance:S.commission_balance===null||S.commission_balance===void 0?"":String(S.commission_balance),commission_type:S.commission_type===null||S.commission_type===void 0?"0":String(S.commission_type),commission_rate:S.commission_rate===null||S.commission_rate===void 0?"":String(S.commission_rate),discount:S.discount===null||S.discount===void 0?"":String(S.discount),invite_user_email:((I=S.invite_user)==null?void 0:I.email)||""}),te(!0)},Mi=async()=>{if(Ne||!pe.id)return;if(ue(""),!pe.email.trim())return ue(e("user.validation.email_required"));const S=Ae=>{const He=Ae.trim();if(!He)return 0;const Ze=Number(He);return!Number.isFinite(Ze)||Ze<0?null:Math.round(Ze*1073741824)},I=S(pe.used_upload_gb);if(I===null)return ue(e("user.validation.number_invalid"));const he=S(pe.used_download_gb);if(he===null)return ue(e("user.validation.number_invalid"));const ye=wb(pe.expired_at),ve={id:pe.id,email:pe.email.trim(),banned:pe.banned,is_admin:pe.is_admin,is_staff:pe.is_staff,remarks:pe.remarks.trim()||null,expired_at:ye,plan_id:pe.plan_id==="null"?null:Number(pe.plan_id),invite_user_email:pe.invite_user_email.trim()||null,u:I,d:he};pe.password.trim()&&(ve.password=pe.password.trim()),pe.speed_limit.trim()!==""&&(ve.speed_limit=Number(pe.speed_limit)),pe.device_limit.trim()!==""&&(ve.device_limit=Number(pe.device_limit)),pe.transfer_enable_gb.trim()!==""&&(ve.transfer_enable=Math.round(Number(pe.transfer_enable_gb)*1073741824)),pe.balance.trim()!==""&&(ve.balance=Number(pe.balance)),pe.commission_balance.trim()!==""&&(ve.commission_balance=Number(pe.commission_balance)),pe.commission_type.trim()!==""&&(ve.commission_type=Math.trunc(Number(pe.commission_type))),pe.commission_rate.trim()!==""&&(ve.commission_rate=Math.trunc(Number(pe.commission_rate))),pe.discount.trim()!==""&&(ve.discount=Math.trunc(Number(pe.discount))),Te(!0);try{const Ae=await ni.update(ve);if(Ae.data.status!=="success")throw new Error(Ae.data.message||"request failed");Q.success(Ae.data.message||e("user.saved")),te(!1),await dt()}catch(Ae){const He=ql(Ae,e("common.save_failed"));ue(He),Q.error(He),console.error(Ae)}finally{Te(!1)}},Tl=async S=>{if(await t({title:e("user.reset_secret"),description:e("user.confirm_reset_secret"),confirmText:e("user.reset_secret"),confirmVariant:"destructive"}))try{const he=await ni.resetSecret(S.id);if(he.data.status!=="success")throw new Error(he.data.message||"request failed");Q.success(e("user.secret_reset")),await dt()}catch(he){Q.error(ql(he,e("common.save_failed"))),console.error(he)}},Al=S=>{Ce(S),K(!0)},Vs=async S=>{if(!(!ne||Z)){be(!0);try{const I=await jm.resetUser({user_id:ne.id,reason:S.trim()||void 0});Q.success(I.data.message||e("user.traffic_reset")),K(!1),await dt()}catch(I){Q.error(ql(I,e("common.save_failed"))),console.error(I)}finally{be(!1)}}},Ph=S=>{S.email&&r(`/dashboard/subscription/order?assign_email=${encodeURIComponent(S.email)}`)},Zu=S=>{r(`/dashboard/subscription/order?user_id=${encodeURIComponent(String(S.id))}`)},Ju=S=>{r(`/dashboard/user/list?invite_user_id=${encodeURIComponent(String(S.id))}`)},zl=S=>{we(S),re(!0)},ed=async S=>{if(await t({title:e("common.delete"),description:e("user.confirm_delete"),confirmText:e("common.delete"),confirmVariant:"destructive"}))try{const he=await ni.destroy(S.id);if(he.data.status!=="success")throw new Error(he.data.message||"request failed");Q.success(e("user.deleted")),await dt()}catch(he){Q.error(ql(he,e("common.save_failed"))),console.error(he)}},td=async S=>{await fl(S)?Q.success(e("common.copied")):Q.error(e("common.copy_failed"))},nd=async()=>{var S;try{const I=bt(),he={};I.length&&(he.filter=I);const ye=await ni.dumpCSV(he),ve=k6e((S=ye.headers)==null?void 0:S["content-disposition"])||`users_${Date.now()}.csv`,Ae=ye.data instanceof Blob?ye.data:new Blob([ye.data],{type:"text/csv;charset=utf-8"});JF(Ae,ve),Q.success(e("common.saved"))}catch(I){Q.error(ql(I,e("common.save_failed"))),console.error(I)}},qc=f.useMemo(()=>{switch(ft){case"delete":return e("user.bulk.delete");case"send_mail":return e("user.bulk.send_mail");case"export_svg":return e("user.bulk.export_svg");case"set_plan":return e("user.bulk.set_plan");case"set_expired_at":return e("user.bulk.set_expired_at");case"reset_traffic":return e("user.bulk.reset_traffic");case"update_balance":return e("user.bulk.update_balance");case"update_transfer_enable":return e("user.bulk.update_traffic");case"update_device_limit":return e("user.bulk.update_device_limit");default:return e("user.bulk_actions")}},[ft,e]),Eh=async()=>{if(Xt)return;gt(""),Ct(null);const S=Xe==="selected"&&j.length?"selected":"filtered",I=bt(),he=async()=>S==="selected"?Array.from(new Set(j)):(Ct({label:e("user.bulk.collecting"),done:0,total:Math.max(0,Number(m??0))}),await Fe(I));try{if(hn(!0),ft==="send_mail"){const ye=Ft.trim(),ve=le.trim();if(!ye){gt(e("user.bulk.mail_subject_required"));return}if(!ve){gt(e("user.bulk.mail_content_required"));return}const Ae=S==="selected"?[{id:"id",value:j}]:I;if(!await t({title:e("user.bulk.send_mail"),description:e("user.bulk.confirm_send_mail"),confirmText:e("common.confirm")}))return;Ct({label:e("user.bulk.sending_mail"),done:0,total:1});const Ze=await ni.sendMail({subject:ye,content:ve,filter:Ae});if(Ze.data.status!=="success")throw new Error(Ze.data.message||"request failed");Ct({label:e("user.bulk.sending_mail"),done:1,total:1}),Q.success(e("user.bulk.mail_sent")),Je(!1);return}if(ft==="export_svg"){const ye=S==="selected"?await Xr(j):await un(I);if(!ye.length){Q.error(e("user.bulk.no_target"));return}const ve=1240,Ae=32,He=56,Ze=28,Ke=Ae*2+He+Ze*ye.length+24,Ye=new Date().toLocaleString(),rt=[];rt.push('<?xml version="1.0" encoding="UTF-8"?>'),rt.push(`<svg xmlns="http://www.w3.org/2000/svg" width="${ve}" height="${Ke}" viewBox="0 0 ${ve} ${Ke}">`),rt.push(`<style>
  text{font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";font-size:12px;fill:#0f172a}
  .muted{fill:#64748b}
  .head{font-size:16px;font-weight:600}
  .mono{font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:11px}
        </style>`),rt.push(`<rect x="0" y="0" width="${ve}" height="${Ke}" fill="#ffffff"/>`),rt.push(`<text x="${Ae}" y="${Ae+18}" class="head">${Yi(e("user.bulk.export_svg_title"))}</text>`),rt.push(`<text x="${Ae}" y="${Ae+38}" class="muted">${Yi(Ye)}  ${Yi(String(ye.length))}</text>`);const mn=Ae,Jr=Ae+He,Gn=mn,vr=mn+80,Hs=mn+360;rt.push(`<text x="${Gn}" y="${Jr-18}" class="muted">ID</text>`),rt.push(`<text x="${vr}" y="${Jr-18}" class="muted">${Yi(e("user.table.email"))}</text>`),rt.push(`<text x="${Hs}" y="${Jr-18}" class="muted">Subscribe URL</text>`),ye.forEach((_s,vt)=>{const br=Jr+vt*Ze;vt%2===0&&rt.push(`<rect x="${mn-8}" y="${br-16}" width="${ve-Ae*2+16}" height="${Ze}" fill="#f8fafc"/>`),rt.push(`<text x="${Gn}" y="${br}">${Yi(String(_s.id))}</text>`),rt.push(`<text x="${vr}" y="${br}">${Yi(_s.email||"-")}</text>`),rt.push(`<text x="${Hs}" y="${br}" class="mono">${Yi(_s.subscribe_url||"-")}</text>`)}),rt.push("</svg>");const ka=rt.join(`
`);JF(new Blob([ka],{type:"image/svg+xml;charset=utf-8"}),`users_${Date.now()}.svg`),Q.success(e("user.bulk.export_done")),Je(!1);return}if(ft==="set_plan"){if(!Oe){gt(e("user.bulk.plan_required"));return}const ye=Oe==="null"?null:Number(Oe);if(Oe!=="null"&&!Number.isFinite(ye)){gt(e("user.validation.number_invalid"));return}const ve=await he();if(!ve.length){Q.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.set_plan"),description:e("user.bulk.confirm_apply",{count:ve.length}),confirmText:e("common.confirm")}))return;const{failures:He}=await Zr(ve,e("user.bulk.processing"),async Ze=>{const Ke=await ni.update({id:Ze,plan_id:ye});if(Ke.data.status!=="success")throw new Error(Ke.data.message||"request failed")},3);He.length?Q.error(e("user.bulk.partial_failed",{failed:He.length,total:ve.length})):Q.success(e("user.bulk.done")),O(),await dt(),Je(!1);return}if(ft==="set_expired_at"){const ye=jt.trim();let ve=null;if(ye){const Ke=wb(ye);if(Ke===null){gt(e("user.bulk.datetime_invalid"));return}ve=Ke}const Ae=await he();if(!Ae.length){Q.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.set_expired_at"),description:e("user.bulk.confirm_apply",{count:Ae.length}),confirmText:e("common.confirm")}))return;const{failures:Ze}=await Zr(Ae,e("user.bulk.processing"),async Ke=>{const Ye=await ni.update({id:Ke,expired_at:ve});if(Ye.data.status!=="success")throw new Error(Ye.data.message||"request failed")},3);Ze.length?Q.error(e("user.bulk.partial_failed",{failed:Ze.length,total:Ae.length})):Q.success(e("user.bulk.done")),O(),await dt(),Je(!1);return}if(ft==="reset_traffic"){const ye=await he();if(!ye.length){Q.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.reset_traffic"),description:e("user.bulk.confirm_apply",{count:ye.length}),confirmText:e("common.confirm"),confirmVariant:"destructive"}))return;const Ae=At.trim(),{failures:He}=await Zr(ye,e("user.bulk.processing"),async Ze=>{await jm.resetUser({user_id:Ze,reason:Ae||void 0})},2);He.length?Q.error(e("user.bulk.partial_failed",{failed:He.length,total:ye.length})):Q.success(e("user.bulk.done")),O(),await dt(),Je(!1);return}if(ft==="update_balance"){const ye=Dn.trim(),ve=Number(ye);if(!ye||!Number.isFinite(ve)){gt(e("user.validation.number_invalid"));return}const Ae=await he();if(!Ae.length){Q.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.update_balance"),description:e("user.bulk.confirm_apply",{count:Ae.length}),confirmText:e("common.confirm")}))return;const{failures:Ze}=await Zr(Ae,e("user.bulk.processing"),async Ke=>{const Ye=await ni.update({id:Ke,balance:ve});if(Ye.data.status!=="success")throw new Error(Ye.data.message||"request failed")},3);Ze.length?Q.error(e("user.bulk.partial_failed",{failed:Ze.length,total:Ae.length})):Q.success(e("user.bulk.done")),O(),await dt(),Je(!1);return}if(ft==="update_transfer_enable"){const ye=Rr.trim(),ve=Number(ye);if(!ye||!Number.isFinite(ve)||ve<0){gt(e("user.validation.number_invalid"));return}const Ae=Math.round(ve*1073741824),He=await he();if(!He.length){Q.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.update_traffic"),description:e("user.bulk.confirm_apply",{count:He.length}),confirmText:e("common.confirm")}))return;const{failures:Ke}=await Zr(He,e("user.bulk.processing"),async Ye=>{const rt=await ni.update({id:Ye,transfer_enable:Ae});if(rt.data.status!=="success")throw new Error(rt.data.message||"request failed")},3);Ke.length?Q.error(e("user.bulk.partial_failed",{failed:Ke.length,total:He.length})):Q.success(e("user.bulk.done")),O(),await dt(),Je(!1);return}if(ft==="update_device_limit"){const ye=mi.trim();let ve=null;if(ye){const Ke=Number(ye);if(!Number.isFinite(Ke)||!Number.isInteger(Ke)||Ke<0){gt(e("user.validation.number_invalid"));return}ve=Ke}const Ae=await he();if(!Ae.length){Q.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.update_device_limit"),description:e("user.bulk.confirm_apply",{count:Ae.length}),confirmText:e("common.confirm")}))return;const{failures:Ze}=await Zr(Ae,e("user.bulk.processing"),async Ke=>{const Ye=await ni.update({id:Ke,device_limit:ve});if(Ye.data.status!=="success")throw new Error(Ye.data.message||"request failed")},3);Ze.length?Q.error(e("user.bulk.partial_failed",{failed:Ze.length,total:Ae.length})):Q.success(e("user.bulk.done")),O(),await dt(),Je(!1);return}if(ft==="delete"){const ye=await he();if(!ye.length){Q.error(e("user.bulk.no_target"));return}if(!await t({title:e("user.bulk.delete"),description:e("user.bulk.confirm_delete",{count:ye.length}),confirmText:e("common.delete"),confirmVariant:"destructive"}))return;const{failures:Ae}=await Zr(ye,e("user.bulk.processing"),async He=>{const Ze=await ni.destroy(He);if(Ze.data.status!=="success")throw new Error(Ze.data.message||"request failed")},2);Ae.length?Q.error(e("user.bulk.partial_failed",{failed:Ae.length,total:ye.length})):Q.success(e("user.bulk.done")),O(),await dt(),Je(!1);return}}catch(ye){gt(ql(ye,e("common.save_failed"))),console.error(ye)}finally{hn(!1)}};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:y,onChange:S=>{x(S.target.value),u(1)},placeholder:e("user.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(it,{value:v.plan_id,onValueChange:S=>{_(I=>({...I,plan_id:S})),u(1)},children:[o.jsx(et,{className:"h-9 w-[180px]",children:o.jsx(st,{placeholder:e("user.filter_plan")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("user.all")}),o.jsx(fe,{value:"null",children:e("user.no_plan")}),T.map(S=>o.jsx(fe,{value:String(S.id),children:S.name},S.id))]})]}),o.jsxs(it,{value:v.group_id,onValueChange:S=>{_(I=>({...I,group_id:S})),u(1)},children:[o.jsx(et,{className:"h-9 w-[160px]",children:o.jsx(st,{placeholder:e("user.filter_group")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("user.all")}),o.jsx(fe,{value:"null",children:e("user.no_group")}),G.map(S=>o.jsx(fe,{value:String(S.id),children:S.name},S.id))]})]}),o.jsxs(it,{value:v.banned,onValueChange:S=>{_(I=>({...I,banned:S})),u(1)},children:[o.jsx(et,{className:"h-9 w-[120px]",children:o.jsx(st,{placeholder:e("user.filter_banned")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("user.all")}),o.jsx(fe,{value:"0",children:e("user.banned.no")}),o.jsx(fe,{value:"1",children:e("user.banned.yes")})]})]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:io,children:[o.jsx(e8,{className:"h-4 w-4 mr-2"}),e("user.advanced_filter.title"),F.length?` (${F.length})`:""]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{size:"sm",className:"h-9",onClick:so,disabled:a,children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("user.add")]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:nd,disabled:a,children:[o.jsx(K_,{className:"h-4 w-4 mr-2"}),e("user.export_csv")]}),o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",children:[o.jsx(tce,{className:"h-4 w-4 mr-2"}),e("user.bulk_actions"),j.length?` (${j.length})`:""]})}),o.jsxs(fa,{align:"end",className:"w-[240px]",children:[o.jsxs(nn,{onClick:()=>qn("delete"),children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("user.bulk.delete")]}),o.jsxs(nn,{onClick:()=>qn("send_mail"),children:[o.jsx(Q6,{className:"h-4 w-4 mr-2"}),e("user.bulk.send_mail")]}),o.jsxs(nn,{onClick:()=>qn("export_svg"),children:[o.jsx(K_,{className:"h-4 w-4 mr-2"}),e("user.bulk.export_svg")]}),o.jsx(es,{}),o.jsxs(nn,{onClick:()=>qn("set_plan"),children:[o.jsx(Bk,{className:"h-4 w-4 mr-2"}),e("user.bulk.set_plan")]}),o.jsxs(nn,{onClick:()=>qn("set_expired_at"),children:[o.jsx(nle,{className:"h-4 w-4 mr-2"}),e("user.bulk.set_expired_at")]}),o.jsxs(nn,{onClick:()=>qn("reset_traffic"),children:[o.jsx(dg,{className:"h-4 w-4 mr-2"}),e("user.bulk.reset_traffic")]}),o.jsx(es,{}),o.jsxs(nn,{onClick:()=>qn("update_balance"),children:[o.jsx(nj,{className:"h-4 w-4 mr-2"}),e("user.bulk.update_balance")]}),o.jsxs(nn,{onClick:()=>qn("update_transfer_enable"),children:[o.jsx(Ile,{className:"h-4 w-4 mr-2"}),e("user.bulk.update_traffic")]}),o.jsxs(nn,{onClick:()=>qn("update_device_limit"),children:[o.jsx(t8,{className:"h-4 w-4 mr-2"}),e("user.bulk.update_device_limit")]})]})]}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:dt,disabled:a,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",a&&"animate-spin")}),e("common.refresh")]})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:L.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("user.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[44px]",children:o.jsx(Un,{checked:Qr,onCheckedChange:S=>Or(S===!0),"aria-label":e("common.select_all")})}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[90px]",children:e("user.table.id")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("user.table.email")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.online")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.status")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("user.table.plan")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.group")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.used")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.total")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.table.expired_at")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.balance")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("user.table.commission")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[190px]",children:e("user.table.created_at")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[220px]",children:e("user.table.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:L.map(S=>{var rt,mn,Jr,Gn;const I=S.total_used??(S.u||0)+(S.d||0),he=Number(S.transfer_enable??0),ye=he>0?Math.min(100,I/he*100):0,ve=Rn(S.expired_at),Ae=Ch(S),He=Number(S.online_ip_count??0),Ze=Number(S.device_limit??0),Ke=Ze>0?String(Ze):"",Ye=Ze>0&&He>Ze;return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:vr=>X.openMenu(vr,S),children:[o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx(Un,{checked:C.has(S.id),onCheckedChange:vr=>rr(S.id,vr===!0)})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:S.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Ae?o.jsxs("span",{className:"relative flex h-2.5 w-2.5 shrink-0",title:S.last_login_at?Bc(S.last_login_at):"-",children:[o.jsx("span",{className:"absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60 animate-ping"}),o.jsx("span",{className:"relative inline-flex h-2.5 w-2.5 rounded-full bg-emerald-500"})]}):o.jsx("span",{className:"inline-flex h-2.5 w-2.5 shrink-0 rounded-full bg-muted",title:S.last_login_at?Bc(S.last_login_at):"-"}),o.jsx("div",{className:"truncate",title:S.email,children:S.email})]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("span",{className:ae("tabular-nums",Ye&&"text-red-600"),title:e("user.table.online"),children:[He,"/",Ke]})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",S.banned?"border-red-200 bg-red-50 text-red-600":"border-emerald-200 bg-emerald-50 text-emerald-700"),children:S.banned?e("user.status.disabled"):e("user.status.active")})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:((rt=S.plan)==null?void 0:rt.name)||"",children:((mn=S.plan)==null?void 0:mn.name)||e("user.no_plan")})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate",title:((Jr=S.group)==null?void 0:Jr.name)||"",children:((Gn=S.group)==null?void 0:Gn.name)||e("user.no_group")})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{className:"tabular-nums",children:XF(I)}),o.jsx("span",{className:"tabular-nums",children:he>0?`${ye.toFixed(1)}%`:"-"})]}),o.jsx("div",{className:"h-1.5 rounded-full bg-muted/70",children:o.jsx("div",{className:"h-1.5 rounded-full bg-foreground/80",style:{width:`${ye}%`}})})]})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:XF(S.transfer_enable)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs tabular-nums",ve.className),children:ve.label})}),o.jsxs("td",{className:"px-4 py-3 align-middle tabular-nums",children:[s,Number(S.balance??0).toFixed(2)]}),o.jsxs("td",{className:"px-4 py-3 align-middle tabular-nums",children:[s,Number(S.commission_balance??0).toFixed(2)]}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Bc(S.created_at)}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs(Ua,{children:[o.jsx(Va,{asChild:!0,children:o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8","aria-label":e("user.more"),children:o.jsx(U6,{className:"h-4 w-4"})})}),o.jsxs(fa,{align:"end",className:"w-[220px]",children:[o.jsxs(nn,{onClick:()=>Oh(S),children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),o.jsxs(nn,{onClick:()=>Ph(S),disabled:!S.email,children:[o.jsx(Bk,{className:"h-4 w-4 mr-2"}),e("user.actions.assign_order")]}),o.jsx(es,{}),o.jsxs(nn,{onClick:()=>td(S.subscribe_url||""),disabled:!S.subscribe_url,children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("user.copy_subscribe")]}),o.jsxs(nn,{onClick:()=>Tl(S),children:[o.jsx(WD,{className:"h-4 w-4 mr-2"}),e("user.reset_secret")]}),o.jsx(es,{}),o.jsxs(nn,{onClick:()=>Zu(S),children:[o.jsx(VD,{className:"h-4 w-4 mr-2"}),e("user.actions.user_orders")]}),o.jsxs(nn,{onClick:()=>Ju(S),children:[o.jsx(AC,{className:"h-4 w-4 mr-2"}),e("user.actions.user_invites")]}),o.jsxs(nn,{onClick:()=>zl(S),children:[o.jsx(H_,{className:"h-4 w-4 mr-2"}),e("user.actions.user_traffic")]}),o.jsx(es,{}),o.jsxs(nn,{onClick:()=>Al(S),children:[o.jsx(dg,{className:"h-4 w-4 mr-2"}),e("user.actions.reset_traffic")]}),o.jsx(es,{}),o.jsxs(nn,{className:"text-red-600 focus:text-red-600",onClick:()=>ed(S),children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]})]})]})})]},S.id)})})]})})})}),o.jsx(ls,{page:c,total:m,pageSize:d,onPageChange:S=>u(S),onPageSizeChange:S=>{h(S),u(1)},loading:a}),o.jsx(on,{open:se,onOpenChange:xe,children:o.jsxs(rn,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(ln,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(cn,{children:e("user.create_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.email")}),o.jsx(J,{value:oe.email,onChange:S=>Pe(I=>({...I,email:S.target.value})),placeholder:"user@example.com"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.password")}),o.jsx(J,{type:"password",value:oe.password,onChange:S=>Pe(I=>({...I,password:S.target.value})),placeholder:e("user.fields.password_create_hint")})]}),o.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 items-start",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.plan")}),o.jsxs(it,{value:oe.plan_id,onValueChange:S=>Pe(I=>({...I,plan_id:S})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"null",children:e("user.no_plan")}),T.map(S=>o.jsx(fe,{value:String(S.id),children:S.name},S.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.expired_at")}),o.jsx(J,{type:"datetime-local",value:oe.expired_at,onChange:S=>Pe(I=>({...I,expired_at:S.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.expired_at_hint")})]})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[ge&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:ge}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"outline",onClick:()=>xe(!1),disabled:me,children:e("common.cancel")}),o.jsx(W,{onClick:Fc,disabled:me,children:e(me?"common.saving":"common.save")})]})]})]})}),o.jsx(AA,{open:Qe,onOpenChange:S=>{K(S),S||Ce(null)},user:ne?{id:ne.id,email:ne.email}:null,loading:Z,onConfirm:Vs}),o.jsx(YJ,{open:Ie,onOpenChange:S=>{re(S),S||we(null)},user:H?{id:H.id,email:H.email}:null,onAfterReset:dt}),o.jsx(on,{open:M,onOpenChange:A,children:o.jsxs(rn,{className:"sm:max-w-[920px]",children:[o.jsx(ln,{children:o.jsx(cn,{children:e("user.advanced_filter.title")})}),o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs text-muted-foreground",children:[o.jsx("div",{className:"col-span-5",children:e("user.advanced_filter.field")}),o.jsx("div",{className:"col-span-3",children:e("user.advanced_filter.op")}),o.jsx("div",{className:"col-span-3",children:e("user.advanced_filter.value")}),o.jsx("div",{className:"col-span-1"})]}),R.length===0?o.jsx("div",{className:"rounded-lg border border-dashed border-border/70 bg-muted/10 p-4 text-sm text-muted-foreground",children:e("user.advanced_filter.empty")}):o.jsx("div",{className:"grid gap-2",children:R.map(S=>{const I=cd(S.field),he=S.op==="null"||S.op==="notnull",ye=S.op==="in",ve=I.type==="timestamp",Ae=S.field==="plan_id",He=S.field==="group_id",Ze=Ae||He;return o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[o.jsx("div",{className:"col-span-5",children:o.jsxs(it,{value:S.field,onValueChange:Ke=>B(Ye=>Ye.map(rt=>{if(rt.id!==S.id)return rt;const mn=Ke,Jr=cd(rt.field),Gn=cd(mn),vr=Gn.ops.includes(rt.op)?rt.op:Gn.defaultOp,ka=vr!==rt.op||rt.field==="plan_id"||rt.field==="group_id"||mn==="plan_id"||mn==="group_id"||Jr.type==="timestamp"&&Gn.type!=="timestamp"||Jr.type!=="timestamp"&&Gn.type==="timestamp"||Gn.type==="boolean",_s=vr==="null"||vr==="notnull"||ka?"":rt.value;return{...rt,field:mn,op:vr,value:_s}})),children:[o.jsx(et,{className:"h-9",children:o.jsx(st,{})}),o.jsx(tt,{children:Us.map(Ke=>o.jsx(fe,{value:Ke.value,children:Ke.label},Ke.value))})]})}),o.jsx("div",{className:"col-span-3",children:o.jsxs(it,{value:S.op,onValueChange:Ke=>B(Ye=>Ye.map(rt=>rt.id===S.id?{...rt,op:Ke,value:Ke==="null"||Ke==="notnull"?"":rt.value}:rt)),children:[o.jsx(et,{className:"h-9",children:o.jsx(st,{})}),o.jsx(tt,{children:de(S.field).map(Ke=>o.jsx(fe,{value:Ke.value,children:Ke.label},Ke.value))})]})}),o.jsx("div",{className:"col-span-3",children:he?o.jsx(J,{disabled:!0,placeholder:"-",className:"h-9"}):Ze&&S.op==="eq"?o.jsxs(it,{value:S.value||void 0,onValueChange:Ke=>B(Ye=>Ye.map(rt=>rt.id===S.id?{...rt,value:Ke}:rt)),children:[o.jsx(et,{className:"h-9",children:o.jsx(st,{placeholder:e("common.please_select")})}),o.jsx(tt,{children:(Ae?T:G).map(Ke=>o.jsx(fe,{value:String(Ke.id),children:Ke.name},Ke.id))})]}):Ze&&S.op==="in"?o.jsx(w6e,{value:QF(S.value),onChange:Ke=>B(Ye=>Ye.map(rt=>rt.id===S.id?{...rt,value:Ke.length?Ke.join("\\n"):""}:rt)),options:(Ae?T:G).map(Ke=>({id:Number(Ke.id),name:Ke.name})),placeholder:e("common.please_select")}):I.type==="boolean"?o.jsxs(it,{value:S.value||void 0,onValueChange:Ke=>B(Ye=>Ye.map(rt=>rt.id===S.id?{...rt,value:Ke}:rt)),children:[o.jsx(et,{className:"h-9",children:o.jsx(st,{placeholder:e("common.please_select")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:e("user.banned.no")}),o.jsx(fe,{value:"1",children:e("user.banned.yes")})]})]}):ye?o.jsxs("div",{className:"grid gap-1",children:[o.jsx(gr,{value:S.value,onChange:Ke=>B(Ye=>Ye.map(rt=>rt.id===S.id?{...rt,value:Ke.target.value}:rt)),placeholder:e("user.advanced_filter.in_placeholder"),className:"min-h-[72px]"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.advanced_filter.in_hint")})]}):o.jsx(J,{type:ve?"datetime-local":"text",value:S.value,onChange:Ke=>B(Ye=>Ye.map(rt=>rt.id===S.id?{...rt,value:Ke.target.value}:rt)),className:"h-9"})}),o.jsx("div",{className:"col-span-1 flex justify-end",children:o.jsx(W,{type:"button",variant:"ghost",size:"icon",className:"h-9 w-9",onClick:()=>B(Ke=>Ke.filter(Ye=>Ye.id!==S.id)),children:o.jsx(Pn,{className:"h-4 w-4"})})})]},S.id)})})]}),o.jsxs(pr,{className:"flex flex-col-reverse gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs(W,{type:"button",variant:"outline",onClick:()=>B(S=>[...S,P()]),children:[o.jsx(Bs,{className:"h-4 w-4 mr-2"}),e("user.advanced_filter.add")]}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{type:"button",variant:"outline",onClick:$c,disabled:R.length===0,children:e("user.advanced_filter.clear")}),o.jsx(W,{type:"button",variant:"outline",onClick:()=>A(!1),children:e("common.cancel")}),o.jsx(W,{type:"button",onClick:Ml,children:e("user.advanced_filter.apply")})]})]})]})}),o.jsx(on,{open:Y,onOpenChange:S=>{te(S)},children:o.jsxs(rn,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(ln,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(cn,{children:e("user.edit_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.user_info")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.email")}),o.jsx(J,{value:pe.email,onChange:S=>$e(I=>({...I,email:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.invite_user_email")}),o.jsx(J,{value:pe.invite_user_email,onChange:S=>$e(I=>({...I,invite_user_email:S.target.value})),placeholder:e("user.fields.invite_user_hint")})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.password")}),o.jsx(J,{type:"password",value:pe.password,onChange:S=>$e(I=>({...I,password:S.target.value})),placeholder:e("user.fields.password_hint")})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.traffic")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.used_upload_gb")}),o.jsx(J,{type:"number",min:0,step:"0.01",value:pe.used_upload_gb,onChange:S=>$e(I=>({...I,used_upload_gb:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.used_download_gb")}),o.jsx(J,{type:"number",min:0,step:"0.01",value:pe.used_download_gb,onChange:S=>$e(I=>({...I,used_download_gb:S.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.transfer_enable_gb")}),o.jsx(J,{type:"number",value:pe.transfer_enable_gb,onChange:S=>$e(I=>({...I,transfer_enable_gb:S.target.value})),placeholder:"100"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.transfer_enable_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.expired_at")}),o.jsx(J,{type:"datetime-local",value:pe.expired_at,onChange:S=>$e(I=>({...I,expired_at:S.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.expired_at_hint")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.plan")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.plan")}),o.jsxs(it,{value:pe.plan_id,onValueChange:S=>$e(I=>({...I,plan_id:S})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"null",children:e("user.no_plan")}),T.map(S=>o.jsx(fe,{value:String(S.id),children:S.name},S.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.account_status")}),o.jsxs(it,{value:pe.banned?"banned":"active",onValueChange:S=>$e(I=>({...I,banned:S==="banned"})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"active",children:e("user.status.active")}),o.jsx(fe,{value:"banned",children:e("user.status.disabled")})]})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.speed_limit")}),o.jsx(J,{type:"number",value:pe.speed_limit,onChange:S=>$e(I=>({...I,speed_limit:S.target.value})),placeholder:"Mbps"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.device_limit")}),o.jsx(J,{type:"number",value:pe.device_limit,onChange:S=>$e(I=>({...I,device_limit:S.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.balance")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.balance")}),o.jsx(J,{type:"number",value:pe.balance,onChange:S=>$e(I=>({...I,balance:S.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.commission_balance")}),o.jsx(J,{type:"number",value:pe.commission_balance,onChange:S=>$e(I=>({...I,commission_balance:S.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.config")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.commission_type")}),o.jsxs(it,{value:pe.commission_type,onValueChange:S=>$e(I=>({...I,commission_type:S})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:e("user.fields.commission_type")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:e("user.commission_type.system")}),o.jsx(fe,{value:"1",children:e("user.commission_type.period")}),o.jsx(fe,{value:"2",children:e("user.commission_type.onetime")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.commission_rate")}),o.jsx(J,{type:"number",value:pe.commission_rate,onChange:S=>$e(I=>({...I,commission_rate:S.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.discount")}),o.jsx(J,{type:"number",value:pe.discount,onChange:S=>$e(I=>({...I,discount:S.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.roles")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:pe.is_admin,onCheckedChange:S=>$e(I=>({...I,is_admin:!!S}))}),o.jsx("span",{children:e("user.fields.is_admin")})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:pe.is_staff,onCheckedChange:S=>$e(I=>({...I,is_staff:!!S}))}),o.jsx("span",{children:e("user.fields.is_staff")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:e("user.sections.remarks")}),o.jsx(gr,{value:pe.remarks,onChange:S=>$e(I=>({...I,remarks:S.target.value})),placeholder:e("user.fields.remarks"),maxLength:500})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[V&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:V}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"outline",onClick:()=>te(!1),disabled:Ne,children:e("common.cancel")}),o.jsx(W,{onClick:Mi,disabled:Ne,children:e(Ne?"common.saving":"common.save")})]})]})]})}),o.jsx(on,{open:Be,onOpenChange:S=>{Xt||(Je(S),S||(gt(""),Ct(null)))},children:o.jsxs(rn,{className:"sm:max-w-[720px]",children:[o.jsx(ln,{children:o.jsx(cn,{children:qc})}),o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.bulk.scope")}),o.jsxs(it,{value:Xe,onValueChange:S=>Nt(S),disabled:Xt,children:[o.jsx(et,{className:"h-9",children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"filtered",children:e("user.bulk.scope_filtered",{count:m})}),o.jsx(fe,{value:"selected",disabled:j.length===0,children:e("user.bulk.scope_selected",{count:j.length})})]})]})]}),ft==="send_mail"?o.jsxs("div",{className:"grid gap-3",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.bulk.mail_subject")}),o.jsx(J,{value:Ft,onChange:S=>nt(S.target.value),disabled:Xt,className:"h-9"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.bulk.mail_content")}),o.jsx(gr,{value:le,onChange:S=>Se(S.target.value),disabled:Xt,className:"min-h-[140px]"})]})]}):null,ft==="set_plan"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.plan")}),o.jsxs(it,{value:Oe,onValueChange:Tt,disabled:Xt,children:[o.jsx(et,{className:"h-9",children:o.jsx(st,{placeholder:e("common.please_select")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"null",children:e("user.no_plan")}),T.map(S=>o.jsx(fe,{value:String(S.id),children:S.name},S.id))]})]})]}):null,ft==="set_expired_at"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.expired_at")}),o.jsx(J,{type:"datetime-local",value:jt,onChange:S=>Kt(S.target.value),disabled:Xt,className:"h-9"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.fields.expired_at_hint")})]}):null,ft==="reset_traffic"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.reset_traffic_dialog.reason")}),o.jsx(J,{value:At,onChange:S=>fn(S.target.value),disabled:Xt,className:"h-9",placeholder:e("user.reset_traffic_dialog.reason_placeholder")})]}):null,ft==="update_balance"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.balance")}),o.jsx(J,{type:"number",value:Dn,onChange:S=>ur(S.target.value),disabled:Xt,className:"h-9"})]}):null,ft==="update_transfer_enable"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.transfer_enable_gb")}),o.jsx(J,{type:"number",value:Rr,onChange:S=>Cr(S.target.value),disabled:Xt,className:"h-9"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.bulk.traffic_hint")})]}):null,ft==="update_device_limit"?o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("user.fields.device_limit")}),o.jsx(J,{type:"number",value:mi,onChange:S=>pi(S.target.value),disabled:Xt,className:"h-9"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.bulk.device_limit_hint")})]}):null,ft==="export_svg"?o.jsx("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-3 text-sm text-muted-foreground",children:e("user.bulk.export_svg_hint")}):null,ft==="delete"?o.jsx("div",{className:"rounded-lg border border-border/70 bg-red-50 p-3 text-sm text-red-700",children:e("user.bulk.delete_hint")}):null,Yn?o.jsxs("div",{className:"text-sm text-muted-foreground",children:[Yn.label," ",Yn.done,"/",Yn.total]}):null,Bn?o.jsx("div",{className:"text-sm text-red-600",children:Bn}):null]}),o.jsxs(pr,{children:[o.jsx(W,{variant:"outline",onClick:()=>Je(!1),disabled:Xt,children:e("common.cancel")}),o.jsx(W,{onClick:Eh,disabled:Xt,children:e(Xt?"common.loading":"common.confirm")})]})]})}),o.jsx(ss,{open:X.open,onOpenChange:X.setOpen,position:X.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),e("common.edit")]}),disabled:!X.data,onSelect:()=>{X.data&&(X.setOpen(!1),Oh(X.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Bk,{className:"h-4 w-4 mr-2"}),e("user.actions.assign_order")]}),disabled:!((Wc=X.data)!=null&&Wc.email),onSelect:()=>{var S;(S=X.data)!=null&&S.email&&(X.setOpen(!1),Ph(X.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(oi,{className:"h-4 w-4 mr-2"}),e("user.copy_subscribe")]}),disabled:!((Dl=X.data)!=null&&Dl.subscribe_url),onSelect:()=>{var S;(S=X.data)!=null&&S.subscribe_url&&(X.setOpen(!1),td(X.data.subscribe_url))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(WD,{className:"h-4 w-4 mr-2"}),e("user.reset_secret")]}),disabled:!X.data,onSelect:()=>{X.data&&(X.setOpen(!1),Tl(X.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(VD,{className:"h-4 w-4 mr-2"}),e("user.actions.user_orders")]}),disabled:!X.data,onSelect:()=>{X.data&&(X.setOpen(!1),Zu(X.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(AC,{className:"h-4 w-4 mr-2"}),e("user.actions.user_invites")]}),disabled:!X.data,onSelect:()=>{X.data&&(X.setOpen(!1),Ju(X.data))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(H_,{className:"h-4 w-4 mr-2"}),e("user.actions.user_traffic")]}),disabled:!X.data,onSelect:()=>{X.data&&(X.setOpen(!1),zl(X.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(dg,{className:"h-4 w-4 mr-2"}),e("user.actions.reset_traffic")]}),disabled:!X.data,onSelect:()=>{X.data&&(X.setOpen(!1),Al(X.data))}},{type:"separator"},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(Pn,{className:"h-4 w-4 mr-2"}),e("common.delete")]}),destructive:!0,disabled:!X.data,onSelect:()=>{X.data&&(X.setOpen(!1),ed(X.data))}}]})]})}const kN=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},jb=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},SN=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},N6e=e=>{const t=(e==null?void 0:e.reason)??(e==null?void 0:e.reset_reason)??(e==null?void 0:e.resetReason);if(typeof t=="string"&&t.trim())return t.trim();const n=e==null?void 0:e.metadata;if(n==null)return"-";const r=i=>{const s=(i==null?void 0:i.reason)??(i==null?void 0:i.reset_reason)??(i==null?void 0:i.resetReason)??(i==null?void 0:i.message)??(i==null?void 0:i.note)??(i==null?void 0:i.comment)??(i==null?void 0:i.remark)??(i==null?void 0:i.description);return typeof s=="string"&&s.trim()?s.trim():null};if(typeof n=="string"){const i=n.trim();if(!i)return"-";try{const s=JSON.parse(i),a=r(s);if(a)return a}catch{}return i}return typeof n=="object"&&r(n)||"-"};function C6e(){const{t:e}=Wt(),t=Za(),n=yh(),r=f.useMemo(()=>{const se=new URLSearchParams(t.search),xe=se.get("user_id")||se.get("id")||"",me=Number(xe);return Number.isFinite(me)&&me>0?Math.trunc(me):null},[t.search]),[i,s]=f.useState("usage"),[a,l]=f.useState(!1),[c,u]=f.useState([]),[d,h]=f.useState(0),[m,p]=f.useState(1),[g,y]=f.useState(10),x=f.useMemo(()=>Math.max(1,Math.ceil(d/g)),[d,g]),[b,w]=f.useState(!1),[v,_]=f.useState(null),[j,k]=f.useState([]),[C,O]=f.useState(1),[P,M]=f.useState(10),A=j.length,R=f.useMemo(()=>Math.max(1,Math.ceil(A/P)),[A,P]),B=f.useMemo(()=>{const se=Math.max(0,(C-1)*P);return j.slice(se,se+P)},[j,C,P]),[F,U]=f.useState(!1),[L,D]=f.useState(!1);f.useEffect(()=>{p(se=>Math.min(Math.max(1,se),x))},[x]),f.useEffect(()=>{O(se=>Math.min(Math.max(1,se),R))},[R]),f.useEffect(()=>{O(1),M(10)},[r]);const T=f.useCallback(se=>se?se==="d"?e("user.traffic_panel.record_type.daily"):se==="h"?e("user.traffic_panel.record_type.hourly"):se==="m"?e("user.traffic_panel.record_type.monthly"):se:"-",[e]),$=f.useCallback(async()=>{if(r){l(!0);try{const se=await KJ.getStatUser({user_id:r,page:m,pageSize:g});u(se.data.data||[]),h(se.data.total||0)}catch(se){u([]),h(0),Q.error(kN(se,e("common.load_failed"))),console.error(se)}finally{l(!1)}}},[e,r,m,g]),G=f.useCallback(async()=>{if(r){w(!0);try{const se=await jm.userHistory(r,{limit:50});_(se.data.data.user||null),k(se.data.data.history||[])}catch(se){_(null),k([]),Q.error(kN(se,e("common.load_failed"))),console.error(se)}finally{w(!1)}}},[e,r]);f.useEffect(()=>{r&&$()},[r,m,g,$]),f.useEffect(()=>{r&&G()},[r,G]);const ie=async se=>{if(r){D(!0);try{const xe=await jm.resetUser({user_id:r,reason:se.trim()||void 0});Q.success(xe.data.message||e("user.traffic_reset")),U(!1),await G()}catch(xe){Q.error(kN(xe,e("common.save_failed"))),console.error(xe)}finally{D(!1)}}},X=async()=>{await Promise.all([$(),G()])};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex items-center gap-2 md:flex-1",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:()=>n(-1),children:[o.jsx(Voe,{className:"h-4 w-4 mr-2"}),e("common.back")]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-semibold leading-none tracking-tight",children:e("user.traffic_panel.title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:v?`ID: ${v.id}  ${v.email}`:r?`ID: ${r}`:""})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:ml-auto",children:[o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:X,disabled:!r,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",(a||b)&&"animate-spin")}),e("common.refresh")]}),o.jsxs(W,{variant:"destructive",size:"sm",className:"h-9",onClick:()=>U(!0),disabled:!r,children:[o.jsx(dg,{className:"h-4 w-4 mr-2"}),e("user.actions.reset_traffic")]})]})]}),r?o.jsxs(Ym,{value:i,onValueChange:se=>s(se),className:"w-full",children:[o.jsxs(Sh,{className:"grid w-full grid-cols-2",children:[o.jsx(mr,{value:"usage",children:e("user.traffic_panel.tabs.usage")}),o.jsx(mr,{value:"resets",children:e("user.traffic_panel.tabs.resets")})]}),o.jsxs(ii,{value:"usage",className:"mt-4 space-y-4",children:[o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("user.traffic_panel.usage.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("user.traffic_panel.usage.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[110px]",children:e("user.traffic_panel.usage.rate")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.usage.upload")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.usage.download")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.usage.total")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:a?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("common.loading")})}):c.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("user.traffic_panel.usage.empty")})}):c.map(se=>o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:SN(se.record_at)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:T(se.record_type)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Number(se.server_rate??0).toFixed(2)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:jb(se.u)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:jb(se.d)}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:jb((se.u||0)+(se.d||0))})]},se.id))})]})})})}),o.jsx(ls,{page:m,total:d,pageSize:g,onPageChange:se=>p(se),onPageSizeChange:se=>{y(se),p(1)},loading:a})]}),o.jsxs(ii,{value:"resets",className:"mt-4 space-y-4",children:[o.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.traffic_panel.reset.count")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:(v==null?void 0:v.reset_count)??"-"})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.traffic_panel.reset.last")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:SN((v==null?void 0:v.last_reset_at)??null)})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/20 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.traffic_panel.reset.next")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:SN((v==null?void 0:v.next_reset_at)??null)})]})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("user.traffic_panel.reset.time")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("user.traffic_panel.reset.type")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("user.traffic_panel.reset.trigger")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("user.traffic_panel.reset.old")}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("user.traffic_panel.reset.reason")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:b?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("common.loading")})}):j.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-4 py-6 text-center text-sm text-muted-foreground",children:e("user.traffic_panel.reset.empty")})}):B.map(se=>{var xe,me;return o.jsxs("tr",{className:"hover:bg-muted/30",children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:se.reset_time||"-"}),o.jsx("td",{className:"px-4 py-3 align-middle",children:se.reset_type_name||se.reset_type}),o.jsx("td",{className:"px-4 py-3 align-middle",children:se.trigger_source_name||se.trigger_source}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:((xe=se.old_traffic)==null?void 0:xe.formatted)||jb((me=se.old_traffic)==null?void 0:me.total)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:N6e(se)})]},se.id)})})]})})})}),o.jsx(ls,{page:C,total:A,pageSize:P,onPageChange:se=>O(se),onPageSizeChange:se=>{M(se),O(1)},loading:b})]})]}):o.jsx(It,{children:o.jsx(Lt,{className:"p-6 text-sm text-muted-foreground",children:e("common.load_failed")})}),o.jsx(AA,{open:F,onOpenChange:U,user:r?{id:r,email:v==null?void 0:v.email}:null,loading:L,onConfirm:ie})]})}const Kh={fetch:e=>ze.post("/ticket/fetch",e),reply:(e,t)=>ze.post("/ticket/reply",{id:e,message:t}),close:e=>ze.post("/ticket/close",{id:e})},eB=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},kb=e=>String(e).padStart(2,"0"),O6e=e=>{if(!e)return"";const t=new Date(e*1e3);return`${t.getFullYear()}-${kb(t.getMonth()+1)}-${kb(t.getDate())}T${kb(t.getHours())}:${kb(t.getMinutes())}`},P6e=e=>{if(!e.trim())return null;const t=new Date(e).getTime();return Number.isFinite(t)?Math.floor(t/1e3):null},tB=e=>{const t=Number(e??0);return Number.isFinite(t)?(t/1073741824).toFixed(2):"0.00"},nB=()=>({email:"",password:"",plan_id:"null",expired_at:"",banned:!1,is_admin:!1,is_staff:!1,remarks:"",used_upload_gb:"0.00",used_download_gb:"0.00",speed_limit:"",device_limit:"",transfer_enable_gb:"",balance:"",commission_balance:"",commission_type:"0",commission_rate:"",discount:"",invite_user_email:""});function E6e({open:e,onOpenChange:t,userId:n,onSaved:r}){const{t:i}=Wt(),[s,a]=f.useState(!1),[l,c]=f.useState(!1),[u,d]=f.useState(""),[h,m]=f.useState([]),[p,g]=f.useState(()=>nB()),y=f.useCallback(async()=>{try{const v=await nl.fetch();v.data.status==="success"&&m(v.data.data||[])}catch(v){m([]),console.error(v)}},[]),x=f.useCallback(v=>{var _;g({id:v.id,email:v.email||"",password:"",plan_id:v.plan_id===null||v.plan_id===void 0?"null":String(v.plan_id),expired_at:O6e(v.expired_at),banned:!!v.banned,is_admin:!!v.is_admin,is_staff:!!v.is_staff,remarks:v.remarks||"",used_upload_gb:tB(v.u),used_download_gb:tB(v.d),speed_limit:v.speed_limit===null||v.speed_limit===void 0?"":String(v.speed_limit),device_limit:v.device_limit===null||v.device_limit===void 0?"":String(v.device_limit),transfer_enable_gb:v.transfer_enable?String((v.transfer_enable/1073741824).toFixed(2)):"",balance:v.balance===null||v.balance===void 0?"":String(v.balance),commission_balance:v.commission_balance===null||v.commission_balance===void 0?"":String(v.commission_balance),commission_type:v.commission_type===null||v.commission_type===void 0?"0":String(v.commission_type),commission_rate:v.commission_rate===null||v.commission_rate===void 0?"":String(v.commission_rate),discount:v.discount===null||v.discount===void 0?"":String(v.discount),invite_user_email:((_=v.invite_user)==null?void 0:_.email)||""})},[]),b=f.useCallback(async v=>{var _;a(!0),d("");try{const k=(_=(await ni.fetch({current:1,pageSize:1,filter:[{id:"id",value:`eq:${v}`}]})).data.data)==null?void 0:_[0];if(!k)throw new Error("user_not_found");x(k)}catch(j){d(eB(j,i("common.load_failed"))),console.error(j)}finally{a(!1)}},[x,i]);f.useEffect(()=>{e&&(d(""),y())},[e,y]),f.useEffect(()=>{e&&n&&b(n)},[e,n,b]),f.useEffect(()=>{e||(a(!1),c(!1),d(""),g(nB()))},[e]);const w=async()=>{if(l||!p.id)return;if(d(""),!p.email.trim())return d(i("user.validation.email_required"));const v=O=>{const P=O.trim();if(!P)return 0;const M=Number(P);return!Number.isFinite(M)||M<0?null:Math.round(M*1073741824)},_=v(p.used_upload_gb);if(_===null)return d(i("user.validation.number_invalid"));const j=v(p.used_download_gb);if(j===null)return d(i("user.validation.number_invalid"));const k=P6e(p.expired_at),C={id:p.id,email:p.email.trim(),banned:p.banned,is_admin:p.is_admin,is_staff:p.is_staff,remarks:p.remarks.trim()||null,expired_at:k,plan_id:p.plan_id==="null"?null:Number(p.plan_id),invite_user_email:p.invite_user_email.trim()||null,u:_,d:j};p.password.trim()&&(C.password=p.password.trim()),p.speed_limit.trim()!==""&&(C.speed_limit=Number(p.speed_limit)),p.device_limit.trim()!==""&&(C.device_limit=Number(p.device_limit)),p.transfer_enable_gb.trim()!==""&&(C.transfer_enable=Math.round(Number(p.transfer_enable_gb)*1073741824)),p.balance.trim()!==""&&(C.balance=Number(p.balance)),p.commission_balance.trim()!==""&&(C.commission_balance=Number(p.commission_balance)),p.commission_type.trim()!==""&&(C.commission_type=Math.trunc(Number(p.commission_type))),p.commission_rate.trim()!==""&&(C.commission_rate=Math.trunc(Number(p.commission_rate))),p.discount.trim()!==""&&(C.discount=Math.trunc(Number(p.discount))),c(!0);try{const O=await ni.update(C);if(O.data.status!=="success")throw new Error(O.data.message||"request failed");t(!1),r==null||r()}catch(O){d(eB(O,i("common.save_failed"))),console.error(O)}finally{c(!1)}};return o.jsx(on,{open:e,onOpenChange:t,children:o.jsxs(rn,{className:"left-auto right-0 top-0 h-screen w-full max-w-lg translate-x-0 translate-y-0 rounded-none p-0 data-[state=open]:slide-in-from-right data-[state=closed]:slide-out-to-right",children:[o.jsx(ln,{children:o.jsx("div",{className:"px-6 pt-6",children:o.jsx(cn,{children:i("user.edit_title")})})}),o.jsx("div",{className:"h-[calc(100vh-84px)] overflow-auto px-6 pb-28",children:s?o.jsx("div",{className:"py-6 text-sm text-muted-foreground",children:i("common.loading")}):o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.user_info")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.email")}),o.jsx(J,{value:p.email,onChange:v=>g(_=>({..._,email:v.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.invite_user_email")}),o.jsx(J,{value:p.invite_user_email,onChange:v=>g(_=>({..._,invite_user_email:v.target.value})),placeholder:i("user.fields.invite_user_hint")})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.password")}),o.jsx(J,{type:"password",value:p.password,onChange:v=>g(_=>({..._,password:v.target.value})),placeholder:i("user.fields.password_hint")})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.traffic")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.used_upload_gb")}),o.jsx(J,{type:"number",min:0,step:"0.01",value:p.used_upload_gb,onChange:v=>g(_=>({..._,used_upload_gb:v.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.used_download_gb")}),o.jsx(J,{type:"number",min:0,step:"0.01",value:p.used_download_gb,onChange:v=>g(_=>({..._,used_download_gb:v.target.value}))})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.transfer_enable_gb")}),o.jsx(J,{type:"number",value:p.transfer_enable_gb,onChange:v=>g(_=>({..._,transfer_enable_gb:v.target.value})),placeholder:"100"}),o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.fields.transfer_enable_hint")})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.expired_at")}),o.jsx(J,{type:"datetime-local",value:p.expired_at,onChange:v=>g(_=>({..._,expired_at:v.target.value}))}),o.jsx("div",{className:"text-xs text-muted-foreground",children:i("user.fields.expired_at_hint")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.plan")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.plan")}),o.jsxs(it,{value:p.plan_id,onValueChange:v=>g(_=>({..._,plan_id:v})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"null",children:i("user.no_plan")}),h.map(v=>o.jsx(fe,{value:String(v.id),children:v.name},v.id))]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.account_status")}),o.jsxs(it,{value:p.banned?"banned":"active",onValueChange:v=>g(_=>({..._,banned:v==="banned"})),children:[o.jsx(et,{children:o.jsx(st,{})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"active",children:i("user.status.active")}),o.jsx(fe,{value:"banned",children:i("user.status.disabled")})]})]})]})]}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.speed_limit")}),o.jsx(J,{type:"number",value:p.speed_limit,onChange:v=>g(_=>({..._,speed_limit:v.target.value})),placeholder:"Mbps"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.device_limit")}),o.jsx(J,{type:"number",value:p.device_limit,onChange:v=>g(_=>({..._,device_limit:v.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.balance")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.balance")}),o.jsx(J,{type:"number",value:p.balance,onChange:v=>g(_=>({..._,balance:v.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.commission_balance")}),o.jsx(J,{type:"number",value:p.commission_balance,onChange:v=>g(_=>({..._,commission_balance:v.target.value}))})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.config")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.commission_type")}),o.jsxs(it,{value:p.commission_type,onValueChange:v=>g(_=>({..._,commission_type:v})),children:[o.jsx(et,{children:o.jsx(st,{placeholder:i("user.fields.commission_type")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"0",children:i("user.commission_type.system")}),o.jsx(fe,{value:"1",children:i("user.commission_type.period")}),o.jsx(fe,{value:"2",children:i("user.commission_type.onetime")})]})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.commission_rate")}),o.jsx(J,{type:"number",value:p.commission_rate,onChange:v=>g(_=>({..._,commission_rate:v.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:i("user.fields.discount")}),o.jsx(J,{type:"number",value:p.discount,onChange:v=>g(_=>({..._,discount:v.target.value})),placeholder:"0-100"})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.roles")}),o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:p.is_admin,onCheckedChange:v=>g(_=>({..._,is_admin:!!v}))}),o.jsx("span",{children:i("user.fields.is_admin")})]}),o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Un,{checked:p.is_staff,onCheckedChange:v=>g(_=>({..._,is_staff:!!v}))}),o.jsx("span",{children:i("user.fields.is_staff")})]})]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 p-4 space-y-4",children:[o.jsx("div",{className:"text-sm font-medium",children:i("user.sections.remarks")}),o.jsx(gr,{value:p.remarks,onChange:v=>g(_=>({..._,remarks:v.target.value})),placeholder:i("user.fields.remarks"),maxLength:500})]})]})}),o.jsxs("div",{className:"fixed bottom-0 right-0 w-full max-w-lg border-t bg-background px-6 py-4",children:[u&&o.jsx("div",{className:"mb-3 text-sm text-red-600",children:u}),o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(W,{variant:"outline",onClick:()=>t(!1),disabled:l,children:i("common.cancel")}),o.jsx(W,{onClick:w,disabled:l||s||!p.id,children:i(l?"common.saving":"common.save")})]})]})]})})}const Yh=(e,t)=>{var n,r;return((r=(n=e==null?void 0:e.response)==null?void 0:n.data)==null?void 0:r.message)||t},Sb=e=>{if(!e)return"-";try{return new Date(e*1e3).toLocaleString()}catch{return String(e)}},Ip=e=>{const t=Number(e??0);if(!Number.isFinite(t)||t<=0)return"0 B";const n=1024,r=n*1024,i=r*1024;return t>=i?`${(t/i).toFixed(2)} GB`:t>=r?`${(t/r).toFixed(2)} MB`:t>=n?`${(t/n).toFixed(2)} KB`:`${Math.round(t)} B`},Gh=e=>e&&typeof e=="object"&&typeof e.status=="string"&&"data"in e;function M6e(){var $e,Qe;const{t:e}=Wt(),t=wa(),[n,r]=f.useState(!1),i=as(),[s,a]=f.useState(1),[l]=f.useState(20),[c,u]=f.useState(0),[d,h]=f.useState({query:"",level:"all",reply_status:"all",status:"0"}),[m,p]=f.useState([]),[g,y]=f.useState(!1),[x,b]=f.useState(!1),[w,v]=f.useState(""),[_,j]=f.useState(null),[k,C]=f.useState(""),[O,P]=f.useState(!1),M=f.useRef(null),[A,R]=f.useState(!1),[B,F]=f.useState(""),[U,L]=f.useState([]),[D,T]=f.useState(!1),[$,G]=f.useState(null),[ie,X]=f.useState(!1),[se,xe]=f.useState(null),me=f.useCallback(async()=>{R(!0),F("");try{const K=await Kh.fetch({current:1,pageSize:50,status:0,reply_status:[1]});if(Gh(K.data))throw new Error("unexpected detail response");L(K.data.data||[])}catch(K){L([]),F(Yh(K,e("common.load_failed"))),console.error(K)}finally{R(!1)}},[e]),De=f.useCallback(async()=>{r(!0);try{const K={current:s,pageSize:l};d.status!=="all"&&(K.status=Number(d.status)),d.reply_status!=="all"&&(K.reply_status=[Number(d.reply_status)]);const ne=[];if(d.query.trim()&&ne.push({id:"keyword",value:d.query.trim()}),d.level!=="all"){const Z=Number(d.level);Number.isFinite(Z)&&ne.push({id:"level",value:[Math.trunc(Z)]})}ne.length&&(K.filter=ne);const Ce=await Kh.fetch(K);if(Gh(Ce.data))throw new Error("unexpected detail response");p(Ce.data.data||[]),u(Ce.data.total||0)}catch(K){p([]),u(0),Q.error(Yh(K,e("common.load_failed"))),console.error(K)}finally{r(!1)}},[e,s,l,d]);f.useEffect(()=>{De()},[De]),f.useEffect(()=>{g&&me()},[g,me]);const ge=f.useCallback((K="auto")=>{const ne=M.current;if(!ne)return;const Ce=ne.querySelector("[data-radix-scroll-area-viewport]");Ce&&Ce.scrollTo({top:Ce.scrollHeight,behavior:K})},[]);f.useLayoutEffect(()=>{g&&_&&ge("auto")},[g,_==null?void 0:_.id,($e=_==null?void 0:_.messages)==null?void 0:$e.length,ge]);const Ve=async K=>{y(!0),b(!0),v(""),j(null),C("");try{const ne=await Kh.fetch({id:K});if(!Gh(ne.data)||ne.data.status!=="success"){const Ce=Gh(ne.data)?ne.data.message:"request failed";throw new Error(Ce)}j(ne.data.data)}catch(ne){v(Yh(ne,e("common.load_failed"))),console.error(ne)}finally{b(!1)}},oe=async K=>{if(g&&_&&_.id===K){b(!0);try{const ne=await Kh.fetch({id:K});if(!Gh(ne.data)||ne.data.status!=="success"){const Ce=Gh(ne.data)?ne.data.message:"request failed";throw new Error(Ce)}j(ne.data.data)}catch(ne){Q.error(Yh(ne,e("common.load_failed"))),console.error(ne)}finally{b(!1)}}},Pe=async K=>{if(await t({title:e("ticket.close"),description:e("ticket.confirm_close"),confirmText:e("ticket.close"),confirmVariant:"destructive"}))try{const Ce=await Kh.close(K);if(Ce.data.status!=="success")throw new Error(Ce.data.message||"request failed");Q.success(Ce.data.message||e("ticket.closed")),(_==null?void 0:_.id)===K&&await oe(K),await me(),await De()}catch(Ce){Q.error(Yh(Ce,e("common.save_failed"))),console.error(Ce)}},Y=async()=>{if(O||!_)return;const K=k.trim();if(!K)return;P(!0);const ne=-Date.now(),Ce=Math.floor(Date.now()/1e3),Z={id:ne,ticket_id:_.id,user_id:_.user_id,message:K,created_at:Ce,updated_at:Ce,is_from_admin:!0,is_from_user:!1};C(""),j(be=>{if(!be||be.id!==_.id)return be;const Ie=Array.isArray(be.messages)?be.messages:[];return{...be,updated_at:Ce,messages:[...Ie,Z]}});try{const be=await Kh.reply(_.id,K);if(be.data.status!=="success")throw new Error(be.data.message||"request failed");Q.success(be.data.message||e("common.saved")),await oe(_.id),await me(),await De()}catch(be){j(Ie=>{if(!Ie||Ie.id!==_.id)return Ie;const re=Array.isArray(Ie.messages)?Ie.messages:[];return{...Ie,messages:re.filter(H=>H.id!==ne)}}),C(K),Q.error(Yh(be,e("common.save_failed"))),console.error(be)}finally{P(!1)}},te=K=>e(K===1?"ticket.status.closed":"ticket.status.open"),Ne=f.useCallback(K=>{const ne=Number(K);return Number.isFinite(ne)?ne===2?{label:e("ticket.level.high"),className:"border-red-200 bg-red-50 text-red-600"}:ne===1?{label:e("ticket.level.medium"),className:"border-amber-200 bg-amber-50 text-amber-700"}:{label:e("ticket.level.low"),className:"border-emerald-200 bg-emerald-50 text-emerald-700"}:{label:"",className:"border-border/70 bg-muted/30 text-muted-foreground"}},[e]),Te=f.useCallback(K=>K===1?{label:e("ticket.reply.waiting_admin"),className:"border-amber-200 bg-amber-50 text-amber-700"}:{label:e("ticket.reply.waiting_user"),className:"border-emerald-200 bg-emerald-50 text-emerald-700"},[e]),V=f.useCallback(K=>{const ne=Number(K==null?void 0:K.id);!Number.isFinite(ne)||ne<=0||(G({id:Math.trunc(ne),email:typeof(K==null?void 0:K.email)=="string"?K.email:null}),T(!0))},[]),ue=f.useCallback(K=>{const ne=Number((K==null?void 0:K.id)??(K==null?void 0:K.user_id)??(K==null?void 0:K.userId)??K);!Number.isFinite(ne)||ne<=0||(xe(Math.trunc(ne)),X(!0))},[]),pe=({m:K})=>{const ne=!!K.is_from_admin;return o.jsx("div",{className:ae("flex",ne?"justify-end":"justify-start"),children:o.jsxs("div",{className:ae("max-w-[80%] rounded-lg border px-3 py-2 text-sm",ne?"bg-primary text-primary-foreground":"bg-background"),children:[o.jsx("div",{className:"whitespace-pre-wrap break-words",children:K.message}),o.jsx("div",{className:ae("mt-1 text-xs opacity-80",ne?"text-primary-foreground":"text-muted-foreground"),children:Sb(K.created_at)})]})})};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:flex-1",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Ni,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),o.jsx(J,{value:d.query,onChange:K=>{h(ne=>({...ne,query:K.target.value})),a(1)},placeholder:e("ticket.search_placeholder"),className:"h-9 pl-9"})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsxs(it,{value:d.status,onValueChange:K=>{h(ne=>({...ne,status:K})),a(1)},children:[o.jsx(et,{className:"h-9 w-[140px]",children:o.jsx(st,{placeholder:e("ticket.filter_status")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("ticket.all")}),o.jsx(fe,{value:"0",children:e("ticket.status.open")}),o.jsx(fe,{value:"1",children:e("ticket.status.closed")})]})]}),o.jsxs(it,{value:d.level,onValueChange:K=>{h(ne=>({...ne,level:K})),a(1)},children:[o.jsx(et,{className:"h-9 w-[140px]",children:o.jsx(st,{placeholder:e("ticket.filter_level")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("ticket.all")}),o.jsx(fe,{value:"0",children:e("ticket.level.low")}),o.jsx(fe,{value:"1",children:e("ticket.level.medium")}),o.jsx(fe,{value:"2",children:e("ticket.level.high")})]})]}),o.jsxs(it,{value:d.reply_status,onValueChange:K=>{h(ne=>({...ne,reply_status:K})),a(1)},children:[o.jsx(et,{className:"h-9 w-[160px]",children:o.jsx(st,{placeholder:e("ticket.filter_reply")})}),o.jsxs(tt,{children:[o.jsx(fe,{value:"all",children:e("ticket.all")}),o.jsx(fe,{value:"1",children:e("ticket.reply.waiting_admin")}),o.jsx(fe,{value:"0",children:e("ticket.reply.waiting_user")})]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2 md:ml-auto",children:o.jsxs(W,{variant:"outline",size:"sm",className:"h-9",onClick:De,disabled:n,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",n&&"animate-spin")}),e("common.refresh")]})})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[e("dashboard.total"),": ",o.jsx("span",{className:"font-medium tabular-nums",children:c})]}),o.jsx(It,{children:o.jsx(Lt,{className:"p-0",children:m.length===0?o.jsx("div",{className:"p-6 text-sm text-muted-foreground",children:e("ticket.empty")}):o.jsx("div",{className:"overflow-hidden rounded-lg border border-border/70",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-muted/30 text-muted-foreground",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[80px]",children:"ID"}),o.jsx("th",{className:"text-left font-medium px-4 py-3",children:e("ticket.subject")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[200px]",children:e("ticket.user")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[120px]",children:e("ticket.status_label")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[140px]",children:e("ticket.filter_level")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[160px]",children:e("ticket.reply_label")}),o.jsx("th",{className:"text-left font-medium px-4 py-3 w-[180px]",children:e("ticket.updated_at")}),o.jsx("th",{className:"text-right font-medium px-4 py-3 w-[120px]",children:e("ticket.actions")})]})}),o.jsx("tbody",{className:"divide-y divide-border/60",children:m.map(K=>{var Z,be;const ne=Ne(K.level),Ce=Te(K.reply_status??null);return o.jsxs("tr",{className:"hover:bg-muted/30",onContextMenu:Ie=>i.openMenu(Ie,K),children:[o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:K.id}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("div",{className:"truncate font-medium",title:K.subject,children:K.subject})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("button",{type:"button",className:"block w-full truncate text-left font-medium text-primary underline-offset-2 hover:underline",title:(Z=K.user)==null?void 0:Z.email,onClick:()=>ue(K.user_id),children:((be=K.user)==null?void 0:be.email)||""})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:te(K.status)}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",ne.className),children:ne.label})}),o.jsx("td",{className:"px-4 py-3 align-middle",children:o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",Ce.className),children:Ce.label})}),o.jsx("td",{className:"px-4 py-3 align-middle tabular-nums",children:Sb(K.updated_at)}),o.jsx("td",{className:"px-4 py-3 align-middle text-right",children:o.jsxs("div",{className:"inline-flex items-center gap-2",children:[o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>Ve(K.id),children:o.jsx(UD,{className:"h-4 w-4"})}),o.jsx(W,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>Pe(K.id),disabled:K.status===1,children:o.jsx($d,{className:"h-4 w-4"})})]})})]},K.id)})})]})})})}),o.jsx(ls,{page:s,total:c,pageSize:l,onPageChange:K=>a(K),onPageSizeChange:()=>{},loading:n}),o.jsx(on,{open:g,onOpenChange:y,children:o.jsxs(rn,{className:"max-w-6xl h-[90vh] max-h-[95vh] overflow-hidden p-0 flex flex-col gap-0",children:[o.jsxs(ln,{className:"shrink-0 border-b px-6 py-4 pr-12",children:[o.jsx(cn,{children:e("ticket.detail_title")}),o.jsx("div",{className:"text-sm text-muted-foreground truncate",children:_?`ID: ${_.id}${(Qe=_.user)!=null&&Qe.email?`  ${_.user.email}`:""}`:""})]}),o.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-6 py-4",children:o.jsxs("div",{className:"grid min-h-0 h-full grid-cols-1 gap-4 md:grid-cols-12",children:[o.jsx("div",{className:"flex min-h-0 h-full flex-col overflow-hidden md:col-span-4",children:o.jsx(It,{className:"h-full overflow-hidden",children:o.jsxs(Lt,{className:"flex h-full flex-col p-0",children:[o.jsxs("div",{className:"flex items-center justify-between border-b px-4 py-3",children:[o.jsx("div",{className:"text-sm font-medium",children:e("ticket.reply.waiting_admin")}),o.jsxs(W,{variant:"outline",size:"sm",className:"h-8",onClick:me,disabled:A,children:[o.jsx(pn,{className:ae("h-4 w-4 mr-2",A&&"animate-spin")}),e("common.refresh")]})]}),o.jsx("div",{className:"flex-1 overflow-auto",children:A?o.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:e("common.loading")}):B?o.jsx("div",{className:"px-4 py-6 text-sm text-red-600",children:B}):U.length===0?o.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:e("ticket.empty")}):U.map(K=>{var Z,be;const ne=(_==null?void 0:_.id)===K.id,Ce=Ne(K.level);return o.jsx("div",{role:"button",tabIndex:0,className:ae("w-full cursor-pointer border-b px-4 py-3 text-left hover:bg-muted/30",ne&&"bg-muted/30"),onClick:()=>Ve(K.id),onKeyDown:Ie=>{(Ie.key==="Enter"||Ie.key===" ")&&(Ie.preventDefault(),Ve(K.id))},children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"min-w-0",children:[o.jsx("button",{type:"button",className:"block w-full truncate text-left font-medium text-primary underline-offset-2 hover:underline",title:(Z=K.user)==null?void 0:Z.email,onClick:Ie=>{Ie.stopPropagation(),ue(K.user_id)},children:((be=K.user)==null?void 0:be.email)||`ID: ${K.user_id}`}),o.jsx("div",{className:"mt-1 truncate text-xs text-muted-foreground",children:K.subject})]}),o.jsxs("div",{className:"flex shrink-0 flex-col items-end gap-2",children:[o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",Ce.className),children:Ce.label}),o.jsx("div",{className:"text-xs text-muted-foreground tabular-nums",children:Sb(K.updated_at)})]})]})},K.id)})})]})})}),o.jsx("div",{className:"flex min-h-0 h-full flex-col overflow-hidden md:col-span-8",children:w?o.jsx("div",{className:"px-4 py-6 text-sm text-red-600",children:w}):_?o.jsxs("div",{className:ae("relative flex h-full flex-col gap-4",x&&"opacity-80"),children:[x?o.jsx("div",{className:"pointer-events-none absolute right-0 top-0",children:o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-md border border-border/70 bg-background/90 px-2 py-1 text-xs text-muted-foreground shadow-sm",children:[o.jsx(pn,{className:"h-3.5 w-3.5 animate-spin"}),e("ticket.loading")]})}):null,(()=>{var Ce;const K=Ne(_.level),ne=Te(_.reply_status??null);return o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[e("ticket.subject"),":"]}),o.jsx("span",{className:"font-medium",children:_.subject}),o.jsx("span",{className:"text-muted-foreground",children:""}),o.jsxs("span",{className:"text-muted-foreground",children:[e("ticket.status_label"),":"]}),o.jsx("span",{children:te(_.status)}),o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",K.className),children:K.label}),o.jsx("span",{className:ae("inline-flex items-center rounded-full border px-2 py-0.5 text-xs",ne.className),children:ne.label})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:[e("ticket.user"),":"]}),o.jsx("button",{type:"button",className:"font-medium text-primary underline-offset-2 hover:underline",onClick:()=>ue(_.user_id),children:((Ce=_.user)==null?void 0:Ce.email)||"-"}),o.jsx(W,{variant:"outline",size:"sm",className:"h-8",onClick:()=>V(_.user),children:e("user.actions.user_traffic")})]})]})})(),_.user&&o.jsx("div",{className:"grid gap-3 md:grid-cols-4",children:(()=>{const K=_.user,ne=Number((K==null?void 0:K.u)??0),Ce=Number((K==null?void 0:K.d)??0),Z=(Number.isFinite(ne)?ne:0)+(Number.isFinite(Ce)?Ce:0),be=Number((K==null?void 0:K.transfer_enable)??0),Ie=Number.isFinite(be)?Math.max(0,be-Z):0;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("user.traffic_panel.usage.upload")," / ",e("user.traffic_panel.usage.download")]}),o.jsxs("div",{className:"mt-1 text-sm font-medium tabular-nums",children:[Ip(ne)," / ",Ip(Ce)]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsxs("div",{className:"text-xs text-muted-foreground",children:[e("user.used")," / ",e("user.total")]}),o.jsxs("div",{className:"mt-1 text-sm font-medium tabular-nums",children:[Ip(Z)," / ",Ip(be)]})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.remaining")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:Ip(Ie)})]}),o.jsxs("div",{className:"rounded-lg border border-border/70 bg-muted/10 px-4 py-3",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:e("user.expired_at")}),o.jsx("div",{className:"mt-1 text-sm font-medium tabular-nums",children:Sb((K==null?void 0:K.expired_at)??null)})]})]})})()}),o.jsx("div",{className:"flex-1 min-h-0 overflow-hidden rounded-lg border border-border/70 bg-muted/10",children:o.jsx(cs,{className:"h-full",ref:M,children:o.jsx("div",{className:"space-y-3 p-4",children:(_.messages||[]).map(K=>o.jsx(pe,{m:K},K.id))})})}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(ee,{children:e("ticket.reply_action")}),o.jsx(gr,{value:k,onChange:K=>C(K.target.value),className:"min-h-[100px]"})]})]}):o.jsx("div",{className:"px-4 py-6 text-sm text-muted-foreground",children:e(x?"ticket.loading":"ticket.empty_detail")})})]})}),o.jsx("div",{className:"shrink-0 border-t bg-background px-6 py-4",children:o.jsxs("div",{className:"flex flex-col-reverse gap-2 sm:flex-row sm:items-center sm:justify-between",children:[o.jsx(W,{variant:"outline",onClick:()=>y(!1),children:e("common.close")}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:_&&o.jsxs(o.Fragment,{children:[o.jsxs(W,{variant:"outline",onClick:()=>Pe(_.id),disabled:_.status===1,children:[o.jsx($d,{className:"h-4 w-4 mr-2"}),e("ticket.close")]}),o.jsxs(W,{onClick:Y,disabled:O||!k.trim(),children:[o.jsx(mE,{className:"h-4 w-4 mr-2"}),e("ticket.send")]})]})})]})})]})}),o.jsx(YJ,{open:D,onOpenChange:K=>{T(K),K||G(null)},user:$,onAfterReset:De}),o.jsx(E6e,{open:ie,onOpenChange:K=>{X(K),K||xe(null)},userId:se,onSaved:()=>{me(),De()}}),o.jsx(ss,{open:i.open,onOpenChange:i.setOpen,position:i.position,items:[{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx(UD,{className:"h-4 w-4 mr-2"}),e("ticket.detail")]}),disabled:!i.data,onSelect:()=>{i.data&&(i.setOpen(!1),Ve(i.data.id))}},{type:"item",label:o.jsxs(o.Fragment,{children:[o.jsx($d,{className:"h-4 w-4 mr-2"}),e("ticket.close")]}),destructive:!0,disabled:!i.data||i.data.status===1,onSelect:()=>{i.data&&(i.setOpen(!1),Pe(i.data.id))}}]})]})}const rB=e=>e?String(e).trim().replace(/^\/+|\/+$/g,""):"",iB="xadmin",T6e=()=>{const e=rB(void 0);if(e)return`/${e}`;const t=window.location.pathname.split("/").filter(Boolean),n=t[0]||"",r=t[1]||"";if(/^[a-zA-Z0-9_-]{3,64}$/.test(n)&&!(n==="login"||n==="dashboard"))return rB(localStorage.getItem("adminPath"))||localStorage.setItem("adminPath",n),r===iB?`/${n}/${iB}`:`/${n}`},A6e=({children:e})=>uE()?e:o.jsx(bC,{to:"/login",replace:!0});function z6e(){const e=T6e(),t=uE();return o.jsx(bDe,{children:o.jsx(gDe,{children:o.jsx(Xre,{basename:e,children:o.jsxs(Ore,{children:[o.jsx(dr,{path:"/",element:t?o.jsx(bC,{to:"/dashboard",replace:!0}):o.jsx(vR,{})}),o.jsx(dr,{path:"/login",element:o.jsx(vR,{})}),o.jsxs(dr,{path:"/dashboard",element:o.jsx(A6e,{children:o.jsx(wge,{})}),children:[o.jsx(dr,{index:!0,element:o.jsx(pDe,{})}),o.jsx(dr,{path:"system/config",element:o.jsx(hqe,{})}),o.jsx(dr,{path:"system/plugin",element:o.jsx(fqe,{})}),o.jsx(dr,{path:"system/theme",element:o.jsx(mqe,{})}),o.jsx(dr,{path:"system/notice",element:o.jsx(pqe,{})}),o.jsx(dr,{path:"system/payment",element:o.jsx(wqe,{})}),o.jsx(dr,{path:"system/knowledge",element:o.jsx(Tqe,{})}),o.jsx(dr,{path:"server/list",element:o.jsx(n6e,{})}),o.jsx(dr,{path:"server/group",element:o.jsx(r6e,{})}),o.jsx(dr,{path:"server/route",element:o.jsx(a6e,{})}),o.jsx(dr,{path:"subscription/plan",element:o.jsx(c6e,{})}),o.jsx(dr,{path:"subscription/order",element:o.jsx(h6e,{})}),o.jsx(dr,{path:"subscription/coupon",element:o.jsx(p6e,{})}),o.jsx(dr,{path:"subscription/giftcard",element:o.jsx(y6e,{})}),o.jsx(dr,{path:"user/list",element:o.jsx(S6e,{})}),o.jsx(dr,{path:"user/traffic",element:o.jsx(C6e,{})}),o.jsx(dr,{path:"user/ticket",element:o.jsx(M6e,{})})]}),o.jsx(dr,{path:"*",element:o.jsx(bC,{to:"/",replace:!0})})]})})})})}const{slice:D6e,forEach:R6e}=[];function I6e(e){return R6e.call(D6e.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function L6e(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const sB=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,$6e=function(e,t){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(t);let s=`${e}=${i}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!sB.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!sB.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},aB={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=$6e(e,t,i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var F6e={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return aB.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=t;n&&typeof document<"u"&&aB.create(n,e,r,i,s)}},B6e={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===t&&(n=a[l].substring(c+1))}}return n}},q6e={name:"hash",lookup(e){var i;let{lookupHash:t,lookupFromHashIndex:n}=e,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const a=s.substring(1);if(t){const l=a.split("&");for(let c=0;c<l.length;c++){const u=l[c].indexOf("=");u>0&&l[c].substring(0,u)===t&&(r=l[c].substring(u+1))}}if(r)return r;if(!r&&n>-1){const l=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?(i=l[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Qh=null;const oB=()=>{if(Qh!==null)return Qh;try{if(Qh=typeof window<"u"&&window.localStorage!==null,!Qh)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Qh=!1}return Qh};var W6e={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&oB())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&oB()&&window.localStorage.setItem(n,e)}};let Xh=null;const lB=()=>{if(Xh!==null)return Xh;try{if(Xh=typeof window<"u"&&window.sessionStorage!==null,!Xh)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Xh=!1}return Xh};var U6e={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&lB())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&lB()&&window.sessionStorage.setItem(n,e)}},V6e={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)t.push(n[s]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},H6e={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},K6e={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},Y6e={name:"subdomain",lookup(e){var i,s;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let QJ=!1;try{document.cookie,QJ=!0}catch{}const XJ=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];QJ||XJ.splice(1,1);const G6e=()=>({order:XJ,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class ZJ{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=I6e(n,this.options||{},G6e()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(F6e),this.addDetector(B6e),this.addDetector(W6e),this.addDetector(U6e),this.addDetector(V6e),this.addDetector(H6e),this.addDetector(K6e),this.addDetector(Y6e),this.addDetector(q6e)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!L6e(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}ZJ.type="languageDetector";const Q6e={login:"Login",logout:"Logout",dashboard:"Dashboard",email:"Email",password:"Password",admin_login:"Admin Login",enter_credentials:"Enter your credentials to access the admin panel",admin_path:"Admin Path",advanced_settings:"Advanced settings",admin_path_hint:"Enter the backend admin path (secure_path), i.e. the segment you use to access the admin panel. Example: in `https://domain/abc123`, use `abc123` (no `/`).",logging_in:"Logging in...",login_failed:"Login failed",access_denied:"Access denied",language:"Language",save:"Save",saved:"Saved",saved_but_not_applied:"Saved but not applied (backend did not persist it). Please check backend validation/allowlist.",save_failed:"Save failed",load_failed:"Load failed",refresh:"Refresh",enable:"Enable",disable:"Disable",delete:"Delete",remove:"Remove",uninstall:"Uninstall",install:"Install",config:"Config",confirm:"Confirm",cancel:"Cancel",insert:"Insert",link_url:"Link URL",image_url:"Image URL",saving:"Saving...",autosave:"Auto-save",unsaved:"Unsaved",create:"Create",edit:"Edit",copy:"Copy",copied:"Copied",copy_failed:"Copy failed",from:"From",to:"To",close:"Close",search:"Search",search_placeholder:"Search menu and features...",please_select:"Please select",select_all:"Select all",command_group:"Menu Navigation",command_empty:"No matches found",settings:"Settings",admin:"Administrator",notice:"Notifications",light:"Switch to light",dark:"Switch to dark",currency_symbol:"$",coming_soon:"Coming soon",loading:"Loading...",back:"Back",collapse_sidebar:"Collapse sidebar",expand_sidebar:"Expand sidebar"},X6e={title:"Order Management",description:"Search orders, view details, and handle manual operations.",add:"Add Order",add_title:"Add Order",search_placeholder:"Search orders...",basic_info:"Basic Info",amount_info:"Amount Info",time_info:"Time Info",user_email:"User email",period_label:"Order period",callback_no:"Callback No",balance_payment:"Balance payment",discount_amount:"Discount amount",refund_amount:"Refund amount",offset_amount:"Offset amount",updated_at:"Updated at",table:{trade_no:"Trade No",type:"Type",plan:"Plan",period:"Period",amount:"Paid amount",status:"Order status",commission_amount:"Commission amount",commission_status:"Commission status",balance_amount:"Balance amount",pay_status:"Payment status",created_at:"Created at",actions:"Actions"},type:{new_purchase:"New purchase",renewal:"Renewal",upgrade:"Upgrade",reset_traffic:"Reset traffic"},pay_status:{paid:"Paid",unpaid:"Unpaid",cancelled:"Cancelled",unknown:"Unknown"},search_trade_no:"Trade No",search_trade_no_placeholder:"Search by trade_no",filter_status:"Status",filter_commission_status:"Commission status",filter_commission_only:"Commission orders only",yes:"Yes",no:"No",empty:"No orders",loading:"Loading...",detail:"Detail",detail_title:"Order Detail",empty_detail:"No detail",trade_no:"Trade No",amount:"Amount",status_label:"Status",period:"Period",plan:"Plan",created_at:"Created at",paid_at:"Paid at",commission_status:"Commission status",commission_hint:'Set to "All" to clear commission status.',update_commission:"Update commission",mark_paid:"Mark as paid",cancel:"Cancel order",assign:"Assign",assign_title:"Manual Assign",assign_email:"User email",assign_plan:"Plan",assign_period:"Period",assign_amount:"Amount (Yuan)",assign_amount_hint:"Sent to backend as cents.",paid:"Order marked as paid",cancelled:"Order cancelled",updated:"Order updated",assigned:"Assigned, trade_no: {{trade_no}}",confirm_cancel:"Cancel this order? Only pending orders can be cancelled.",validation:{email_required:"Email is required",plan_required:"Plan is required",amount_invalid:"Invalid amount"},status:{all:"All",pending:"Pending",processing:"Processing",cancelled:"Cancelled",completed:"Completed",discounted:"Discounted"},commission:{all:"All",pending:"Pending Confirmation",checking:"Paying",valid:"Valid",invalid:"Invalid"}},Z6e={title:"Coupon Management",description:"Create, edit, enable/disable, and delete coupons.",add:"Add Coupon",search_placeholder:"Search coupons...",search_field:{name:"Name",code:"Code"},none:"None",unlimited_times:"Unlimited",expired_days:"Expired {{days}} days",limits:{plans:"Plans",periods:"Periods",per_user:"User"},table:{id:"ID",enabled:"Enabled",name:"Name",type:"Type",code:"Code",remaining:"Remaining",limits:"Limits",validity:"Validity",actions:"Actions"},empty:"No coupons",create_title:"Create Coupon",edit_title:"Edit Coupon",created:"Coupon created",saved:"Coupon saved",deleted:"Coupon deleted",generated_csv:"CSV generated",confirm_delete:"Delete this coupon? This action cannot be undone.",search_code:"Coupon code",search_code_placeholder:"Search by code",search_name:"Name",search_name_placeholder:"Search by name",filter_type:"Type",filter_show:"Visible",validity:"Valid",limit_use:"Remaining uses",limit_user:"Uses per user",unlimited:"Unlimited",type:{all:"All",amount:"Amount",percent:"Percent"},show:{all:"All",on:"On",off:"Off"},fields:{generate_count:"Generate count",generate_hint:"When > 1, backend returns a CSV for batch-generated codes.",code:"Code",code_placeholder:"Leave empty to auto-generate",code_hint:"Only works for single create; batch create always generates random codes.",name:"Name",type:"Type",amount_yuan:"Amount (Yuan)",percent:"Percent (0-100)",limit_use:"Max uses",limit_user:"Max uses per user",unlimited_placeholder:"Empty = unlimited",started_at:"Start time",ended_at:"End time",limit_plan_ids:"Allowed plans",limit_plan_ids_hint:"Empty = no limit",limit_period:"Allowed periods",limit_period_hint:"Empty = no limit"},validation:{name_required:"Name is required",time_required:"Start/end time is required",time_order:"End time must be after start time",value_required:"Value is required",generate_count_invalid:"Invalid generate count",generate_count_max:"Generate count max is 500"}},J6e={title:"Gift Card Management",description:"Manage templates, codes, usage records, and statistics.",template_manage:"Template Management",code_manage:"Code Management",tabs:{templates:"Templates",codes:"Codes",usages:"Usages",statistics:"Statistics"},templates:{search_placeholder:"Search templates...",table:{id:"ID",status:"Status",name:"Name",type:"Type",rewards:"Rewards",sort:"Sort",created_at:"Created at",actions:"Actions"}},codes:{search_placeholder:"Search code/batch/template...",search_field:{batch:"Batch",code:"Code"},available:"Available",unavailable:"Unavailable",copy_code:"Copy code",copy_batch:"Copy batch",disable:"Disable",export:"Export",columns:"Columns",table:{id:"ID",code:"Code",batch:"Batch",template:"Template",status:"Status",expires_at:"Expires at",used_count:"Used",available_count:"Available",created_at:"Created at",actions:"Actions"}},usages:{search_placeholder:"Search code/email/template...",user_id_placeholder:"User ID",table:{id:"ID",code:"Code",user:"User email",template:"Template",used_at:"Used at"}},rewards:{balance:"Balance",traffic:"Traffic",devices:"Devices",expire_days:"Validity",reset_package:"Reset traffic",plan:"Plan"},all:"All",type:"Type",template:"Template",batch:"Batch",user:"User",invite_user:"Invite user",status_label:"Status",expires_at:"Expires at",created_at:"Created at",usage:"Usage",generate:"Generate",export_batch:"Export batch",saved:"Saved",deleted:"Deleted",generated_csv:"CSV generated",generated:"Generated, batch: {{batch_id}}",loading:"Loading...",empty_templates:"No templates",empty_codes:"No codes",empty_usages:"No usages",empty_stats:"No statistics",confirm_delete_template:"Delete this template? It must have no codes.",confirm_delete_code:"Delete this code? Used codes cannot be deleted.",create_template:"Create Template",edit_template:"Edit Template",generate_title:"Generate Codes",edit_code:"Edit Code",unlimited:"Unlimited",status:{on:"Enabled",off:"Disabled"},code_status:{unused:"Unused",used:"Used",expired:"Expired",disabled:"Disabled"},filters:{type:"Type",status:"Status",template:"Template",batch:"Batch ID",user_id:"User ID"},fields:{name:"Name",description:"Description",type:"Type",status:"Enabled",sort:"Sort",theme_color:"Theme color",icon:"Icon",background_image:"Background image URL",rewards:"Rewards (JSON)",conditions:"Conditions (JSON)",limits:"Limits (JSON)",special_config:"Special config (JSON)",template:"Template",count:"Count",prefix:"Prefix",expires_hours:"Expires in (hours)",expires_at:"Expires at",max_usage:"Max usage",download_csv:"Download as CSV"},editor:{sections:{template_info:"Template Info",status:"Status",rewards:"Rewards",conditions:"Conditions",limits:"Limits",special:"Special",display:"Display"},labels:{random_reward_pool:"Random reward pool",reward_balance:"Balance reward",reward_traffic:"Traffic reward",reward_expire_days:"Extend validity",reward_device_limit:"Add device limit",new_user_max_days:"New user max days",new_user_only:"New users only",paid_user_only:"Paid users only",require_invite:"Require invite relationship",allowed_plans:"Allowed plans",banned_plans:"Banned plans",max_use_per_user:"Max uses per user",cooldown_hours:"Cooldown (hours)",invite_reward_rate:"Invite reward rate",start_time:"Start time",end_time:"End time",festival_bonus:"Festival bonus multiplier"},placeholders:{description:"Enter gift card description",reward_weight:"Weight",reward_balance:"Balance reward (CNY)",reward_traffic:"Traffic reward (GB)",reward_expire_days:"Extend validity (days)",reward_device_limit:"Increase device limit",new_user_max_days:"e.g. 7 (only users registered within 7 days)",allowed_plans:"Select allowed plans (empty = no limit)",banned_plans:"Select banned plans (empty = no limit)",max_use_per_user:"Empty = unlimited",cooldown_hours:"Empty = unlimited",invite_reward_rate:"e.g. 0.2 (20%)",festival_bonus:"e.g. 1.5 (1.5)"},hints:{status:"When disabled, this template cannot generate or redeem gift cards.",rewards:"Configure rewards granted when a user redeems the gift card.",invite_reward_rate:"If the redeemer has an inviter, inviter reward = balance reward  this rate."},actions:{add_random_reward:"Add random reward item"}},validation:{name_required:"Name is required",template_required:"Template is required",count_invalid:"Invalid count",max_usage_invalid:"Invalid max usage",status_invalid:"Invalid status",rewards_required:"Rewards is required",rewards_invalid:"Rewards JSON is invalid",json_invalid:"JSON is invalid",invite_reward_rate_invalid:"Invalid invite reward rate (0-1)",number_invalid:"Invalid number",random_reward_weight_invalid:"Invalid random reward weight",random_reward_empty:"Random reward item cannot be empty",random_rewards_required:"Mystery gift card requires at least one random reward item",time_range_invalid:"Invalid time range"},stats:{start:"Start date",end:"End date",templates_count:"Templates",active_templates_count:"Active templates",codes_count:"Codes",used_codes_count:"Used codes",usages_count:"Usages"}},e8e={title:"User Management",description:"Create users, search/filter, and manage user accounts.",empty:"No users",all:"All",no_plan:"No plan",no_group:"No group",admin:"Admin",staff:"Staff",plan:"Plan",group:"Group",traffic:"Traffic",used:"Used",total:"Total",remaining:"Remaining",expired_at:"Expired at",never:"Never",balance:"Balance",refund_na:"",add:"Create User",create_title:"Create User",export_csv:"Export CSV",bulk_actions:"Bulk actions",copy_subscribe:"Copy subscribe URL",reset_secret:"Reset UUID & subscribe URL",more:"More",edit_title:"Edit User",saved:"User saved",created:"User created",deleted:"User deleted",secret_reset:"UUID & subscribe URL reset",traffic_reset:"Traffic reset",confirm_delete:"Delete this user? This action cannot be undone.",confirm_reset_secret:"Reset this user's UUID & subscribe URL? This will invalidate current subscriptions.",confirm_reset_traffic:"Reset this user's traffic?",bulk:{delete:"Bulk delete",send_mail:"Bulk send mail",export_svg:"Export SVG",set_plan:"Set plan",set_expired_at:"Set expiry",reset_traffic:"Reset traffic",update_balance:"Update balance",update_traffic:"Update traffic",update_device_limit:"Update device limit",scope:"Scope",scope_filtered:"Current filtered results ({{count}})",scope_selected:"Selected users ({{count}})",collecting:"Collecting users",processing:"Processing",no_target:"No users to operate on",confirm_apply:"Apply this action to {{count}} users?",confirm_delete:"Delete {{count}} users? This cannot be undone.",delete_hint:"Bulk deletion cannot be undone. Proceed with caution.",export_svg_title:"User subscription export (SVG)",export_svg_hint:"Exports subscribe URL list in scope as a single SVG file.",export_done:"Exported",traffic_hint:"Unit: GB (submitted as bytes)",device_limit_hint:"Leave empty for unlimited (submits null)",mail_subject:"Subject",mail_content:"Content",mail_subject_required:"Subject is required",mail_content_required:"Content is required",confirm_send_mail:"Send mail to the selected scope?",sending_mail:"Sending",mail_sent:"Mail task submitted",plan_required:"Please select a plan",datetime_invalid:"Invalid date/time",partial_failed:"Partial failure: {{failed}}/{{total}}",done:"Done"},reset_traffic_dialog:{title:"Reset traffic",reason:"Reason",reason_placeholder:"Optional (max 255 chars)"},search_placeholder:"Search email / ID / token / UUID / remarks / plan / group",advanced_filter:{title:"Advanced filter",field:"Field",op:"Operator",value:"Value",add:"Add condition",clear:"Clear",apply:"Apply",empty:"No conditions",in_placeholder:"Enter values...",in_hint:"Separate with commas or new lines",last_login_at:"Last login",ops:{like:"Contains",notlike:"Does not contain",eq:"Equals",gt:"Greater than",gte:"Greater than or equal",lt:"Less than",lte:"Less than or equal",in:"In",null:"Is empty",notnull:"Is not empty"}},search_email:"Email",search_email_placeholder:"Search by email",search_id:"User ID",filter_plan:"Plan",filter_group:"Group",filter_banned:"Banned",actions:{assign_order:"Assign order",user_orders:"Orders",user_invites:"Invites",user_traffic:"Traffic logs",reset_traffic:"Reset traffic"},traffic_panel:{title:"Traffic logs",tabs:{usage:"Traffic logs",resets:"Reset history"},usage:{time:"Time",type:"Type",rate:"Rate",upload:"Upload",download:"Download",total:"Total",empty:"No traffic logs"},record_type:{daily:"Daily",hourly:"Hourly",monthly:"Monthly"},reset:{count:"Reset count",last:"Last reset",next:"Next reset",time:"Time",type:"Type",trigger:"Source",old:"Old traffic",reason:"Reason",empty:"No reset history"}},table:{id:"ID",email:"Email",online:"Online devices",status:"Status",plan:"Plan",group:"Group",used:"Used traffic",total:"Total traffic",expired_at:"Expired at",balance:"Balance",commission:"Commission",refund:"Refund",created_at:"Created at",actions:"Actions"},online:{yes:"Online",no:"Offline"},status:{active:"Active",disabled:"Disabled"},banned:{yes:"Banned",no:"Active"},sections:{user_info:"User info",traffic:"Traffic & usage",plan:"Subscription plan",balance:"Balance & fees",config:"Config & settings",roles:"Permissions & roles",remarks:"Remarks"},commission_type:{system:"Follow system settings",period:"Recurring commission",onetime:"First purchase only"},fields:{email:"Email",password:"Password",password_create_hint:"Leave empty to auto-generate",password_hint:"Leave empty to keep unchanged",plan:"Plan",expired_at:"Expired at",expired_at_hint:"Empty = never",banned:"Banned",account_status:"Account status",is_admin:"Admin",is_staff:"Staff",remarks:"Remarks",used_upload_gb:"Used upload (GB)",used_download_gb:"Used download (GB)",speed_limit:"Speed limit (Mbps)",device_limit:"Device limit",transfer_enable_gb:"Traffic quota (GB)",transfer_enable_hint:"Sent to backend as bytes.",balance:"Balance",commission_balance:"Commission balance",commission_type:"Commission type",commission_rate:"Commission rate (%)",discount:"Special rebate rate (%)",invite_user_email:"Inviter email",invite_user_hint:"Empty to clear"},validation:{email_required:"Email is required",email_invalid:"Invalid email format",number_invalid:"Invalid number"}},t8e={title:"Ticket Management",description:"View tickets and reply to users.",all:"All",empty:"No tickets",detail:"Detail",close:"Close",send:"Send",reply_action:"Reply",subject:"Subject",user:"User",updated_at:"Updated at",status_label:"Status",reply_label:"Reply status",actions:"Actions",detail_title:"Ticket Detail",loading:"Loading...",empty_detail:"No detail",search_email:"User email",search_email_placeholder:"Search by email",search_subject:"Subject",search_subject_placeholder:"Search by subject",search_placeholder:"Search by email/subject/ID",filter_level:"Priority",filter_status:"Status",filter_reply:"Reply status",confirm_close:"Close this ticket?",closed:"Ticket closed",level:{low:"Low",medium:"Medium",high:"High"},status:{open:"Open",closed:"Closed"},reply:{waiting_admin:"Waiting admin",waiting_user:"Waiting user"}},n8e={title:"Plugin Management",description:"Enable, disable, and delete plugins.",search_placeholder:"Search plugin name or code...",confirm_delete:"Delete this plugin? This action cannot be undone.",confirm_uninstall:"Uninstall this plugin? Please disable it first.",upload_title:"Upload Plugin",upload:"Upload Plugin",upload_desc:"Upload a plugin package (.zip). The system will detect and install it automatically.",upload_drop:"Drag the plugin package here, or",upload_click:"click to choose",upload_hint:"Supports .zip plugin packages",upload_success:"Plugin uploaded successfully",upload_failed:"Plugin upload failed",upgrade:"Upgrade",meta:"v{{version}}  {{author}}",config_title:"{{name}}  Config",config_title_empty:"Plugin Config",config_loading:"Loading...",config_empty:"This plugin has no configurable items",status_filter:{all:"All Status",installed:"Installed",available:"Available"},status:{enabled:"Enabled",disabled:"Disabled",not_installed:"Available"},type:{feature:"Feature",payment:"Payment"},tabs:{feature:"Feature Plugins",payment:"Payment Methods",all:"All Plugins"},filters:{all:"All",category:{type:"Type",function:"Function",payment_method:"Payment Method"},function:{subscription:"Subscription",notification:"Notification",security:"Security",user:"User"},payment_method:{alipay:"Alipay",wechat:"WeChat Pay",stripe:"Stripe",paypal:"PayPal"}},empty:"No matching plugins",empty_dev:"No matching plugins (sample data shown in development)"},r8e={title:"Theme Config",description:"Manage theme colors, typography, and more. If you deploy v2board with a separated frontend, theme settings wont take effect.",active_theme:"Active Theme",active:"Active",version_label:"Version: {{version}}",apply:"Activate",apply_hint:"Activating a theme updates the frontend theme in use.",apply_success:"Theme switched",select_theme:"Select a theme",select_placeholder:"Select",upload_title:"Upload Theme",upload:"Upload Theme",upload_desc:"Upload a valid theme package (.zip). The package should include the full frontend file structure.",upload_drop:"Drag the theme package here, or",upload_click:"click to choose",upload_hint:"Supports .zip theme packages",upload_success:"Theme uploaded",upload_failed:"Theme upload failed",system_theme:"System",custom_theme:"Custom",settings:"Theme Settings",current_theme:"Current Theme",empty:"No themes found",confirm_delete:'Delete theme "{{name}}"? This action cannot be undone.',delete_success:"Theme deleted",config_title:"{{name}}  Config",config_title_empty:"Theme Config",config_loading:"Loading...",config_empty:"This theme has no configurable items",config_saved:"Theme config saved"},i8e={title:"Notice Management",description:"Add, edit, enable/disable, and delete notices here.",empty:"No notices",add:"Add Notice",sort:"Sort",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',insert:"Insert",create_title:"Create Notice",edit_title:"Edit Notice",saved:"Notice saved",deleted:"Notice deleted",confirm_delete:"Delete this notice? This action cannot be undone.",status:{shown:"Published",hidden:"Hidden"},fields:{title:"Title",title_placeholder:"Enter notice title",content:"Content",content_placeholder:"Enter notice content",img_url:"Image URL",background_url:"Background URL",show_status:"Visible",remark:"Tags",remark_placeholder:"Press Enter to add a tag (comma-separated supported)",link_url:"Link URL",show:"Publish",popup:"Popup"},editor_hint:"Supports HTML/Markdown: edit source on the left, preview on the right. Supports basic rich text: bold, italic, links, images, lists.",submit:"Submit",table:{show:"Visible",title:"Title",actions:"Actions"},validation:{title_required:"Title is required",content_required:"Content is required"}},s8e={title:"Payment Config",description:"Configure payment methods (Alipay, WeChat, etc.), manage status, and notify URLs.",empty:"No payment methods",add:"Add Payment Method",sort:"Sort",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',create_title:"Create Payment Method",edit_title:"Edit Payment Method",saved:"Payment method saved",deleted:"Payment method deleted",copied:"Copied",confirm_delete:"Delete this payment method? This action cannot be undone.",notify_url:"Notify URL",fee:"Fees: fixed {{fixed}} + {{percent}}%",status:{enabled:"Enabled",disabled:"Disabled"},table:{id:"ID",enable:"Enabled",name:"Name",method:"Gateway",notify_url:"Notify URL",actions:"Actions"},select_placeholder:"Select",form_loading:"Loading configuration form...",form_empty:"This payment method has no extra config fields",form_load_failed:"Failed to load payment configuration",fields:{method:"Gateway",method_placeholder:"Select a gateway",method_hint:"Gateways are provided by enabled payment plugins.",name:"Display name",name_placeholder:"e.g. Alipay / WeChat Pay",icon:"Icon URL",notify_domain:"Custom notify domain",fee_fixed:"Fixed fee",fee_percent:"Percent fee (0-100)",enable:"Enabled"},validation:{name_required:"Display name is required",method_required:"Please select a gateway",json_invalid:"Invalid JSON for {{key}}"}},a8e={title:"Knowledge Base",description:"Add, delete, and edit knowledge entries here.",all:"All",empty:"No data",add:"Add Knowledge",sort:"Sort",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',search:"Search",search_placeholder:"Search knowledge",category:"Category",category_manage:"Categories",selected_hint:"Selected {{selected}} items, total {{total}} items",edit_title:"Edit Article",create_title:"Create Article",editor_hint:"Supports HTML/Markdown: edit source on the left, preview on the right (rendered in an iframe).",editor_mode_html:"HTML",editor_source:"Source / Editor",editor_preview:"Preview",language:{zh:"Simplified Chinese",en:"English"},table:{status:"Status",title:"Title",category:"Category",actions:"Actions"},category_list:"Category List",category_count:"Count",category_manage_hint:"Categories come from the entry category field; renaming/deleting will bulk update existing entries.",category_add:"Add Category",category_add_placeholder:"Enter category name",category_rename:"Edit Category (Rename)",category_from:"From category",category_to:"To category",category_rename_action:"Rename",category_rename_confirm:'Rename category "{{from}}" to "{{to}}"? This will bulk update entries.',category_delete:"Delete Category (Move entries)",category_delete_action:"Delete",category_delete_confirm:'Delete category "{{from}}"? Entries will be moved to "{{to}}".',category_progress:"Processing: {{done}} / {{total}}",status:{shown:"Published",hidden:"Hidden"},updated_at:"Updated: {{time}}",loading:"Loading...",saved:"Article saved",deleted:"Article deleted",confirm_delete:"Delete this article? This action cannot be undone.",fields:{title:"Title",title_placeholder:"Enter title",category:"Category",category_placeholder:"e.g. Getting Started",language:"Language",body:"Body",body_placeholder:"Enter article content",show:"Visible"},validation:{title_required:"Title is required",category_required:"Category is required",language_required:"Language is required",body_required:"Body is required"}},o8e={title:"Permission Groups",description:"Manage permission groups with search and pagination.",empty:"No groups",add:"Add Group",search_placeholder:"Search groups",table:{id:"ID",name:"Name",users:"Users",servers:"Servers",actions:"Actions"},create_title:"Create Group",edit_title:"Edit Group",saved:"Group saved",deleted:"Group deleted",confirm_delete:"Delete this group?",counts:"Users: {{users}}  Servers: {{servers}}",fields:{name:"Name"},validation:{name_required:"Name is required"}},l8e={title:"Route Rules",description:"Manage server route rules (block / DNS / outbound routing).",empty:"No routes",search:"Search",search_placeholder:"Search routes...",add:"Add Route",action:"Action",action_value:"Action value",match_count:"Matches: {{count}}",table:{id:"Rule ID",group_id:"Group ID",group_name:"Group name",remarks:"Remarks",action:"Action",action_value:"Action value",actions:"Actions"},create_title:"Create Route",edit_title:"Edit Route",saved:"Route saved",deleted:"Route deleted",confirm_delete:"Delete this route?",action_block:"Block (Domain)",action_block_ip:"Block (IP)",action_block_port:"Block (Port)",action_protocol:"Block (Protocol)",action_dns:"DNS",action_route:"Route (Domain)",action_route_ip:"Route (IP)",action_default_out:"Default Outbound",action_block_value:"Blocked",action_value_configured:"Configured",match_hint:"One per line, or comma-separated.",fields:{remarks:"Remarks",action:"Action",action_value:"Action value",action_value_placeholder_dns:"e.g. 8.8.8.8",action_value_placeholder_outbound:`{
  "tag": "ss_out",
  "protocol": "shadowsocks",
  "settings": {
    "address": "8.8.8.8",
    "port": 5555,
    "method": "chacha20-ietf-poly1305",
    "password": "abcdefghijklmnopqrstuvwxyz"
  }
}`,match:"Match list",match_placeholder_domain:`example.com (keyword)
domain:example.com (subdomain)
geosite:netflix (preset list)`,match_placeholder_ip:`127.0.0.1 (single)
10.0.0.0/8 (CIDR)
geoip:cn (preset list)`,match_placeholder_port:`53
443
1000-2000`,match_placeholder_protocol:`http
tls
quic
bittorrent`,action_value_placeholder:"e.g. 8.8.8.8",match_placeholder:`e.g. example.com
1.1.1.1`},validation:{remarks_required:"Remarks is required",match_required:"Match list is required",action_value_required:"Action value is required"}},c8e={title:"Node Management",description:"Manage and configure nodes with search, filters, and enable/disable.",empty:"No nodes",search:"Search",search_placeholder:"Search by name/host/type/ID",add:"Add Node",more:"More",type_filter:"Filter",type_all:"Node Type",sort:"Sort Nodes",sort_column:"Order",sort_save:"Save Order",sort_cancel:"Cancel Sorting",sort_saved:"Sort saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save Order" to apply.',table:{id:"ID",enable:"Enabled",name:"Name",address:"Address",online:"Online",rate:"Rate",group:"Group",actions:"Actions"},status:{shown:"Enabled",hidden:"Disabled"},endpoint:"{{host}}:{{port}}  backend {{server_port}}",backend_port:"Backend port {{port}}",meta:"Rate {{rate}}  Groups {{groups}}  Routes {{routes}}",available_status:"Status: {{status}}",create_title:"Create Node",edit_title:"Edit Node",saved:"Node saved",deleted:"Node deleted",copied:"Node copied",copy:"Duplicate Node",copy_install_command:"Copy Install Command",install_command_copied:"Install command copied",install_command_copied_fallback:"Copy attempted (if it didn't work, copy manually in the dialog).",install_command_preview_title:"Install Command",install_command_preview_desc:"If one-click copy doesn't work, select the text and press Ctrl/Cmd+C.",confirm_delete:"Delete this node? This action cannot be undone.",bulk:{open:"Bulk Settings",title:"Bulk Settings",apply:"Apply",selected:"Selected {{count}} nodes",rate_time:"Dynamic rate",clear:"Clear",clear_selection:"Clear selection",progress:"Processing {{done}}/{{total}}",no_target:"Please select nodes first",no_fields:"Select at least one field to update",updated:"Updated {{success}}/{{total}} nodes",partial_failed:"Partial failure: {{failed}}/{{total}}",failed_one:"Node #{{id}} failed: {{message}}",node_not_found:"Node not found"},fields:{type:"Type",type_hint:"Type cannot be changed when editing.",name:"Name",host:"Host",port:"Port",server_port:"Backend port",rate:"Rate",parent_id:"Parent node",parent_id_placeholder:"Select parent node (optional)",parent_id_none:"None",node_id:"Custom node ID",node_id_placeholder:"Empty uses default ID",show:"Enabled",group_ids:"Groups",group_ids_placeholder:"Select groups",group_ids_hint:"Select at least one group for users to access this node.",route_ids:"Routes",route_ids_placeholder:"Select routes",route_ids_hint:"Optional. Selected rules will be delivered to nodes.",tags:"Tags",protocol_settings:"Protocol settings (protocol_settings)",protocol_settings_hint:"Enter JSON including required fields for the protocol (e.g. vmess/vless needs tls/network).",rate_time_enable:"Enable dynamic rate",rate_time_ranges_hint:"Set rate multipliers by time range."},hy:{title:"Hysteria Settings",version:"Protocol Version",version_placeholder:"Select version",obfs_title:"Obfuscation",obfs_desc:"Enable traffic obfuscation.",obfs_type:"Obfs Type",obfs_password:"Obfs Password",obfs_password_placeholder:"Enter or generate a password",obfs_password_generate:"Generate",sni:"SNI (Server Name Indication)",sni_placeholder:"e.g. example.com",up_mbps:"Up Bandwidth (Mbps)",up_mbps_placeholder:"Empty uses BBR",up_mbps_hint:"Empty uses BBR.",down_mbps:"Down Bandwidth (Mbps)",down_mbps_placeholder:"Empty uses BBR",down_mbps_hint:"Empty uses BBR.",hop_interval:"Hop Interval (seconds)",hop_interval_hint:"Default is 30 seconds."},shadowsocks:{title:"Shadowsocks Settings",cipher:"Cipher (cipher)",cipher_placeholder:"Select or enter cipher",cipher_custom:"Custom",plugin:"Plugin (plugin)",plugin_placeholder:"Select plugin",plugin_none:"None",plugin_obfs:"Simple Obfs (obfs)",plugin_v2ray:"V2Ray Plugin (v2ray-plugin)",plugin_opts:"Plugin options (plugin_opts)",plugin_opts_placeholder:"Enter as key=value;key2=value2",obfs_title:"Simple Obfs Settings",obfs_mode:"Mode (obfs)",obfs_host:"Host (obfs-host)",obfs_path:"Path (path)",obfs_hint:"e.g. obfs=http;obfs-host=www.bing.com;path=/",v2ray_title:"V2Ray Plugin Settings",v2ray_mode:"Mode (mode)",v2ray_mode_websocket:"WebSocket",v2ray_mode_quic:"QUIC",v2ray_host:"Host (host)",v2ray_path:"Path (path)",v2ray_tls:"TLS (tls=true)",v2ray_hint:"WebSocket: mode=websocket;host=mydomain.me;path=/;tls=true; QUIC: mode=quic;host=mydomain.me",v2node_network_title:"Network settings (network_settings)",v2node_accept_proxy_protocol:"Accept PROXY Protocol (acceptProxyProtocol)",v2node_accept_proxy_protocol_hint:"Enable to read the real client IP from PROXY Protocol.",v2node_http_host:"HTTP Host (Host)",v2node_http_path:"HTTP Path (path)"},vmess:{title:"VMess Settings",security:"Security",security_none:"None",security_tls:"TLS",transport:"Transport",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",allow_insecure:"Skip certificate verification (allow_insecure)"},trojan:{title:"Trojan Settings",transport:"Transport",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave blank to disable",sni_hint:"Used for certificate verification when node address and certificate do not match.",allow_insecure:"Skip certificate verification (allow_insecure)",allow_insecure_hint:"Enable to ignore TLS certificate validation."},tuic:{title:"TUIC Settings",version:"Version (version)",version_v4:"V4",version_v5:"V5",congestion_control:"Congestion control (congestion_control)",congestion_control_bbr:"BBR",congestion_control_cubic:"CUBIC",congestion_control_new_reno:"NEW_RENO",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",sni_hint:"Used for certificate verification when node address and certificate do not match.",allow_insecure:"Skip certificate verification (allow_insecure)",allow_insecure_hint:"Enable to ignore TLS certificate validation.",alpn:"ALPN",alpn_http1:"HTTP/1.1",alpn_http2:"HTTP/2",alpn_http3:"HTTP/3",udp_relay_mode:"UDP relay mode (udp_relay_mode)",udp_relay_mode_native:"Native",udp_relay_mode_quic:"QUIC",zero_rtt_handshake:"0-RTT handshake (zero_rtt_handshake)",zero_rtt_handshake_hint:"Enable to allow 0-RTT early data."},anytls:{title:"AnyTLS Settings",transport:"Transport",transport_hint:"Configure AnyTLS transport and network_settings.",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",sni_hint:"Used for certificate verification when node address and certificate do not match.",allow_insecure:"Skip certificate verification (allow_insecure)",allow_insecure_hint:"Enable to ignore TLS certificate validation.",padding_title:"Padding scheme (padding_scheme)",padding_desc:"Use the default scheme or switch to custom.",padding_default:"Default",padding_custom:"Custom",padding_placeholder:"One rule per line, e.g. stop=8",padding_hint:"One entry per line."},vless:{title:"VLESS Settings",security:"Security",security_none:"None",security_tls:"TLS",security_reality:"Reality",transport:"Transport",flow:"Flow (flow)",flow_placeholder:"Select flow",flow_none:"none",encryption_title:"VLESS Encryption",encryption:"Encryption",encryption_none:"None",encryption_mlkem768x25519plus:"mlkem768x25519plus",encryption_hint:"Fill settings below when enabled (ignored by unsupported backends).",encryption_mode:"Mode (mode)",encryption_ticket:"Ticket (ticket)",encryption_server_padding:"Server padding (server_padding)",encryption_private_key:"Private key (private_key)",client_fingerprint:"Client fingerprint (client_fingerprint)",client_fingerprint_hint:"Used for Reality / uTLS fingerprint; default is firefox.",tls_title:"TLS Settings",sni:"SNI (Server Name Indication)",sni_placeholder:"Leave empty to disable",allow_insecure:"Skip certificate verification (allow_insecure)",reality_title:"Reality Settings",reality_server_name:"Server name (server_name)",reality_server_name_placeholder:"e.g. example.com",reality_server_port:"Port (server_port)",reality_dest:"Dest (dest)",reality_xver:"Xver (xver)",reality_mldsa65Seed:"MLDSA65 Seed (mldsa65Seed)",reality_public_key:"Public key (public_key)",reality_private_key:"Private key (private_key)",reality_short_id:"Short ID (short_id)",key_pair_generate:"Generate key pair",key_pair_error:"Failed to generate key pair",short_id_generate:"Generate Short ID",short_id_placeholder:"Optional, even length, max 16 chars",short_id_hint:"Use hex characters 0-f (e.g. a1b2c3d4e5f6a7b8)."},reporting:{title:"Reporting & Online Stats"},v2node:{title:"V2Node Config Delivery",desc:"Only affects v2node requests to /api/v2/server/config (does not affect other backends).",node_report_min_traffic:"Report threshold (node_report_min_traffic, KB)",node_report_min_traffic_hint:"Traffic below this value will not be reported back (0 = no limit).",device_online_min_traffic:"Online threshold (device_online_min_traffic, KB)",device_online_min_traffic_hint:"Users below this value will not count as online devices (0 = no limit).",tls_cert_title:"TLS Certificate Settings (tls_settings)",cert_mode:"Certificate mode (cert_mode)",cert_mode_file:"File (file)",cert_mode_dns:"DNS (dns)",cert_mode_http:"HTTP (http)",cert_mode_self:"Self-signed (self)",cert_file:"Certificate path (cert_file)",key_file:"Private key path (key_file)",provider:"DNS provider (provider)",dns_env:"DNS environment variables (dns_env)",reject_unknown_sni:"Reject unknown SNI (reject_unknown_sni)",reject_unknown_sni_hint:"When enabled, only SNIs matching the certificate are allowed."},network_settings:{edit_protocol:"Edit protocol",edit_protocol_config:"Edit protocol settings",use_template:"Use {{template}} template",json_config_placeholder:"Enter JSON config",json_config_placeholder_with_template:"Enter JSON config or choose a template above",validation:{must_be_object:"Config must be a JSON object",invalid_json:"Invalid JSON"}},rate_time_title:"Enable dynamic rate",rate_time_desc:"Set different rate multipliers for different time ranges",rate_time_rules:"Time rules",rate_time_add:"Add rule",rate_time_rule:"Rule {{index}}",rate_time_start:"Start time",rate_time_end:"End time",rate_time_rate:"Rate multiplier",rate_time_rate_placeholder:"e.g. 1",preview:{selection:"Selected",groups:"Groups: {{value}}",routes:"Routes: {{value}}"},validation:{name_required:"Name is required",host_required:"Host is required",port_required:"Port is required",server_port_required:"Backend port is required",rate_required:"Rate must be a number > 0",protocol_settings_invalid:"Invalid protocol_settings JSON",rate_time_ranges_invalid:"Invalid time range settings",hy_version_invalid:"Invalid protocol version",hy_obfs_password_required:"Obfuscation password is required",hy_up_mbps_invalid:"Invalid up bandwidth",hy_down_mbps_invalid:"Invalid down bandwidth",hy_hop_interval_invalid:"Invalid hop interval",parent_id_invalid:"Invalid parent node",node_id_invalid:"Invalid custom node ID"}},u8e={title:"Subscription Plans",description:"Manage subscription plans, pricing, and display/purchase/renew toggles.",add:"Add Plan",sort:"Sort",sort_column:"Sort",sort_save:"Save order",sort_cancel:"Cancel",sort_saved:"Order saved",sort_hint:'Drag rows or use buttons to reorder, then click "Save order".',search_placeholder:"Search plans...",table:{id:"ID",show:"Display",purchase:"Purchase",renew:"Renew",name:"Name",stats:"Stats",group:"Group",price:"Price",actions:"Actions"},empty:"No plans",create_title:"Create Plan",edit_title:"Edit Plan",saved:"Plan saved",deleted:"Plan deleted",confirm_delete:"Delete this plan? This action cannot be undone.",users:"Users {{total}} / Active {{active}}",group:"Group",traffic:"Traffic",speed:"Speed",device:"Devices",no_group:"None",no_prices:"No pricing",price_hint:"Leave empty or 0 to disable the period.",flags:{show:"Show",renew:"Renew",sell:"Sell"},fields:{name:"Name",content:"Description",group:"Group",group_placeholder:"Select a group",transfer:"Traffic quota (integer)",speed:"Speed limit (Mbps)",device:"Device limit",capacity:"Capacity limit",reset:"Reset method",reset_placeholder:"Select",tags:"Tags",prices:"Pricing",force_update:"Force update existing users"},validation:{name_required:"Name is required",transfer_required:"Traffic quota must be an integer > 0"},reset:{follow_system:"Follow system",first_day_month:"1st day of month",monthly:"Monthly",never:"Never",first_day_year:"Jan 1st",yearly:"Yearly"},period:{monthly:"Monthly",quarterly:"Quarterly",half_yearly:"Half-yearly",yearly:"Yearly",two_yearly:"Two-yearly",three_yearly:"Three-yearly",onetime:"One-time",reset_traffic:"Reset traffic"}},d8e={subtitle:"Core metrics and runtime status at a glance",income_overview:"Income Overview",today_income:"Today's Income",month_income:"This Month's Income",vs_yesterday:"vs yesterday",vs_last_month:"vs last month",pending_tickets:"Pending Tickets",new_users:"New Users",total_users:"Total Users",online_users:"Online {{count}}",month_upload:"Month Upload",month_download:"Month Download",pending_commissions:"Pending Commissions",month_traffic:"Month Traffic",upload:"Upload",download:"Download",total_income:"Total Income",order_count:"Order Count",order_count_total:"Total {{count}} orders",avg_amount:"Avg Order Amount",transaction_count:"Transactions",commission_count_total:"Total {{count}} orders",range_display:"{{start}} - {{end}}",time_range:"Time Range",last_30_days:"Last 30 Days",this_month:"This Month",last_7_days:"Last 7 Days",last_90_days:"Last 90 Days",last_180_days:"Last 180 Days",last_half_year:"Last Half Year",last_year:"Last Year",custom_range:"Custom Range",amount:"Amount",quantity:"Quantity",transaction_unit:"{{count}} orders",order_quantity:"Order Count",order_amount:"Order Amount",commission_amount:"Commission Amount",total_balance:"Total Balance",refund_rate:"Refund rate",income_trend:"Income trend",node_traffic_rank:"Node Traffic Rank",user_traffic_rank:"User Traffic Rank",current_traffic:"Current traffic",previous_traffic:"Previous traffic",change_rate:"Change rate",copy_name:"Copy name",copy_id:"Copy ID",queue_status:"Queue Status",total_commission:"Total Commission",commission_count:"Commission Count",commission_rate:"Commission Rate",running_state:"Running",normal:"OK",stopped:"Down",wait_time:"Wait Time",seconds:"s",last_updated:"Last Updated",pending_tasks:"Pending Tasks",processed_per_min:"Processed / Min",job_details:"Job Details",report_7d:"Failed jobs (7d)",retention_time:"Retention",minutes:"min",approx:"Approx",max_runtime_queue:"Max Runtime Queue",na:"N/A",today:"Today",prev:"Prev",range:"Range",active_processes:"Active Processes",system_log:"System Logs",info:"Info",warning:"Warning",error:"Error",view_all:"View All",detail:"Detail",all:"All",system_log_search_placeholder:"Search log content...",system_log_empty:"No data",system_log_reset_filter:"Reset filters",system_log_detail_title:"Log details",system_log_table:{level:"Level",time:"Time",title:"Title",method:"Method",action:"Action"},clear_logs_title:"Clear Logs",clear_logs_days:"Days",clear_logs_days_hint:"0 to 365 days (clears logs older than N days; 0 clears all logs)",clear_logs_level:"Level",clear_logs_limit:"Batch limit",clear_logs_limit_hint:"100 to 10000 (default 1000)",clear_logs_preview:"Preview",clear_logs_get_stats:"Get stats",clear_logs_confirm:"Confirm clear",clear_logs_to_clear:"To clear",clear_logs_total_logs:"Total logs",clear_logs_cutoff:"Cutoff date",clear_logs_will_clear:"Will clear: {{count}} logs",clear_logs_irreversible:"This action is irreversible. Please proceed with caution!",clear_logs_rule_hint:"Range: logs before the cutoff date",clear_logs_zero_error:"Matched logs is 0",clear_logs_done:"Clear completed",clear_logs_deleted:"Deleted",clear_logs_total_count:"Matched",clear_logs_remaining:"Not deleted",failed_jobs_title:"Failed job details",failed_jobs_empty:"No failed jobs",failed_job_detail_title:"Job detail",task_id:"Task ID",timestamp_ms:"Timestamp (ms)",connection:"Connection",exception:"Exception",payload:"Payload",failed_at:"Failed at",clear_logs:"Clear Logs",confirm_clear_logs:"Clear logs? This cannot be undone.",total:"Total",selected_count:"Selected {{selected}}, total {{total}}",loading:"Loading",per_page:"Per page",page_info:"Page {{current}} / {{total}}",first_page:"First",prev_page:"Prev",next_page:"Next",last_page:"Last",failed_table:{time:"Time",queue:"Queue",job:"Job",exception:"Exception",action:"Action"}},h8e={title:"System Settings",description:"Manage site, subscription, security, and notification settings.",site_settings:"Site Settings",site_settings_desc:"Configure basic site information.",security_settings:"Security Settings",security_settings_desc:"Configure signup, captcha and admin security.",subscription_settings:"Subscription Settings",subscription_settings_desc:"Configure subscription behavior and reminders.",app_settings:"App Settings",app_settings_desc:"Manage mobile application settings such as APIs, versioning, and push notifications.",invite_settings:"Invite & Commission",invite_settings_desc:"Configure invites, commission distribution, and withdrawals.",invite_section_title:"Invite",commission_section_title:"Commission & Withdrawals",invite_force:"Require Invite Code",invite_force_hint:"When enabled, users must enter an invite code to register.",invite_commission:"Invite Commission (%)",invite_commission_hint:"Commission percentage for orders from invited users (0-100).",invite_gen_limit:"Invite Code Limit",invite_gen_limit_hint:"Maximum number of invite codes a user can generate.",invite_never_expire:"Invite Codes Never Expire",invite_never_expire_hint:"When enabled, invite codes do not expire.",commission_first_time_enable:"First Purchase Only",commission_first_time_enable_hint:"When enabled, commission is only generated on the invited user's first purchase.",commission_auto_check_enable:"Auto Review",commission_auto_check_enable_hint:"When enabled, commission/withdrawals are auto-reviewed without manual approval.",withdraw_close_enable:"Disable Withdrawals",withdraw_close_enable_hint:"When enabled, the withdrawal entry will be disabled on the client.",commission_withdraw_limit:"Minimum Withdrawal Amount",commission_withdraw_limit_hint:"Users can withdraw only after reaching this amount.",commission_withdraw_method:"Withdrawal Method Whitelist",commission_withdraw_method_hint:"Limit the available withdrawal methods.",commission_distribution_enable:"Enable Multi-level Distribution",commission_distribution_enable_hint:"When enabled, distribute commissions for L1/L2/L3.",commission_distribution_l1:"L1 Distribution (%)",commission_distribution_l1_hint:"Leave empty to disable this level.",commission_distribution_l2:"L2 Distribution (%)",commission_distribution_l2_hint:"Leave empty to disable this level.",commission_distribution_l3:"L3 Distribution (%)",commission_distribution_l3_hint:"Leave empty to disable this level.",telegram_settings:"Telegram Settings",telegram_settings_desc:"Configure Telegram bot notifications.",api_settings:"Node Settings",api_settings_desc:"Configure node communication parameters.",v2node_docker_command:"V2Node Deploy Command",v2node_docker_command_desc:"Copy and run this on the node server (auto-fills API host, token, and node ID).",v2node_docker_node:"Node",v2node_docker_node_hint:"Prefer custom node ID if set.",v2node_docker_container_name:"Container Name",v2node_docker_container_name_hint:"Defaults to v2node_<PROTOCOL>_<NODE_ID>_<APP_NAME> (Chinese converted to pinyin).",v2node_docker_api_host:"API Host (V2NODE_API_HOST)",v2node_docker_api_host_hint:"Defaults to the current panel URL; override if the node server cannot reach it.",v2node_docker_tls_cert_url:"TLS cert URL (optional)",v2node_docker_tls_key_url:"TLS key URL (optional)",v2node_docker_tls_url_hint:"Leave empty to skip; if set, both cert and key are required.",v2node_docker_tls_url_invalid:"Both TLS cert URL and TLS key URL are required.",v2node_other_command:"Other Command (optional)",v2node_other_command_hint:"Used to bootstrap the node server (e.g. install Docker/dependencies). Copy only; it will not run automatically.",v2node_other_command_placeholder:"e.g. curl -fsSL https://get.docker.com | sh",v2node_hy_port_forward_command:"Hysteria Port Forwarding Command",v2node_hy_port_forward_command_hint:"For Hysteria port hopping: --dport uses the node port, --to-ports uses the server port; interface will be auto-detected.",v2node_hy_port_forward_command_placeholder:"Generated only when the node port is a range/multiport, or when it differs from the server port.",v2node_docker_command_label:"Docker Command",v2node_docker_command_hint:"Copy and run to install.",v2node_docker_missing_token:"Please set the server token (server_token) first.",smtp_settings:"Mail Settings",smtp_settings_desc:"Configure SMTP and send a test email.",app_windows_version:"Windows version",app_windows_version_hint:"Current Windows client version.",app_windows_download_url:"Windows download URL",app_windows_download_url_hint:"Download link for Windows client.",app_macos_version:"macOS version",app_macos_version_hint:"Current macOS client version.",app_macos_download_url:"macOS download URL",app_macos_download_url_hint:"Download link for macOS client.",app_android_version:"Android version",app_android_version_hint:"Current Android client version.",app_android_download_url:"Android download URL",app_android_download_url_hint:"Download link for Android client.",server_settings:"Server Settings",system_log:"System Log",site_name:"Site Name",site_name_hint:"Shown in the site title and branding.",site_description:"Site Description",site_description_hint:"Used for the site description and SEO (optional).",site_url:"Site URL",site_url_hint:"Public site URL, e.g. https://example.com.",site_ssl:"Site SSL Configuration",site_ssl_hint:"Force HTTPS when enabled.",site_logo:"Logo",site_logo_hint:"Logo image URL.",subscribe_url:"Subscribe URL",subscribe_url_hint:"Subscription entry URL.",tos_url:"User Agreement URL",tos_url_hint:"Terms of service / user agreement URL.",stop_register:"Stop Registration",stop_register_hint:"Disable new user registrations when enabled.",currency:"Currency",currency_hint:"Currency code, e.g. CNY, USD.",currency_symbol:"Currency Symbol",currency_symbol_hint:"Display symbol, e.g. , $.",registered_users:"Registered Users",registered_users_hint:"Total registered users (read-only).",email_verify:"Enable Email Verification",email_verify_hint:"Require email verification for signup / binding.",enable_captcha:"Enable Captcha",enable_captcha_hint:"Enable bot protection for sensitive actions.",safe_mode_enable:"Safe Mode",safe_mode_enable_hint:"Enable stricter admin security policies.",secure_path:"Admin Path",secure_path_hint:"After changing admin path, open the new path and update adminPath on the frontend.",captcha_type:"Captcha Type",captcha_type_hint:"Select a captcha provider and fill in its keys.",recaptcha_key:"reCAPTCHA Secret",recaptcha_site_key:"reCAPTCHA Site Key",recaptcha_v3_secret_key:"reCAPTCHA v3 Secret",recaptcha_v3_site_key:"reCAPTCHA v3 Site Key",recaptcha_v3_score_threshold:"reCAPTCHA v3 Threshold",turnstile_secret_key:"Turnstile Secret",turnstile_site_key:"Turnstile Site Key",email_whitelist_enable:"Email Whitelist",email_whitelist_enable_hint:"Only allow signups from specified email suffixes.",email_whitelist_suffix:"Email Suffix Whitelist",email_whitelist_hint:"Separate suffixes by comma, e.g. qq.com,gmail.com",email_gmail_limit_enable:"Gmail Limit",email_gmail_limit_enable_hint:"Restrict Gmail-related signup/login behavior.",register_limit_by_ip:"Limit Signup by IP",register_limit_by_ip_hint:"Limit the number of signups per IP within a time window.",register_limit_count:"Signup Count",register_limit_count_hint:"Max signups allowed within the window.",register_limit_expire:"Window (min)",register_limit_expire_hint:"Time window size in minutes.",password_limit_enable:"Password Limit",password_limit_enable_hint:"Lock an account after too many failed attempts.",password_limit_count:"Max Attempts",password_limit_count_hint:"Failed attempts before lock.",password_limit_expire:"Lock (min)",password_limit_expire_hint:"Lock duration in minutes.",limit_admin_ip:"Admin IP Restriction",strong_password:"Strong Password Requirement",brute_force_protection:"Brute Force Protection",ip_lock:"IP Lock Mechanism",subscribe_path:"Subscribe Path",subscribe_path_hint:"Path prefix in subscribe URL, e.g. /s/{token}.",plan_change_enable:"Allow Plan Change",plan_change_enable_hint:"Allow users to change their subscription plan.",surplus_enable:"Enable Surplus",surplus_enable_hint:"Carry over remaining traffic to the next cycle.",reset_traffic_method:"Reset Traffic Method",reset_traffic_method_hint:"Choose when user traffic resets.",reset_traffic_0:"Never",reset_traffic_1:"Monthly",reset_traffic_2:"By Period",reset_traffic_3:"Calendar Month",reset_traffic_4:"Order Cycle",show_info_to_server_enable:"Show User Info to Server",show_info_to_server_enable_hint:"Expose part of user info to nodes.",show_protocol_to_server_enable:"Show Protocol to Server",show_protocol_to_server_enable_hint:"Expose protocol type to nodes.",default_remind_expire:"Default Expire Reminder",default_remind_expire_hint:"Enable expiry reminders by default for new users.",default_remind_traffic:"Default Traffic Reminder",default_remind_traffic_hint:"Enable traffic reminders by default for new users.",sub_template:"Subscription Template",sub_template_desc:"Configure subscription template content for clients.",sub_template_type:"Template type",sub_template_type_hint:"Select a client template to edit.",sub_template_content:"Template content",sub_template_content_hint:"Saved content is used to generate subscription configs.",sub_link:"Subscription Link",update_freq:"Update Frequency",sub_qrcode:"Subscription QR Code",generate:"Generate",singbox_config:"Sing-box Config File",clash_config:"Clash Config File",enable_telegram:"Enable Telegram Notify",enable_telegram_hint:"Enable Telegram bot notifications.",tg_webhook:"Telegram Webhook",tg_webhook_hint:"Webhook is generated from site URL",tg_webhook_auto:"Auto Generated",tg_group_link:"Telegram Group Link",tg_group_link_hint:"Optional: Telegram group/channel link for users.",tg_api_token:"Telegram API Token",tg_api_token_hint:"Bot token from BotFather. Used to set webhook and send notifications.",set_webhook:"Set Webhook",telegram_webhook_set:"Webhook set",api_endpoint:"API Endpoint",api_key:"API Key",api_permission:"API Access Permissions",api_rate_limit:"API Rate Limit",server_token:"Server Token",server_token_hint:"At least 16 characters; sync to nodes after changing.",server_pull_interval:"Pull Interval (s)",server_pull_interval_hint:"How often nodes pull configs/user info (seconds).",server_push_interval:"Push Interval (s)",server_push_interval_hint:"How often nodes report status/traffic (seconds).",device_limit_mode:"Device Limit Mode",device_limit_mode_hint:"When enabled, limits concurrent devices per user (per backend logic).",device_limit_mode_0:"Off",device_limit_mode_1:"On",smtp_host:"SMTP Host",smtp_host_hint:"SMTP server host, e.g. smtp.gmail.com.",smtp_port:"SMTP Port",smtp_port_hint:"SMTP port, e.g. 465 (SSL) / 587 (TLS).",smtp_username:"SMTP Username",smtp_username_hint:"SMTP login username (often an email address).",smtp_password:"SMTP Password",smtp_password_hint:"SMTP password or app password.",encryption:"Encryption Method",encryption_hint:"Select SSL/TLS or none based on your provider.",sender_address:"Sender Address",sender_address_hint:"From address, e.g. noreply@example.com.",test_email:"Test Email",test_email_hint:"Send a test email after saving to verify the setup.",test_email_sent:"Test email sent",test_email_failed:"Test email failed",remind_mail_enable:"Expire Reminder Mail",remind_mail_enable_hint:"Send expiry reminder emails to users.",email_template:"Email Template",email_template_hint:"Select email template folder/theme.",log_level:"Log Level",view_log:"View Log",system_log_desc:"View system operational logs.",log_keyword:"Keyword",log_keyword_placeholder:"Title/URI/content",refresh:"Refresh",prev_page:"Prev",next_page:"Next",no_logs:"No logs",active:"Active"},f8e={dashboard:"Dashboard",system_management:"System Management",system_config:"System Config",plugin_management:"Plugin Management",theme_config:"Theme Config",notice_management:"Notice Management",payment_config:"Payment Config",knowledge_base:"Knowledge Base",node_management:"Node Management",node_list:"Node List",permission_groups:"Permission Groups",route_management:"Route Management",subscription:"Subscription",plan_management:"Plan Management",order_management:"Order Management",coupon_management:"Coupon Management",gift_card_management:"Gift Card Management",user_management:"User Management",user_list:"User List",ticket_management:"Ticket Management"},m8e={common:Q6e,order:X6e,coupon:Z6e,giftcard:J6e,user:e8e,ticket:t8e,plugin:n8e,theme:r8e,notice:i8e,payment:s8e,knowledge:a8e,group:o8e,route:l8e,server:c8e,plan:u8e,dashboard:d8e,system:h8e,menu:f8e},p8e={login:"",logout:"",dashboard:"",email:"",password:"",admin_login:"",enter_credentials:"",admin_path:"",advanced_settings:"",admin_path_hint:"secure_path `https:///abc123`  `abc123` `/`",logging_in:"...",login_failed:"",access_denied:"",language:"",save:"",saved:"",saved_but_not_applied:"",save_failed:"",load_failed:"",refresh:"",enable:"",disable:"",delete:"",remove:"",uninstall:"",install:"",config:"",confirm:"",cancel:"",insert:"",link_url:"",image_url:"URL",saving:"...",autosave:"",unsaved:"",create:"",edit:"",copy:"",copied:"",copy_failed:"",from:"",to:"",close:"",search:"",search_placeholder:"...",please_select:"",select_all:"",command_group:"",command_empty:"",settings:"",admin:"",notice:"",light:"",dark:"",currency_symbol:"",coming_soon:"",loading:"...",back:"",collapse_sidebar:"",expand_sidebar:""},g8e={title:"",description:"",add:"",add_title:"",search_placeholder:"",basic_info:"",amount_info:"",time_info:"",user_email:"",period_label:"",callback_no:"",balance_payment:"",discount_amount:"",refund_amount:"",offset_amount:"",updated_at:"",table:{trade_no:"",type:"",plan:"",period:"",amount:"",status:"",commission_amount:"",commission_status:"",balance_amount:"",pay_status:"",created_at:"",actions:""},type:{new_purchase:"",renewal:"",upgrade:"",reset_traffic:""},pay_status:{paid:"",unpaid:"",cancelled:"",unknown:""},search_trade_no:"",search_trade_no_placeholder:" trade_no ",filter_status:"",filter_commission_status:"",filter_commission_only:"",yes:"",no:"",empty:"",loading:"...",detail:"",detail_title:"",empty_detail:"",trade_no:"",amount:"",status_label:"",period:"",plan:"",created_at:"",paid_at:"",commission_status:"",commission_hint:"",update_commission:"",mark_paid:"",cancel:"",assign:"",assign_title:"",assign_email:"",assign_plan:"",assign_period:"",assign_amount:"()",assign_amount_hint:"(cent)",paid:"",cancelled:"",updated:"",assigned:"{{trade_no}}",confirm_cancel:"",validation:{email_required:"",plan_required:"",amount_invalid:""},status:{all:"",pending:"",processing:"",cancelled:"",completed:"",discounted:""},commission:{all:"",pending:"",checking:"",valid:"",invalid:""}},y8e={title:"",description:"/",add:"",search_placeholder:"",search_field:{name:"",code:""},none:"",unlimited_times:"",expired_days:" {{days}} ",limits:{plans:"",periods:"",per_user:""},table:{id:"ID",enabled:"",name:"",type:"",code:"",remaining:"",limits:"//",validity:"",actions:""},empty:"",create_title:"",edit_title:"",created:"",saved:"",deleted:"",generated_csv:"CSV ",confirm_delete:"",search_code:"",search_code_placeholder:"",search_name:"",search_name_placeholder:"",filter_type:"",filter_show:"",validity:"",limit_use:"",limit_user:"",unlimited:"",type:{all:"",amount:"",percent:""},show:{all:"",on:"",off:""},fields:{generate_count:"",generate_hint:" 1  CSV",code:"",code_placeholder:"",code_hint:"",name:"",type:"",amount_yuan:"()",percent:"(0-100)",limit_use:"",limit_user:"",unlimited_placeholder:"",started_at:"",ended_at:"",limit_plan_ids:"",limit_plan_ids_hint:"",limit_period:"",limit_period_hint:""},validation:{name_required:"",time_required:"/",time_order:"",value_required:"",generate_count_invalid:"",generate_count_max:" 500"}},x8e={title:"",description:"",template_manage:"",code_manage:"",tabs:{templates:"",codes:"",usages:"",statistics:""},templates:{search_placeholder:"",table:{id:"ID",status:"",name:"",type:"",rewards:"",sort:"",created_at:"",actions:""}},codes:{search_placeholder:"//",search_field:{batch:"",code:""},available:"",unavailable:"",copy_code:"",copy_batch:"",disable:"",export:"",columns:"",table:{id:"ID",code:"",batch:"",template:"",status:"",expires_at:"",used_count:"",available_count:"",created_at:"",actions:""}},usages:{search_placeholder:"//",user_id_placeholder:"ID",table:{id:"ID",code:"",user:"",template:"",used_at:""}},rewards:{balance:"",traffic:"",devices:"",expire_days:"",reset_package:"",plan:""},all:"",type:"",template:"",batch:"",user:"",invite_user:"",status_label:"",expires_at:"",created_at:"",usage:"",generate:"",export_batch:"",saved:"",deleted:"",generated_csv:"CSV ",generated:"{{batch_id}}",loading:"...",empty_templates:"",empty_codes:"",empty_usages:"",empty_stats:"",confirm_delete_template:"",confirm_delete_code:"",create_template:"",edit_template:"",generate_title:"",edit_code:"",unlimited:"",status:{on:"",off:""},code_status:{unused:"",used:"",expired:"",disabled:""},filters:{type:"",status:"",template:"",batch:"",user_id:"ID"},fields:{name:"",description:"",type:"",status:"",sort:"",theme_color:"",icon:"",background_image:"URL",rewards:"(JSON)",conditions:"(JSON)",limits:"(JSON)",special_config:"(JSON)",template:"",count:"",prefix:"",expires_hours:"()",expires_at:"",max_usage:"",download_csv:" CSV"},editor:{sections:{template_info:"",status:"",rewards:"",conditions:"",limits:"",special:"",display:""},labels:{random_reward_pool:"",reward_balance:"",reward_traffic:"",reward_expire_days:"",reward_device_limit:"",new_user_max_days:"",new_user_only:"",paid_user_only:"",require_invite:"",allowed_plans:"",banned_plans:"",max_use_per_user:"",cooldown_hours:"()",invite_reward_rate:"",start_time:"",end_time:"",festival_bonus:""},placeholders:{description:"",reward_weight:"",reward_balance:" ()",reward_traffic:" (GB)",reward_expire_days:" ()",reward_device_limit:"",new_user_max_days:": 7 (7)",allowed_plans:" ()",banned_plans:" ()",max_use_per_user:"",cooldown_hours:"",invite_reward_rate:": 0.2 (20%)",festival_bonus:": 1.5 (1.5)"},hints:{status:"",rewards:"",invite_reward_rate:" =  * "},actions:{add_random_reward:""}},validation:{name_required:"",template_required:"",count_invalid:"",max_usage_invalid:"",status_invalid:"",rewards_required:"",rewards_invalid:" JSON ",json_invalid:"JSON ",invite_reward_rate_invalid:" 0-1",number_invalid:"",random_reward_weight_invalid:"",random_reward_empty:"",random_rewards_required:"",time_range_invalid:""},stats:{start:"",end:"",templates_count:"",active_templates_count:"",codes_count:"",used_codes_count:"",usages_count:""}},v8e={title:"",description:"",empty:"",all:"",no_plan:"",no_group:"",admin:"",staff:"",plan:"",group:"",traffic:"",used:"",total:"",remaining:"",expired_at:"",never:"",balance:"",refund_na:"",add:"",create_title:"",export_csv:" CSV",bulk_actions:"",copy_subscribe:" URL",reset_secret:" UUID  URL",more:"",edit_title:"",saved:"",created:"",deleted:"",secret_reset:"UUID  URL ",traffic_reset:"",confirm_delete:"",confirm_reset_secret:" UUID  URL ",confirm_reset_traffic:"",bulk:{delete:"",send_mail:"",export_svg:" SVG",set_plan:"",set_expired_at:"",reset_traffic:"",update_balance:"",update_traffic:"",update_device_limit:"",scope:"",scope_filtered:" {{count}} ",scope_selected:"{{count}} ",collecting:"",processing:"",no_target:"",confirm_apply:" {{count}} ",confirm_delete:" {{count}} ",delete_hint:"",export_svg_title:"SVG",export_svg_hint:" URL  SVG ",export_done:"",traffic_hint:"GB",device_limit_hint:" null",mail_subject:"",mail_content:"",mail_subject_required:"",mail_content_required:"",confirm_send_mail:"",sending_mail:"",mail_sent:"",plan_required:"",datetime_invalid:"",partial_failed:"{{failed}}/{{total}}",done:""},reset_traffic_dialog:{title:"",reason:"",reason_placeholder:"255"},search_placeholder:"/ID/Token/UUID///",advanced_filter:{title:"",field:"",op:"",value:"",add:"",clear:"",apply:"",empty:"",in_placeholder:"...",in_hint:"",last_login_at:"",ops:{like:"",notlike:"",eq:"",gt:"",gte:"",lt:"",lte:"",in:"",null:"",notnull:""}},search_email:"",search_email_placeholder:"",search_id:"ID",filter_plan:"",filter_group:"",filter_banned:"",actions:{assign_order:"",user_orders:"TA ",user_invites:"TA ",user_traffic:"TA ",reset_traffic:""},traffic_panel:{title:"TA ",tabs:{usage:"",resets:""},usage:{time:"",type:"",rate:"",upload:"",download:"",total:"",empty:""},record_type:{daily:"",hourly:"",monthly:""},reset:{count:"",last:"",next:"",time:"",type:"",trigger:"",old:"",reason:"",empty:""}},table:{id:"ID",email:"",online:"",status:"",plan:"",group:"",used:"",total:"",expired_at:"",balance:"",commission:"",created_at:"",actions:""},online:{yes:"",no:""},status:{active:"",disabled:""},banned:{yes:"",no:""},sections:{user_info:"",traffic:"",plan:"",balance:"",config:"",roles:"",remarks:""},commission_type:{system:"",period:"",onetime:""},fields:{email:"",password:"",password_create_hint:"",password_hint:"",plan:"",expired_at:"",expired_at_hint:"",banned:"",account_status:"",is_admin:"",is_staff:"",remarks:"",used_upload_gb:"(GB)",used_download_gb:"(GB)",speed_limit:"(Mbps)",device_limit:"",transfer_enable_gb:"(GB)",transfer_enable_hint:"",balance:"",commission_balance:"",commission_type:"",commission_rate:"(%)",discount:"(%)",invite_user_email:"",invite_user_hint:""},validation:{email_required:"",email_invalid:"",number_invalid:""}},b8e={title:"",description:"",all:"",empty:"",detail:"",close:"",send:"",reply_action:"",subject:"",user:"",updated_at:"",status_label:"",reply_label:"",actions:"",detail_title:"",loading:"...",empty_detail:"",search_email:"",search_email_placeholder:"",search_subject:"",search_subject_placeholder:"",search_placeholder:"//ID ",filter_level:"",filter_status:"",filter_reply:"",confirm_close:"",closed:"",level:{low:"",medium:"",high:""},status:{open:"",closed:""},reply:{waiting_admin:"",waiting_user:""}},_8e={title:"",description:"",search_placeholder:"...",confirm_delete:"",confirm_uninstall:"",upload_title:"",upload:"",upload_desc:"zip ",upload_drop:"",upload_click:"",upload_hint:" .zip ",upload_success:"",upload_failed:"",upgrade:"",meta:"v{{version}}  {{author}}",config_title:"{{name}}  ",config_title_empty:"",config_loading:"...",config_empty:"",status_filter:{all:"",installed:"",available:""},status:{enabled:"",disabled:"",not_installed:""},type:{feature:"",payment:""},tabs:{feature:"",payment:"",all:""},filters:{all:"",category:{type:"",function:"",payment_method:""},function:{subscription:"",notification:"",security:"",user:""},payment_method:{alipay:"",wechat:"",stripe:"Stripe",paypal:"PayPal"}},empty:"",empty_dev:""},w8e={title:"",description:" v2board",active_theme:"",active:"",version_label:"{{version}}",apply:"",apply_hint:"",apply_success:"",select_theme:"",select_placeholder:"",upload_title:"",upload:"",upload_desc:"zip ",upload_drop:"",upload_click:"",upload_hint:" .zip ",upload_success:"",upload_failed:"",system_theme:"",custom_theme:"",settings:"",current_theme:"",empty:"",confirm_delete:"{{name}}",delete_success:"",config_title:"{{name}}  ",config_title_empty:"",config_loading:"...",config_empty:"",config_saved:""},j8e={title:"",description:"/",empty:"",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",insert:"",create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",status:{shown:"",hidden:""},fields:{title:"",title_placeholder:"",content:"",content_placeholder:"",img_url:"URL",background_url:"URL",show_status:"",remark:"",remark_placeholder:"",link_url:"",show:"",popup:""},editor_hint:" HTML / Markdown",submit:"",table:{show:"",title:"",actions:""},validation:{title_required:"",content_required:""}},k8e={title:"",description:"",empty:"",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",create_title:"",edit_title:"",saved:"",deleted:"",copied:"",confirm_delete:"",notify_url:"",fee:" {{fixed}} + {{percent}}%",status:{enabled:"",disabled:""},table:{id:"ID",enable:"",name:"",method:"",notify_url:"",actions:""},select_placeholder:"",form_loading:"...",form_empty:"",form_load_failed:"",fields:{method:"",method_placeholder:"",method_hint:"",name:"",name_placeholder:" / ",icon:"URL",notify_domain:"",fee_fixed:"",fee_percent:"(0-100)",enable:""},validation:{name_required:"",method_required:"",json_invalid:"{{key}}  JSON "}},S8e={title:"",description:"",all:"",empty:"",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",search:"",search_placeholder:"",category:"",category_manage:"",selected_hint:" {{selected}}  {{total}} ",edit_title:"",create_title:"",editor_hint:" HTML / Markdowniframe ",editor_mode_html:"HTML",editor_source:" / ",editor_preview:"",language:{zh:"",en:"English"},table:{status:"",title:"",category:"",actions:""},category_list:"",category_count:"",category_manage_hint:"/",category_add:"",category_add_placeholder:"",category_rename:"",category_from:"",category_to:"",category_rename_action:"",category_rename_confirm:"{{from}}{{to}}",category_delete:"",category_delete_action:"",category_delete_confirm:"{{from}}{{to}}",category_progress:"{{done}} / {{total}}",status:{shown:"",hidden:""},updated_at:"{{time}}",loading:"...",saved:"",deleted:"",confirm_delete:"",fields:{title:"",title_placeholder:"",category:"",category_placeholder:"",language:"",body:"",body_placeholder:"",show:""},validation:{title_required:"",category_required:"",language_required:"",body_required:""}},N8e={title:"",description:"",empty:"",add:"",search_placeholder:"",table:{id:"ID",name:"",users:"",servers:"",actions:""},create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",counts:"{{users}}  {{servers}}",fields:{name:""},validation:{name_required:""}},C8e={title:"",description:" / DNS /  / ",empty:"",search:"",search_placeholder:"",add:"",action:"",action_value:"",match_count:"{{count}}",table:{id:"ID",group_id:"ID",group_name:"",remarks:"",action:"",action_value:"",actions:""},create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",action_block:"()",action_block_ip:"(IP)",action_block_port:"()",action_protocol:"()",action_dns:"DNS",action_route:"()",action_route_ip:"(IP)",action_default_out:"",action_block_value:"",action_value_configured:"",match_hint:"",fields:{remarks:"",action:"",action_value:"",action_value_placeholder_dns:"8.8.8.8",action_value_placeholder_outbound:`{
  "tag": "ss_out",
  "protocol": "shadowsocks",
  "settings": {
    "address": "8.8.8.8",
    "port": 5555,
    "method": "chacha20-ietf-poly1305",
    "password": "abcdefghijklmnopqrstuvwxyz"
  }
}`,match:"",match_placeholder_domain:`example.com()
domain:example.com()
geosite:netflix()`,match_placeholder_ip:`127.0.0.1()
10.0.0.0/8()
geoip:cn()`,match_placeholder_port:`53
443
1000-2000`,match_placeholder_protocol:`http
tls
quic
bittorrent`,action_value_placeholder:"8.8.8.8",match_placeholder:`example.com
1.1.1.1`},validation:{remarks_required:"",match_required:"",action_value_required:""}},O8e={title:"",description:"/",empty:"",search:"",search_placeholder:"///ID",add:"",more:"",type_filter:"",type_all:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",table:{id:"ID",enable:"",name:"",address:"",online:"",rate:"",group:"",actions:""},status:{shown:"",hidden:""},endpoint:"{{host}}:{{port}}   {{server_port}}",backend_port:" {{port}}",meta:" {{rate}}   {{groups}}   {{routes}}",available_status:"{{status}}",create_title:"",edit_title:"",saved:"",deleted:"",copied:"",copy:"",copy_install_command:"",install_command_copied:"",install_command_copied_fallback:"",install_command_preview_title:"",install_command_preview_desc:" Ctrl/Cmd+C ",confirm_delete:"",bulk:{open:"",title:"",apply:"",selected:" {{count}} ",rate_time:"",clear:"",clear_selection:"",progress:" {{done}}/{{total}}",no_target:"",no_fields:"",updated:" {{success}}/{{total}} ",partial_failed:"{{failed}}/{{total}}",failed_one:" #{{id}} {{message}}",node_not_found:""},fields:{type:"",type_hint:"",name:"",host:"",port:"",server_port:"",rate:"",parent_id:"",parent_id_placeholder:"",parent_id_none:"",node_id:"ID",node_id_placeholder:"ID",show:"",group_ids:"",group_ids_placeholder:"",group_ids_hint:"",route_ids:"",route_ids_placeholder:"",route_ids_hint:"",tags:"",protocol_settings:" (protocol_settings)",protocol_settings_hint:" JSON vmess/vless  tls/network",rate_time_enable:"",rate_time_ranges_hint:""},hy:{title:"Hysteria ",version:"",version_placeholder:"",obfs_title:"",obfs_desc:"",obfs_type:"",obfs_password:"",obfs_password_placeholder:"",obfs_password_generate:"",sni:"SNI",sni_placeholder:"example.com",up_mbps:" (Mbps)",up_mbps_placeholder:" BBR",up_mbps_hint:" BBR",down_mbps:" (Mbps)",down_mbps_placeholder:" BBR",down_mbps_hint:" BBR",hop_interval:"Hop ",hop_interval_hint:" 30 "},shadowsocks:{title:"Shadowsocks ",cipher:" (cipher)",cipher_placeholder:"",cipher_custom:"",plugin:" (plugin)",plugin_placeholder:"",plugin_none:"",plugin_obfs:"Simple Obfs (obfs)",plugin_v2ray:"V2Ray Plugin (v2ray-plugin)",plugin_opts:" (plugin_opts)",plugin_opts_placeholder:" key=value;key2=value2 ",obfs_title:"Simple Obfs ",obfs_mode:" (obfs)",obfs_host:" Host (obfs-host)",obfs_path:" (path)",obfs_hint:"obfs=http;obfs-host=www.bing.com;path=/",v2ray_title:"V2Ray Plugin ",v2ray_mode:" (mode)",v2ray_mode_websocket:"WebSocket",v2ray_mode_quic:"QUIC",v2ray_host:"Host (host)",v2ray_path:" (path)",v2ray_tls:"TLS (tls=true)",v2ray_hint:"WebSocketmode=websocket;host=mydomain.me;path=/;tls=trueQUICmode=quic;host=mydomain.me",v2node_network_title:" (network_settings)",v2node_accept_proxy_protocol:" PROXY Protocol (acceptProxyProtocol)",v2node_accept_proxy_protocol_hint:" PROXY Protocol  IP",v2node_http_host:"HTTP Host (Host)",v2node_http_path:"HTTP Path (path)"},vmess:{title:"VMess ",security:"",security_none:"",security_tls:"TLS",transport:"",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",allow_insecure:" (allow_insecure)"},trojan:{title:"Trojan ",transport:"",sni:" (SNI)",sni_placeholder:"",sni_hint:"",allow_insecure:" /  (allow_insecure)",allow_insecure_hint:" TLS "},tuic:{title:"TUIC ",version:" (version)",version_v4:"V4",version_v5:"V5",congestion_control:" (congestion_control)",congestion_control_bbr:"BBR",congestion_control_cubic:"CUBIC",congestion_control_new_reno:"NEW_RENO",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",sni_hint:"",allow_insecure:" /  (allow_insecure)",allow_insecure_hint:" TLS ",zero_rtt_handshake:"0-RTT  (zero_rtt_handshake)",zero_rtt_handshake_hint:"",alpn:"ALPN",alpn_http1:"HTTP/1.1",alpn_http2:"HTTP/2",alpn_http3:"HTTP/3",udp_relay_mode:"UDP  (udp_relay_mode)",udp_relay_mode_native:"Native",udp_relay_mode_quic:"QUIC"},anytls:{title:"AnyTLS ",transport:"",transport_hint:" AnyTLS  network_settings",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",sni_hint:"",allow_insecure:" /  (allow_insecure)",allow_insecure_hint:" TLS ",padding_title:"AnyTLS  (padding_scheme)",padding_desc:"",padding_default:"",padding_custom:"",padding_placeholder:"stop=8",padding_hint:""},vless:{title:"VLESS ",security:"",security_none:"",security_tls:"TLS",security_reality:"Reality",transport:"",flow:" (flow)",flow_placeholder:"",flow_none:"none",encryption_title:"VLESS ",encryption:" (encryption)",encryption_none:"",encryption_mlkem768x25519plus:"mlkem768x25519plus",encryption_hint:"",encryption_mode:" (mode)",encryption_ticket:" (ticket)",encryption_server_padding:" (server_padding)",encryption_private_key:" (private_key)",client_fingerprint:" (client_fingerprint)",client_fingerprint_hint:" Reality / uTLS  firefox",tls_title:"TLS ",sni:" (SNI)",sni_placeholder:"",allow_insecure:" (allow_insecure)",reality_title:"Reality ",reality_server_name:" (server_name)",reality_server_name_placeholder:"example.com",reality_server_port:" (server_port)",reality_dest:"Dest (dest)",reality_xver:"Xver (xver)",reality_mldsa65Seed:"MLDSA65 Seed (mldsa65Seed)",reality_public_key:" (public_key)",reality_private_key:" (private_key)",reality_short_id:"Short ID (short_id)",key_pair_generate:"",key_pair_error:"",short_id_generate:" Short ID",short_id_placeholder:" 2  16 ",short_id_hint:" 0-f a1b2c3d4e5f6a7b8"},reporting:{title:""},v2node:{title:"V2Node ",desc:" v2node  /api/v2/server/config",node_report_min_traffic:" (node_report_min_traffic, KB)",node_report_min_traffic_hint:"0 ",device_online_min_traffic:" (device_online_min_traffic, KB)",device_online_min_traffic_hint:"0 ",tls_cert_title:"TLS  (tls_settings)",cert_mode:" (cert_mode)",cert_mode_file:" (file)",cert_mode_dns:"DNS  (dns)",cert_mode_http:"HTTP  (http)",cert_mode_self:" (self)",cert_file:" (cert_file)",key_file:" (key_file)",provider:"DNS Provider (provider)",dns_env:"DNS  (dns_env)",reject_unknown_sni:" SNI (reject_unknown_sni)",reject_unknown_sni_hint:" SNI"},network_settings:{edit_protocol:"",edit_protocol_config:"",use_template:"{{template}}",json_config_placeholder:" JSON ",json_config_placeholder_with_template:" JSON ",validation:{must_be_object:" JSON ",invalid_json:" JSON "}},rate_time_title:"",rate_time_desc:"",rate_time_rules:"",rate_time_add:"",rate_time_rule:" {{index}}",rate_time_start:"",rate_time_end:"",rate_time_rate:"",rate_time_rate_placeholder:"1",preview:{selection:"",groups:"{{value}}",routes:"{{value}}"},validation:{name_required:"",host_required:"",port_required:"",server_port_required:"",rate_required:"0",protocol_settings_invalid:" JSON ",rate_time_ranges_invalid:"",hy_version_invalid:"",hy_obfs_password_required:"",hy_up_mbps_invalid:"",hy_down_mbps_invalid:"",hy_hop_interval_invalid:"Hop ",parent_id_invalid:"",node_id_invalid:"ID"}},P8e={title:"",description:"//",add:"",sort:"",sort_column:"",sort_save:"",sort_cancel:"",sort_saved:"",sort_hint:"",search_placeholder:"",table:{id:"ID",show:"",purchase:"",renew:"",name:"",stats:"",group:"",price:"",actions:""},empty:"",create_title:"",edit_title:"",saved:"",deleted:"",confirm_delete:"",users:" {{total}} /  {{active}}",group:"",traffic:"",speed:"",device:"",no_group:"",no_prices:"",price_hint:" 0 ",flags:{show:"",renew:"",sell:""},fields:{name:"",content:"",group:"",group_placeholder:"",transfer:"()",speed:"(Mbps)",device:"",capacity:"",reset:"",reset_placeholder:"",tags:"",prices:"",force_update:""},validation:{name_required:"",transfer_required:" 0 "},reset:{follow_system:"",first_day_month:"1",monthly:"",never:"",first_day_year:"11",yearly:""},period:{monthly:"",quarterly:"",half_yearly:"",yearly:"",two_yearly:"",three_yearly:"",onetime:"",reset_traffic:""}},E8e={subtitle:"",income_overview:"",today_income:"",month_income:"",vs_yesterday:"",vs_last_month:"",pending_tickets:"",new_users:"",total_users:"",online_users:" {{count}}",month_upload:"",month_download:"",pending_commissions:"",month_traffic:"",upload:"",download:"",total_income:"",order_count:"",order_count_total:" {{count}} ",avg_amount:"",transaction_count:"",commission_count_total:" {{count}} ",range_display:"{{start}}  {{end}}",time_range:"",last_30_days:"30",this_month:"",last_7_days:"7",last_90_days:"90",last_180_days:"180",last_half_year:"",last_year:"",custom_range:"",amount:"",quantity:"",transaction_unit:"{{count}} ",order_quantity:"",order_amount:"",commission_amount:"",total_balance:"",refund_rate:"",income_trend:"",total_commission:"",commission_count:"",commission_rate:"",node_traffic_rank:"",user_traffic_rank:"",current_traffic:"",previous_traffic:"",change_rate:"",copy_name:"",copy_id:"ID",queue_status:"",running_state:"",normal:"",stopped:"",wait_time:"",seconds:"",last_updated:"",pending_tasks:"",processed_per_min:"",job_details:"",report_7d:"7",retention_time:"",minutes:"",approx:"",max_runtime_queue:"",na:"N/A",today:"",prev:"",range:"",active_processes:"",system_log:"",info:"",warning:"",error:"",view_all:"",detail:"",all:"",system_log_search_placeholder:"...",system_log_empty:"",system_log_reset_filter:"",system_log_detail_title:"",system_log_table:{level:"",time:"",title:"",method:"",action:""},clear_logs_title:"",clear_logs_days:"",clear_logs_days_hint:"0  365  N 0 ",clear_logs_level:"",clear_logs_limit:"",clear_logs_limit_hint:"100  10000  1000",clear_logs_preview:"",clear_logs_get_stats:"",clear_logs_confirm:"",clear_logs_to_clear:"",clear_logs_total_logs:"",clear_logs_cutoff:"",clear_logs_will_clear:"{{count}} ",clear_logs_irreversible:"",clear_logs_rule_hint:"",clear_logs_zero_error:" 0 ",clear_logs_done:"",clear_logs_deleted:"",clear_logs_total_count:"",clear_logs_remaining:"",failed_jobs_title:"",failed_jobs_empty:"",failed_job_detail_title:"",task_id:"ID",timestamp_ms:"()",connection:"",exception:"",payload:"",failed_at:"",clear_logs:"",confirm_clear_logs:"",total:"",selected_count:" {{selected}}  {{total}} ",loading:"",per_page:"",page_info:" {{current}}  {{total}} ",first_page:"",prev_page:"",next_page:"",last_page:"",failed_table:{time:"",queue:"",job:"",exception:"",action:""}},M8e={title:"",description:"",site_settings:"",site_settings_desc:"",security_settings:"",security_settings_desc:"",subscription_settings:"",subscription_settings_desc:"",app_settings:"APP",app_settings_desc:"API",invite_settings:"&",invite_settings_desc:"",invite_section_title:"",commission_section_title:"",invite_force:"",invite_force_hint:"",invite_commission:"(%)",invite_commission_hint:"0-100",invite_gen_limit:"",invite_gen_limit_hint:"",invite_never_expire:"",invite_never_expire_hint:"",commission_first_time_enable:"",commission_first_time_enable_hint:"",commission_auto_check_enable:"",commission_auto_check_enable_hint:"/",withdraw_close_enable:"",withdraw_close_enable_hint:"",commission_withdraw_limit:"",commission_withdraw_limit_hint:"",commission_withdraw_method:"",commission_withdraw_method_hint:"",commission_distribution_enable:"",commission_distribution_enable_hint:"//",commission_distribution_l1:"(%)",commission_distribution_l1_hint:"",commission_distribution_l2:"(%)",commission_distribution_l2_hint:"",commission_distribution_l3:"(%)",commission_distribution_l3_hint:"",telegram_settings:"Telegram",telegram_settings_desc:" Telegram ",api_settings:"",api_settings_desc:"",v2node_docker_command:"V2Node ",v2node_docker_command_desc:" API ID",v2node_docker_node:"",v2node_docker_node_hint:"ID",v2node_docker_container_name:"",v2node_docker_container_name_hint:" v2node_<>_<ID>_<>",v2node_docker_api_host:"API (V2NODE_API_HOST)",v2node_docker_api_host_hint:"/IP",v2node_docker_tls_cert_url:"URL",v2node_docker_tls_key_url:"URL",v2node_docker_tls_url_hint:"",v2node_docker_tls_url_invalid:"/URL",v2node_other_command:"",v2node_other_command_hint:" Docker/",v2node_other_command_placeholder:"curl -fsSL https://get.docker.com | sh",v2node_hy_port_forward_command:"Hysteria ",v2node_hy_port_forward_command_hint:" Hysteria --dport --to-ports ",v2node_hy_port_forward_command_placeholder:"/",v2node_docker_command_label:"Docker ",v2node_docker_command_hint:"",v2node_docker_missing_token:"(server_token)",smtp_settings:"",smtp_settings_desc:"SMTP",app_windows_version:"Windows",app_windows_version_hint:"Windows",app_windows_download_url:"Windows",app_windows_download_url_hint:"Windows",app_macos_version:"macOS",app_macos_version_hint:"macOS",app_macos_download_url:"macOS",app_macos_download_url_hint:"macOS",app_android_version:"Android",app_android_version_hint:"Android",app_android_download_url:"Android",app_android_download_url_hint:"Android",server_settings:"",system_log:"",site_name:"",site_name_hint:"",site_description:"",site_description_hint:" SEO ",site_url:"URL",site_url_hint:" https://example.com",site_ssl:"SSL",site_ssl_hint:" HTTPS ",site_logo:"Logo",site_logo_hint:"Logo URL",subscribe_url:"URL",subscribe_url_hint:"URL",tos_url:"URL",tos_url_hint:"/URL",stop_register:"",stop_register_hint:"",currency:"",currency_hint:" CNYUSD",currency_symbol:"",currency_symbol_hint:" $",registered_users:"",registered_users_hint:"",email_verify:"",email_verify_hint:"/",enable_captcha:"",enable_captcha_hint:"",safe_mode_enable:"",safe_mode_enable_hint:"",secure_path:"",secure_path_hint:" adminPath",captcha_type:"",captcha_type_hint:"",recaptcha_key:"reCAPTCHA Secret",recaptcha_site_key:"reCAPTCHA Site Key",recaptcha_v3_secret_key:"reCAPTCHA v3 Secret",recaptcha_v3_site_key:"reCAPTCHA v3 Site Key",recaptcha_v3_score_threshold:"reCAPTCHA v3 ",turnstile_secret_key:"Turnstile Secret",turnstile_site_key:"Turnstile Site Key",email_whitelist_enable:"",email_whitelist_enable_hint:"",email_whitelist_suffix:"",email_whitelist_hint:"qq.com,gmail.com",email_gmail_limit_enable:"Gmail ",email_gmail_limit_enable_hint:" Gmail /",register_limit_by_ip:" IP ",register_limit_by_ip_hint:" IP ",register_limit_count:"",register_limit_count_hint:"",register_limit_expire:"()",register_limit_expire_hint:"",password_limit_enable:"",password_limit_enable_hint:"",password_limit_count:"",password_limit_count_hint:"",password_limit_expire:"()",password_limit_expire_hint:"",limit_admin_ip:"IP",strong_password:"",brute_force_protection:"",ip_lock:"IP",subscribe_path:"",subscribe_path_hint:" /s/{token}",plan_change_enable:"",plan_change_enable_hint:"",surplus_enable:"",surplus_enable_hint:"",reset_traffic_method:"",reset_traffic_method_hint:"",reset_traffic_0:"",reset_traffic_1:"",reset_traffic_2:"",reset_traffic_3:"",reset_traffic_4:"",show_info_to_server_enable:"",show_info_to_server_enable_hint:"",show_protocol_to_server_enable:"",show_protocol_to_server_enable_hint:"",default_remind_expire:"",default_remind_expire_hint:"",default_remind_traffic:"",default_remind_traffic_hint:"",sub_template:"",sub_template_desc:"",sub_template_type:"",sub_template_type_hint:"",sub_template_content:"",sub_template_content_hint:"",sub_link:"",update_freq:"",sub_qrcode:"",generate:"",singbox_config:"Sing-box",clash_config:"Clash",enable_telegram:"Telegram",enable_telegram_hint:" Telegram ",tg_webhook:"Telegram Webhook",tg_webhook_hint:"Webhook  URL ",tg_webhook_auto:"",tg_group_link:"Telegram",tg_group_link_hint:" Telegram /",tg_api_token:"Telegram API Token",tg_api_token_hint:"Telegram Bot Token BotFather  Webhook ",set_webhook:"Webhook",telegram_webhook_set:"Webhook ",api_endpoint:"API",api_key:"API",api_permission:"API",api_rate_limit:"API",server_token:"",server_token_hint:" 16 ",server_pull_interval:"()",server_pull_interval_hint:"/",server_push_interval:"()",server_push_interval_hint:"/",device_limit_mode:"",device_limit_mode_hint:"",device_limit_mode_0:"",device_limit_mode_1:"",smtp_host:"SMTP",smtp_host_hint:"SMTP  smtp.gmail.com",smtp_port:"SMTP",smtp_port_hint:"SMTP  465(SSL) / 587(TLS)",smtp_username:"SMTP",smtp_username_hint:"SMTP ",smtp_password:"SMTP",smtp_password_hint:"SMTP ",encryption:"",encryption_hint:" SSL/TLS ",sender_address:"",sender_address_hint:" From  noreply@example.com",test_email:"",test_email_hint:"",test_email_sent:"",test_email_failed:"",remind_mail_enable:"",remind_mail_enable_hint:"",email_template:"",email_template_hint:"/",log_level:"",view_log:"",system_log_desc:"",log_keyword:"",log_keyword_placeholder:"/URI/",refresh:"",prev_page:"",next_page:"",no_logs:"",active:""},T8e={dashboard:"",system_management:"",system_config:"",plugin_management:"",theme_config:"",notice_management:"",payment_config:"",knowledge_base:"",node_management:"",node_list:"",permission_groups:"",route_management:"",subscription:"",plan_management:"",order_management:"",coupon_management:"",gift_card_management:"",user_management:"",user_list:"",ticket_management:""},A8e={common:p8e,order:g8e,coupon:y8e,giftcard:x8e,user:v8e,ticket:b8e,plugin:_8e,theme:w8e,notice:j8e,payment:k8e,knowledge:S8e,group:N8e,route:C8e,server:O8e,plan:P8e,dashboard:E8e,system:M8e,menu:T8e};gs.use(ZJ).use(woe).init({debug:!0,fallbackLng:"en",interpolation:{escapeValue:!1},resources:{en:{translation:m8e},zh:{translation:A8e}}});NN.createRoot(document.getElementById("root")).render(o.jsx(ot.StrictMode,{children:o.jsx(z6e,{})}));
